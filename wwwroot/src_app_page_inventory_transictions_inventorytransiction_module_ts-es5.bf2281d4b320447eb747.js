!function(){function e(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=i(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function t(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,a=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(l){c=!0,r=l}finally{try{o||null==n.return||n.return()}finally{if(c)throw r}}return a}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(self.webpackChunkapex_admin=self.webpackChunkapex_admin||[]).push([["src_app_page_inventory_transictions_inventorytransiction_module_ts"],{48724:function(e,t,n){"use strict";n.d(t,{O8:function(){return i},PZ:function(){return r},jD:function(){return a},vM:function(){return o},j0:function(){return l},ay:function(){return s},MO:function(){return d},Vy:function(){return p},CS:function(){return u},Rz:function(){return m}});var i=function e(){c(this,e),this.accountid=null,this.code="",this.name="",this.parentid=null,this.categoryid=null,this.currencyid=null,this.isactive=!0,this.vendorcode="",this.website=null,this.company_individual=!0,this.counrtyid=null,this.vendorcategoryid=null,this.notes=null,this.altphone=null,this.phone=null,this.email=null,this.fax=null,this.address=null,this.paymenttermid=0,this.main_accountid=null,this.customersalesprice=1,this.cutomerdiscount=null,this.name_ar="",this.civilid=null,this.areaid=null,this.area_name=null,this.area_code=null,this.governorateid=null,this.pricelistitemsonly=!1,this.salesmanid=null,this.customerstatusid=null,this.contractdatefrom=null,this.contractdateto=null,this.internalreferencenum=null,this.hascreditlimit=!1,this.creditlimit=0,this.vatno=null,this.shipvia=null,this.customerbalance=0,this.loyalitybalance=0,this.street=null,this.building_no=null,this.turn_no=null,this.activity_type=null,this.postal_code=null,this.room=null,this.landmark=null,this.additionalinformation=null,this.taxcode=null,this.subtaxcode=null,this.tax_exemption=null,this.isvednoralsocustomer=!1,this.warrantyreservedaccountid=null,this.warrantyreservedaccount_code=null,this.warrantyreservedaccount_name=null,this.warrantyreservedaccount_namear=null,this.downpaymentaccountid=null,this.downpaymentaccount_code=null,this.downpaymentaccount_name=null,this.downpaymentaccount_namear=null,this.vendorcontacts=[],this.vendorbanks=[],this.additionalinfo=[],this.relatedaccounts=[],this.relatedcostcenters=[],this.leadactivities=[],this.account_vehicles=[]},r=function e(){c(this,e),this.id=null,this.accountid=null,this.relatedaccountid=null,this.code=null,this.name=null,this.name_ar=null,this.fieldname=null,this.objselectd=null,this.r_counrtyid=null,this.r_areaid=null,this.r_governorateid=null,this.r_phone=null,this.r_address=null},a=function e(){c(this,e),this.id=null,this.vendorid=null,this.name=null,this.jobtitle=null,this.email=null,this.phone=null,this.role=null,this.isactive=!0,this.name_ar=null},o=function e(){c(this,e),this.id=null,this.vendorid=null,this.bank=null,this.routing=null,this.accountno=null,this.isactive=!0},l=function e(){c(this,e),this.id=null,this.customerid=null,this.keydata=null,this.value=null},s=function e(){c(this,e),this.id=null,this.activitytypeid=null,this.leadid=null,this.subject=null,this.statusid=1,this.startdate=null,this.description=null,this.modifieddate=null,this.installmentsdetailid=null,this.assignedtoid=null,this.enddate=null,this.emailremindervalue=30,this.emailremindertypeid=1,this.popupremindervalue=30,this.popupremindertypeid=1,this.relatedtoid=null,this.relatedname=null,this.direction=1,this.meetinglocationid=1,this.assignedto=null,this.leadowner=null,this.customerid=null,this.appointmenttypeid=null,this.taskvalue=null,this.starttime=null,this.endtime=null},d=function e(){c(this,e),this.id=null,this.accountid=null,this.relatedcostcenterid=null,this.code=null,this.name=null,this.name_ar=null,this.fieldname=null,this.objselectd=null,this.parentid=null,this.levelno=null},p=function e(){c(this,e),this.id=null,this.accountid=null,this.vehicleregno=null,this.chasisno=null,this.color=null,this.engineno=null,this.mark=null,this.model=null,this.imagepath1=null,this.imagepath2=null,this.imagepath3=null,this.size=null,this.modelyear=null},u=function e(){c(this,e)},m=function e(){c(this,e),this.CustomerType=1,this.SearchValue="",this.PageNo=1,this.PageSize=10,this.orderby=""}},878:function(e,t,n){"use strict";n.d(t,{WW:function(){return i},np:function(){return r},pM:function(){return a},do:function(){return o},br:function(){return l},Oy:function(){return s},ov:function(){return d},DY:function(){return p},al:function(){return u},HQ:function(){return m},z8:function(){return h},Pp:function(){return g},WB:function(){return _},BR:function(){return v},hi:function(){return f}});var i=function e(){c(this,e),this.selectedNodesLabels="",this.Subsidiary_ID=0,this.ID=0,this.Code="",this.Name="",this.Description="",this.IsActive=!1,this.ImagePath="",this.Notes="",this.IsAutoCode=!1,this.ImageName="",this.Inventory_UnitId=null,this.Purchasing_UnitId=null,this.Selling_UnitId=null,this.Item_Type=1,this.allowtax=!0,this.TaxTypeid=null,this.Service_Item_Cost=0,this.CostingModel_ID=null,this.ItemDimensionsID=null,this.StorageDimensionsID=null,this.Name_AR="",this.IsRequireSerial=1,this.AllowDecimals=!1,this.StopSales=!1,this.StopInventoryTransactions=!1,this.POSFeatured=!1,this.DisableItemDimensions=!1,this.displaycomponentsasitemsinPOS=!1,this.DisableStorageDimensions=!1,this.AccountID=null,this.IsEditPrice=!1,this.CanBeRented=!1,this.AvailableForSale=null,this.AvailableForSaleFromDate=null,this.AvailableForSaleToDate=null,this.SpecialPrice=null,this.SpecialPriceFromDate=null,this.SpecialPriceToDate=null,this.SpecialPriceFromTime="",this.SpecialPriceToTime="",this.SpecialPriceValue=null,this.ReceipeQty=null,this.hasAccount=!1,this.ProductionUnitId=null,this.Wastage=0,this.hasWarrenty=!1,this.OtherSalesAccount=!1,this.consignment=!1,this.consignment_commission=null,this.warranty_duration=null,this.PercentageOrValue_consignment_commission=null,this.Weigth=null,this.GoldClovesWeigth=null,this.IsUploadedFromPos=!1,this.GoldCaliber="",this.Service=null,this.LoyalityBalance=null,this.IsMemebership=!1,this.OtherCostAccount=!1,this.OtherCostAccountId=null,this.IndirectExpensesUnit=0,this.Color="",this.Size="",this.Brand="",this.MadeIn="",this.Composition="",this.Season="",this.ConfigurableItemId=null,this.ShowColor=!1,this.ShowSize=!1,this.SetAttrToName=!1,this.Model="",this.RestockOnReturn=!1,this.ConsignmentBalanceType=null,this.GlobalBarcode="",this.SlackTime=1,this.OtherContractAccount=!1,this.OtherContractAccountId=null,this.itemsbarcode=[],this.itemscategories=[],this.vendors=[],this.itemsalternative=[],this.unititem=[],this.limitstore=[],this.component=[],this.customattributeheader=[],this.salespostingaccounts=[],this.configurationitemslist=[],this.itemproducts=[],this.orginalitemproducts=[],this.itemsemployees=[],this.orginalitemsemployees=[],this.UnitDetails=null,this.sale_price=0,this.assetLinked=!1,this.assetId=null},r=function e(){c(this,e),this.Item_ID=0,this.ItemCategory_ID=0},a=function e(){c(this,e),this.ID=0,this.Item_ID=0,this.itembarcode="",this.isactivebarcode=!0},o=function e(){c(this,e),this.id=0,this.itemid=0,this.vendorid=0,this.unitid=0,this.lastqty=0,this.price=0,this.currencyid=0,this.ismainvendor=!1,this.price2=0,this.lastprice=0,this.vendoritemcode="",this.code="",this.currencyname="",this.currencynamear="",this.unitname="",this.unitnamear="",this.vendorname="",this.vendornamear=""},l=function e(){c(this,e),this.id=0,this.item_id=0,this.alternative_item_id=0,this.periority=0,this.itemname="",this.itemname_ar=""},s=function e(){c(this,e),this.id=0,this.item_id=0,this.unit_id=0,this.subunit_id=0,this.conv=null,this.barcode="",this.sale_price1=0,this.sale_price2=0,this.sale_price3=0,this.sale_price4=0,this.finalconv=null,this.pos=!0,this.istransactionunit=!1},d=function e(){c(this,e),this.oldLimitStore=[],this.newLimitStore=[]},p=function e(){c(this,e),this.id=0,this.item_id=0,this.store_id=0,this.reorder_qty=0,this.min_qty=0,this.location="",this.first_qty=0,this.first_cost=0,this.first_conv=1,this.first_unit=null,this.name="",this.name_ar="",this.invalidreorderqty=!1,this.flagforbalance=!1,this.qty=0,this.avrcost=0,this.finalconv=1,this.cost_conv=1,this.reserved_qty=0,this.orderd_qty=0,this.max_qty=0,this.last_sales_qty=0,this.flagforedit=!1,this.sold=!1},u=function e(){c(this,e),this.id=0,this.customattributetypeid=0,this.itemid=0,this.title="",this.isactive=!1,this.isrequired=!1,this.sortorder=0,this.automaticcode=0,this.isdeleted=!1,this.maxoptions=0,this.itemcustomattributedetail=[]},m=function e(){c(this,e),this.id=0,this.customattributeheaderid=null,this.title="",this.price=null,this.sku="",this.sortorder=null,this.allowedfileextensions="",this.minimagewidth=null,this.minimageheigth=null,this.automaticcode=null,this.isdeleted=!1,this.qty=null,this.itemid=null,this.deductionitemid=null,this.deductionsku="",this.unitid=null,this.imgpath="",this.iunitid=null,this.iunitname="",this.iunitnamear="",this.headerpricesign=1,this.proportionweight=null},h=function e(){c(this,e),this.id=0,this.item_id=0,this.itemcomponentid=0,this.itemcomponentunitid=0,this.itemcomponentconv=0,this.itemcomponentqty=1,this.itemcomponentrecipeqty=0,this.averagecost=0,this.componentprice=0,this.unitname="",this.unitnamear="",this.name="",this.name_ar="",this.itemname="",this.itemnamear="",this.iunitid=null,this.disconv=!1},g=function e(){c(this,e),this.id=0,this.itemid=0,this.accountid=null,this.percentage=0,this.complement=!1},_=function e(){c(this,e),this.id=0,this.valid=!1,this.serial=1,this.qty=1,this.storeid=null,this.storename="",this.storename_ar="",this.batchno="",this.date=null,this.isdublicatebatch=!1,this.isused=!1,this.inv_receipt_d_id=null,this.solidquantity=null,this.previtemserialid=null,this.availableqty=null,this.fromOutSide=!1,this.patchconfirmation="",this.final_conv=null,this.readonlyavailableqtywithsmallunit=null,this.readonlyavailableqtywithfinal_conv=null},v=function e(){c(this,e),this.id=null,this.item_id=0,this.product_item_id=0,this.costratio=0,this.itemproductqty=0,this.itemproductsconv=0,this.itemproductunitid=0,this.itemname="",this.itemname_ar=""},f=function e(){c(this,e),this.id=null,this.unitid=null,this.subsidiaryid=null,this.rooms=0,this.bathroom=0,this.finishing=null,this.view=null,this.floor="",this.floors=0,this.land_size="",this.size_in_metres="",this.units_number=0,this.paymentid=null,this.year=(new Date).getFullYear(),this.currency_id=null}},53233:function(e,t,n){"use strict";n.d(t,{F:function(){return i}});var i=function e(){c(this,e),this.id=null,this.subsidiaryid=null,this.code=null,this.statement=null,this.statementar=null,this.type_id=-1,this.impactrange=1,this.effect=1,this.accountid=null,this.account_item_code=null,this.account_item_name=null,this.account_item_namear=null,this.issales=!1,this.ispurchases=!1,this.purchaseslimit=0}},40430:function(e,t,n){"use strict";n.d(t,{J:function(){return s}});var i=n(79996),r=n(529),a=n(31572),l=n(29063),s=function(){var e=function(){function e(t){c(this,e),this._http=t,this.baseUrl=r.N.apiUrl}return o(e,[{key:"AllActiveUserBranchddl",value:function(e){return this._http.get("".concat(this.baseUrl,"/Branch/AllActiveUserBranchddl?SubsidiaryID=").concat(e)).pipe((0,i.U)(function(e){return e}))}},{key:"SalesMen_CasherUsers",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._http.get("".concat(this.baseUrl,"/Receipts/SalesMen_CasherUsers?subsidiaryID=").concat(e,"&ReceiptId=").concat(t)).pipe((0,i.U)(function(e){return e}))}},{key:"AllCustomerAccountsList",value:function(e){return this._http.get("".concat(this.baseUrl,"/InvoiceFollowup/AllCustomerAccountsList?SubsidiaryID=").concat(e)).pipe((0,i.U)(function(e){return e}))}},{key:"InvoicesFollowupList",value:function(e){return this._http.post(this.baseUrl+"/InvoiceFollowup/InvoicesFollowupList",e).pipe((0,i.U)(function(e){return e}))}},{key:"InvoicesFollowupCount",value:function(e){return this._http.post(this.baseUrl+"/InvoiceFollowup/InvoicesFollowupListCount",e).pipe((0,i.U)(function(e){return e}))}},{key:"InvoiceFollowupUpdate",value:function(e){return this._http.post(this.baseUrl+"/InvoiceFollowup/InvoiceFollowupUpdate",e).pipe((0,i.U)(function(e){return e}))}},{key:"GetAllRoleUsers",value:function(e,t){return this._http.get("".concat(this.baseUrl,"/CreditNote/GetAllRoleUsers?SubsidaryId=").concat(e,"&RoleName=").concat(t)).pipe((0,i.U)(function(e){return e}))}},{key:"userRolesSelectByUserID",value:function(e){return this._http.get(this.baseUrl+"/UsersRoles/userRolesSelectByUserID?userID=".concat(e)).pipe((0,i.U)(function(e){return e}))}},{key:"GetCutomerWiseSalesinvoiceOutstandig",value:function(e){return this._http.post("".concat(this.baseUrl,"/InvoiceFollowup/GetCutomerWiseSalesinvoiceOutstandig"),e).pipe((0,i.U)(function(e){return e}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275inject"](l.eN))},e.\u0275prov=a["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}()},97574:function(i,r,a){"use strict";a.r(r),a.d(r,{InventoryTransictionModule:function(){return RE},childLoaderFactory:function(){return CE}});var l=a(61511),s=a(59218),d=a(16073),p=a(29063),u=a(53544),m=a(96898),h=a(48160),g=a(20180),_=a(45593),v=a(73619),f=a(48747),C=a(22684),y=a(93559),b=a(27961),S=a(83801),R=a(61900),x=a(13395),M=a(31572),I=a(25181),P=a(7427),O=a(62120),k=a(82589),E=a(72796),w=a(71825),D=a(76757),B=a(77915),L=a(82270),F=a(5851);function N(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"div",4),M["\u0275\u0275elementStart"](1,"h1",5),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function V(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.name)}}function q(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.name_ar)}}function T(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",49),M["\u0275\u0275template"](1,V,2,1,"span",1),M["\u0275\u0275template"](2,q,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275propertyInterpolate"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function A(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",50),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).OnAdd()}),M["\u0275\u0275element"](1,"i",51),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"]()}2&e&&(M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](3,1,"Add")," "))}function G(e,t){1&e&&M["\u0275\u0275element"](0,"i",52)}function U(e,t){1&e&&M["\u0275\u0275element"](0,"i",53)}function j(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275element"](1,"i",45),M["\u0275\u0275template"](2,G,1,0,"i",46),M["\u0275\u0275template"](3,U,1,0,"i",47),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("hidden","BranchName"==n.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","BranchName"==n.sortColumn&&"asc"==n.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","BranchName"==n.sortColumn&&"desc"==n.sortDirection)}}function $(e,t){1&e&&M["\u0275\u0275element"](0,"i",52)}function z(e,t){1&e&&M["\u0275\u0275element"](0,"i",53)}function W(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275element"](1,"i",45),M["\u0275\u0275template"](2,$,1,0,"i",46),M["\u0275\u0275template"](3,z,1,0,"i",47),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("hidden","BranchNameAR"==n.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","BranchNameAR"==n.sortColumn&&"asc"==n.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","BranchNameAR"==n.sortColumn&&"desc"==n.sortDirection)}}function J(e,t){1&e&&M["\u0275\u0275element"](0,"i",52)}function Q(e,t){1&e&&M["\u0275\u0275element"](0,"i",53)}function Y(e,t){1&e&&M["\u0275\u0275element"](0,"i",52)}function H(e,t){1&e&&M["\u0275\u0275element"](0,"i",53)}function Z(e,t){1&e&&M["\u0275\u0275element"](0,"i",52)}function K(e,t){1&e&&M["\u0275\u0275element"](0,"i",53)}function X(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275element"](1,"i",45),M["\u0275\u0275template"](2,Z,1,0,"i",46),M["\u0275\u0275template"](3,K,1,0,"i",47),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("hidden","CustomerName"==n.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","CustomerName"==n.sortColumn&&"asc"==n.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","CustomerName"==n.sortColumn&&"desc"==n.sortDirection)}}function ee(e,t){1&e&&M["\u0275\u0275element"](0,"i",52)}function te(e,t){1&e&&M["\u0275\u0275element"](0,"i",53)}function ne(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275element"](1,"i",45),M["\u0275\u0275template"](2,ee,1,0,"i",46),M["\u0275\u0275template"](3,te,1,0,"i",47),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("hidden","CustomerNamear"==n.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","CustomerNamear"==n.sortColumn&&"asc"==n.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","CustomerNamear"==n.sortColumn&&"desc"==n.sortDirection)}}function ie(e,t){1&e&&M["\u0275\u0275element"](0,"i",52)}function re(e,t){1&e&&M["\u0275\u0275element"](0,"i",53)}function ae(e,t){1&e&&M["\u0275\u0275element"](0,"i",52)}function oe(e,t){1&e&&M["\u0275\u0275element"](0,"i",53)}function ce(e,t){1&e&&M["\u0275\u0275element"](0,"i",52)}function le(e,t){1&e&&M["\u0275\u0275element"](0,"i",53)}function se(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n?null:n.branchname)}}function de(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",null==n?null:n.branchnamear," ")}}function pe(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.customername," ")}}function ue(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.customernamear," ")}}function me(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function he(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar," ")}}function ge(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275template"](1,me,2,1,"td",1),M["\u0275\u0275template"](2,he,2,1,"td",1),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"]().$implicit,r=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",n.id===i.approvalid&&"ar"!=r.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",n.id===i.approvalid&&"ar"==r.lang)}}function _e(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275text"](1,"\xa0"),M["\u0275\u0275elementEnd"]())}function ve(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"a",59),M["\u0275\u0275element"](1,"i",60),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275propertyInterpolate1"]("routerLink","/page/inventorytransiction/issuerequest/",null==n?null:n.id,"")}}function fe(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"tr"),M["\u0275\u0275template"](1,se,2,1,"td",1),M["\u0275\u0275template"](2,de,2,1,"td",1),M["\u0275\u0275elementStart"](3,"td"),M["\u0275\u0275text"](4),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](5,"td"),M["\u0275\u0275text"](6),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](7,pe,2,1,"td",1),M["\u0275\u0275template"](8,ue,2,1,"td",1),M["\u0275\u0275elementStart"](9,"td"),M["\u0275\u0275text"](10),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](11,"td"),M["\u0275\u0275text"](12),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](13,ge,3,2,"ng-container",54),M["\u0275\u0275template"](14,_e,2,0,"td",1),M["\u0275\u0275elementStart"](15,"td",55),M["\u0275\u0275template"](16,ve,2,1,"a",56),M["\u0275\u0275elementStart"](17,"a",57),M["\u0275\u0275elementStart"](18,"span"),M["\u0275\u0275element"](19,"i",58),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](null==n?null:n.entry_no),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](null==n?null:n.entry_date),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](null==n?null:n.reference_no),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](null==n?null:n.memo),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",i.ApprovalStatusList),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",!n.approvalid),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(619)),M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate1"]("routerLink","/page/inventorytransiction/issuerequest/",null==n?null:n.id,"/show")}}function Ce(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"tbody"),M["\u0275\u0275template"](1,fe,20,12,"tr",54),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",n.ReceiptList)}}function ye(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"tbody"),M["\u0275\u0275elementStart"](1,"tr",61),M["\u0275\u0275elementStart"](2,"td",62),M["\u0275\u0275text"](3),M["\u0275\u0275pipe"](4,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](4,1,"NoData")))}function be(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",63),M["\u0275\u0275elementStart"](1,"ngb-pagination",64),M["\u0275\u0275listener"]("pageChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).onPageChange(e)})("pageChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).PageNo=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](2,"p"),M["\u0275\u0275text"](3),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](4,"select",65),M["\u0275\u0275listener"]("change",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).onPageSizeChange(e.target.value)})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).PageSize=e}),M["\u0275\u0275elementStart"](5,"option",66),M["\u0275\u0275text"](6,"10 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](7,"option",67),M["\u0275\u0275text"](8,"50 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](9,"option",68),M["\u0275\u0275text"](10,"100 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275element"](11,"br"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("collectionSize",i.totalCount)("page",i.PageNo)("pageSize",i.PageSize)("maxSize",5)("boundaryLinks",!0),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",i._generalService.TotalDetailsTextShow(i.PageNo,i.PageSize,i.totalCount,i.lang)," "),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngModel",i.PageSize)}}function Se(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275elementStart"](1,"section"),M["\u0275\u0275elementStart"](2,"div",6),M["\u0275\u0275elementStart"](3,"div",7),M["\u0275\u0275elementStart"](4,"div",8),M["\u0275\u0275elementStart"](5,"h6",9),M["\u0275\u0275text"](6),M["\u0275\u0275pipe"](7,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](8,"div",4),M["\u0275\u0275elementStart"](9,"div",10),M["\u0275\u0275elementStart"](10,"form",11,12),M["\u0275\u0275listener"]("ngSubmit",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().SearchReceiptByEntryNo()}),M["\u0275\u0275elementStart"](12,"div",4),M["\u0275\u0275elementStart"](13,"div",13),M["\u0275\u0275elementStart"](14,"div",14),M["\u0275\u0275elementStart"](15,"label",15),M["\u0275\u0275text"](16),M["\u0275\u0275pipe"](17,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](18,"select",16,17),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._ReceiptSearch.BranchID=e})("change",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().ChangeBranch(e.target.value)}),M["\u0275\u0275elementStart"](20,"option",18),M["\u0275\u0275text"](21),M["\u0275\u0275pipe"](22,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](23,T,3,3,"option",19),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](24,"div",13),M["\u0275\u0275elementStart"](25,"div",14),M["\u0275\u0275elementStart"](26,"label",20),M["\u0275\u0275text"](27),M["\u0275\u0275pipe"](28,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](29,"input",21,22),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._ReceiptSearch.EntryNo=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](31,"div",23),M["\u0275\u0275elementStart"](32,"button",24),M["\u0275\u0275element"](33,"i",25),M["\u0275\u0275text"](34),M["\u0275\u0275pipe"](35,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](36,"button",26),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().ShowAll()}),M["\u0275\u0275element"](37,"i",25),M["\u0275\u0275text"](38),M["\u0275\u0275pipe"](39,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](40,"div",27),M["\u0275\u0275elementStart"](41,"div",28),M["\u0275\u0275elementStart"](42,"div",29),M["\u0275\u0275template"](43,A,4,3,"button",30),M["\u0275\u0275elementStart"](44,"button",31),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().OnPrint()}),M["\u0275\u0275element"](45,"i",25),M["\u0275\u0275text"](46),M["\u0275\u0275pipe"](47,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](48,"button",32),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().OnPrint(1)}),M["\u0275\u0275element"](49,"i",25),M["\u0275\u0275text"](50),M["\u0275\u0275pipe"](51,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](52,"button",33),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().OnExcel()}),M["\u0275\u0275element"](53,"i",25),M["\u0275\u0275text"](54),M["\u0275\u0275pipe"](55,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](56,"div",34),M["\u0275\u0275elementStart"](57,"div",35),M["\u0275\u0275elementStart"](58,"label",36),M["\u0275\u0275text"](59),M["\u0275\u0275pipe"](60,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](61,"input",37,38),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._ReceiptSearch.SearchValue=e})("keyup",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().ChangePropFinish()}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](63,"div",4),M["\u0275\u0275elementStart"](64,"div",39),M["\u0275\u0275elementStart"](65,"div",40),M["\u0275\u0275elementStart"](66,"div",41),M["\u0275\u0275elementStart"](67,"div",42),M["\u0275\u0275elementStart"](68,"table",43),M["\u0275\u0275elementStart"](69,"thead"),M["\u0275\u0275elementStart"](70,"tr"),M["\u0275\u0275elementStart"](71,"th",44),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().GetReceiptList("BranchName")}),M["\u0275\u0275text"](72),M["\u0275\u0275pipe"](73,"translate"),M["\u0275\u0275template"](74,j,4,3,"ng-container",1),M["\u0275\u0275template"](75,W,4,3,"ng-container",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](76,"th",44),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().GetReceiptList("Entry_No")}),M["\u0275\u0275text"](77),M["\u0275\u0275pipe"](78,"translate"),M["\u0275\u0275elementContainerStart"](79),M["\u0275\u0275element"](80,"i",45),M["\u0275\u0275template"](81,J,1,0,"i",46),M["\u0275\u0275template"](82,Q,1,0,"i",47),M["\u0275\u0275elementContainerEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](83,"th",44),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().GetReceiptList("Entry_Date")}),M["\u0275\u0275text"](84),M["\u0275\u0275pipe"](85,"translate"),M["\u0275\u0275elementContainerStart"](86),M["\u0275\u0275element"](87,"i",45),M["\u0275\u0275template"](88,Y,1,0,"i",46),M["\u0275\u0275template"](89,H,1,0,"i",47),M["\u0275\u0275elementContainerEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](90,"th",44),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().GetReceiptList("CustomerName")}),M["\u0275\u0275text"](91),M["\u0275\u0275pipe"](92,"translate"),M["\u0275\u0275template"](93,X,4,3,"ng-container",1),M["\u0275\u0275template"](94,ne,4,3,"ng-container",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](95,"th",44),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().GetReceiptList("Reference_No")}),M["\u0275\u0275text"](96),M["\u0275\u0275pipe"](97,"translate"),M["\u0275\u0275elementContainerStart"](98),M["\u0275\u0275element"](99,"i",45),M["\u0275\u0275template"](100,ie,1,0,"i",46),M["\u0275\u0275template"](101,re,1,0,"i",47),M["\u0275\u0275elementContainerEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](102,"th",44),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().GetReceiptList("Memo")}),M["\u0275\u0275text"](103),M["\u0275\u0275pipe"](104,"translate"),M["\u0275\u0275elementContainerStart"](105),M["\u0275\u0275element"](106,"i",45),M["\u0275\u0275template"](107,ae,1,0,"i",46),M["\u0275\u0275template"](108,oe,1,0,"i",47),M["\u0275\u0275elementContainerEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](109,"th",44),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().GetReceiptList("Status")}),M["\u0275\u0275text"](110),M["\u0275\u0275pipe"](111,"translate"),M["\u0275\u0275elementContainerStart"](112),M["\u0275\u0275element"](113,"i",45),M["\u0275\u0275template"](114,ce,1,0,"i",46),M["\u0275\u0275template"](115,le,1,0,"i",47),M["\u0275\u0275elementContainerEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](116,"th"),M["\u0275\u0275text"](117,"\xa0"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](118,Ce,2,1,"tbody",1),M["\u0275\u0275template"](119,ye,5,3,"tbody",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](120,be,12,7,"div",48),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](6),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](7,44,"Issue Request"),""),M["\u0275\u0275advance"](10),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](17,46,"Branch")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i._ReceiptSearch.BranchID),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](22,48,"All")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngForOf",i.BranchList),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](28,50,"EntryNo")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i._ReceiptSearch.EntryNo),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](35,52,"Search")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](39,54,"All")," "),M["\u0275\u0275advance"](5),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(223)),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](47,56,"Print")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](51,58,"pdf")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](55,60,"Excel")," "),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](60,62,"Search")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i._ReceiptSearch.SearchValue),M["\u0275\u0275advance"](11),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](73,64,"Branch")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](78,66,"EntryNo")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("hidden","Entry_No"==i.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Entry_No"==i.sortColumn&&"asc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Entry_No"==i.sortColumn&&"desc"==i.sortDirection),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](85,68,"Date")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("hidden","Entry_Date"==i.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Entry_Date"==i.sortColumn&&"asc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Entry_Date"==i.sortColumn&&"desc"==i.sortDirection),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](92,70,"custvendor")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](97,72,"Reference_No")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("hidden","Reference_No"==i.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Reference_No"==i.sortColumn&&"asc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Reference_No"==i.sortColumn&&"desc"==i.sortDirection),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](104,74,"Memo")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("hidden","Memo"==i.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Memo"==i.sortColumn&&"asc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Memo"==i.sortColumn&&"desc"==i.sortDirection),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](111,76,"Status")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("hidden","Status"==i.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Status"==i.sortColumn&&"asc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Status"==i.sortColumn&&"desc"==i.sortDirection),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngIf",i.ReceiptList.length>0),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",0==i.ReceiptList.length),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.totalCount>0)}}var Re=function(){var e=function(){function e(t,n,i,r,a,o,l,s,d,p,u,m,h,g,_){var v=this;c(this,e),this._cashsalesService=t,this.cd=n,this.toastr=i,this._router=r,this._generalService=a,this.translate=o,this._translateGlobalService=l,this.spinner=s,this._ReceiptSharedService=p,this._authService=u,this._printService=m,this._Excel=h,this._convertToPDF=g,this._VerifyReportsService=_,this.loaded=!1,this.subsidiaryID=0,this.PageSize=10,this.PageNo=1,this.ReceiptList=[],this.totalCount=0,this.BranchList=[],this.list=[],this._ReceiptSearch=new S.Wb,this.NumNotExist="",this.title="",this.ApprovalStatusList=[{id:1,name:"New",name_ar:"\u062c\u062f\u064a\u062f"},{id:2,name:"Issue Voucher",name_ar:"\u0633\u0646\u062f \u0627\u0644\u0635\u0631\u0641"}],this.timeout=null,this.sortDirection="asc",this.sortColumn="",this.HideRequestPerm=!1,this.SelectBranchMsg="",this.EntryNumberMsg="",this.subsidiaryID=this._generalService.SubsidiaryID,this.GetBranchList(),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(function(e){v.lang=e.lang,v.dir=e.dir,v.translate.use(e.lang),v.ngTransUnsubscribe=v.translate.get("SelectBranchError").subscribe(function(e){v.SelectBranchMsg=e}),v.ngTransUnsubscribe=v.translate.get("EntryNumberMsg").subscribe(function(e){v.EntryNumberMsg=e})}),d.params.subscribe(function(e){var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t?(console.log(t.branchId),v._ReceiptSearch.BranchID="null"!=t.branchId?t.branchId:0):v._ReceiptSearch.BranchID=0}),this.ngTransUnsubscribe=this.translate.get(["Issue Request"]).subscribe(function(e){v.title=e["Issue Request"],document.title=v.title}),this.ngTransUnsubscribe=this.translate.get(["NumNotExist"]).subscribe(function(e){v.NumNotExist=e.NumNotExist}),this.ngUnsubscribe=a.proadCastSubsidiaryID.subscribe(function(e){if(0==v.subsidiaryID&&(v.subsidiaryID=v._generalService.SubsidiaryID,v.ReceiptSearch()),v.subsidiaryID!=v._generalService.SubsidiaryID&&v.subsidiaryID>0){v.subsidiaryID=v._generalService.SubsidiaryID;var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),v._ReceiptSearch.BranchID=0,localStorage.setItem("Branch",JSON.stringify({branchId:v._ReceiptSearch.BranchID})),v._ReceiptSearch.PageNo=1,v._ReceiptSearch.PageSize=10,v.GetBranchList(),v.ReceiptSearch()}})}return o(e,[{key:"ngOnInit",value:function(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this._ReceiptSearch.ReceiptCode="64",this._ReceiptSearch.sortColumn="Entry_Date.desc",0!=this.subsidiaryID&&(this.GetReceiptList(),this.GetReceiptListCount())}},{key:"ReceiptSearch",value:function(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this.GetReceiptList(),this.GetReceiptListCount()}},{key:"GetBranchList",value:function(){var e=this;this._cashsalesService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(function(t){e.BranchList=t,e.cd.markForCheck()})}},{key:"ChangeBranch",value:function(e){var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),this._ReceiptSearch.BranchID="0"!=e?e:0,localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this._ReceiptSearch.PageNo=1,this._ReceiptSearch.PageSize=10,this.ReceiptSearch()}},{key:"ChangePropFinish",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.timeout=null,e.ReceiptSearch()},1e3*t)}},{key:"GetReceiptList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.HideRequestPerm=this.checkRoleParms(16102),this.sortColumn=null==t?null:t,this.sortDirection="asc"==this.sortDirection?"desc":"asc","ar"==this.lang&&("branch"!=this.sortColumn&&"accountname"!=this.sortColumn||(this.sortColumn=this.sortColumn+"ar")),null!=t&&(this.PageNo=1),null!=this.sortColumn&&""!=this.sortDirection&&(this._ReceiptSearch.sortColumn=this.sortColumn+"."+this.sortDirection),this.spinner.show(),this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._ReceiptSearch.EntryNo.toString().length>10&&(this.ReceiptList=[],this.toastr.warning(this.NumNotExist),this.spinner.hide()),this._ReceiptSearch.RequestPerm=this.HideRequestPerm,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(function(t){e.ReceiptList=[],e.list=t,1==e.list.length&&e._ReceiptSearch.EntryNo>0?e._router.navigate(["/page/inventorytransiction/issuerequest/"+e.list[0].id]):0==e.list.length&&e._ReceiptSearch.EntryNo>0?e.toastr.warning(e.NumNotExist):e.ReceiptList=t,e.cd.markForCheck(),e.spinner.hide()})}},{key:"GetReceiptListCount",value:function(){var e=this;this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptListCount(this._ReceiptSearch).subscribe(function(t){e.totalCount=t[0].total,e.cd.markForCheck()})}},{key:"OnAdd",value:function(){this._router.navigate(["/page/inventorytransiction/issuerequest/0"])}},{key:"OnView",value:function(e){this._router.navigate(["/page/inventorytransiction/issuerequest/"+e.id+"/show"])}},{key:"onEdit",value:function(e){var t;t="/page/inventorytransiction/issuerequest/".concat(e.id),this._router.navigate([t])}},{key:"ShowAll",value:function(){this._ReceiptSearch.BranchID=0,this._ReceiptSearch.EntryNo=0;var e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this.GetReceiptList(),this.GetReceiptListCount()}},{key:"SearchReceiptByEntryNo",value:function(){null!=this._ReceiptSearch.EntryNo&&null!=this._ReceiptSearch.EntryNo?(this.PageNo=1,this.PageSize=10,this.GetReceiptList(),this.GetReceiptListCount()):this.toastr.warning(this.EntryNumberMsg)}},{key:"OnPrint",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n="",i="ar"==this.lang?"rtl":"ltr",r="ar"==this.lang?"\u0627\u0644\u0641\u0631\u0639":"Branch",a="ar"==this.lang?"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":"Entry no",o="ar"==this.lang?"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":"Date",c="ar"==this.lang?"\u0645\u0648\u0631\u062f/\u0639\u0645\u064a\u0644":"Customer / Vendor",l="ar"==this.lang?"\u0627\u0644\u0642\u064a\u0645\u0629":"Total";this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(function(s){e.cd.markForCheck(),n='\n           <table class="table text-center m-0 table table-striped"  border="1px"  dir = '.concat(i,'>\n                 <thead>\n                   <tr style="background: #e9f1f5;color: cornflowerblue;">\n                     <th>').concat(r,"</th>\n                     <th>").concat(a,"</th>\n                     <th>").concat(o,"</th>\n                     <th>").concat(c,"</th>\n                     <th>").concat(l,"</th>\n\n                   </tr>\n                 </thead>\n             <tbody>\n         "),s.map(function(t){var i;n+="\n        <tr>\n         <td>".concat("ar"==e.lang?t.branchnamear:t.branchname,"</td>\n         <td>").concat(t.entry_no,"</td>\n         <td>").concat(t.entry_date,"</td>\n         <td>").concat(null!==(i="ar"==e.lang?t.customernamear:t.customername)&&void 0!==i?i:"","</td>\n         <td>").concat(t.netvalue,"</td>\n        </tr>\n        ")}),n+="</tbody></table>",1==t?e._convertToPDF.by_html2pdf(n):e._printService.OnPrintContent(n)})}},{key:"OnExcel",value:function(){var e=this,t=[];this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(function(n){n.forEach(function(n){t.push("ar"==e.lang?{"\u0627\u0644\u0641\u0631\u0639":n.branchnamear,"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":n.entry_no,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":n.entry_date,"\u0627\u0644\u0645\u0648\u0631\u062f/\u0627\u0644\u0639\u0645\u064a\u0644":n.customernamear,"\u0627\u0644\u0642\u064a\u0645\u0629":n.netvalue}:{Branch:n.branchname,"Entry No":n.entry_no,Date:n.entry_date,"Customer/Vendor":n.customernamear,Total:n.netvalue})}),e._Excel.exportAsExcelFile(t,"IssueRequest")})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"onPageChange",value:function(e){this._ReceiptSearch.PageNo=e,this.PageNo=e,this.GetReceiptList()}},{key:"onPageSizeChange",value:function(e){this._ReceiptSearch.PageSize=e,this.PageSize=e,this.GetReceiptList()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(M["\u0275\u0275directiveInject"](b.n),M["\u0275\u0275directiveInject"](M.ChangeDetectorRef),M["\u0275\u0275directiveInject"](I._W),M["\u0275\u0275directiveInject"](m.F0),M["\u0275\u0275directiveInject"](P.m),M["\u0275\u0275directiveInject"](h.sK),M["\u0275\u0275directiveInject"](O.K),M["\u0275\u0275directiveInject"](k.t2),M["\u0275\u0275directiveInject"](m.gz),M["\u0275\u0275directiveInject"](R.t),M["\u0275\u0275directiveInject"](E.e),M["\u0275\u0275directiveInject"](w.$),M["\u0275\u0275directiveInject"](D.x),M["\u0275\u0275directiveInject"](B.z),M["\u0275\u0275directiveInject"](x.J))},e.\u0275cmp=M["\u0275\u0275defineComponent"]({type:e,selectors:[["app-issue-request"]],features:[M["\u0275\u0275ProvidersFeature"]([b.n,R.t,x.J])],decls:5,vars:3,consts:[["class","row",4,"ngIf"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"row"],[1,"HasNotPermission",2,"margin","auto","width","auto","margin-top","200px"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"col-lg-8","col-md-10"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"col-lg-4","col-md-4","col-sm-12"],[1,"form-group"],["for","Branch"],["name","Branch","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["Branch","ngModel"],["Value","0"],[3,"value",4,"ngFor","ngForOf"],["for","EntryNumber"],["type","number","id","ReceiptNumber","name","ReceiptNumber","min","0","PositiveNumbersOnly","","required","",1,"form-control",3,"ngModel","ngModelChange"],["ReceiptNumber","ngModel"],[1,"col-lg-4","col-sm-4","mt-3","text-center"],["type","submit",1,"btn","btn-primary","mr-2"],[1,""],["type","button",1,"btn","btn-primary","mr-2",3,"click"],[1,"col-lg-12","mt-2","col-xs-12","text-center-sm"],[1,"row","mb-2"],[1,"col-lg-6","col-md-7","col-xs-12","my-auto","text-center-sm","actionBtns"],["class","btn btn-success mb-0\n                ng-star-inserted",3,"click",4,"ngIf"],[1,"btn","btn-warning","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-danger","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-success","mb-0","me-3","ng-star-inserted",3,"click"],[1,"col-lg-6","col-md-6","col-sm-12","pull-right"],[1,"form-group","d-flex","justify-content-end"],["for","SearchValue",1,"pt-1","pl-1","pr-1","form-label"],["type","text","id","SearchValue","name","SearchValue",1,"form-control","col-md-6",3,"ngModel","ngModelChange","keyup"],["SearchValue","ngModel"],[1,"col-12","p-0"],[1,"card","transparent-BG"],[1,"card-content"],[1,"table-responsive","card-body"],[1,"table","m-0","table-striped"],[3,"click"],[1,"fa","fa-fw","fa-sort",3,"hidden"],["class","fa fa-fw fa-sort-desc",4,"ngIf"],["class","fa fa-fw fa-sort-asc",4,"ngIf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],[3,"value"],[1,"btn","btn-success","mb-0","ng-star-inserted",3,"click"],[1,"ft-plus-square"],[1,"fa","fa-fw","fa-sort-desc"],[1,"fa","fa-fw","fa-sort-asc"],[4,"ngFor","ngForOf"],[1,"gridActionsTd","text-center"],["href","javascript:;","class","btn btn-primary\n                          transparent-BG",3,"routerLink",4,"ngIf"],[1,"btn","btn-primary","transparent-BG",3,"routerLink"],["aria-hidden","true",1,"fa","fa-file-text-o","font-medium-3"],["href","javascript:;",1,"btn","btn-primary","transparent-BG",3,"routerLink"],[1,"ft-edit","font-medium-3"],[2,"background-color","#b0bed9"],["colspan","7"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(M["\u0275\u0275template"](0,N,4,3,"div",0),M["\u0275\u0275template"](1,Se,121,78,"div",1),M["\u0275\u0275elementStart"](2,"ngx-spinner",2),M["\u0275\u0275elementStart"](3,"p",3),M["\u0275\u0275text"](4,"Loading..."),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275property"]("ngIf",!t.checkRoleParms(222)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",t.checkRoleParms(222)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("fullScreen",!0))},directives:[l.O5,k.Ro,d._Y,d.JL,d.F,d.EJ,d.Q7,d.JJ,d.On,d.YN,d.Kr,l.sg,d.qQ,d.wV,d.Fj,L.K,m.yS,F.N9],pipes:[h.X$],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}.radio-col-green[_ngcontent-%COMP%]{margin-top:10px}.readonlyDiv[_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1;pointer-events:none}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important;text-align:center}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}.batch-input[_ngcontent-%COMP%]{border:1px solid #1b62d8!important}.isExpired[_ngcontent-%COMP%]{color:red}']}),e}(),xe=a(22501),Me=a.n(xe),Ie=a(3148),Pe=a(75700),Oe=a(16676),ke=a(529),Ee=a(878),we=a(63567),De=a(15463),Be=a(29743),Le=a(71309),Fe=a(64328),Ne=a(63541),Ve=a(52529),qe=a(88706),Te=a(32161),Ae=a(20590),Ge=["RForm"],Ue=["serialModel"];function je(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"div",6),M["\u0275\u0275elementStart"](1,"h1",7),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function $e(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",73),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).DocumentAction()}),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,2,"Document")," ")}}function ze(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",74),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).PrintPreview(0)}),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,2,"PrintPreview")," ")}}function We(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",77),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).onPrint()}),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,2,"Print")," ")}}function Je(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",77),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](4).DeleteAction()}),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](4);M["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function Qe(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275template"](1,Je,3,4,"button",75),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",0==n.ShowModeReceipt&&n.ReceiptID>0&&0==n.VouchersLinkedCount&&(2!=n._Receipt.status_id||null))}}function Ye(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",77),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).DupilcateAction()}),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,2,"Dupilcate")," ")}}function He(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",77),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).CreateIssueVoucer()}),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||0==i.ReceiptID||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,2,"CreateIssueVoucer")," ")}}function Ze(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275template"](1,We,3,4,"button",75),M["\u0275\u0275template"](2,Qe,2,1,"div",1),M["\u0275\u0275template"](3,Ye,3,4,"button",75),M["\u0275\u0275template"](4,He,3,4,"button",75),M["\u0275\u0275elementStart"](5,"email-popup",76),M["\u0275\u0275listener"]("_savedemailobj",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).sendEmail(e)}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(226)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(225)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(223)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(16103)&&2!=i._Receipt.status_id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("entryno",i._Receipt.entry_no)}}function Ke(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.text,"")}}function Xe(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.text_ar,"")}}function et(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",78),M["\u0275\u0275template"](1,Ke,2,1,"span",1),M["\u0275\u0275template"](2,Xe,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275property"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function tt(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",79),M["\u0275\u0275text"](1,"choose"),M["\u0275\u0275elementEnd"]())}function nt(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",79),M["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),M["\u0275\u0275elementEnd"]())}function it(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function rt(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function at(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",78),M["\u0275\u0275template"](1,it,2,1,"span",1),M["\u0275\u0275template"](2,rt,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275property"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function ot(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.sugar)}}function ct(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.sug)}}function lt(e,t){if(1&e&&(M["\u0275\u0275template"](0,ot,2,1,"div",1),M["\u0275\u0275template"](1,ct,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function st(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",80),M["\u0275\u0275text"](1,"--"),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function dt(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",80),M["\u0275\u0275text"](1,"--"),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function pt(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function ut(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function mt(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",78),M["\u0275\u0275template"](1,pt,2,1,"span",1),M["\u0275\u0275template"](2,ut,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275property"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function ht(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th",86),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Pack")," "))}function gt(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th",86),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Price")," "))}function _t(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th",94),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Disc%")," "))}function vt(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th",95),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Discount")," "))}function ft(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th",86),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Total")," "))}function Ct(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function yt(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function bt(e,t){if(1&e&&(M["\u0275\u0275template"](0,Ct,2,1,"div",1),M["\u0275\u0275template"](1,yt,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function St(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function Rt(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function xt(e,t){if(1&e&&(M["\u0275\u0275template"](0,St,2,1,"div",1),M["\u0275\u0275template"](1,Rt,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}var Mt=function(e,t){return{"invalid-qty":e,"valid-qty":t}};function It(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div",117),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275nextContext"](2);var i=M["\u0275\u0275reference"](3);M["\u0275\u0275property"]("ngClass",M["\u0275\u0275pureFunction2"](2,Mt,0==n.allowqtyselectforitem&&i.submitted||0==n.allowqtyselectforitem,1==n.allowqtyselectforitem&&i.submitted||1==n.allowqtyselectforitem)),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.itemname," ")}}function Pt(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div",117),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275nextContext"](2);var i=M["\u0275\u0275reference"](3);M["\u0275\u0275property"]("ngClass",M["\u0275\u0275pureFunction2"](2,Mt,0==n.allowqtyselectforitem&&i.submitted||0==n.allowqtyselectforitem,1==n.allowqtyselectforitem&&i.submitted||1==n.allowqtyselectforitem)),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.itemname_ar," ")}}function Ot(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",80),M["\u0275\u0275text"](1," choose "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function kt(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",80),M["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function Et(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function wt(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function Dt(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",118),M["\u0275\u0275template"](1,Et,2,1,"span",1),M["\u0275\u0275template"](2,wt,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"]().$implicit,r=M["\u0275\u0275nextContext"](3);M["\u0275\u0275property"]("ngValue",null==n?null:n.id)("selected",(null==n?null:n.id)===i.unit_id&&(null==n?null:n.item_id)===(null==i?null:i.item_id)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=r.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==r.lang)}}var Bt=function(e,t){return{"invalid-data":e,"valid-data":t}};function Lt(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275elementStart"](1,"input",119,120),M["\u0275\u0275listener"]("keyup",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275nextContext"]().index;return M["\u0275\u0275nextContext"](3).ChangePackItem(e)})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().$implicit.conv=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](2),r=M["\u0275\u0275nextContext"](),a=r.index,o=r.$implicit;M["\u0275\u0275nextContext"](2);var c=M["\u0275\u0275reference"](3),l=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate"]("step",null==l.CashCustomerSetting?null:l.CashCustomerSetting.allowdecimalpack),M["\u0275\u0275propertyInterpolate1"]("name","item_conv",a,""),M["\u0275\u0275property"]("readonly",3==(null==o?null:o.item_type)&&null!=(null==o?null:o.item_id))("Min",1e-5)("CheckMin",null!=(null==o?null:o.item_id))("stepallow",null==l.CashCustomerSetting?null:l.CashCustomerSetting.allowdecimalpack)("ngModel",o.conv)("required",null!=(null==o?null:o.item_id))("ngClass",M["\u0275\u0275pureFunction2"](9,Bt,i.invalid&&c.submitted,i.valid&&c.submitted))}}var Ft=function(e){return{readonlyDiv:e}};function Nt(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275elementStart"](1,"div",121),M["\u0275\u0275listener"]("click",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275nextContext"]().index;return M["\u0275\u0275nextContext"](3)._generalService.onFocusControl("item_price"+e)}),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"numberFormat"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](4,"input",122,123),M["\u0275\u0275listener"]("keyup",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275nextContext"]().index;return M["\u0275\u0275nextContext"](3).CalaculteValuesItemsRow(e)})("focusout",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275nextContext"]().index;return M["\u0275\u0275nextContext"](3)._generalService.onFocusoutControl("item_price"+e)})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().$implicit.price=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](5),r=M["\u0275\u0275nextContext"](),a=r.index,o=r.$implicit;M["\u0275\u0275nextContext"](2);var c=M["\u0275\u0275reference"](3),l=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate1"]("id","Display_item_price",a,""),M["\u0275\u0275property"]("ngClass",M["\u0275\u0275pureFunction1"](13,Ft,5==l._Receipt.customersalesprice)),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind2"](3,10,o.price,l._Currencyprecision)," "),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("id","item_price",a,""),M["\u0275\u0275propertyInterpolate1"]("name","item_price",a,""),M["\u0275\u0275property"]("readonly",5==l._Receipt.customersalesprice)("ngModel",o.price)("Min",0)("CheckMin",null!=(null==o?null:o.item_id))("ngClass",M["\u0275\u0275pureFunction2"](15,Bt,i.invalid&&c.submitted,i.valid&&c.submitted))}}function Vt(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1,"Maximum number can be 100 % Discount"),M["\u0275\u0275elementEnd"]())}function qt(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1,"\u0623\u0643\u0628\u0631 \u0646\u0633\u0628\u0629 \u0647\u0649 100% \u062e\u0635\u0645"),M["\u0275\u0275elementEnd"]())}function Tt(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div",127),M["\u0275\u0275template"](1,Vt,2,0,"span",1),M["\u0275\u0275template"](2,qt,2,0,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](5);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function At(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275elementStart"](1,"input",124,125),M["\u0275\u0275listener"]("keyup",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275nextContext"]().index;return M["\u0275\u0275nextContext"](3).CalaculteValuesItemsRow(e)})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().$implicit.discount_percent=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](3,Tt,3,2,"div",126),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](2),r=M["\u0275\u0275nextContext"](),a=r.index,o=r.$implicit;M["\u0275\u0275nextContext"](2);var c=M["\u0275\u0275reference"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate1"]("name","item_discount_percent",a,""),M["\u0275\u0275property"]("ngModel",o.discount_percent)("Min",0)("CheckMin",null!=(null==o?null:o.item_id))("readonly",!0)("ngClass",M["\u0275\u0275pureFunction2"](7,Bt,i.invalid&&c.submitted||(null==i.errors?null:i.errors.customMax),i.valid&&c.submitted)),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",null==i.errors?null:i.errors.customMax)}}function Gt(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275elementStart"](1,"input",128,129),M["\u0275\u0275listener"]("keyup",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275nextContext"]().index;return M["\u0275\u0275nextContext"](3).CalaculteValuesItemsRow(e,"value")})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().$implicit.discount_value=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](2),r=M["\u0275\u0275nextContext"](),a=r.index,o=r.$implicit;M["\u0275\u0275nextContext"](2);var c=M["\u0275\u0275reference"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate1"]("name","item_discount_value",a,""),M["\u0275\u0275property"]("ngModel",o.discount_value)("readonly",!0)("Min",0)("CheckMin",null!=(null==o?null:o.item_id))("ngClass",M["\u0275\u0275pureFunction2"](6,Bt,i.invalid&&c.submitted,i.valid&&c.submitted))}}function Ut(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275elementStart"](1,"input",130),M["\u0275\u0275listener"]("keyup",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275nextContext"]().index;return M["\u0275\u0275nextContext"](3).ReCalaculteValuesChangeItemsRow(e)})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().$implicit.total=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](),r=i.index,a=i.$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate1"]("name","item_total",r,""),M["\u0275\u0275property"]("ngModel",a.total)("readonly",!0)}}function jt(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"a",132),M["\u0275\u0275listener"]("click",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275nextContext"](2).index,t=M["\u0275\u0275nextContext"](3),i=M["\u0275\u0275reference"](5);return t.OnSerialItems(e,i)}),M["\u0275\u0275element"](1,"i",133),M["\u0275\u0275elementEnd"]()}}function $t(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275template"](1,jt,2,0,"a",131),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",1!=n.CashCustomerSetting.dispensingpolicy)}}var zt=function(e){return{item_id:e}};function Wt(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"tr"),M["\u0275\u0275elementStart"](1,"td",96),M["\u0275\u0275text"](2),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](3,"td"),M["\u0275\u0275elementStart"](4,"p-autoComplete",97,98),M["\u0275\u0275listener"]("onFocus",function(e){var t=M["\u0275\u0275restoreView"](n).index,i=M["\u0275\u0275reference"](5),r=M["\u0275\u0275nextContext"](3);return r.onFocusInStore(e,t),i.show(),r.isType=!0})("onClick",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.storecode=e})("onSelect",function(e){var t=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).StoreSelectEvent(e,t)})("completeMethod",function(e){var t=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).StoreChangeSearch(e,t)})("onClear",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3)._Receipt.details[e].store_id=null}),M["\u0275\u0275pipe"](6,"translate"),M["\u0275\u0275template"](7,bt,2,2,"ng-template",99),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](8,"td"),M["\u0275\u0275elementStart"](9,"p-autoComplete",100,101),M["\u0275\u0275listener"]("onFocus",function(e){var t=M["\u0275\u0275restoreView"](n).index,i=M["\u0275\u0275reference"](10),r=M["\u0275\u0275nextContext"](3);return r.onFocusInItems(e,t),i.show(),r.isType=!0})("onClick",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.itemcode=e})("onSelect",function(e){var t=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).ItemsSelectEvent(e,t)})("completeMethod",function(e){var t=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).ItemsChangeSearch(e,t)})("onClear",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).onClearItems(e)}),M["\u0275\u0275pipe"](11,"translate"),M["\u0275\u0275template"](12,xt,2,2,"ng-template",102),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](13,"td",103),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n),t=e.$implicit,i=e.index;return M["\u0275\u0275nextContext"](3).OnSelectedItem(t,i,"selected")}),M["\u0275\u0275template"](14,It,2,5,"div",104),M["\u0275\u0275template"](15,Pt,2,5,"div",104),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](16,"td"),M["\u0275\u0275elementStart"](17,"select",105,106),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e})("change",function(e){var t=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).ChangeItemUnits(e.target.value,t)}),M["\u0275\u0275template"](19,Ot,2,1,"option",48),M["\u0275\u0275template"](20,kt,2,1,"option",48),M["\u0275\u0275template"](21,Dt,3,4,"option",107),M["\u0275\u0275pipe"](22,"filterby"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](23,Lt,3,12,"td",1),M["\u0275\u0275elementStart"](24,"td"),M["\u0275\u0275elementStart"](25,"input",108,109),M["\u0275\u0275listener"]("keyup",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).ChangeQty(e)})("ngModelChange",function(e){return t.$implicit.qty=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](27,Nt,6,18,"td",1),M["\u0275\u0275template"](28,At,4,10,"td",1),M["\u0275\u0275template"](29,Gt,3,9,"td",1),M["\u0275\u0275template"](30,Ut,2,3,"td",1),M["\u0275\u0275elementStart"](31,"td",110),M["\u0275\u0275elementStart"](32,"a",111),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).index,t=M["\u0275\u0275nextContext"](3),i=M["\u0275\u0275reference"](3);return t.OnEditItemsNotes(e,i)}),M["\u0275\u0275elementStart"](33,"span",112),M["\u0275\u0275element"](34,"i",113),M["\u0275\u0275element"](35,"i",114),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](36,"a",115),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).DeleteItems(e)}),M["\u0275\u0275element"](37,"i",116),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](38,$t,2,1,"ng-container",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index,a=t.index,o=M["\u0275\u0275reference"](18),c=M["\u0275\u0275reference"](26);M["\u0275\u0275nextContext"](2);var l=M["\u0275\u0275reference"](3),s=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",a+1," "),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","storecode",r,""),M["\u0275\u0275property"]("ngModel",i.storecode)("disabled",!(null!=s.CurrentUserSetting&&s.CurrentUserSetting.canchangestore))("suggestions",s.StoreList)("showEmptyMessage",!0)("emptyMessage",M["\u0275\u0275pipeBind1"](6,35,"NoResultsFound"))("forceSelection",!0),M["\u0275\u0275advance"](5),M["\u0275\u0275propertyInterpolate1"]("name","itemcode",r,""),M["\u0275\u0275property"]("ngModel",i.itemcode)("suggestions",s.ItemsList)("showEmptyMessage",!0)("emptyMessage",M["\u0275\u0275pipeBind1"](11,37,"NoResultsFound"))("forceSelection",!0),M["\u0275\u0275advance"](5),M["\u0275\u0275property"]("ngIf","ar"!=s.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==s.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","itemunit",r,""),M["\u0275\u0275property"]("ngModel",i.unit_id)("required",null!=(null==i?null:i.item_id))("ngClass",M["\u0275\u0275pureFunction2"](42,Bt,o.invalid&&l.submitted,o.valid&&l.submitted)),M["\u0275\u0275attribute"]("disabled",3==(null==i?null:i.item_type)&&null!=(null==i?null:i.item_id)||null),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=s.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==s.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",M["\u0275\u0275pipeBind2"](22,39,s.ItemUnitsList,M["\u0275\u0275pureFunction1"](45,zt,null==i?null:i.item_id))),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",1==(null==s.CashCustomerSetting?null:s.CashCustomerSetting.allowpack)),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","item_qty",r,""),M["\u0275\u0275property"]("Min",1e-5)("CheckMin",null!=(null==i?null:i.item_id))("ngModel",i.qty)("ngClass",M["\u0275\u0275pureFunction2"](47,Bt,c.invalid&&l.submitted,c.valid&&l.submitted)),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",1==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.showcostprice)||5!=s._Receipt.customersalesprice),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",1==s.ShowDiscountCols),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",1==s.ShowDiscountCols),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",1==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.showcostprice)||5!=s._Receipt.customersalesprice),M["\u0275\u0275advance"](8),M["\u0275\u0275property"]("ngIf",(2==i.isrequireserial||3==i.isrequireserial)&&s.SettingForActivateBatchesOrNot.activatebatchesornot)}}var Jt=function(e){return{"table-for-autocomplete":e}};function Qt(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",81),M["\u0275\u0275elementStart"](1,"div",82),M["\u0275\u0275elementStart"](2,"div",83),M["\u0275\u0275elementStart"](3,"table",84),M["\u0275\u0275elementStart"](4,"thead"),M["\u0275\u0275elementStart"](5,"tr"),M["\u0275\u0275element"](6,"th"),M["\u0275\u0275elementStart"](7,"th",85),M["\u0275\u0275text"](8),M["\u0275\u0275pipe"](9,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](10,"th",86),M["\u0275\u0275text"](11),M["\u0275\u0275pipe"](12,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](13,"th",86),M["\u0275\u0275text"](14),M["\u0275\u0275pipe"](15,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](16,"th",87),M["\u0275\u0275text"](17),M["\u0275\u0275pipe"](18,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](19,ht,3,3,"th",88),M["\u0275\u0275elementStart"](20,"th",86),M["\u0275\u0275text"](21),M["\u0275\u0275pipe"](22,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](23,gt,3,3,"th",88),M["\u0275\u0275template"](24,_t,3,3,"th",89),M["\u0275\u0275template"](25,vt,3,3,"th",90),M["\u0275\u0275template"](26,ft,3,3,"th",88),M["\u0275\u0275elementStart"](27,"th",91),M["\u0275\u0275text"](28," \xa0 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](29,"tbody"),M["\u0275\u0275template"](30,Wt,39,50,"tr",92),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](31,"button",93),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).AddItems()}),M["\u0275\u0275text"](32),M["\u0275\u0275pipe"](33,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngClass",M["\u0275\u0275pureFunction1"](26,Jt,i.isType)),M["\u0275\u0275advance"](6),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](9,14,"Store")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](12,16,"ItemCode")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](15,18,"ItemDescription")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](18,20,"Unit")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",1==(null==i.CashCustomerSetting?null:i.CashCustomerSetting.allowpack)),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](22,22,"qty")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",1==(null==i.CurrentUserSetting?null:i.CurrentUserSetting.showcostprice)||5!=i._Receipt.customersalesprice),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",1==i.ShowDiscountCols),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",1==i.ShowDiscountCols),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",1==(null==i.CurrentUserSetting?null:i.CurrentUserSetting.showcostprice)||5!=i._Receipt.customersalesprice),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("ngForOf",i._Receipt.details)("ngForTrackBy",i._ReceiptSharedService.customTrackBy),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](33,24,"Add")," ")}}function Yt(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th",86),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Pack")," "))}function Ht(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.itemname," ")}}function Zt(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.itemname_ar," ")}}function Kt(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",80),M["\u0275\u0275text"](1," choose "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function Xt(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",80),M["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function en(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function tn(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function nn(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",78),M["\u0275\u0275template"](1,en,2,1,"span",1),M["\u0275\u0275template"](2,tn,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](5);M["\u0275\u0275property"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function rn(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275elementStart"](1,"input",139),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().$implicit.conv=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](),r=i.index,a=i.$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate1"]("name","item_conv_c",r,""),M["\u0275\u0275property"]("readonly",!0)("ngModel",a.conv)}}function an(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"tr"),M["\u0275\u0275elementStart"](1,"td"),M["\u0275\u0275elementStart"](2,"input",136),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.storecode=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](3,"td"),M["\u0275\u0275elementStart"](4,"input",136),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.itemcode=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](5,"td"),M["\u0275\u0275template"](6,Ht,2,1,"div",1),M["\u0275\u0275template"](7,Zt,2,1,"div",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](8,"td"),M["\u0275\u0275elementStart"](9,"select",137),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e}),M["\u0275\u0275template"](10,Kt,2,1,"option",48),M["\u0275\u0275template"](11,Xt,2,1,"option",48),M["\u0275\u0275template"](12,nn,3,3,"option",28),M["\u0275\u0275pipe"](13,"filterby"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](14,rn,2,3,"td",1),M["\u0275\u0275elementStart"](15,"td"),M["\u0275\u0275elementStart"](16,"input",138),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.qty=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](17,"td"),M["\u0275\u0275elementStart"](18,"input",138),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.price=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](19,"td"),M["\u0275\u0275elementStart"](20,"input",138),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.total=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=t.index,r=M["\u0275\u0275nextContext"](4);M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","storecode_c",i,""),M["\u0275\u0275property"]("readonly",!0)("ngModel",n.storecode),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","itemcode_c",i,""),M["\u0275\u0275property"]("readonly",!0)("ngModel",n.itemcode),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=r.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==r.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","itemunit_c",i,""),M["\u0275\u0275property"]("ngModel",n.unit_id),M["\u0275\u0275attribute"]("disabled",!0),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=r.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==r.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",M["\u0275\u0275pipeBind2"](13,24,r.ItemComponentUnitsList,M["\u0275\u0275pureFunction1"](27,zt,n.item_id))),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",1==(null==r.CashCustomerSetting?null:r.CashCustomerSetting.allowpack)),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","item_qty_c",i,""),M["\u0275\u0275property"]("ngModel",n.qty)("readonly",!0),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","item_price_c",i,""),M["\u0275\u0275property"]("ngModel",n.price)("readonly",!0),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","item_total_c",i,""),M["\u0275\u0275property"]("ngModel",n.total)("readonly",!0)}}var on=function(e){return{finishedproductid:e}};function cn(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div",81),M["\u0275\u0275elementStart"](1,"div",82),M["\u0275\u0275elementStart"](2,"div",134),M["\u0275\u0275elementStart"](3,"table",84),M["\u0275\u0275elementStart"](4,"thead"),M["\u0275\u0275elementStart"](5,"tr"),M["\u0275\u0275elementStart"](6,"th",85),M["\u0275\u0275text"](7),M["\u0275\u0275pipe"](8,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](9,"th",86),M["\u0275\u0275text"](10),M["\u0275\u0275pipe"](11,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](12,"th",86),M["\u0275\u0275text"](13),M["\u0275\u0275pipe"](14,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](15,"th",87),M["\u0275\u0275text"](16),M["\u0275\u0275pipe"](17,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](18,Yt,3,3,"th",88),M["\u0275\u0275elementStart"](19,"th",86),M["\u0275\u0275text"](20),M["\u0275\u0275pipe"](21,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](22,"th",86),M["\u0275\u0275text"](23),M["\u0275\u0275pipe"](24,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](25,"th",86),M["\u0275\u0275text"](26),M["\u0275\u0275pipe"](27,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](28,"tbody"),M["\u0275\u0275template"](29,an,21,29,"tr",135),M["\u0275\u0275pipe"](30,"filterby"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](7),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](8,9,"Store")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](11,11,"ItemCode")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](14,13,"ItemDescription")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](17,15,"Unit")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",1==(null==n.CashCustomerSetting?null:n.CashCustomerSetting.allowpack)),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](21,17,"qty")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](24,19,"Price")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](27,21,"Total")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngForOf",0==n.show_all_component?M["\u0275\u0275pipeBind2"](30,23,n.ItemsComponentList,M["\u0275\u0275pureFunction1"](26,on,null==n.SelectedItem?null:n.SelectedItem.item_id)):n.ItemsComponentList)}}function ln(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"li",70),M["\u0275\u0275elementStart"](1,"a",67),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](4,cn,31,28,"ng-template",68),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275property"]("ngbNavItem",2),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](3,2,"Components")))}function sn(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",79),M["\u0275\u0275text"](1," choose "),M["\u0275\u0275elementEnd"]())}function dn(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",79),M["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),M["\u0275\u0275elementEnd"]())}function pn(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function un(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function mn(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",78),M["\u0275\u0275template"](1,pn,2,1,"span",1),M["\u0275\u0275template"](2,un,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function hn(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",80),M["\u0275\u0275text"](1," choose "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function gn(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",80),M["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function _n(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.codename,"")}}function vn(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.codenamear,"")}}function fn(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",78),M["\u0275\u0275template"](1,_n,2,1,"span",1),M["\u0275\u0275template"](2,vn,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("value",n.code),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function Cn(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"tr"),M["\u0275\u0275elementStart"](1,"td"),M["\u0275\u0275elementStart"](2,"select",143),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.branch_id=e}),M["\u0275\u0275template"](3,sn,2,0,"option",32),M["\u0275\u0275template"](4,dn,2,0,"option",32),M["\u0275\u0275template"](5,mn,3,3,"option",28),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](6,"td"),M["\u0275\u0275elementStart"](7,"select",143),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.code=e}),M["\u0275\u0275template"](8,hn,2,1,"option",48),M["\u0275\u0275template"](9,gn,2,1,"option",48),M["\u0275\u0275template"](10,fn,3,3,"option",28),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](11,"td"),M["\u0275\u0275elementStart"](12,"input",144,145),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.entry_no=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](14,"td",110),M["\u0275\u0275elementStart"](15,"a",115),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).GetLinkedReceipt(e)}),M["\u0275\u0275element"](16,"i",146),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](17,"a",115),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).OnOpenLinkedReceipt(e)}),M["\u0275\u0275element"](18,"i",147),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](19,"a",115),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).DeleteLinkedReceipt(e)}),M["\u0275\u0275element"](20,"i",116),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index,a=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsbranch",r,""),M["\u0275\u0275property"]("ngModel",i.branch_id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",a.BranchList),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptscode",r,""),M["\u0275\u0275property"]("ngModel",i.code),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",a.ReceiptCodeList),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsentry_no",r,""),M["\u0275\u0275property"]("ngModel",i.entry_no),M["\u0275\u0275advance"](3),M["\u0275\u0275attribute"]("disabled",(null==i?null:i.fire)>0||null)}}function yn(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",81),M["\u0275\u0275elementStart"](1,"div",140),M["\u0275\u0275elementStart"](2,"LinkedReceipt-popup",141),M["\u0275\u0275listener"]("ListSelected",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).OnCustomerLinkedReceiptSet(e)}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](3,"div",82),M["\u0275\u0275elementStart"](4,"div",134),M["\u0275\u0275elementStart"](5,"table",84),M["\u0275\u0275elementStart"](6,"thead"),M["\u0275\u0275elementStart"](7,"tr"),M["\u0275\u0275elementStart"](8,"th",86),M["\u0275\u0275text"](9),M["\u0275\u0275pipe"](10,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](11,"th",86),M["\u0275\u0275text"](12),M["\u0275\u0275pipe"](13,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](14,"th",86),M["\u0275\u0275text"](15),M["\u0275\u0275pipe"](16,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](17,"th",86),M["\u0275\u0275text"](18,"\xa0"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](19,"tbody"),M["\u0275\u0275template"](20,Cn,21,13,"tr",135),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](21,"button",142),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).AddLinkedReceipt()}),M["\u0275\u0275text"](22),M["\u0275\u0275pipe"](23,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("custID",null==i._Receipt?null:i._Receipt.vendor_id)("subsidiaryID",i.subsidiaryID)("LinkedListChecked",null==i._Receipt?null:i._Receipt.linkedreceipts),M["\u0275\u0275advance"](7),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](10,8,"Branch")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](13,10,"Receipttype")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](16,12,"EntryNo")," "),M["\u0275\u0275advance"](5),M["\u0275\u0275property"]("ngForOf",i._Receipt.linkedreceipts),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](23,14,"Add")," ")}}function bn(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",81),M["\u0275\u0275elementStart"](1,"div",82),M["\u0275\u0275elementStart"](2,"Signature",148),M["\u0275\u0275listener"]("signatureoutput",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).OnSignatureSet(e)}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("signature",i._Receipt.signature)}}function Sn(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",80),M["\u0275\u0275text"](1," choose "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function Rn(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",80),M["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function xn(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.codename,"")}}function Mn(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.codenamear,"")}}function In(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",78),M["\u0275\u0275template"](1,xn,2,1,"span",1),M["\u0275\u0275template"](2,Mn,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("value",n.code),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function Pn(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"tr"),M["\u0275\u0275elementStart"](1,"td"),M["\u0275\u0275elementStart"](2,"select",151),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.code=e}),M["\u0275\u0275template"](3,Sn,2,1,"option",48),M["\u0275\u0275template"](4,Rn,2,1,"option",48),M["\u0275\u0275template"](5,In,3,3,"option",28),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](6,"td"),M["\u0275\u0275elementStart"](7,"input",152,153),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.entry_no=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](9,"td",110),M["\u0275\u0275elementStart"](10,"a",115),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).OnOpenReceiptHistory(e)}),M["\u0275\u0275element"](11,"i",154),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index,a=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","historyReceiptscode",r,""),M["\u0275\u0275property"]("ngModel",i.code),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",a.ReceiptCodeList),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","historyReceiptsentry_no",r,""),M["\u0275\u0275property"]("ngModel",i.entry_no)}}function On(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div",149),M["\u0275\u0275elementStart"](1,"div",150),M["\u0275\u0275elementStart"](2,"div",134),M["\u0275\u0275elementStart"](3,"table",84),M["\u0275\u0275elementStart"](4,"thead"),M["\u0275\u0275elementStart"](5,"tr"),M["\u0275\u0275elementStart"](6,"th",86),M["\u0275\u0275text"](7),M["\u0275\u0275pipe"](8,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](9,"th",86),M["\u0275\u0275text"](10),M["\u0275\u0275pipe"](11,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](12,"th",86),M["\u0275\u0275text"](13,"\xa0"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](14,"tbody"),M["\u0275\u0275template"](15,Pn,12,7,"tr",135),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](7),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](8,3,"Receipttype")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](11,5,"EntryNo")," "),M["\u0275\u0275advance"](5),M["\u0275\u0275property"]("ngForOf",n.ReceiptHistoryList)}}function kn(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275element"](1,"Item-StoreQty",155,156),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("wrappe",n._itemstoreqtyobj)}}function En(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275elementStart"](1,"section"),M["\u0275\u0275elementStart"](2,"form",8,9),M["\u0275\u0275listener"]("ngSubmit",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275reference"](3);return M["\u0275\u0275nextContext"]().CheckPre_SaveReceipt(e)}),M["\u0275\u0275elementStart"](4,"div",10),M["\u0275\u0275elementStart"](5,"div",11),M["\u0275\u0275elementStart"](6,"div",12),M["\u0275\u0275elementStart"](7,"h6",13),M["\u0275\u0275text"](8),M["\u0275\u0275pipe"](9,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](10,"div",6),M["\u0275\u0275elementStart"](11,"div",14),M["\u0275\u0275elementStart"](12,"button",15),M["\u0275\u0275element"](13,"i",16),M["\u0275\u0275text"](14),M["\u0275\u0275pipe"](15,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](16,"button",17),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().CreateNewAction()}),M["\u0275\u0275text"](17),M["\u0275\u0275pipe"](18,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](19,$e,3,4,"button",18),M["\u0275\u0275template"](20,ze,3,4,"button",19),M["\u0275\u0275elementStart"](21,"button",20),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().BackAction()}),M["\u0275\u0275text"](22),M["\u0275\u0275pipe"](23,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](24,"div",21),M["\u0275\u0275elementStart"](25,"button",22),M["\u0275\u0275text"](26),M["\u0275\u0275pipe"](27,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](28,"div",23),M["\u0275\u0275template"](29,Ze,6,5,"ng-container",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](30,"div",6),M["\u0275\u0275elementStart"](31,"div",24),M["\u0275\u0275elementStart"](32,"div",25),M["\u0275\u0275elementStart"](33,"label",26),M["\u0275\u0275text"](34),M["\u0275\u0275pipe"](35,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](36,"select",27),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.customersalesprice=e})("change",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().changesalesprice(e)}),M["\u0275\u0275template"](37,et,3,3,"option",28),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](38,"div",24),M["\u0275\u0275elementStart"](39,"div",25),M["\u0275\u0275elementStart"](40,"label",26),M["\u0275\u0275text"](41),M["\u0275\u0275pipe"](42,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](43,"span",29),M["\u0275\u0275text"](44,"*"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](45,"select",30,31),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.branch_id=e})("change",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().changeBranch(e)}),M["\u0275\u0275template"](47,tt,2,0,"option",32),M["\u0275\u0275template"](48,nt,2,0,"option",32),M["\u0275\u0275template"](49,at,3,3,"option",33),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](50,"div",6),M["\u0275\u0275elementStart"](51,"div",34),M["\u0275\u0275elementStart"](52,"div",25),M["\u0275\u0275elementStart"](53,"label",35),M["\u0275\u0275text"](54),M["\u0275\u0275pipe"](55,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](56,"span",29),M["\u0275\u0275text"](57,"*"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](58,"input",36,37),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.entry_no=e})("ngModelChange",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().ChangePropFinish("EntryCode",2)})("keydown.space",function(e){return e.preventDefault()}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](60,"div",34),M["\u0275\u0275elementStart"](61,"div",25),M["\u0275\u0275elementStart"](62,"label",38),M["\u0275\u0275text"](63),M["\u0275\u0275pipe"](64,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](65,"span",29),M["\u0275\u0275text"](66,"*"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](67,"p-autoComplete",39,40),M["\u0275\u0275listener"]("onFocus",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275reference"](68);return M["\u0275\u0275nextContext"]().onFocusInCustomerAccounts(e),t.show()})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.cashcustomer_vendor_code=e})("onSelect",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().CustomerAccountsSelectEvent(e)})("completeMethod",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().CustomerAccountsChangeSearch(e)})("onClear",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().onClearCustomer(e)}),M["\u0275\u0275pipe"](70,"translate"),M["\u0275\u0275template"](71,lt,2,2,"ng-template",41),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](72,"div",34),M["\u0275\u0275elementStart"](73,"div",25),M["\u0275\u0275elementStart"](74,"label",42),M["\u0275\u0275text"](75),M["\u0275\u0275pipe"](76,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](77,"input",43,44),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.cashcustomer_vendor_name=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](79,"div",34),M["\u0275\u0275elementStart"](80,"div",25),M["\u0275\u0275elementStart"](81,"label",45),M["\u0275\u0275text"](82),M["\u0275\u0275pipe"](83,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](84,"span",29),M["\u0275\u0275text"](85,"*"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](86,"select",46,47),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.status_id=e}),M["\u0275\u0275template"](88,st,2,1,"option",48),M["\u0275\u0275template"](89,dt,2,1,"option",48),M["\u0275\u0275template"](90,mt,3,3,"option",28),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](91,"div",6),M["\u0275\u0275elementStart"](92,"div",34),M["\u0275\u0275elementStart"](93,"div",25),M["\u0275\u0275elementStart"](94,"label",49),M["\u0275\u0275text"](95),M["\u0275\u0275pipe"](96,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](97,"input",50,51),M["\u0275\u0275listener"]("ngModelChange",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275nextContext"]();return t._Receipt.entry_date=e,t.ChangePropFinish("EntryDate",2)}),M["\u0275\u0275pipe"](99,"date"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](100,"div",34),M["\u0275\u0275elementStart"](101,"div",25),M["\u0275\u0275elementStart"](102,"label",52),M["\u0275\u0275text"](103),M["\u0275\u0275pipe"](104,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](105,"input",53,54),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.entry_time=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](107,"div",34),M["\u0275\u0275elementStart"](108,"div",25),M["\u0275\u0275elementStart"](109,"label",55),M["\u0275\u0275text"](110),M["\u0275\u0275pipe"](111,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](112,"input",56,57),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.memo=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](114,"div",34),M["\u0275\u0275elementStart"](115,"div",25),M["\u0275\u0275elementStart"](116,"label",58),M["\u0275\u0275text"](117),M["\u0275\u0275pipe"](118,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](119,"input",59,60),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.reference_no=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](121,"div",61),M["\u0275\u0275elementStart"](122,"div",62),M["\u0275\u0275elementStart"](123,"div",6),M["\u0275\u0275elementStart"](124,"div",63),M["\u0275\u0275elementStart"](125,"ul",64,65),M["\u0275\u0275listener"]("activeIdChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().activeNav=e}),M["\u0275\u0275elementStart"](127,"li",66),M["\u0275\u0275elementStart"](128,"a",67),M["\u0275\u0275text"](129),M["\u0275\u0275pipe"](130,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](131,Qt,34,28,"ng-template",68),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](132,ln,5,4,"li",69),M["\u0275\u0275elementStart"](133,"li",70),M["\u0275\u0275elementStart"](134,"a",67),M["\u0275\u0275text"](135),M["\u0275\u0275pipe"](136,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](137,yn,24,16,"ng-template",68),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](138,"li",70),M["\u0275\u0275elementStart"](139,"a",67),M["\u0275\u0275text"](140),M["\u0275\u0275pipe"](141,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](142,bn,3,1,"ng-template",68),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](143,"li",70),M["\u0275\u0275elementStart"](144,"a",67),M["\u0275\u0275text"](145),M["\u0275\u0275pipe"](146,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](147,On,16,7,"ng-template",68),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275element"](148,"div",71),M["\u0275\u0275elementStart"](149,"div",6),M["\u0275\u0275elementStart"](150,"div",72),M["\u0275\u0275template"](151,kn,3,1,"div",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](3),r=M["\u0275\u0275reference"](46),a=M["\u0275\u0275reference"](59),o=M["\u0275\u0275reference"](69),c=M["\u0275\u0275reference"](87),l=M["\u0275\u0275reference"](98),s=M["\u0275\u0275reference"](126),d=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](8),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](9,69,"Issue Request")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275attribute"]("disabled",d.VouchersLinkedCount>0||1==d.ShowModeReceipt||1==d.DuringSaveDisable||d.ReceiptID>0&&!d.checkRoleParms(619)||0==d.ReceiptID&&!d.checkRoleParms(223)||2==d._Receipt.status_id||null),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](15,71,"Save")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275attribute"]("disabled",!d.checkRoleParms(223)||1==d.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](18,73,"CreateNew")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",d.ReceiptID>0&&0==d.VouchersLinkedCount),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",d.ReceiptID>0&&d.checkRoleParms(226)),M["\u0275\u0275advance"](1),M["\u0275\u0275attribute"]("disabled",1==d.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](23,75,"Exit")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](27,77,"Action Menu")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngIf",d.ReceiptID>0),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](35,79,"CostPrice")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",d._Receipt.customersalesprice),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",d.CustomerSalesPriceList),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](42,81,"Branch")),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("ngModel",d._Receipt.branch_id)("ngClass",M["\u0275\u0275pureFunction2"](112,Bt,r.invalid&&i.submitted,r.valid&&i.submitted)),M["\u0275\u0275attribute"]("disabled",d.ReceiptID>0||null),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=d.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==d.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",d.BranchList)("ngForTrackBy",d.customTrackBy),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](55,83,"Entry#")),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("stepallow",1)("ngModel",d._Receipt.entry_no)("readonly",0==(null==d.CurrentUserSetting?null:d.CurrentUserSetting.controlvouchernumanddate)||d.VouchersLinkedCount>0||1==d.LockedRecepit)("Min",1)("CheckMin",!0)("ngClass",M["\u0275\u0275pureFunction2"](115,Bt,a.invalid&&i.submitted,a.valid&&i.submitted)),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](64,85,"Customer#")),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("ngModel",d._Receipt.cashcustomer_vendor_code)("suggestions",d.CustomerAccountsList)("showEmptyMessage",!0)("emptyMessage",M["\u0275\u0275pipeBind1"](70,87,"NoResultsFound"))("forceSelection",!0)("ngClass",M["\u0275\u0275pureFunction2"](118,Bt,o.invalid&&i.submitted,o.valid&&i.submitted)),M["\u0275\u0275advance"](8),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](76,89,"CustomerName")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",d._Receipt.cashcustomer_vendor_name)("readonly",!0),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](83,91,"Approval Status")),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("ngModel",d._Receipt.status_id)("ngClass",M["\u0275\u0275pureFunction2"](121,Bt,c.invalid&&i.submitted,c.valid&&i.submitted)),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=d.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==d.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",d.StatusList),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](96,93,"Date")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",M["\u0275\u0275pipeBind2"](99,95,d._Receipt.entry_date,"yyyy-MM-dd"))("readonly",0==(null==d.CurrentUserSetting?null:d.CurrentUserSetting.controlvouchernumanddate)||d.VouchersLinkedCount>0||1==d.LockedRecepit)("ngClass",M["\u0275\u0275pureFunction2"](124,Bt,l.invalid&&i.submitted||0==d.ValidPeriod,l.valid&&i.submitted)),M["\u0275\u0275advance"](6),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](104,98,"time")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("readonly",0==(null==d.CurrentUserSetting?null:d.CurrentUserSetting.controlvouchernumanddate)||d.VouchersLinkedCount>0||1==d.LockedRecepit)("ngModel",d._Receipt.entry_time),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](111,100,"Memo")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",d._Receipt.memo),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](118,102,"ReferenceNo")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",d._Receipt.reference_no),M["\u0275\u0275advance"](6),M["\u0275\u0275property"]("destroyOnHide",!1)("activeId",d.activeNav),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngbNavItem",1),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](130,104,"Items")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngIf",null==d.CurrentUserSetting?null:d.CurrentUserSetting.showreceiptitemcomponent),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngbNavItem",3),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](136,106,"LinkedReceipt")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngbNavItem",4),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](141,108,"Signature")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngbNavItem",5),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](146,110,"History")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngbNavOutlet",s),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngIf",d.itemqtyview)}}function wn(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",80),M["\u0275\u0275text"](1,"choose"),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function Dn(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",80),M["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function Bn(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function Ln(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function Fn(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",78),M["\u0275\u0275template"](1,Bn,2,1,"span",1),M["\u0275\u0275template"](2,Ln,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275property"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function Nn(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",72),M["\u0275\u0275elementStart"](1,"label",173),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](4,"select",174),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).DescriptionItem.salesmanid=e}),M["\u0275\u0275template"](5,wn,2,1,"option",48),M["\u0275\u0275template"](6,Dn,2,1,"option",48),M["\u0275\u0275template"](7,Fn,3,3,"option",28),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](3,6,"ServiceSalesMan")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i.DescriptionItem.salesmanid)("disabled",i.ComeFromIssueRequest),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",i.SalesManlist)}}var Vn=function(){return{height:"150px"}},qn=function(){return{standalone:!0}};function Tn(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",157),M["\u0275\u0275elementStart"](1,"h6",158),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](4,"button",159),M["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),M["\u0275\u0275elementStart"](5,"span",160),M["\u0275\u0275text"](6,"\xd7"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](7,"div",161),M["\u0275\u0275elementStart"](8,"div",162),M["\u0275\u0275elementStart"](9,"label",163),M["\u0275\u0275text"](10),M["\u0275\u0275pipe"](11,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](12,"input",164,165),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().DescriptionItem.customitemname=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](14,"div",166),M["\u0275\u0275elementStart"](15,"div",162),M["\u0275\u0275elementStart"](16,"quill-editor",167),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().DescriptionItem.detailshtml=e})("onContentChanged",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().onContentChanged(e)}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](17,Nn,8,8,"div",168),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](18,"div",169),M["\u0275\u0275elementStart"](19,"button",170),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().SaveNotes()}),M["\u0275\u0275text"](20),M["\u0275\u0275pipe"](21,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](22,"button",171),M["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),M["\u0275\u0275element"](23,"i",172),M["\u0275\u0275text"](24),M["\u0275\u0275pipe"](25,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](3,13,"Description")),M["\u0275\u0275advance"](8),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](11,15,"Item")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i.DescriptionItem.customitemname)("disabled",i.ComeFromIssueRequest),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("styles",M["\u0275\u0275pureFunction0"](21,Vn))("ngModel",i.DescriptionItem.detailshtml)("ngModelOptions",M["\u0275\u0275pureFunction0"](22,qn))("modules",i.quillConfig)("disabled",i.ComeFromIssueRequest),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.IsSalesManImplemented),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("disabled",i.ComeFromIssueRequest),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](21,17,"Save")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](25,19,"Cancel")," ")}}function An(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"h6",158),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}function Gn(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"h6",158),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Batches")," "))}function Un(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th"),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Date")," "))}function jn(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th"),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}function $n(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th"),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"BatchNo")," "))}function zn(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th",180),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Availableqty")," "))}function Wn(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th",180),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"qty")," "))}var Jn=function(e){return{isExpired:e}};function Qn(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"td",117),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"date"),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275property"]("ngClass",M["\u0275\u0275pureFunction1"](5,Jn,null==n?null:n.isexpired)),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind2"](2,2,null==n?null:n.expire_date,"yyyy-MM-dd")," ")}}function Yn(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span",127),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](2,1,"QtyIsValidWithAvailableQty")))}var Hn=function(e){return{"invalid-data":e}};function Zn(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275elementStart"](1,"input",182),M["\u0275\u0275listener"]("change",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275nextContext"]().$implicit;return M["\u0275\u0275nextContext"](2).ChangeBatchQty(t,e.target.value)}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](2,Yn,3,3,"span",126),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](),r=i.index,a=i.$implicit;M["\u0275\u0275nextContext"]();var o=M["\u0275\u0275reference"](7);M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate1"]("name","Qty",r,""),M["\u0275\u0275property"]("value",null==a?null:a.qty)("ngClass",M["\u0275\u0275pureFunction1"](4,Hn,(null==a?null:a.qty)>(null==a?null:a.availableqty)+(null==a?null:a.oldqty)&&o.submitted)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",(null==a?null:a.qty)>(null==a?null:a.availableqty)+(null==a?null:a.oldqty)&&o.submitted)}}function Kn(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"tr"),M["\u0275\u0275elementStart"](1,"td"),M["\u0275\u0275element"](2,"input",181),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](3,"td"),M["\u0275\u0275text"](4),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](5,Qn,3,7,"td",104),M["\u0275\u0275elementStart"](6,"td"),M["\u0275\u0275text"](7),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](8,"td"),M["\u0275\u0275text"](9),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](10,Zn,3,6,"td",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=t.index,r=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","Vaild",i,""),M["\u0275\u0275property"]("checked",null==n?null:n.valid),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ","ar"!=r.lang?null==n?null:n.name:null==n?null:n.name_ar," "),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",3==r.requiredserial),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",null==n?null:n.serial," "),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](null==n?null:n.availableqty),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",3==r.requiredserial)}}function Xn(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",157),M["\u0275\u0275template"](1,An,3,3,"h6",175),M["\u0275\u0275template"](2,Gn,3,3,"h6",175),M["\u0275\u0275elementStart"](3,"button",159),M["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),M["\u0275\u0275elementStart"](4,"span",160),M["\u0275\u0275text"](5,"\xd7"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](6,"form",8,9),M["\u0275\u0275listener"]("ngSubmit",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275reference"](7);return M["\u0275\u0275nextContext"]().saveserial(e)}),M["\u0275\u0275elementStart"](8,"div",161),M["\u0275\u0275elementStart"](9,"div",72),M["\u0275\u0275elementStart"](10,"div",6),M["\u0275\u0275elementStart"](11,"form"),M["\u0275\u0275elementStart"](12,"div",176),M["\u0275\u0275elementStart"](13,"h6",158),M["\u0275\u0275text"](14),M["\u0275\u0275pipe"](15,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](16,"table",84),M["\u0275\u0275elementStart"](17,"thead"),M["\u0275\u0275elementStart"](18,"tr"),M["\u0275\u0275elementStart"](19,"th"),M["\u0275\u0275text"](20),M["\u0275\u0275pipe"](21,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](22,"th",177),M["\u0275\u0275text"](23),M["\u0275\u0275pipe"](24,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](25,Un,3,3,"th",1),M["\u0275\u0275template"](26,jn,3,3,"th",1),M["\u0275\u0275template"](27,$n,3,3,"th",1),M["\u0275\u0275template"](28,zn,3,3,"th",178),M["\u0275\u0275template"](29,Wn,3,3,"th",178),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](30,"tbody"),M["\u0275\u0275template"](31,Kn,11,7,"tr",92),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](32,"div",169),M["\u0275\u0275elementStart"](33,"button",179),M["\u0275\u0275text"](34),M["\u0275\u0275pipe"](35,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",2==i.requiredserial),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",3==i.requiredserial),M["\u0275\u0275advance"](12),M["\u0275\u0275textInterpolate2"](" ",M["\u0275\u0275pipeBind1"](15,14,"qty")," : ",i._batchqty," "),M["\u0275\u0275advance"](6),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](21,16,"Choose")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](24,18,"Store")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",3==i.requiredserial),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",2==i.requiredserial),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",3==i.requiredserial),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",3==i.requiredserial),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",3==i.requiredserial),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngForOf",i.BatchesListForEatchRow)("ngForTrackBy",i.trackByFn),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](35,20,"save")," ")}}var ei=function(){return[222,223,225,226,619]},ti=function(){var e=function(){function e(t,n,i,r,a,o,l,s,d,p,u,m,h,g,_,v,f){var C=this;c(this,e),this._CustomerService=t,this._ReceiptSharedService=n,this._VoucherService=i,this.cd=r,this.toastr=a,this._router=o,this._generalService=l,this.translate=s,this._translateGlobalService=d,this._activeRoute=p,this.modalService=u,this.spinner=m,this._authService=h,this._printService=g,this._VerifyReportsService=_,this.datepipe=v,this.location=f,this.isType=!1,this.subsidiaryID=0,this.ReceiptID=0,this.PriceListItemsOnly=!1,this.BasicCodeReceipt=64,this.Transaction_move=0,this._Receipt=new S.tY,this._ReceiptOriginal=new S.tY,this._Receipt_h_Edit=new S.Iu,this._CashSalesDetailsReceipt=new S.hm,this.ItemsComponentList=new Array,this.DescriptionItem=new S.tH,this._LinkedReceipt=new S.Cb,this._Currencyprecision=3,this.ForeignCurrencyShow=!1,this.ValidPeriod=!0,this.VouchersLinkedCount=0,this.BranchList=[],this.CustomerAccountsList=[],this.CostCenterList=[],this.ReceiptCodeList=[],this.TransactionAccountList=[],this.CurrencyList=[],this.StoreList=[],this.ItemsList=[],this.ItemUnitsList=[],this.ItemComponentUnitsList=[],this.CustomerSalesPriceList=[],this.reporturl="",this.reportdomainUrl=ke.N.aspDomain,this._emailobj={email:"",subject:""},this.mailmsg="",this.allowDelete=!1,this.ShowModeReceipt=!1,this.LockedRecepit=!1,this.swalTitleEntry="",this.swalTextEntry="",this.swalConfirmButtonEntry="",this.Cancel="",this.WarningInfoLost="",this.warning="",this.Yes="",this.FinancialPeriodMsg="",this.Close="",this.FinancialPeriodCloseMsg="",this.StopInventoryErrorMsg="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.DeleteRelationmsg="",this.ItemsZeroErrorMsg="",this.ItemsEqualZeroMsg="",this.ReceiptNotFound="",this.CustomerPricelistMsg="",this.Receiptnoitems="",this.NoUnits="",this.qtyErrorSaveMsg="",this.qtyErrorMsg="",this.qtyZeroErrorSaveMsg="",this.SaveMsg="",this.No="",this.swalNewActionTitle="",this.swalNewActionText="",this.NOComponents="",this.QtyIsValidWithAvailableQty="",this.InValidQty="",this.InValidQtyForBatch="",this.InValidNumberOfBatch="",this.DuringSaveDisable=!1,this.show_all_component=!1,this.RelatedwithSerialsOrBatches="",this.ShowDiscountCols=!1,this.timeout=null,this.ItemLinkedReceipt=[],this.ItemComponentsLinkedReceipt=[],this.LinkedReceiptListSelected=[],this.IxLRS=0,this.itemqtyview=!1,this._itemstoreqtyobj=new S.I$,this._itemqtyList=new Array,this._totalcost=0,this.StatusList=[{id:1,name:"New",name_ar:"\u062c\u062f\u064a\u062f"},{id:2,name:"Issue Voucher",name_ar:"\u0633\u0646\u062f \u0627\u0644\u0635\u0631\u0641"}],this.ReceiptHistoryList=[],this.CustomerCostCenterList=[],this.requiredserial=2,this._batchqty=0,this.BatchesListForEatchRow=[],this.selectedindex=0,p.params.subscribe(function(e){C.ReceiptID=e.id,C.ShowModeReceipt=null!=e.show&&"show"==e.show&&e.id>0,C.LockedRecepit=C.ShowModeReceipt,C.subsidiaryID=C._generalService.SubsidiaryID,C.subsidiaryID>0&&C.SetInitialMethods(),C._UserLogin=C._authService.userInfo()}),this.ngUnsubscribe=l.proadCastSubsidiaryID.subscribe(function(e){0==C.subsidiaryID&&(C.subsidiaryID=C._generalService.SubsidiaryID,C.SetInitialMethods()),C.subsidiaryID!=C._generalService.SubsidiaryID&&C.subsidiaryID>0&&(C.subsidiaryID=C._generalService.SubsidiaryID,C._router.navigate(["/page/inventorytransiction/issuerequest/0"]).then(function(){window.location.reload()}))}),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(function(e){C.lang=e.lang,C.dir=e.dir,C.translate.use(e.lang),C.ngTransUnsubscribe=C.translate.get(["Cancel","swalTitleEntryno","swalEntrynoText","swalEntrynoConfirmButton","WarningInfoLost","warning","Yes","mailmsg","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","DeleteRelationmsg","successMsg","ItemsZeroErrorMsg","ItemsEqualZeroMsg","ReceiptNotFound","CustomerPricelistMsg","Receiptnoitems","NoUnits","FinancialPeriodMsg","CloseFinancialPeriodMsg","StopInventoryErrorMsg","Close","qtyErrorSaveMsg","qtyErrorMsg","qtyZeroErrorSaveMsg","SaveMsg","NOComponents","Issue Request","No","swalNewActionTitle","swalNewActionText","RelatedwithSerialsOrBatches","cantNotDuplicateItem","QtyIsValidWithAvailableQty","InValidQty","InValidQtyForBatch","InValidNumberOfBatch"]).subscribe(function(e){document.title=e["Issue Request"],C.Cancel=e.Cancel,C.swalTitleEntry=e.swalTitleEntryno,C.swalTextEntry=e.swalEntrynoText,C.swalConfirmButtonEntry=e.swalEntrynoConfirmButton,C.WarningInfoLost=e.WarningInfoLost,C.warning=e.warning,C.Yes=e.Yes,C.mailmsg=e.mailmsg,C.swalDeleteTitle=e.swalDeleteTitle,C.swalDetlateText=e.swalDetlateText,C.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,C.DeleteRelationmsg=e.DeleteRelationmsg,C.toastrSuccessDelete=e.successMsg,C.ItemsZeroErrorMsg=e.ItemsZeroErrorMsg,C.ItemsEqualZeroMsg=e.ItemsEqualZeroMsg,C.ReceiptNotFound=e.ReceiptNotFound,C.CustomerPricelistMsg=e.CustomerPricelistMsg,C.Receiptnoitems=e.Receiptnoitems,C.NoUnits=e.NoUnits,C.FinancialPeriodMsg=e.FinancialPeriodMsg,C.StopInventoryErrorMsg=e.StopInventoryErrorMsg,C.FinancialPeriodCloseMsg=e.CloseFinancialPeriodMsg,C.NOComponents=e.NOComponents,C.Close=e.Close,C.qtyErrorMsg=e.qtyErrorMsg,C.qtyErrorSaveMsg=e.qtyErrorSaveMsg,C.qtyZeroErrorSaveMsg=e.qtyZeroErrorSaveMsg,C.SaveMsg=e.SaveMsg,C.No=e.No,C.swalNewActionTitle=e.swalNewActionTitle,C.swalNewActionText=e.swalNewActionText,C.RelatedwithSerialsOrBatches=e.RelatedwithSerialsOrBatches,C.cantNotDuplicateItem=e.cantNotDuplicateItem,C.QtyIsValidWithAvailableQty=e.QtyIsValidWithAvailableQty,C.InValidQty=e.InValidQty,C.InValidQtyForBatch=e.InValidQtyForBatch,C.InValidNumberOfBatch=e.InValidNumberOfBatch})})}return o(e,[{key:"ngOnInit",value:function(){}},{key:"GetModuleSetting",value:function(){var e=this;this._generalService.GetModuleSetting().subscribe(function(t){null!=t&&(e._ModuleList=t)})}},{key:"SetInitialMethods",value:function(){this._Receipt=new S.tY,this.GetCurrentUserSetting(),this.GetModuleSetting(),this.GetBranchList(),this.GetCashCustomerSettings(),this.GetSubsaidarySetting(),this.GetCurrencyList(),this.GetSettingForActivateBatchesOrNot(),this.GetReceipt_AfterReceiptCode_InventroySettings()}},{key:"GetReceipt_AfterReceiptCode_InventroySettings",value:function(){var e=this,t=this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID),i=this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID);(0,Ie.D)([t,i]).subscribe(function(t){var i=n(t,2),r=i[0],a=i[1];e.ReceiptCodeList=r,e.InventorySetting=a;var o=e.ReceiptCodeList.find(function(t){return t.code==e.BasicCodeReceipt});e.Transaction_move=o.items,e.GetReceipt(),e.cd.markForCheck()})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"checkRolesParms",value:function(e){var t=!0;return this._authService.isHasRole(e)||(t=!1),t}},{key:"GetReceipt",value:function(){var e=this;if(this._Receipt.subsidiaryid=this.subsidiaryID,0==this.ReceiptID){this._Receipt.status_id=1,this._Receipt.code=this.BasicCodeReceipt,this._Receipt.entry_date=this.datepipe.transform(new Date,"yyyy-MM-dd"),console.log(this._Receipt.entry_date),this.CheckValidDateBySubsidaryID(),this._Receipt.entry_time=this.SetTimeNow();var n=JSON.parse(localStorage.getItem("Branch"));null!=n&&null!=n&&(this._Receipt.branch_id="null"==n.branchId||0==n.branchId?null:n.branchId,null!=this._Receipt.branch_id&&(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch())),setTimeout(function(){e._ReceiptOriginal=JSON.parse(JSON.stringify(e._Receipt)),console.log(e._Receipt)},1e3)}else this._ReceiptSharedService.GetReceiptAndDetailsByID(this.ReceiptID).subscribe(function(n){null!=n.receipt&&(e.VouchersLinkedCount=n.voucherslinkedcount.voucherslinkedcount,e._Receipt.id=n.receipt.id,e._Receipt.subsidiaryid=n.receipt.subsidiaryid,e._Receipt.code=n.receipt.code,e._Receipt.entry_no=n.receipt.entry_no,e._Receipt.branch_id=n.receipt.branch_id,e._Receipt.transaction_code=n.receipt.transaction_code,e._Receipt.customersalesprice=n.receipt.customersalesprice,e._Receipt.entry_date=e.datepipe.transform(n.receipt.entry_date,"yyyy-MM-dd"),e._Receipt.entry_time=n.receipt.entry_time,e._Receipt.reservedflag=n.receipt.reservedflag,e._Receipt.payment_type=n.receipt.payment_type,e._Receipt.vendor_id=n.receipt.vendor_id,e._Receipt.cashcustomerid=n.receipt.cashcustomerid,null!=e._Receipt.vendor_id&&(e._Receipt.cashcustomer_vendor_code={code:n.receipt.vendorcode},e._Receipt.cashcustomer_vendor_name="ar"==e.lang?n.receipt.vendornamear:n.receipt.vendorname,e.PriceListItemsOnly=n.receipt.pricelistitemsonly),null!=e._Receipt.cashcustomerid&&(e._Receipt.cashcustomer_vendor_code={phonenumber:n.receipt.phonenumber},e._Receipt.cashcustomer_vendor_name="ar"==e.lang?n.receipt.cashcustomername_ar:n.receipt.cashcustomername,e.PriceListItemsOnly=!1),e._Receipt.currency_id=n.receipt.currency_id,e._Receipt.currency_rate=n.receipt.currency_rate,e._Receipt.customerdeliverdate=e.datepipe.transform(n.receipt.customerdeliverdate,"yyyy-MM-dd"),e._Receipt.customerdeliverdate_time=n.receipt.customerdeliverdate_time,e._Receipt.ordertype=n.receipt.ordertype,e._Receipt.empoyee_id=n.receipt.empoyee_id,e._Receipt.memo=n.receipt.memo,e._Receipt.reference_no=n.receipt.reference_no,e._Receipt.salestypeid=n.receipt.salestypeid,e._Receipt.commisionaccountid=n.receipt.commisionaccountid,e._Receipt.commisionaccountfieldname="ar"==e.lang?{commisionaccountfieldname:n.receipt.commisionaccount_sug_ar}:{commisionaccountfieldname:n.receipt.commisionaccount_sug},e._Receipt.commissiontype=n.receipt.commissiontype,e._Receipt.commission=n.receipt.commission,e._Receipt.commissionnet=n.receipt.commissionnet,e._Receipt.commisionaccountid1=n.receipt.commisionaccountid1,e._Receipt.commisionaccountfieldname1="ar"==e.lang?{commisionaccountfieldname1:n.receipt.commisionaccount1_sug_ar}:{commisionaccountfieldname1:n.receipt.commisionaccount1_sug},e._Receipt.commissiontype1=n.receipt.commissiontype1,e._Receipt.commission1=n.receipt.commission1,e._Receipt.commissionnet1=n.receipt.commissionnet1,e._Receipt.costcenterid=n.receipt.costcenterid,e._Receipt.costcenterfieldname=null!=e._Receipt.costcenterid?"ar"==e.lang?{costcenterfieldname:n.receipt.costcenter_sug_ar}:{costcenterfieldname:n.receipt.costcenter_sug}:null,e._Receipt.classid=n.receipt.classid,e._Receipt.classfieldname=null!=e._Receipt.classid?"ar"==e.lang?{classfieldname:n.receipt.classes_sug_ar}:{classfieldname:n.receipt.classes_sug}:null,e._Receipt.locationid=n.receipt.locationid,e._Receipt.locationfieldname=null!=e._Receipt.locationid?"ar"==e.lang?{locationfieldname:n.receipt.location_sug_ar}:{locationfieldname:n.receipt.location_sug}:null,e._Receipt.departmentid=n.receipt.departmentid,e._Receipt.departmentfieldname=null!=e._Receipt.departmentid?"ar"==e.lang?{departmentfieldname:n.receipt.department_sug_ar}:{departmentfieldname:n.receipt.department_sug}:null,e._Receipt.carid=n.receipt.carid,e._Receipt.driverid=n.receipt.driverid,e._Receipt.valueforeign=n.receipt.valueforeign,e._Receipt.value=n.receipt.value,e._Receipt.discount_foreignpercent=n.receipt.discount_foreignpercent,e._Receipt.discount_percent=n.receipt.discount_percent,e._Receipt.discount_foreignvalue=n.receipt.discount_foreignvalue,e._Receipt.discount_value=n.receipt.discount_value,e._Receipt.deliveryfeesforeign=n.receipt.deliveryfeesforeign,e._Receipt.deliveryfees=n.receipt.deliveryfees,e._Receipt.surchargevalueforeign=n.receipt.surchargevalueforeign,e._Receipt.surchargevalue=n.receipt.surchargevalue,e._Receipt.surchargepercent=n.receipt.surchargepercent,e._Receipt.netvalueforeign=n.receipt.netvalueforeign,e._Receipt.netvalue=n.receipt.netvalue,e._Receipt.signature=n.receipt.signature,e._Receipt.related_voucher_type=n.receipt.related_voucher_type,e._Receipt.related_voucher_code=n.receipt.related_voucher_code,e._Receipt.status_id=n.receipt.status_id,e._Receipt.approvalstatus_id=n.receipt.approvalstatus_id,e._Receipt.costing_rate=n.receipt.costing_rate,e._Receipt.approvedby_id=n.receipt.approvedby_id,e._Receipt.shipmentterm_id=n.receipt.shipmentterm_id,e._Receipt.paymentterm_id=n.receipt.paymentterm_id,e._Receipt.supplieraccount_id=n.receipt.supplieraccount_id,e._Receipt.planneddeliverydate=n.receipt.planneddeliverydate,e._Receipt.actualdeliverydate=n.receipt.actualdeliverydate,e._Receipt.deliverylocation=n.receipt.deliverylocation,e._Receipt.contactedperson=n.receipt.contactedperson,e._Receipt.othernotes=n.receipt.othernotes,e._Receipt.cashdrawerid=n.receipt.cashdrawerid,e._Receipt.leadid=n.receipt.leadid,e._Receipt.deliverynotes=n.receipt.deliverynotes,e._Receipt.cashcustomerdetailid=n.receipt.cashcustomerdetailid,e._Receipt.is_canceled=n.receipt.is_canceled,e._Receipt.fromstoreid=n.receipt.fromstoreid,e._Receipt.tostoreid=n.receipt.tostoreid,e._Receipt.isdeliveryprint=n.receipt.isdeliveryprint,e._Receipt.printcount=n.receipt.printcount,e._Receipt.iskitchendone=n.receipt.iskitchendone,e._Receipt.paidamount=n.receipt.paidamount,e._Receipt.isholded=n.receipt.isholded,e._Receipt.branchtableid=n.receipt.branchtableid,e._Receipt.customeractualdeliverdate=n.receipt.customeractualdeliverdate,e._Receipt.deliverystatusid=n.receipt.deliverystatusid,e._Receipt.deposite=n.receipt.deposite,e._Receipt.paymentandconditions=n.receipt.paymentandconditions,e._Receipt.notes=n.receipt.notes,e._Receipt.chefid=n.receipt.chefid,e._Receipt.changeamount=n.receipt.changeamount,e._Receipt.divisionid=n.receipt.divisionid,e._Receipt.courierid=n.receipt.courierid,e._Receipt.depositepaymenttypeid=n.receipt.depositepaymenttypeid,e._Receipt.creationdate=n.receipt.creationdate,e._Receipt.lastupdatedate=n.receipt.lastupdatedate,e._Receipt.createdbyid=n.receipt.createdbyid,e._Receipt.updatedbyid=n.receipt.updatedbyid,e._Receipt.receiptattributeid=n.receipt.receiptattributeid,e._Receipt.costposted=n.receipt.costposted,e._Receipt.lcaccountid=n.receipt.lcaccountid,e._Receipt.lcno=n.receipt.lcno,e._Receipt.lcbank=n.receipt.lcbank,e._Receipt.lcstartdate=n.receipt.lcstartdate,e._Receipt.lcenddate=n.receipt.lcenddate,e._Receipt.lcrenewdate=n.receipt.lcrenewdate,e._Receipt.lcrenewenddate=n.receipt.lcrenewenddate,e._Receipt.lcinsurancecompany=n.receipt.lcinsurancecompany,e._Receipt.lcpolicyno=n.receipt.lcpolicyno,e._Receipt.insurancedate=n.receipt.insurancedate,e._Receipt.gooddeliverydate=n.receipt.gooddeliverydate,e._Receipt.lccondition=n.receipt.lccondition,e._Receipt.shippingmethod=n.receipt.shippingmethod,e._Receipt.exportport=n.receipt.exportport,e._Receipt.shipname=n.receipt.shipname,e._Receipt.lcnotes=n.receipt.lcnotes,e._Receipt.quotationcustomername=n.receipt.quotationcustomername,e._Receipt.duedate=n.receipt.duedate,e._Receipt.schedule_date=n.receipt.schedule_date,e._Receipt.storetype=n.receipt.storetype,e._Receipt.quotationenddate=n.receipt.quotationenddate,e._Receipt.wostatusid=n.receipt.wostatusid,e._Receipt.parentreceiptid=n.receipt.parentreceiptid,e._Receipt.isapproved=n.receipt.isapproved,e._Receipt.replenshimenttype=n.receipt.replenshimenttype,e._Receipt.reference=n.receipt.reference,e._Receipt.replenshimentfromdate=n.receipt.replenshimentfromdate,e._Receipt.replenshimenttodate=n.receipt.replenshimenttodate,e._Receipt.cancelreasonid=n.receipt.cancelreasonid,e._Receipt.contractstartdate=n.receipt.contractstartdate,e._Receipt.contractenddate=n.receipt.contractenddate,e._Receipt.previouscontractid=n.receipt.previouscontractid,e._Receipt.erpstatus=n.receipt.erpstatus,e._Receipt.loyalitybalance=n.receipt.loyalitybalance,e._Receipt.cpno=n.receipt.cpno,e._Receipt.accounttype=n.receipt.accounttype,e._Receipt.printing=n.receipt.printing,e._Receipt.storedelivery=n.receipt.storedelivery,e._Receipt.customerrecieve=n.receipt.customerrecieve,e._Receipt.promotionid=n.receipt.promotionid,e._Receipt.promotionpercent=n.receipt.promotionpercent,e._Receipt.promotionvalue=n.receipt.promotionvalue,e._Receipt.purchaserequeststatusid=n.receipt.purchaserequeststatusid,e._Receipt.urgent=n.receipt.urgent,e._Receipt.quotationstatusid=n.receipt.quotationstatusid,e._Receipt.salesorderstatusid=n.receipt.salesorderstatusid,e._Receipt.purchaseorderstatusid=n.receipt.purchaseorderstatusid,e._Receipt.expensesdistributionvoucherno=n.receipt.expensesdistributionvoucherno,e._Receipt.totalproductioncost=n.receipt.totalproductioncost,e._Receipt.totalvouchercost=n.receipt.totalvouchercost,e._Receipt.totalproductioncostforeign=n.receipt.totalproductioncostforeign,e._Receipt.totalvouchercostforeign=n.receipt.totalvouchercostforeign,e._Receipt.taxvalue=n.receipt.taxvalue,e._Receipt.sourceid=n.receipt.sourceid,e._Receipt.contractid=n.receipt.contractid,e._Receipt.type_id=n.receipt.type_id,e._Receipt.productionlineid=n.receipt.productionlineid,e._Receipt.linescheduleddate=n.receipt.linescheduleddate,e._Receipt.inchargepersonname=n.receipt.inchargepersonname,e._Receipt.inchargephoneno=n.receipt.inchargephoneno,e._Receipt.details=n.items,e._Receipt.details.forEach(function(e){e.storecode={code:e.storecode},e.itemcode={code:e.itemcode},e.allowqtyselectforitem=!0,e.rowno=0,e.parentrowno=0}),e._Receipt.itemscomponent=n.itemcomponents,e._Receipt.itemscomponent.forEach(function(e){e.allowqtyselectforitem=!0,e.rowno=0,e.parentrowno=0}),e.ItemUnitsList=n.itemunits,e.ItemComponentUnitsList=n.componentsunits,e._Receipt.linkedreceipts=n.linkedreceipts,e._Receipt.receiptmultipayment=n.receiptmultipayment,e.ItemsComponentList=JSON.parse(JSON.stringify(e._Receipt.itemscomponent)),e._Receipt.details.map(function(e){e.batcheslist=new Array;var i=n.batches.filter(function(t){return t.inv_receipt_d_id==e.id});e.batcheslist=t(i)}),e.ReceiptHistoryList=n.receipthistory,e._ReceiptOriginal=JSON.parse(JSON.stringify(e._Receipt)),e.CheckShowDiscountCols(),console.log(e._ReceiptOriginal),console.log(e._Receipt),e.entry_no=e._Receipt.entry_no,e.originalSalesPrice=e._Receipt.customersalesprice,e._CurrencySelected=e.CurrencyList.find(function(t){return t.id==e._Receipt.currency_id}),e.ForeignCurrencyShow=1!=e._CurrencySelected.basecurrency,1==!e.ShowModeReceipt&&e.CheckValidDateBySubsidaryID(),e.OnSelectedItem(e._Receipt.details[0],0,"selected",!0),e.cd.markForCheck())})}},{key:"CheckPre_SaveReceipt",value:function(e){var t=this;if(e.form.valid)if(0!=this.ValidPeriod){if(1==this._Receipt.details.length&&null==this._Receipt.details[0].item_id)return this.toastr.error(this.ItemsZeroErrorMsg),this._Receipt.details.splice(0,1),void this.AddItems();for(var n=function(e){if(null==t._Receipt.details[e].item_id)t._Receipt.details.splice(e,1),e--;else{if(!(t._Receipt.details[e].qty>0))return i=e,{v:void t.toastr.error(t.qtyZeroErrorSaveMsg)};0!=t._Receipt.value?(t._Receipt.details[e].h_discount_value=t._Receipt.discount_percent/100*t._Receipt.details[e].total/t._Receipt.details[e].qty%(1/0)||0,t._Receipt.details[e].h_discount_percentage=100*(t._Receipt.details[e].h_discount_value/(t._Receipt.details[e].total/t._Receipt.details[e].qty)%(1/0)||0)):(t._Receipt.details[e].h_discount_value=0,t._Receipt.details[e].h_discount_percentage=0);var n=t.ItemUnitsList.find(function(n){return n.item_id==t._Receipt.details[e].item_id&&n.id==t._Receipt.details[e].unit_id});t._Receipt.details[e].final_conv=null!=n?(null!=n.finalconv?n.finalconv:1)*(t._Receipt.details[e].conv/n.conv):t._Receipt.details[e].conv,t._Receipt.details[e].final_conv=0==t._Receipt.details[e].final_conv?1:t._Receipt.details[e].final_conv,t._ModuleList[0].allowrecalculate&&t.CalaculteValuesItemsRow(e,"percent",!1)}i=e},i=0;i<this._Receipt.details.length;i++){var r=n(i);if("object"==typeof r)return r.v}if(0==this._Receipt.details.length)return this.toastr.error(this.ItemsZeroErrorMsg),void this.AddItems();for(var a=function(e){if(t._Receipt.itemscomponent[e].qty>0){0!=t._Receipt.value?(t._Receipt.itemscomponent[e].h_discount_value=t._Receipt.discount_percent/100*t._Receipt.itemscomponent[e].total/t._Receipt.itemscomponent[e].qty%(1/0)||0,t._Receipt.itemscomponent[e].h_discount_percentage=100*(t._Receipt.itemscomponent[e].h_discount_value/(t._Receipt.itemscomponent[e].total/t._Receipt.itemscomponent[e].qty)%(1/0)||0)):(t._Receipt.itemscomponent[e].h_discount_value=0,t._Receipt.itemscomponent[e].h_discount_percentage=0);var n=t.ItemComponentUnitsList.find(function(n){return n.item_id==t._Receipt.itemscomponent[e].item_id&&n.id==t._Receipt.itemscomponent[e].unit_id});t._Receipt.itemscomponent[e].final_conv=null!=n?(null!=n.finalconv?n.finalconv:1)*(t._Receipt.itemscomponent[e].conv/n.conv):t._Receipt.itemscomponent[e].conv,t._Receipt.itemscomponent[e].final_conv=0==t._Receipt.itemscomponent[e].final_conv?1:t._Receipt.itemscomponent[e].final_conv}},o=0;o<this._Receipt.itemscomponent.length;o++)a(o);this.Calculate_Total_Tax_Net(),this.CheckBalanceForItemInStore(0,!0,!0)}else this.ShowPopUpFinancialPeriod();else this.activeNav="INVALID"==e.form.controls.CostCenter.status||"INVALID"==e.form.controls.Department.status||"INVALID"==e.form.controls.Classes.status||"INVALID"==e.form.controls.Location.status?5:1}},{key:"SaveReceipt",value:function(){var e=this;if(this._Receipt.lang=this.lang,"ar"!=this._Receipt.lang&&(this._Receipt.lang="en-US"),this._Receipt.details.filter(function(e){return 0==e.allowqtyselectforitem}).length>0)return this.toastr.error(this.qtyErrorSaveMsg),this.DuringSaveDisable=!1,void this.cd.markForCheck();if(this.SettingForActivateBatchesOrNot.activatebatchesornot){var t=[];if(this.ReceiptID>0&&(this._Receipt.details.forEach(function(e){e.batcheslist||(e.batcheslist=[]),3==e.isrequireserial&&(0==e.batcheslist.length?t.push(!1):e.batcheslist.forEach(function(e){e.readonlyavailableqtywithfinal_conv&&e.readonlyavailableqtywithfinal_conv-e.qty<0&&t.push(!0)}))}),t.length>0))return t.includes(!1)&&(this.toastr.error(this.InValidNumberOfBatch),this.cd.markForCheck()),t.includes(!0)&&(this.toastr.error(this.QtyIsValidWithAvailableQty),this.cd.markForCheck()),void(this.DuringSaveDisable=!1);if(t=[],this._Receipt.details.forEach(function(n){if(3==n.isrequireserial){0==n.batcheslist.length?t.push(!1):0==n.validrow&&t.push(!0);var i=[],r=[],a=e._Receipt.details.filter(function(e){return e.item_id==n.item_id});if(null!=a&&a.length>1){a.forEach(function(e){var t=e.final_conv;e.batcheslist.forEach(function(e){var n=new Ee.WB;n.availableqty=e.availableqty*t,n.qty=e.qty*t,n.serial=e.serial,n.batchno=e.batchno,i.push(n)})}),console.log("serialdata:",i),i.forEach(function(e){var t=i.filter(function(t){return t.batchno==e.batchno&&t.serial==e.serial}).map(function(e){return e.qty}).reduce(function(e,t){return e+t});r.push({serial:e.batchno,qty:t,availableqty:e.availableqty})}),console.log("sum:",r);var o=r.filter(function(e){return e.qty>e.availableqty});null!=o&&o.length>0&&(n.validrow=!1,t.push(!1))}console.log("end:",n.validrow)}}),console.log("_isValidArr:",t),t.length>0)return t.includes(!1)&&(this.toastr.error(this.InValidNumberOfBatch),this.cd.markForCheck()),t.includes(!0)&&(this.toastr.error(this.QtyIsValidWithAvailableQty),this.cd.markForCheck()),void(this.DuringSaveDisable=!1);if(t=[],this._Receipt.details.forEach(function(e){if(3==e.isrequireserial)if(0==e.batcheslist.length)t.push(!1);else{var n=0;e.batcheslist.forEach(function(e){var t;n+=null!==(t=+e.qty)&&void 0!==t?t:0}),n!=e.qty&&t.push(!1)}}),t.length>0)return t.includes(!1)&&(this.toastr.error(this.InValidNumberOfBatch),this.cd.markForCheck()),void(this.DuringSaveDisable=!1)}this.DuringSaveDisable=!0;for(var n=0;n<this._Receipt.linkedreceipts.length;n++)0==this._Receipt.linkedreceipts[n].fire&&(this._Receipt.linkedreceipts.splice(n,1),n--);null==this._Receipt.id||0==this._Receipt.id?this._ReceiptSharedService.ReceiptCreate(this._Receipt).subscribe(function(t){e.DuringSaveDisable=!1,e.toastr.success(e.SaveMsg),e.ReceiptID=t.id,e._router.navigate(["/page/inventorytransiction/issuerequest/"+e.ReceiptID]).then(function(){window.location.reload()})}):(this._Receipt_h_Edit=new S.Iu,this._Receipt_h_Edit.Receipt_h=this._Receipt,this._Receipt_h_Edit.ReceiptOriginal=this._ReceiptOriginal,this._ReceiptSharedService.ReceiptUpdate(this._Receipt_h_Edit).subscribe(function(t){e.DuringSaveDisable=!1,e.toastr.success(e.SaveMsg),e._router.navigate(["/page/inventorytransiction/issuerequest/"+e.ReceiptID]).then(function(){window.location.reload()})}))}},{key:"ChangePropFinish",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.DuringSaveDisable=!0,this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.timeout=null,"EntryCode"==t?e.CheckEntryCode():"EntryDate"==t&&e.ChangeEntryDate()},1e3*n)}},{key:"CheckEntryCode",value:function(){var e=this;this._ReceiptSharedService.CheckEntryNo(this._Receipt.id,this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.entry_no,this._Receipt.branch_id).subscribe(function(t){e.DuringSaveDisable=!1,e.cd.markForCheck(),null!=t&&Me().fire({title:e.swalTitleEntry,text:e.swalTextEntry,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:e.swalConfirmButtonEntry,cancelButtonText:e.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.value?e._router.navigate(["/page/inventorytransiction/issuerequest/"+t.id]).then(function(){}):(e._Receipt.entry_no=e.entry_no,e.cd.markForCheck())})})}},{key:"GetReceiptEntryCode",value:function(){var e=this;this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(function(t){e._Receipt.entry_no=0==t.length?1:t[0].entry_no+1,e.entry_no=e._Receipt.entry_no,e.cd.markForCheck()})}},{key:"changesalesprice",value:function(e){var t=this,n=JSON.parse(localStorage.getItem("IssuePricePolicy "));null!=n&&null!=n&&localStorage.removeItem("IssuePricePolicy "),this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id||null!=this._Receipt.vendor_id?Me().fire({title:this.warning,text:this.WarningInfoLost,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(e){e.value?(t._Receipt.details=new Array,t._Receipt.itemscomponent=new Array,t._Receipt.linkedreceipts=new Array,t.ItemUnitsList=[],t.ItemComponentUnitsList=[],t.GetDefaultStoreCostCenterByBranch(!0)):t._Receipt.customersalesprice=t.originalSalesPrice,localStorage.setItem("IssuePricePolicy ",JSON.stringify({IssuePricePolicy:t._Receipt.customersalesprice}))}):(this.originalSalesPrice=this._Receipt.customersalesprice,localStorage.setItem("IssuePricePolicy ",JSON.stringify({IssuePricePolicy:this._Receipt.customersalesprice})))}},{key:"GetBranchList",value:function(){var e=this;this._ReceiptSharedService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(function(t){e.BranchList=t,e.cd.markForCheck()})}},{key:"changeBranch",value:function(e){var t=this;if(this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id||null!=this._Receipt.vendor_id)Me().fire({title:this.warning,text:this.WarningInfoLost,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){if(n.value){t._Receipt.details=new Array,t._Receipt.itemscomponent=new Array,t._Receipt.linkedreceipts=new Array,t.ItemUnitsList=[],t.ItemComponentUnitsList=[],t._Receipt.branch_id="null"==e.target.value?null:e.target.value;var i=JSON.parse(localStorage.getItem("Branch"));null!=i&&null!=i&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:t._Receipt.branch_id})),null!=t._Receipt.branch_id?(t.GetReceiptEntryCode(),t.GetDefaultStoreCostCenterByBranch(!0)):t._Receipt.entry_no=null}else{var r=JSON.parse(localStorage.getItem("Branch"));null!=r&&null!=r&&(t._Receipt.branch_id="null"==r.branchId||0==r.branchId?null:r.branchId)}});else{this._Receipt.branch_id="null"==e.target.value?null:e.target.value;var n=JSON.parse(localStorage.getItem("Branch"));null!=n&&null!=n&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._Receipt.branch_id})),null!=this._Receipt.branch_id?(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch()):this._Receipt.entry_no=null}}},{key:"GetDefaultStoreCostCenterByBranch",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];1==i&&(this._Receipt.vendor_id=null,this._Receipt.cashcustomerid=null,this._Receipt.cashcustomer_vendor_code=null,this._Receipt.cashcustomer_vendor_name=null,this._Receipt.costcenterid=null,this._Receipt.costcenterfieldname=null),1==n&&this.Calculate_Total_Tax_Net(),this._ReceiptSharedService.DefaultStoreCostCenterByBranch(this._Receipt.branch_id).subscribe(function(n){if(e.StoreCostCenterSetting=n.length>0?n[0]:{storeid:null,storecode:null,costcenterid:null,costcentername:null,costcentername_ar:null},null!=e.StoreCostCenterSetting.storeid){if(0==e._Receipt.details.length){e._CashSalesDetailsReceipt=new S.hm,e._CashSalesDetailsReceipt.transaction_move=e.Transaction_move;var r=Math.max.apply(Math,t(e._Receipt.details.map(function(e){return e.rowno})).concat([0]));e._CashSalesDetailsReceipt.rowno=r+1,e._Receipt.details.push(e._CashSalesDetailsReceipt),e._Receipt.details[0].store_id=e.StoreCostCenterSetting.storeid,e._Receipt.details[0].storecode={code:e.StoreCostCenterSetting.storecode}}1==i&&e._Receipt.details.length>0&&(e._Receipt.details.forEach(function(t){t.store_id=e.StoreCostCenterSetting.storeid,t.storecode={code:e.StoreCostCenterSetting.storecode}}),e._Receipt.itemscomponent.forEach(function(t){t.store_id=e.StoreCostCenterSetting.storeid,t.storecode={code:e.StoreCostCenterSetting.storecode}}),e.CheckBalanceForItemInStore(0,!0))}null!=e.StoreCostCenterSetting.costcenterid&&(e._Receipt.costcenterid=e.StoreCostCenterSetting.costcenterid,e._Receipt.costcenterfieldname={costcenterfieldname:"ar"==e.lang?e.StoreCostCenterSetting.costcentername_ar:e.StoreCostCenterSetting.costcentername}),e.cd.markForCheck()})}},{key:"GetCurrentUserSetting",value:function(){var e=this;this._ReceiptSharedService.GetCurrentUserSetting().subscribe(function(t){e.CurrentUserSetting=t,e.SetCustomerSalesPriceList()})}},{key:"SetCustomerSalesPriceList",value:function(){var e=this.CurrentUserSetting.issuepricepolicy;if(null==e||0==e){this.CustomerSalesPriceList=[{id:0,text:"Customer Price",text_ar:"\u0633\u0639\u0631 \u0627\u0644\u0639\u0645\u064a\u0644"},{id:1,text:"Price 1",text_ar:"\u0633\u0639\u0631 1"},{id:2,text:"Price 2",text_ar:"\u0633\u0639\u0631 2"},{id:3,text:"Price 3",text_ar:"\u0633\u0639\u0631 3"},{id:4,text:"Price 4",text_ar:"\u0633\u0639\u0631 4"},{id:5,text:"Cost Price",text_ar:"\u0633\u0639\u0631 \u0627\u0644\u062a\u0643\u0644\u0641\u0629"}];var t=JSON.parse(localStorage.getItem("IssuePricePolicy "));this._Receipt.customersalesprice=null!=t&&null!=t?parseInt(t.IssuePricePolicy):this.CustomerSalesPriceList[6].id}else 1==e?this.CustomerSalesPriceList=[{id:0,text:"Customer Price",text_ar:"\u0633\u0639\u0631 \u0627\u0644\u0639\u0645\u064a\u0644"}]:2==e?this.CustomerSalesPriceList=[{id:1,text:"Price 1",text_ar:"\u0633\u0639\u0631 1"}]:3==e?this.CustomerSalesPriceList=[{id:2,text:"Price 2",text_ar:"\u0633\u0639\u0631 2"}]:4==e?this.CustomerSalesPriceList=[{id:3,text:"Price 3",text_ar:"\u0633\u0639\u0631 3"}]:5==e?this.CustomerSalesPriceList=[{id:4,text:"Price 4",text_ar:"\u0633\u0639\u0631 4"}]:6==e&&(this.CustomerSalesPriceList=[{id:5,text:"Cost Price",text_ar:"\u0633\u0639\u0631 \u0627\u0644\u062a\u0643\u0644\u0641\u0629"}]),this._Receipt.customersalesprice=this.CustomerSalesPriceList[0].id;this.originalSalesPrice=this._Receipt.customersalesprice}},{key:"GetSettingForActivateBatchesOrNot",value:function(){var e=this;this._ReceiptSharedService.GetSettingForActivateBatchesOrNot(this.subsidiaryID).subscribe(function(t){e.SettingForActivateBatchesOrNot=t})}},{key:"GetCashCustomerSettings",value:function(){var e=this;this._ReceiptSharedService.GetCashCustomerSettings(this.subsidiaryID).subscribe(function(t){null!=t||null!=t?(e.CashCustomerSetting=t,e.CashCustomerSetting.allowdecimalpack=1==e.CashCustomerSetting.allowdecimalpack?".01":"1"):e.CashCustomerSetting={allowdecimalpack:"1",enablecashcustomer:!1,salesreturneffect:"1",allowpack:!1,dispensingpolicy:1},e.cd.markForCheck()})}},{key:"GetAllInventroySettingsBySubSidary",value:function(){var e=this;this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID).subscribe(function(t){e.InventorySetting=t,e.cd.markForCheck()})}},{key:"GetSubsaidarySetting",value:function(){var e=this;this._ReceiptSharedService.GetSubsaidarySetting(this.subsidiaryID).subscribe(function(t){null!=t&&(e.subsaidarySetting=t[0],e.cd.markForCheck())})}},{key:"GetCurrencyList",value:function(){var e=this;this._VoucherService.GetSubsidaryCurrencyList(this.subsidiaryID).subscribe(function(t){var n;t.length>0&&(e.CurrencyList=t,e._BaseCurrency=e.CurrencyList.find(function(e){return 1==e.basecurrency}),e._CurrencySelected=e._BaseCurrency,e._Currencyprecision=null!==(n=e._BaseCurrency.currencyprecision)&&void 0!==n?n:3,e._Receipt.currency_id=e._CurrencySelected.id,e._Receipt.currency_rate=Number(1..toFixed(9)),e.cd.markForCheck())})}},{key:"changeCurrency",value:function(e){var t,n=this;(console.log(e.target.value),this._CurrencySelected=this.CurrencyList.find(function(t){return t.id==e.target.value}),null!=this._CurrencySelected)?(t=""!=this._Receipt.entry_time&&null!=this._Receipt.entry_time&&null!=this._Receipt.entry_time?this._Receipt.entry_date+" "+this._Receipt.entry_time:this._Receipt.entry_date+" 23:59",this._VoucherService.GetSubsidaryCurrenciesRate(this.subsidiaryID,this._CurrencySelected.id,t,0).subscribe(function(e){n._Receipt.currency_rate=e&&e.length>0?e[0].rate.toFixed(9):Number(1..toFixed(9)),n.ForeignCurrencyShow=1!=n._CurrencySelected.basecurrency,n.Calculate_Total_Tax_Net(),n.cd.markForCheck()})):(this._CurrencySelected=null,this._Currencyprecision=3,this._Receipt.currency_rate=null,this.cd.markForCheck())}},{key:"ChangeEntryDate",value:function(){if(null!=this._Receipt.entry_date&&""!=this._Receipt.entry_date&&null!=this._Receipt.entry_date){this.CheckValidDateBySubsidaryID();for(var e=0;e<this._Receipt.details.length;e++)1==this._Receipt.details[e].haswarrenty&&null!=this._Receipt.details[e].warrantydate&&null!=this._Receipt.details[e].warrantydate&&Date.parse(this._Receipt.details[e].warrantydate.toString())<Date.parse(this._Receipt.entry_date.toString())&&(this._Receipt.details[e].warrantydate=null)}}},{key:"CheckValidDateBySubsidaryID",value:function(){var e=this;this._ReceiptSharedService.ValidDateBySubsidaryID(this._Receipt.entry_date,this.subsidiaryID).subscribe(function(t){if(e.DuringSaveDisable=!1,e.cd.markForCheck(),null!=t||null!=t){if(null!=t||null!=t){var n=Date.parse(t.subsidarystart.toString()),i=Date.parse(e._Receipt.entry_date.toString());0==t.openperiod?(e.ValidPeriod=!1,e.ShowPopUpFinancialPeriod("close")):1==t.openperiod&&n<i?e.ValidPeriod=!0:(e.ValidPeriod=!1,e.ShowPopUpFinancialPeriod())}}else e.ValidPeriod=!1,e.ShowPopUpFinancialPeriod()})}},{key:"ShowPopUpFinancialPeriod",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="close"==e?this.FinancialPeriodCloseMsg:this.FinancialPeriodMsg;Me().fire({title:this.warning,text:t,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(function(e){})}},{key:"onFocusInCustomerAccounts",value:function(e){this.GetCustomerAccountsList("")}},{key:"CustomerAccountsChangeSearch",value:function(e){this.GetCustomerAccountsList(e.query.trim())}},{key:"CustomerAccountsSelectEvent",value:function(e){var t=this;1==e.pricelistitemsonly&&(this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id)?Me().fire({title:this.warning,text:this.CustomerPricelistMsg,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.value?(t._Receipt.details=new Array,t._Receipt.itemscomponent=new Array,t._Receipt.linkedreceipts=new Array,t.ItemUnitsList=[],t.ItemComponentUnitsList=[],t._Receipt.vendor_id=e.accountid,t._Receipt.cashcustomer_vendor_name="ar"!=t.lang?e.name:e.name_ar,t._Receipt.vendor_balance=e.balance,t.PriceListItemsOnly=e.pricelistitemsonly,null!=e.salesmanid&&0!=e.salesmanid&&""!=e.salesmanid&&(t._Receipt.empoyee_id=e.salesmanid),null!=e.cutomerdiscount&&null!=e.cutomerdiscount&&(t._Receipt.discount_percent=e.cutomerdiscount),null!=e.internalreferencenum&&""!=e.internalreferencenum&&null!=e.cutomerdiscount&&(t._Receipt.reference_no=e.internalreferencenum),t.GetCustomerCostCenter()):t.GetDefaultStoreCostCenterByBranch(!1)}):(this._Receipt.vendor_id=e.accountid,this._Receipt.cashcustomer_vendor_name="ar"!=this.lang?e.name:e.name_ar,this._Receipt.vendor_balance=e.balance,this.PriceListItemsOnly=e.pricelistitemsonly,null!=e.salesmanid&&0!=e.salesmanid&&""!=e.salesmanid&&(this._Receipt.empoyee_id=e.salesmanid),null!=e.cutomerdiscount&&null!=e.cutomerdiscount&&(this._Receipt.discount_percent=e.cutomerdiscount),null!=e.internalreferencenum&&""!=e.internalreferencenum&&null!=e.cutomerdiscount&&(this._Receipt.reference_no=e.internalreferencenum),this.GetCustomerCostCenter())}},{key:"GetCustomerAccountsList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._CustomerService.CustomerAccountsList(this.subsidiaryID,t).subscribe(function(t){e.CustomerAccountsList=[],e.CustomerAccountsList=t,e.cd.markForCheck()})}},{key:"GetCustomerCostCenter",value:function(){var e=this;this._ReceiptSharedService.GetCustomerCostCenter(this.subsidiaryID,this._Receipt.vendor_id).subscribe(function(t){e.CustomerCostCenterList=[],e.CustomerCostCenterList=t,e.CustomerCostCenterList.length>0?(e._Receipt.costcenterid=e.CustomerCostCenterList[0].id,e._Receipt.costcenterfieldname="ar"==e.lang?{costcenterfieldname:e.CustomerCostCenterList[0].sugar}:{costcenterfieldname:e.CustomerCostCenterList[0].sug}):e.GetDefaultStoreCostCenterByBranch(!0,!1),e.cd.markForCheck()})}},{key:"onClearCustomer",value:function(e){this._Receipt.cashcustomer_vendor_name=null,this._Receipt.vendor_balance=null,this._Receipt.vendor_id=null}},{key:"onFocusInStore",value:function(e,t){t==this._Receipt.details.length-1&&this.AddItems(),this.GetStoreList("")}},{key:"StoreChangeSearch",value:function(e,t){this.GetStoreList(e.query.trim())}},{key:"StoreSelectEvent",value:function(e,t){this._Receipt.details[t].store_id=e.id,this._Receipt.details.forEach(function(t){t.store_id=e.id,t.storecode=e}),this._Receipt.itemscomponent.forEach(function(t){t.store_id=e.id,t.storecode=e.code}),this.CheckBalanceForItemInStore(0,!0)}},{key:"GetStoreList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetStoreList(this.subsidiaryID,t).subscribe(function(t){e.StoreList=[],e.StoreList=t,e.cd.markForCheck()})}},{key:"onClearItems",value:function(e){var n=this._Receipt.details[e];if(3==n.item_type&&this._Receipt.itemscomponent.length>0&&this._Receipt.itemscomponent.filter(function(e){return e.finishedproductid==n.item_id}).length>0)if(null!=n.id)for(var i=0;i<this._Receipt.itemscomponent.length;i++)this._Receipt.itemscomponent[i].finishedproductid==n.item_id&&this._Receipt.itemscomponent[i].finishedreceipt_did==n.id&&(this._Receipt.itemscomponent.splice(i,1),i--);else null==n.id&&(this._Receipt.itemscomponent=this._Receipt.itemscomponent.filter(function(e){return e.parentrowno!=n.rowno}));if(null!=this._Receipt.details[e].id){var r=Math.max.apply(Math,t(this._Receipt.details.map(function(e){return e.rowno})).concat([0]));this._Receipt.details[e].rowno=r+1}this._Receipt.details[e].id=null,this._Receipt.details[e].finishedproductid=null,this._Receipt.details[e].finishedreceipt_did=null,this._Receipt.details[e].item_id=null,this._Receipt.details[e].itemname=null,this._Receipt.details[e].itemname_ar=null}},{key:"onFocusInItems",value:function(e,t){this.GetItemsList("")}},{key:"ItemsChangeSearch",value:function(e,t){var n=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){n.timeout=null,n.GetItemsList(e.query.trim())},300)}},{key:"ItemsSelectEvent",value:function(e,t){null!=this._Receipt.details[t].item_id&&this.onClearItems(t),0==e.stopinventorytransactions?(t==this._Receipt.details.length-1&&(this.InventorySetting?this.InventorySetting[0].permissiontorepeatiteminvoucher&&null!=this.InventorySetting[0].permissiontorepeatiteminvoucher&&null!=this.InventorySetting[0].permissiontorepeatiteminvoucher?this.AddItems():this._Receipt.details.some(function(t){return t.item_id==e.id})?this.duplicateItemSwalPopUp(t):this.AddItems():this.AddItems()),this._Receipt.details[t].item_id=e.id,this._Receipt.details[t].itemname=e.name,this._Receipt.details[t].itemname_ar=e.name_ar,this.GetItemDataDetailsLists(e,t)):(this._Receipt.details[t]=new S.hm,0==this._Receipt.id?(this._Receipt.details[t].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[t].storecode={code:this.StoreCostCenterSetting.storecode}):(this._Receipt.details[t].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.details[t].storecode=this._ReceiptOriginal.details[0].storecode),1!=this.CashCustomerSetting.dispensingpolicy||2!=this._Receipt.details[t].isrequireserial&&3!=this._Receipt.details[t].isrequireserial||this.OnSerialItems(t,this.serialModel),this.cd.markForCheck(),this.toastr.error(this.StopInventoryErrorMsg))}},{key:"duplicateItemSwalPopUp",value:function(e){var t=this;Me().fire({title:this.warning,text:this.cantNotDuplicateItem,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(function(n){t.onClearItems(e),t._Receipt.details[e].itemcode=null,t.cd.markForCheck()})}},{key:"GetItemsList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";0==this.PriceListItemsOnly?this._ReceiptSharedService.GetItemsDataList(this.subsidiaryID,t).subscribe(function(t){e.ItemsList=[],e.ItemsList=t,e.cd.markForCheck()}):1==this.PriceListItemsOnly&&this._ReceiptSharedService.GetItemsDataFromCustomerPriceList(this.subsidiaryID,this._Receipt.vendor_id,t).subscribe(function(t){e.ItemsList=[],e.ItemsList=t,e.cd.markForCheck()})}},{key:"GetItemDataDetailsLists",value:function(e,t){var n=this;this._Receipt.details[t].id=null,this._Receipt.details[t].finishedproductid=null,this._Receipt.details[t].finishedreceipt_did=null,this._Receipt.details[t].conv=1,this._Receipt.details[t].final_conv=1,this._Receipt.details[t].qty=1,this._Receipt.details[t].price=0,this._Receipt.details[t].discount_percent=0,this._Receipt.details[t].discount_value=0,this._Receipt.details[t].total=0,this._Receipt.details[t].notes="",this._Receipt.details[t].unit_id=null,this._ReceiptSharedService.GetItemDataDetailsLists(this.subsidiaryID,e.id).subscribe(function(i){0==i.itemunits.length?(n._Receipt.details[t]=new S.hm,n._Receipt.details[t].isrequireserial=i.item.isrequireserial,n._Receipt.details[t].allowtax=i.item.allowtax,0==n._Receipt.id?(n._Receipt.details[t].store_id=n.StoreCostCenterSetting.storeid,n._Receipt.details[t].storecode={code:n.StoreCostCenterSetting.storecode}):(n._Receipt.details[t].store_id=n._ReceiptOriginal.details[0].store_id,n._Receipt.details[t].storecode=n._ReceiptOriginal.details[0].storecode),n.toastr.error(n.NoUnits)):3==e.item_type&&0==i.itemcomponents.length?(n._Receipt.details[t]=new S.hm,n._Receipt.details[t].isrequireserial=i.item.isrequireserial,n._Receipt.details[t].allowtax=i.item.allowtax,0==n._Receipt.id?(n._Receipt.details[t].store_id=n.StoreCostCenterSetting.storeid,n._Receipt.details[t].storecode={code:n.StoreCostCenterSetting.storecode}):(n._Receipt.details[t].store_id=n._ReceiptOriginal.details[0].store_id,n._Receipt.details[t].storecode=n._ReceiptOriginal.details[0].storecode),n.toastr.error(n.NOComponents)):(n._Receipt.details[t].isrequireserial=i.item.isrequireserial,n._Receipt.details[t].allowtax=i.item.allowtax,n._Receipt.details[t].notes=i.item.notes,n._Receipt.details[t].item_type=i.item.item_type,n._Receipt.details[t].qty=1,n._Receipt.details[t].haswarrenty=i.item.haswarrenty,n._Receipt.details[t].warrantydate=i.item.haswarrenty?n.getwarrantydateDate():null,n.ItemUnitsList.length>0?0==n.ItemUnitsList.filter(function(t){return t.item_id==e.id}).length&&(n.ItemUnitsList=n.ItemUnitsList.concat(i.itemunits)):n.ItemUnitsList=n.ItemUnitsList.concat(i.itemunits),n._Receipt.details[t].unit_id=e.inventory_unitid,i.componentsunits.length>0&&(n.ItemComponentUnitsList=n.ItemComponentUnitsList.concat(i.componentsunits)),i.itemcomponents.length>0&&i.itemcomponents.forEach(function(e){var i=new S.hm;i.item_id=e.itemcomponentid,i.finishedproductid=e.item_id,i.itemname=e.itemname,i.itemname_ar=e.itemname_ar,i.itemcode=e.itemcode,i.unit_id=e.itemcomponentunitid,i.qty=e.itemcomponentqty,i.basicqtycomponent=e.itemcomponentqty,i.conv=e.itemcomponentconv,i.itemcode=e.itemcode,i.price=0,i.total=i.price*i.qty,i.store_id=n._Receipt.details[t].store_id,i.transaction_move=n.Transaction_move,i.item_type=e.item_type,i.storecode=null!=n._Receipt.details[t].storecode?n._Receipt.details[t].storecode.code:null,i.parentrowno=n._Receipt.details[t].rowno,n._Receipt.itemscomponent.push(i)}),n.ChangeItemUnits(e.inventory_unitid,t)),n.CheckShowDiscountCols(),n.cd.markForCheck()})}},{key:"ChangeItemUnits",value:function(e,t){var n=this;e.toString().includes(":")&&(e=e.split(":")[1].trim());var i=this._Receipt.details[t].item_id,r=this.ItemUnitsList.filter(function(t){return t.item_id==i&&t.id==e});5==this._Receipt.customersalesprice?null!=this._Receipt.details[t].item_id&&null!=this._Receipt.details[t].unit_id&&this._ReceiptSharedService.GetItemCostAtDateStore(this._Receipt.details[t].item_id,this._Receipt.details[t].unit_id,0,this._Receipt.entry_date+" "+this._Receipt.entry_time).subscribe(function(e){console.log(e),e.length>0?(n._Receipt.details[t].price=Number((e[0].avgcost||0).toFixed(n._Currencyprecision)),n._Receipt.details[t].conv=r[0].conv,n._Receipt.details[t].final_conv=r[0].finalconv,n.OnSelectedItem(n._Receipt.details[t],t),n.CalaculteValuesItemsRow(t)):(n._Receipt.details[t].price=Number((0).toFixed(n._Currencyprecision)),n._Receipt.details[t].conv=r[0].conv,n._Receipt.details[t].final_conv=r[0].finalconv,n.OnSelectedItem(n._Receipt.details[t],t),n.CalaculteValuesItemsRow(t)),n.CheckShowDiscountCols(),1!=n.CashCustomerSetting.dispensingpolicy||2!=n._Receipt.details[t].isrequireserial&&3!=n._Receipt.details[t].isrequireserial||n.OnSerialItems(t,n.serialModel)}):this._ReceiptSharedService.GetItemSalesPrice(this._Receipt.vendor_id,i,e,this._Receipt.customersalesprice).subscribe(function(e){e.customerprice.length>0&&(n._Receipt.details[t].price=e.customerprice[0].saleprice,5==e.customerdiscount.customersalesprice?(n._Receipt.details[t].conv=e.customerprice[0].itemconv,n._Receipt.details[t].discount_value=e.customerprice[0].discountvalue,n._Receipt.details[t].discount_percent=e.customerprice[0].discountpercentage,n._Receipt.details[t].unit_id=e.customerprice[0].itemunitid):(n._Receipt.details[t].conv=r[0].conv,n._Receipt.details[t].final_conv=r[0].finalconv),n.OnSelectedItem(n._Receipt.details[t],t),n.CalaculteValuesItemsRow(t)),n.CheckShowDiscountCols(),1!=n.CashCustomerSetting.dispensingpolicy||2!=n._Receipt.details[t].isrequireserial&&3!=n._Receipt.details[t].isrequireserial||n.OnSerialItems(t,n.serialModel)}),this.cd.markForCheck()}},{key:"ChangePackItem",value:function(e){var t=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.timeout=null;var n=0,i=0,r=t.ItemUnitsList.filter(function(n){return n.item_id==t._Receipt.details[e].item_id&&n.id==t._Receipt.details[e].unit_id});i=r[0].conv,5==t._Receipt.customersalesprice?t._ReceiptSharedService.GetItemCostAtDateStore(t._Receipt.details[e].item_id,t._Receipt.details[e].unit_id,0,t._Receipt.entry_date+" "+t._Receipt.entry_time).subscribe(function(r){console.log(r),r.length>0?(n=Number((r[0].avgcost||0).toFixed(t._Currencyprecision)),t._Receipt.details[e].price=n*t._Receipt.details[e].conv/i,t.OnSelectedItem(t._Receipt.details[e],e),t.CalaculteValuesItemsRow(e)):(n=0,t._Receipt.details[e].price=n*t._Receipt.details[e].conv/i,t.OnSelectedItem(t._Receipt.details[e],e),t.CalaculteValuesItemsRow(e)),1!=t.CashCustomerSetting.dispensingpolicy||2!=t._Receipt.details[e].isrequireserial&&3!=t._Receipt.details[e].isrequireserial||t.OnSerialItems(e,t.serialModel)}):t._ReceiptSharedService.GetItemSalesPrice(t._Receipt.vendor_id,t._Receipt.details[e].item_id,t._Receipt.details[e].unit_id,t._Receipt.customersalesprice).subscribe(function(r){r.customerprice.length>0&&(n=r.customerprice[0].saleprice,5==r.customerdiscount.customersalesprice&&(i=r.customerprice[0].itemconv),t._Receipt.details[e].price=n*t._Receipt.details[e].conv/i,t.OnSelectedItem(t._Receipt.details[e],e),t.CalaculteValuesItemsRow(e),1!=t.CashCustomerSetting.dispensingpolicy||2!=t._Receipt.details[e].isrequireserial&&3!=t._Receipt.details[e].isrequireserial||t.OnSerialItems(e,t.serialModel))}),t.cd.markForCheck()},1e3)}},{key:"ChangeQty",value:function(e){var t=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){if(t.timeout=null,3==t._Receipt.details[e].item_type)if(t.ItemsComponentList=new Array,null!=t._Receipt.details[e].id)!function(){for(var n=t._Receipt.details[e],i=function(e){if(t._Receipt.itemscomponent[e].finishedproductid==n.item_id&&t._Receipt.itemscomponent[e].finishedreceipt_did==n.id){var i=t._ReceiptOriginal.details.find(function(e){return e.id==n.id}).qty,r=t._ReceiptOriginal.itemscomponent.find(function(i){return i.finishedreceipt_did==n.id&&i.id==t._Receipt.itemscomponent[e].id}).qty;t._Receipt.itemscomponent[e].basicqtycomponent=r/i,t._Receipt.itemscomponent[e].qty=t._Receipt.itemscomponent[e].basicqtycomponent*n.qty,t.ItemsComponentList.push(t._Receipt.itemscomponent[e])}},r=0;r<t._Receipt.itemscomponent.length;r++)i(r)}();else if(null==t._Receipt.details[e].id)for(var n=t._Receipt.details[e],i=0;i<t._Receipt.itemscomponent.length;i++)t._Receipt.itemscomponent[i].finishedproductid==n.item_id&&null==t._Receipt.itemscomponent[i].id&&t._Receipt.itemscomponent[i].parentrowno==n.rowno&&(t._Receipt.itemscomponent[i].qty=t._Receipt.itemscomponent[i].basicqtycomponent*n.qty,t.ItemsComponentList.push(t._Receipt.itemscomponent[i]));t.StockBalances(e),t.CheckBalanceForItemInStore(e),t.CalaculteValuesItemsRow(e),1!=t.CashCustomerSetting.dispensingpolicy||2!=t._Receipt.details[e].isrequireserial&&3!=t._Receipt.details[e].isrequireserial||t.OnSerialItems(e,t.serialModel)},1e3)}},{key:"OnSelectedItem",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.show_all_component=i,0==this.show_all_component)if(this.ItemsComponentList=new Array,this.SelectedItem=e,null!=e&&3==e.item_type){var r=e;if(null!=r.id)for(var a=0;a<this._Receipt.itemscomponent.length;a++)this._Receipt.itemscomponent[a].finishedproductid==r.item_id&&this._Receipt.itemscomponent[a].finishedreceipt_did==r.id&&this.ItemsComponentList.push(this._Receipt.itemscomponent[a]);else null==r.id&&(this.ItemsComponentList=this._Receipt.itemscomponent.filter(function(e){return e.finishedproductid==r.item_id&&null==e.id&&e.parentrowno==r.rowno}))}else this.ItemsComponentList=[];else this.show_all_component=!0,this.cd.markForCheck();this.itemqtyview=!1,null!=t&&this.StockBalances(t),""==n&&null!=t&&this.CheckBalanceForItemInStore(t)}},{key:"AddItems",value:function(){this._CashSalesDetailsReceipt=new S.hm,this._Receipt.details.length>0?(this._CashSalesDetailsReceipt.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,this._CashSalesDetailsReceipt.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode):0==this._Receipt.id?(this._CashSalesDetailsReceipt.store_id=this.StoreCostCenterSetting.storeid,this._CashSalesDetailsReceipt.storecode={code:this.StoreCostCenterSetting.storecode}):(this._CashSalesDetailsReceipt.store_id=this._ReceiptOriginal.details[0].store_id,this._CashSalesDetailsReceipt.storecode=this._ReceiptOriginal.details[0].storecode),this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move;var e=Math.max.apply(Math,t(this._Receipt.details.map(function(e){return e.rowno})).concat([0]));this._CashSalesDetailsReceipt.rowno=e+1,this._Receipt.details.push(this._CashSalesDetailsReceipt),this.cd.markForCheck()}},{key:"DeleteItems",value:function(e){var t=this._Receipt.details[e];if(this._Receipt.itemscomponent.length>0&&this._Receipt.itemscomponent.filter(function(e){return e.finishedproductid==t.item_id}).length>0)if(null!=t.id)for(var n=0;n<this._Receipt.itemscomponent.length;n++)this._Receipt.itemscomponent[n].finishedproductid==t.item_id&&this._Receipt.itemscomponent[n].finishedreceipt_did==t.id&&(this._Receipt.itemscomponent.splice(n,1),n--);else null==t.id&&(this._Receipt.itemscomponent=this._Receipt.itemscomponent.filter(function(e){return e.parentrowno!=t.rowno}));1==this._Receipt.details.filter(function(e){return e.item_id==t.item_id}).length&&(this.ItemUnitsList=this.ItemUnitsList.filter(function(e){return e.item_id!=t.item_id})),this._Receipt.details.splice(e,1),0==this._Receipt.details.length&&(this._Receipt.discount_percent=0,this._Receipt.discount_foreignpercent=0,this._Receipt.deliveryfees=0,this._Receipt.deliveryfeesforeign=0,this._Receipt.discount_value=0,this._Receipt.discount_foreignvalue=0,this._Receipt.value=0,this._Receipt.valueforeign=0,this._Receipt.surchargevalueforeign=0,this._Receipt.surchargevalue=0),this.Calculate_Total_Tax_Net(),this.CheckShowDiscountCols(),this.OnSelectedItem(null),this.cd.markForCheck()}},{key:"OnEditItemsNotes",value:function(e,t){this.DescriptionItem=new S.tH,this.DescriptionItem.index=e,this.DescriptionItem.detailshtml=this._Receipt.details[e].detailshtml,this.DescriptionItem.customitemname=this._Receipt.details[e].customitemname,this.OpenModal(t)}},{key:"onContentChanged",value:function(e){this._Receipt.details[this.DescriptionItem.index].notes=e.text}},{key:"SaveNotes",value:function(){this._Receipt.details[this.DescriptionItem.index].customitemname=this.DescriptionItem.customitemname,this._Receipt.details[this.DescriptionItem.index].detailshtml=this.DescriptionItem.detailshtml,this._Receipt.details[this.DescriptionItem.index].salesmanid=this.DescriptionItem.salesmanid,this.CloseModal()}},{key:"CheckShowDiscountCols",value:function(){var e=this._Receipt.details.filter(function(e){return e.discount_percent>0||e.discount_value>0});this.ShowDiscountCols=e.length>0,this.cd.markForCheck()}},{key:"CalaculteValuesItemsRow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"percent",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this._Receipt.details[e].qty=this._Receipt.details[e].qty||0,this._Receipt.details[e].price=this._Receipt.details[e].price||0,this._Receipt.details[e].discount_value=this._Receipt.details[e].discount_value||0,this._Receipt.details[e].discount_percent=this._Receipt.details[e].discount_percent||0;var i=Number((this._Receipt.details[e].price*this._Receipt.details[e].qty).toFixed(this._Currencyprecision));"percent"==t&&(this._Receipt.details[e].discount_value=Number(((i*this._Receipt.details[e].discount_percent||0)/100).toFixed(this._Currencyprecision))),"value"==t&&(this._Receipt.details[e].discount_percent=100*(this._Receipt.details[e].discount_value/i%(1/0)||0)),this._Receipt.details[e].total=Number((i-this._Receipt.details[e].discount_value).toFixed(this._Currencyprecision)),1==n&&this.Calculate_Total_Tax_Net(),this.cd.markForCheck()}},{key:"ReCalaculteValuesChangeItemsRow",value:function(e){this._Receipt.details[e].qty=this._Receipt.details[e].qty||1,this._Receipt.details[e].price=this._Receipt.details[e].price||0,this._Receipt.details[e].discount_value=this._Receipt.details[e].discount_value||0,this._Receipt.details[e].discount_percent=this._Receipt.details[e].discount_percent||0,this._Receipt.details[e].total=Number((this._Receipt.details[e].total||0).toFixed(this._Currencyprecision)),0==this._Receipt.details[e].discount_value?this._Receipt.details[e].price=Number((this._Receipt.details[e].total/this._Receipt.details[e].qty%(1/0)||0).toFixed(this._Currencyprecision)):0!=this._Receipt.details[e].discount_value&&(this._Receipt.details[e].price=Number(((this._Receipt.details[e].total+this._Receipt.details[e].discount_value)/this._Receipt.details[e].qty%(1/0)||0).toFixed(this._Currencyprecision)),this._Receipt.details[e].discount_percent=100*(this._Receipt.details[e].discount_value/(this._Receipt.details[e].price*this._Receipt.details[e].qty)%(1/0)||0)),this.Calculate_Total_Tax_Net(),this.cd.markForCheck()}},{key:"GetReceiptCodeList",value:function(){var e=this;this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID).subscribe(function(t){e.ReceiptCodeList=t;var n=e.ReceiptCodeList.find(function(t){return t.code==e.BasicCodeReceipt});e.Transaction_move=n.items,e.cd.markForCheck()})}},{key:"AddLinkedReceipt",value:function(){this._LinkedReceipt=new S.Cb,this._LinkedReceipt.code=this.BasicCodeReceipt,this._LinkedReceipt.branch_id=this._Receipt.branch_id,this._Receipt.linkedreceipts.push(this._LinkedReceipt),this.cd.markForCheck()}},{key:"GetLinkedReceipt",value:function(e){var t=this,n=this._Receipt.linkedreceipts[e];this.ItemLinkedReceipt=[],this.ItemComponentsLinkedReceipt=[],null!=n.branch_id&&null!=n.code&&null!=n.entry_no&&n.entry_no>0&&0==n.fire&&(this._Receipt.linkedreceipts[e].fire=1,this.spinner.show(),this._ReceiptSharedService.GetReceiptForLinkedReceipt(n.branch_id,n.code,n.entry_no).subscribe(function(n){if(t.spinner.hide(),null==n.receipt.id)t._Receipt.linkedreceipts[e].fire=0,t.toastr.error(t.ReceiptNotFound);else if(n.items.length>0)if(1==t._Receipt.linkedreceipts.length&&(t._Receipt.subsidiaryid=n.receipt.subsidiaryid,t._Receipt.customersalesprice=null!=n.receipt.customersalesprice?n.receipt.customersalesprice:t._Receipt.customersalesprice,t._Receipt.payment_type=null!=n.receipt.payment_type?n.receipt.payment_type:t._Receipt.payment_type,t._Receipt.vendor_id=null!=n.receipt.vendor_id?n.receipt.vendor_id:t._Receipt.vendor_id,t._Receipt.cashcustomerid=null!=n.receipt.cashcustomerid?n.receipt.cashcustomerid:t._Receipt.cashcustomerid,null!=t._Receipt.vendor_id&&(t._Receipt.cashcustomer_vendor_code={code:n.receipt.vendorcode},t._Receipt.cashcustomer_vendor_name="ar"==t.lang?n.receipt.vendornamear:n.receipt.vendorname,t._Receipt.vendor_balance=null!=n.receipt.vendor_balance?n.receipt.vendor_balance:t._Receipt.vendor_balance,t.PriceListItemsOnly=n.receipt.pricelistitemsonly),null!=t._Receipt.cashcustomerid&&(t._Receipt.cashcustomer_vendor_code={phonenumber:n.receipt.phonenumber},t._Receipt.cashcustomer_vendor_name="ar"==t.lang?n.receipt.cashcustomername_ar:n.receipt.cashcustomername,t.PriceListItemsOnly=!1),t._Receipt.currency_id=n.receipt.currency_id,t._Receipt.currency_rate=n.receipt.currency_rate,t._Receipt.empoyee_id=null!=n.receipt.empoyee_id?n.receipt.empoyee_id:t._Receipt.empoyee_id,t._Receipt.memo=n.receipt.memo,t._Receipt.reference_no=n.receipt.reference_no,t._CurrencySelected=t.CurrencyList.find(function(e){return e.id==t._Receipt.currency_id}),t.ForeignCurrencyShow=1!=t._CurrencySelected.basecurrency),0==t.PriceListItemsOnly||n.receipt.vendor_id==t._Receipt.vendor_id){t._Receipt.linkedreceipts[e].fire=1,t._Receipt.linkedreceipts[e].receiptid=n.receipt.id,t._Receipt.linkedreceipts[e].subsidiaryid=t.subsidiaryID,t._Receipt.linkedreceipts[e].parentreceiptid=t._Receipt.id;for(var i=0;i<t._Receipt.details.length;i++)null==t._Receipt.details[i].item_id&&(t._Receipt.details.splice(i,1),i--);n.itemunits.forEach(function(e){0==t.ItemUnitsList.filter(function(t){return t.item_id==e.item_id&&t.id==e.unit_id}).length&&t.ItemUnitsList.push(e)}),n.itemcomponents.length>0&&(t.ItemComponentsLinkedReceipt=n.itemcomponents,81==n.receipt.code&&(t.ItemComponentsLinkedReceipt=t.ItemComponentsLinkedReceipt.filter(function(e){return-1==e.transaction_move})),t.ItemComponentUnitsList=t.ItemComponentUnitsList.concat(n.componentsunits)),t.ItemLinkedReceipt=n.items,81==n.receipt.code&&(t.ItemLinkedReceipt=t.ItemLinkedReceipt.filter(function(e){return-1==e.transaction_move})),t.SetLinkReceiptItemRow(0,t.ItemLinkedReceipt[0])}else t._Receipt.linkedreceipts[e].fire=0,t.spinner.hide(),t.toastr.info(t.CustomerPricelistMsg);else t.spinner.hide(),t._Receipt.linkedreceipts[e].fire=0,t.toastr.error(t.Receiptnoitems),t._Receipt.linkedreceipts[e].entry_no=null,t.cd.markForCheck()}))}},{key:"SetLinkReceiptItemRow",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1?arguments[1]:void 0;this._CashSalesDetailsReceipt=new S.hm;var r=this._Receipt.details.findIndex(function(e){return e.item_id==i.item_id&&e.unit_id==i.unit_id&&e.conv==i.conv});if(-1==r){this._Receipt.details.length>0?(this._CashSalesDetailsReceipt.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,this._CashSalesDetailsReceipt.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode):(this._CashSalesDetailsReceipt.store_id=i.store_id,this._CashSalesDetailsReceipt.storecode={code:i.storecode}),this._CashSalesDetailsReceipt.item_id=i.item_id,this._CashSalesDetailsReceipt.itemcode={code:i.itemcode},this._CashSalesDetailsReceipt.itemname=i.itemname,this._CashSalesDetailsReceipt.itemname_ar=i.itemname_ar,this._CashSalesDetailsReceipt.unit_id=i.unit_id,this._CashSalesDetailsReceipt.conv=i.conv,this._CashSalesDetailsReceipt.qty=i.qty,this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move,this._CashSalesDetailsReceipt.isrequireserial=i.isrequireserial,this._CashSalesDetailsReceipt.item_type=i.item_type,this._CashSalesDetailsReceipt.notes=i.notes,this._CashSalesDetailsReceipt.haswarrenty=i.haswarrenty,this._CashSalesDetailsReceipt.warrantydate=i.warrantydate,this._CashSalesDetailsReceipt.detailshtml=i.detailshtml,this._CashSalesDetailsReceipt.customitemname=i.customitemname,this._CashSalesDetailsReceipt.salesmanid=i.salesmanid,this._CashSalesDetailsReceipt.price=0!=i.priceafterincrease&&null!=i.priceafterincrease?i.priceafterincrease:i.price,this._CashSalesDetailsReceipt.discount_percent=i.discount_percent,this._CashSalesDetailsReceipt.discount_value=i.discount_value,this._CashSalesDetailsReceipt.total=i.total;var a=Math.max.apply(Math,t(this._Receipt.details.map(function(e){return e.rowno})).concat([0]));this._CashSalesDetailsReceipt.rowno=a+1,3==i.item_type&&this.ItemComponentsLinkedReceipt.filter(function(e){return e.finishedproductid==i.item_id&&e.finishedreceipt_did==i.id}).forEach(function(t){var n=new S.hm;n.store_id=e._CashSalesDetailsReceipt.store_id,n.storecode=e._CashSalesDetailsReceipt.storecode.code,n.item_id=t.item_id,n.itemcode=t.itemcode,n.itemname=t.itemname,n.itemname_ar=t.itemname_ar,n.unit_id=t.unit_id,n.conv=t.conv,n.qty=t.qty,n.basicqtycomponent=t.qty/e._CashSalesDetailsReceipt.qty||0,n.price=t.price,n.discount_value=t.discount_value,n.discount_percent=t.discount_percent,n.total=t.total,n.transaction_move=e.Transaction_move,n.finishedproductid=t.finishedproductid,n.item_type=t.item_type,n.notes=t.notes,n.haswarrenty=t.haswarrenty,n.warrantydate=t.warrantydate,n.detailshtml=t.detailshtml,n.customitemname=t.customitemname,n.salesmanid=t.salesmanid,n.parentrowno=e._CashSalesDetailsReceipt.rowno,e._Receipt.itemscomponent.push(n)}),this.ItemUnitsList.filter(function(e){return e.item_id==i.item_id&&e.id==i.unit_id}),this._Receipt.details.push(this._CashSalesDetailsReceipt),this.CalaculteValuesItemsRow(this._Receipt.details.length-1),n+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(n+1,this.ItemLinkedReceipt[n+1]):this.SetLinkReceiptItemFinished(),this.CheckShowDiscountCols()}else{if(this._Receipt.details[r].qty=this._Receipt.details[r].qty+parseFloat(i.qty),3==i.item_type){var o=this.ItemComponentsLinkedReceipt.filter(function(e){return e.finishedproductid==i.item_id&&e.finishedreceipt_did==i.id});if(null!=this._Receipt.details[r].id)for(var c=this._Receipt.details[r],l=function(t){e._Receipt.itemscomponent[t].finishedproductid==c.item_id&&e._Receipt.itemscomponent[t].finishedreceipt_did==c.id&&(d=o.find(function(n){return n.item_id==e._Receipt.itemscomponent[t].item_id}),e._Receipt.itemscomponent[t].qty=e._Receipt.itemscomponent[t].qty+parseFloat(d.qty))},s=0;s<this._Receipt.itemscomponent.length;s++){var d;l(s)}else if(null==this._Receipt.details[r].id)for(var p=this._Receipt.details[r],u=function(t){e._Receipt.itemscomponent[t].finishedproductid==p.item_id&&null==e._Receipt.itemscomponent[t].id&&e._Receipt.itemscomponent[t].parentrowno==p.rowno&&(d=o.find(function(n){return n.item_id==e._Receipt.itemscomponent[t].item_id}),e._Receipt.itemscomponent[t].qty=e._Receipt.itemscomponent[t].qty+parseFloat(d.qty))},m=0;m<this._Receipt.itemscomponent.length;m++)u(m)}this.CalaculteValuesItemsRow(r),n+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(n+1,this.ItemLinkedReceipt[n+1]):this.SetLinkReceiptItemFinished(),this.CheckShowDiscountCols()}}},{key:"SetLinkReceiptItemFinished",value:function(){if(this.spinner.hide(),this.IxLRS+1<this.LinkedReceiptListSelected.length){this.IxLRS=this.IxLRS+1;var e=this._Receipt.linkedreceipts.length-(this.IxLRS+1);1!=this._Receipt.linkedreceipts[e].fire&&this.GetLinkedReceipt(e)}else this.CheckBalanceForItemInStore(0,!0),this.StockBalances(0)}},{key:"OnCustomerLinkedReceiptSet",value:function(e){this.LinkedReceiptListSelected=[],this.IxLRS=0,this.LinkedReceiptListSelected=e.list;for(var t=0;t<this.LinkedReceiptListSelected.length;t++)this._LinkedReceipt=new S.Cb,this._LinkedReceipt.code=this.LinkedReceiptListSelected[t].code,this._LinkedReceipt.entry_no=this.LinkedReceiptListSelected[t].entry_no,this._LinkedReceipt.subsidiaryid=this.subsidiaryID,this._LinkedReceipt.branch_id=this.LinkedReceiptListSelected[t].branch_id,this._LinkedReceipt.receiptid=this.LinkedReceiptListSelected[t].id,this._LinkedReceipt.parentreceiptid=this._Receipt.id,this._Receipt.linkedreceipts.push(this._LinkedReceipt);this.GetLinkedReceipt(this._Receipt.linkedreceipts.length-(this.IxLRS+1))}},{key:"OnOpenLinkedReceipt",value:function(e){var t=this,n=this._Receipt.linkedreceipts[e],i=this._ReceiptSharedService.ReceiptsLinked_Url_Codes.find(function(e){return e.Code==n.code});null!=this._Receipt.linkedreceipts[e].receiptid?""!=i.Url&&window.open(i.Url+this._Receipt.linkedreceipts[e].receiptid+"/show","_blank"):null!=n.branch_id&&null!=n.code&&null!=n.entry_no&&n.entry_no>0&&this._ReceiptSharedService.GetLinkedReceiptID(n.branch_id,n.code,n.entry_no).subscribe(function(e){""!=i.Url&&null!=e?window.open(i.Url+e.id+"/show","_blank"):t.toastr.error(t.ReceiptNotFound)})}},{key:"DeleteLinkedReceipt",value:function(e){this._Receipt.linkedreceipts.splice(e,1),this.cd.markForCheck()}},{key:"OnOpenReceiptHistory",value:function(e){var t=this.ReceiptHistoryList[e],n=this._ReceiptSharedService.ReceiptsLinked_Url_Codes.find(function(e){return e.Code==t.code});""!=n.Url&&window.open(n.Url+this.ReceiptHistoryList[e].receiptid+"/show","_blank")}},{key:"OnSignatureSet",value:function(e){this._Receipt.signature=e.signature}},{key:"Calculate_Total_Tax_Net",value:function(){var e=0;this._Receipt.details.forEach(function(t){e+=t.total}),1==this._Receipt.currency_rate?(this._Receipt.value=Number(e.toFixed(this._Currencyprecision)),this._Receipt.valueforeign=Number(e.toFixed(this._Currencyprecision))):(this._Receipt.valueforeign=Number(e.toFixed(this._Currencyprecision)),this._Receipt.value=Number((e/this._Receipt.currency_rate).toFixed(this._Currencyprecision))),this._Receipt.deliveryfees=this._Receipt.deliveryfees||0,this._Receipt.deliveryfeesforeign=this._Receipt.deliveryfeesforeign||0,this._Receipt.discount_foreignpercent=this._Receipt.discount_foreignpercent||0,this._Receipt.discount_foreignvalue=this._Receipt.discount_foreignvalue||0,this._Receipt.discount_percent=this._Receipt.discount_percent||0,this._Receipt.discount_value=this._Receipt.discount_value||0,this._Receipt.surchargepercent=this._Receipt.surchargepercent||0,this._Receipt.surchargevalue=this._Receipt.surchargevalue||0,this.CalculateTax_Net(e)}},{key:"CalculateTax_Net",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;1==this._Receipt.currency_rate?(this._Receipt.netvalue=Number(e.toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0,this._Receipt.netvalueforeign=this._Receipt.netvalue):(this._Receipt.netvalueforeign=Number(e.toFixed(this._Currencyprecision)),this._Receipt.netvalueforeign=this._Receipt.netvalueforeign>=0?this._Receipt.netvalueforeign:0,this._Receipt.netvalue=Number((this._Receipt.netvalueforeign/this._Receipt.currency_rate).toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0)}},{key:"StockBalances",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!=e&&3!=this._Receipt.details[e].item_type?(this.itemqtyview=!1,this._itemstoreqtyobj=new S.I$,this._itemstoreqtyobj.subsidairyid=this.subsidiaryID,this._itemstoreqtyobj.ReceiptCode=this.BasicCodeReceipt,this._itemstoreqtyobj.BranchID=this._Receipt.branch_id,this._itemstoreqtyobj.Entrydate=this._Receipt.entry_date,this._itemstoreqtyobj.Unit_ID=this._Receipt.details[e].unit_id,this._itemstoreqtyobj.conv=this._Receipt.details[e].conv,this._itemstoreqtyobj.itemid=this._Receipt.details[e].item_id,this.itemqtyview=!0):(this.itemqtyview=!1,this._itemstoreqtyobj=new S.I$)}},{key:"CheckBalanceForItemInStore",value:function(e){var t,n=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];1==r&&(this.DuringSaveDisable=!0,this.cd.markForCheck());var a=!0,o=new S.I$;if(null!=this._Receipt.details[e].item_id){o.ReceiptCode=this.BasicCodeReceipt,o.BranchID=this._Receipt.branch_id,o.Entrydate=this._Receipt.entry_date+" "+this._Receipt.entry_time,o.Unit_ID=this._Receipt.details[e].unit_id,o.conv=this._Receipt.details[e].conv,o.Qty=0,o.itemid=this._Receipt.details[e].item_id,o.StoreID=this._Receipt.details[e].store_id,o.subsidairyid=this.subsidiaryID,o.ReceiptID=this._Receipt.id,console.log(o);var c=null!==(t=this.ReceiptCodeList.filter(function(e){return e.code==n.BasicCodeReceipt})[0].items)&&void 0!==t?t:-1,l=this.InventorySetting[0].physicalnegativeinventoryid;console.log(this._Receipt.details[e].item_type),2!=this._Receipt.details[e].item_type&&(-1==c||1==c&&this._Receipt.details[e].id>0)&&1==l?this._ReceiptSharedService.CheckBalanceForItemInStore(o).subscribe(function(t){var o=0,l=0,s=0,d=[],p=!0;if(0==t.consignment.consignment){if(null!=t.totalqty.totalqty){if(o=t.totalqty.totalqty,d=t.itemcomponent,n._Receipt.details.filter(function(t){return t.item_id==n._Receipt.details[e].item_id}).forEach(function(e){var t=n.ItemUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=t){var i=null!=t.finalconv?t.finalconv:1,r=null!=t.conv?t.conv:1,a=e.conv;l=parseFloat(l.toString())+i*(a/r)*parseFloat(e.qty.toString())}}),3!=n._Receipt.details[e].item_type&&function(){n._Receipt.itemscomponent.filter(function(t){return t.item_id==n._Receipt.details[e].item_id&&null!=t.id}).forEach(function(e){var t=n.ItemComponentUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=t){var i=(null!=t.finalconv?t.finalconv:1)*(e.conv/(null!=t.conv?t.conv:1))*parseFloat(e.qty.toString());l=parseFloat(l.toString())+i}});for(var t=[],i=n._Receipt.details.filter(function(e){return 3==e.item_type&&null==e.id}),r=function(r){t=[],t=n._Receipt.itemscomponent.filter(function(t){return t.parentrowno==i[r].rowno&&t.finishedproductid==i[r].item_id&&null==t.id&&t.item_id==n._Receipt.details[e].item_id});for(var a=function(e){var i=t[e].qty,r=n.ItemComponentUnitsList.find(function(n){return n.item_id==t[e].item_id&&n.id==t[e].unit_id});if(null!=r){var a=(null!=r.finalconv?r.finalconv:1)*(t[e].conv/(null!=r.conv?r.conv:1))*parseFloat(i.toString());l=parseFloat(l.toString())+a}},o=0;o<t.length;o++)a(o)},a=0;a<i.length;a++)r(a)}(),-1==c?s=o-l:1==c&&(s=o+l),3==n._Receipt.details[e].item_type)for(var u=function(e){if(2!=d[e].item_type){var t=function(){var t=n._Receipt.details.filter(function(t){return t.item_id==d[e].item_id}),i=0;t.forEach(function(e){var t=n.ItemUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=t){var r=null!=t.finalconv?t.finalconv:1,a=null!=t.conv?t.conv:1,o=e.conv;i=parseFloat(i.toString())+r*(o/a)*parseFloat(e.qty.toString())}}),n._Receipt.itemscomponent.filter(function(t){return t.item_id==d[e].item_id&&null!=t.id}).forEach(function(e){var t=n.ItemComponentUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=t){var r=(null!=t.finalconv?t.finalconv:1)*(e.conv/(null!=t.conv?t.conv:1))*parseFloat(e.qty.toString());i=parseFloat(i.toString())+r}});for(var r=[],a=n._Receipt.details.filter(function(e){return 3==e.item_type&&null==e.id}),o=function(t){r=[],r=n._Receipt.itemscomponent.filter(function(n){return n.parentrowno==a[t].rowno&&n.finishedproductid==a[t].item_id&&null==n.id&&n.item_id==d[e].item_id});for(var o=function(e){var t=r[e].qty,a=n.ItemComponentUnitsList.find(function(t){return t.item_id==r[e].item_id&&t.id==r[e].unit_id});if(null!=a){var o=(null!=a.finalconv?a.finalconv:1)*(r[e].conv/(null!=a.conv?a.conv:1))*parseFloat(t.toString());i=parseFloat(i.toString())+o}},c=0;c<r.length;c++)o(c)},c=0;c<a.length;c++)o(c);if(!(i<d[e].totalqty))return p=!1,{v:"break"};p=!0}();if("object"==typeof t)return t.v}},m=0;m<d.length;m++){if("break"===u(m))break}a=s>=0&&1==p}else a=!1;0==a?(n._Receipt.details[e].allowqtyselectforitem=!1,n.cd.markForCheck(),n.toastr.warning(n.qtyErrorMsg+o)):(n._Receipt.details[e].allowqtyselectforitem=!0,n.cd.markForCheck())}1==i&&e+1<n._Receipt.details.length?n.CheckBalanceForItemInStore(e+1,!0,r):1==r&&n.SaveReceipt()}):1==i&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,r):1==r&&this.SaveReceipt()}else 1==i&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,r):1==r&&this.SaveReceipt()}},{key:"CreateNewAction",value:function(){var e=this;JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||1==this.ShowModeReceipt||this.ReceiptID>0&&!this.checkRoleParms(619)?this._router.navigate(["/page/inventorytransiction/issuerequest/0"]).then(function(){window.location.reload()}):Me().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(t){t.value?e.CheckPre_SaveReceipt(e.RForm):t.dismiss===Me().DismissReason.cancel&&e._router.navigate(["/page/inventorytransiction/issuerequest/0"]).then(function(){window.location.reload()})})}},{key:"DeleteAction",value:function(){var e=this;Me().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(t){t.isConfirmed&&1==t.isConfirmed&&e._ReceiptSharedService.DeleteReceipts(e._Receipt.id).subscribe(function(t){0==t.bcount?(e.toastr.success(e.toastrSuccessDelete),e._router.navigate(["/page/inventorytransiction/issuerequest"])):-1==t.bcount?(t.usedserials.forEach(function(t){var n=e._Receipt.details.findIndex(function(e){return e.item_id==t.itemid&&e.batcheslist[0].id==t.id});-1!=n&&(e._Receipt.details[n].allowqtyselectforitem=!1)}),e.toastr.error(e.RelatedwithSerialsOrBatches)):e.toastr.error(e.DeleteRelationmsg)})})}},{key:"DupilcateAction",value:function(){var e=this;this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(function(t){e._Receipt.entry_no=0==t.length?1:t[0].entry_no+1,e.entry_no=e._Receipt.entry_no,e.location.replaceState("/page/inventorytransiction/issuerequest/0"),e.ReceiptID=0,e._Receipt.id=null,e.CheckBalanceForItemInStore(0,!0),e.cd.markForCheck()})}},{key:"DocumentAction",value:function(){this._router.navigate(["/page/setupsettings/documents/3/"+this._Receipt.id+"/issuerequest"],{relativeTo:this._activeRoute,queryParams:{show:this.LockedRecepit}})}},{key:"PrintPreview",value:function(e){var t=this,n=this.getReportfilter(0==e?1:0);this.spinner.show(),this._ReceiptSharedService.GetReport(n).subscribe(function(n){t.spinner.hide(),1==e?t._authService.showPdfInNewTab(n.bytes,""):t._authService.printJS(n.bytes)}),this.cd.markForCheck()}},{key:"onPrint",value:function(){var e=this,t=this.getReportfilter(0);this._VerifyReportsService.SaveVerifyReports(this.subsidiaryID,this.lang).subscribe(function(n){e.reporturl="".concat(e.reportdomainUrl,"?q=").concat(t.reportName,"&ID=").concat(t.ReceiptID),""!=t.lang&&(e.reporturl=e.reporturl+"&Lang=".concat(t.lang)),""!=t.DomainName&&(e.reporturl=e.reporturl+"&DomainName=".concat(t.DomainName)),""!=t.toEmail&&(e.reporturl=e.reporturl+"&email=".concat(t.toEmail,"+&Subject=").concat(t.Subject,"+&boby=").concat(t.boby)),e.reporturl=e.reporturl+"&Info=".concat(n),e._authService.showReportInNextTab(e.reporturl),e.cd.markForCheck()})}},{key:"sendEmail",value:function(e){var t=this;this._emailobj=e.list;var n=this.getReportfilter(0);this.spinner.show(),this._ReceiptSharedService.GetReport(n).subscribe(function(e){t.spinner.hide(),alert(t.mailmsg)}),this.cd.markForCheck()}},{key:"getReportfilter",value:function(){var e=this._authService.userInfo().clientdatabase,t="",n="";"ar"==this.lang&&(n="_ar");var i={reportName:t="P_I_64_IssueRequest"+n,SubsidaryID:this.subsidiaryID,ReceiptID:this._Receipt.id,lang:"",DomainName:"",toEmail:"",Subject:"",boby:""};return e.indexOf("darshgf")>-1?t="P_All_Inv_Receipt_gl_web_darshgf"+n:e.indexOf("alromaih")>-1&&(t="P_I_60_IssueVoucher_GL_WEB_alromaih"),i.reportName=t,i.toEmail=this._emailobj.email,i.Subject=this._emailobj.subject,i}},{key:"BackAction",value:function(){var e=this;JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||this.ReceiptID>0&&!this.checkRoleParms(619)||0==this.ReceiptID&&!this.checkRoleParms(223)||1==this.ShowModeReceipt?this._router.navigate(["/page/inventorytransiction/issuerequest"]):Me().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(t){t.value?e.CheckPre_SaveReceipt(e.RForm):t.dismiss===Me().DismissReason.cancel&&e._router.navigate(["/page/inventorytransiction/issuerequest"])})}},{key:"getCurrentDate",value:function(){var e=new Date,t=e.getFullYear();return e.getMonth()+1+"/"+e.getDate()+"/"+t}},{key:"getwarrantydateDate",value:function(){var e=new Date,t=e.getFullYear()+1;return e.getMonth()+1+"/"+e.getDate()+"/"+t}},{key:"SetTimeNow",value:function(){var e=new Date;return("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)}},{key:"formateDecimal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return e.toFixed(t)}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}},{key:"customTrackBy",value:function(e,t){return e}},{key:"OpenModal",value:function(e){this.modalReference=this.modalService.open(e,{size:"xl",backdrop:"static"})}},{key:"CloseModal",value:function(){this.modalReference.close()}},{key:"OnSerialItems",value:function(e,n){var i,r=this;if(1==this.CashCustomerSetting.dispensingpolicy&&0==this.ReceiptID&&(this._Receipt.details[this.selectedindex].batcheslist=[]),this.SelectedItem=this._Receipt.details[e],this.selectedindex=e,this._Receipt.details[e].qty<=0)this.toastr.error(this.InValidQty);else{this.requiredserial=this._Receipt.details[e].isrequireserial;var a=this.ItemUnitsList.filter(function(t){return t.item_id==r._Receipt.details[e].item_id&&t.id==r._Receipt.details[e].unit_id}),o=this._Receipt.details[e].conv*a[0].finalconv/a[0].conv;this._batchqty=this._Receipt.details[e].qty,this._ReceiptSharedService.GetReceiptItemSerial(this._Receipt.details[e].item_id,this._Receipt.details[e].store_id,null!==(i=this._Receipt.id)&&void 0!==i?i:0,this._Receipt.entry_date+" "+this._Receipt.entry_time,this.subsidiaryID).subscribe(function(i){r.BatchesListForEatchRow=[],i.seriallist.forEach(function(t){null!=r._Receipt.id&&0!=r._Receipt.id&&null!=r._ReceiptOriginal.details[r.selectedindex]&&r._ReceiptOriginal.details[r.selectedindex].unit_id!=r._Receipt.details[r.selectedindex].unit_id&&(t.availableqty=t.availableqty+r._ReceiptOriginal.details[e].qty*r._ReceiptOriginal.details[e].final_conv-r._Receipt.details[e].qty*r._Receipt.details[e].final_conv),t.availableqtywithsmallestunit=t.availableqty,t.availableqty=parseFloat((t.availableqty/o).toFixed(4))});var a=[];if(a=i.seriallist,console.log(i.seriallist,"d.seriallist"),r._Receipt.details[r.selectedindex].batcheslist.forEach(function(e){var t=a.findIndex(function(t){return t.id==e.previtemserialid});-1!=t&&(e.inv_receipt_d_id>0?null!=r._Receipt.details[r.selectedindex].validrow&&1!=r._Receipt.details[r.selectedindex].validrow||(a[t].qty=e.qty,a[t].oldqty=e.qty,a[t].availableqty=r.dealWith(a[t].availableqty-e.qty),r._Receipt.details[r.selectedindex].validrow=!0):1==r._Receipt.details[r.selectedindex].validrow&&(a[t].qty=e.qty,a[t].oldqty=e.qty,a[t].availableqty=r.dealWith(a[t].availableqty-e.qty),r._Receipt.details[r.selectedindex].validrow=!0))}),r._Receipt.id>0)for(var c=0;c<a.length;c++)null==a[c].qty&&0==a[c].availableqty||r.BatchesListForEatchRow.push(a[c]);else r.BatchesListForEatchRow=t(a);if(1==r.CashCustomerSetting.dispensingpolicy){if(r._Receipt.details[r.selectedindex].id>0&&r.ReceiptID>0){console.log(r.BatchesListForEatchRow);for(var l=0;l<r.BatchesListForEatchRow.length;l++)r.BatchesListForEatchRow[l].availableqty+=r.BatchesListForEatchRow[l].oldqty,r.BatchesListForEatchRow[l].qty=0,r.BatchesListForEatchRow[l].solidquantity=0}var s=0;if(r.BatchesListForEatchRow.forEach(function(e){s+=e.availableqty}),console.log(s,r._Receipt.details[e].qty),r._Receipt.details[e].qty>s)return void r.toastr.error(r.InValidQtyForBatch);if(r._Receipt.details[e].qty==s)r.BatchesListForEatchRow.forEach(function(e){e.qty=e.availableqty,e.oldqty=e.availableqty,e.availableqty=0}),r.saveSerialOnSalesReturnEffectDispensingPolicy();else{var d=r._Receipt.details[e].qty;r.BatchesListForEatchRow.forEach(function(e){0!=d&&(e.availableqty>=d?(e.qty=d,e.oldqty=d,e.availableqty=e.availableqty-d,d=0):(e.qty=e.availableqty,e.oldqty=e.availableqty,d-=e.availableqty,e.availableqty=0))}),r.saveSerialOnSalesReturnEffectDispensingPolicy()}}else r.OpenModal(n);1==r.CashCustomerSetting.dispensingpolicy&&r.OpenModal(n)})}}},{key:"saveSerialOnSalesReturnEffectDispensingPolicy",value:function(){var e=this;if(this.BatchesListForEatchRow.some(function(e){return e.qty>e.availableqty+e.oldqty}))return this.toastr.error(this.QtyIsValidWithAvailableQty),void(this._Receipt.details[this.selectedindex].validrow=!1);var t,n=0;if(this.BatchesListForEatchRow.forEach(function(e){var t;n+=null!==(t=+e.qty)&&void 0!==t?t:0}),n!=this._batchqty)return this.toastr.error(this.InValidNumberOfBatch),void(this._Receipt.details[this.selectedindex].validrow=!1);var i=1;this.BatchesListForEatchRow.map(function(n){if(i++,n.qty>0){var r=e._Receipt.details[e.selectedindex].batcheslist.findIndex(function(e){return e.previtemserialid==n.id});-1!=r?e._Receipt.details[e.selectedindex].batcheslist[r].qty=+n.qty.toString():((t=new Ee.WB).id=0,t.qty=+n.qty,t.storeid=n.storeid,t.storename=n.name,t.storename_ar=n.name_ar,t.batchno=n.serial,t.date=n.expire_date,t.previtemserialid=n.id,t.serial=i,t.valid=!1,t.isdublicatebatch=!1,t.isused=!1,t.inv_receipt_d_id=null,t.availableqty=n.availableqty+n.qty,t.solidquantity=null,e._Receipt.details[e.selectedindex].batcheslist.push(t)),e._Receipt.details[e.selectedindex].validrow=!0}else{var a=e._Receipt.details[e.selectedindex].batcheslist.findIndex(function(e){return e.previtemserialid==n.id});-1!=a&&e._Receipt.details[e.selectedindex].batcheslist.splice(a,1)}}),console.log(this._Receipt.details,"this._Receipt.details")}},{key:"saveserial",value:function(e){var t=this;if(e.valid){if(this.BatchesListForEatchRow.some(function(e){return e.qty>e.availableqty+e.oldqty}))return this.toastr.error(this.QtyIsValidWithAvailableQty),void(this._Receipt.details[this.selectedindex].validrow=!1);var n,i=0;if(this.BatchesListForEatchRow.forEach(function(e){var t;i+=null!==(t=+e.qty)&&void 0!==t?t:0}),i!=this._batchqty)return this.toastr.error(this.InValidNumberOfBatch),void(this._Receipt.details[this.selectedindex].validrow=!1);var r=1;this.BatchesListForEatchRow.map(function(e){if(r++,e.qty>0){var i=t._Receipt.details[t.selectedindex].batcheslist.findIndex(function(t){return t.previtemserialid==e.id});-1!=i?t._Receipt.details[t.selectedindex].batcheslist[i].qty=+e.qty.toString():((n=new Ee.WB).id=0,n.qty=+e.qty,n.storeid=e.storeid,n.storename=e.name,n.storename_ar=e.name_ar,n.batchno=e.serial,n.date=e.expire_date,n.previtemserialid=e.id,n.serial=r,n.valid=!1,n.isdublicatebatch=!1,n.isused=!1,n.inv_receipt_d_id=null,n.availableqty=e.availableqty+e.qty,n.solidquantity=null,t._Receipt.details[t.selectedindex].batcheslist.push(n)),t._Receipt.details[t.selectedindex].validrow=!0}else{var a=t._Receipt.details[t.selectedindex].batcheslist.findIndex(function(t){return t.previtemserialid==e.id});-1!=a&&t._Receipt.details[t.selectedindex].batcheslist.splice(a,1)}}),this.CloseModal()}console.log(this._Receipt.details,"this._Receipt.details")}},{key:"ChangeBatchQty",value:function(e,t){if(+t>(null==e?void 0:e.availableqty)+(null==e?void 0:e.oldqty))return this.toastr.error(this.QtyIsValidWithAvailableQty),this._Receipt.details[this.selectedindex].validrow=!1,e.qty=null,e.availableqty=e.availableqty+e.oldqty,void(e.oldqty=0);e.qty=+t,e.availableqty=this.dealWith(e.availableqty+e.oldqty-+t),e.oldqty=+t}},{key:"dealWith",value:function(e){return e%1==0?e:e.toString().split(".")[1].length>4?+e.toFixed(4):e}},{key:"CreateIssueVoucer",value:function(){this._router.navigate(["page/inventorytransiction/issuevoucher/0/0/0/"+this.ReceiptID])}}]),e}();return e.\u0275fac=function(t){return new(t||e)(M["\u0275\u0275directiveInject"](Pe.v),M["\u0275\u0275directiveInject"](R.t),M["\u0275\u0275directiveInject"](Oe.H),M["\u0275\u0275directiveInject"](M.ChangeDetectorRef),M["\u0275\u0275directiveInject"](I._W),M["\u0275\u0275directiveInject"](m.F0),M["\u0275\u0275directiveInject"](P.m),M["\u0275\u0275directiveInject"](h.sK),M["\u0275\u0275directiveInject"](O.K),M["\u0275\u0275directiveInject"](m.gz),M["\u0275\u0275directiveInject"](F.FF),M["\u0275\u0275directiveInject"](k.t2),M["\u0275\u0275directiveInject"](E.e),M["\u0275\u0275directiveInject"](w.$),M["\u0275\u0275directiveInject"](x.J),M["\u0275\u0275directiveInject"](l.uU),M["\u0275\u0275directiveInject"](l.Ye))},e.\u0275cmp=M["\u0275\u0275defineComponent"]({type:e,selectors:[["app-issue-request-details"]],viewQuery:function(e,t){var n;(1&e&&(M["\u0275\u0275viewQuery"](Ge,5),M["\u0275\u0275viewQuery"](Ue,5)),2&e)&&(M["\u0275\u0275queryRefresh"](n=M["\u0275\u0275loadQuery"]())&&(t.RForm=n.first),M["\u0275\u0275queryRefresh"](n=M["\u0275\u0275loadQuery"]())&&(t.serialModel=n.first))},features:[M["\u0275\u0275ProvidersFeature"]([Pe.v,R.t,l.uU,Oe.H,x.J])],decls:9,vars:4,consts:[["class","row",4,"ngIf"],[4,"ngIf"],["DescriptionItemModel",""],["serialModel",""],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"row"],[1,"HasNotPermission",2,"margin","auto","width","auto","margin-top","200px"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"card","my-4","mx-2","px-3","pb-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"col-12","text-right","actionBtns"],["type","submit",1,"btn","btn-success","mr-2","mb-2"],[1,"ft-check-square","mr-1"],["type","button",1,"btn","btn-success","mr-2","mb-2",3,"click"],["class","btn btn-primary mr-2 mb-2","type","button",3,"click",4,"ngIf"],["class","btn btn-warning mr-2 mb-2","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-danger","mr-2","mb-2",3,"click"],[1,"btn-group","mr-2","mb-2","mt-3"],["type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-primary","dropdown-toggle"],[1,"dropdown-menu"],[1,"col-12","col-md-6","mb-2","mb-md-0"],[1,"form-group"],["for","Category",1,"col-form-label"],["name","customersalesprice",1,"form-control",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[2,"color","red","font-weight","bold"],["name","Branch","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["Branch","ngModel"],["Value","null",4,"ngIf"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12","col-md-3","mb-2","mb-md-0"],["for","VendorCode",1,"col-form-label"],["type","text","id","entry_no","name","entry_no","PositiveNumbersOrDecimalOnly","","required","","customMin","",1,"form-control",3,"stepallow","ngModel","readonly","Min","CheckMin","ngClass","ngModelChange","keydown.space"],["entry_no","ngModel"],[1,"col-form-label"],["minLength","0","delay","0","field","code","name","CreditAccount","required","",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","ngClass","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoCustomerAccounts","","customer","ngModel"],["pTemplate","CustomerAccountsTemplate"],["for","cashcustomer_vendor_phone",1,"col-form-label"],["type","text","id","cashcustomer_vendor_name","name","cashcustomer_vendor_name",1,"form-control",3,"ngModel","readonly","ngModelChange"],["cashcustomer_vendor_name","ngModel"],["for","StatusID",1,"col-form-label"],["name","StatusID","required","","disabled","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["StatusID","ngModel"],[3,"ngValue",4,"ngIf"],["for","entry_date",1,"col-form-label"],["type","date","id","entry_date","name","entry_date","required","",1,"form-control",3,"ngModel","readonly","ngClass","ngModelChange"],["entry_date","ngModel"],["for","entry_time",1,"col-form-label"],["type","time","id","entry_time","name","entry_time",1,"form-control",3,"readonly","ngModel","ngModelChange"],["entry_time","ngModel"],["for","memo",1,"col-form-label"],["type","text","id","memo","name","memo",1,"form-control",3,"ngModel","ngModelChange"],["memo","ngModel"],["for","reference_no",1,"col-form-label"],["type","text","id","reference_no","name","reference_no",1,"form-control",3,"ngModel","ngModelChange"],["reference_no","ngModel"],[1,"card","my-4","mx-2","px-3","pb-3","pt-3"],[1,"col-12","nav-wrapper","position-relative","end-0","mt-3"],[1,"col-xl-7","col-md-7"],["ngbNav","",1,"nav","nav-pills","nav-fill","p-1",3,"destroyOnHide","activeId","activeIdChange"],["nav","ngbNav"],[1,"nav-item",3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavItem",4,"ngIf"],[3,"ngbNavItem"],[1,"mt-2",3,"ngbNavOutlet"],[1,"col-md-12"],["type","button",1,"btn","btn-primary","mr-2","mb-2",3,"click"],["type","button",1,"btn","btn-warning","mr-2","mb-2",3,"click"],["class","dropdown-item","type","button",3,"click",4,"ngIf"],[3,"entryno","_savedemailobj"],["type","button",1,"dropdown-item",3,"click"],[3,"value"],["Value","null"],[3,"ngValue"],[1,"row",2,"margin-top","10px"],[1,"col"],[1,"table-responsive","table-accountdetails",3,"ngClass"],[1,"table"],["scope","col",2,"width","5%"],["scope","col"],["scope","col",2,"width","9%"],["scope","col",4,"ngIf"],["scope","col","style","width: 12%",4,"ngIf"],["scope","col","style","width: 6%",4,"ngIf"],["scope","col",2,"min-width","30px"],[4,"ngFor","ngForOf","ngForTrackBy"],["type","button",1,"btn","btn-success",3,"click"],["scope","col",2,"width","12%"],["scope","col",2,"width","6%"],[2,"padding-top","15px !important"],["minLength","0","delay","0","field","code",3,"ngModel","disabled","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoStore",""],["pTemplate","servstoreTemplate"],["minLength","0","delay","0","field","code",3,"ngModel","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoItems",""],["pTemplate","servCodeTemplate"],[3,"click"],[3,"ngClass",4,"ngIf"],[1,"form-control",3,"name","ngModel","required","ngClass","ngModelChange","change"],["itemunit","ngModel"],[3,"ngValue","selected",4,"ngFor","ngForOf"],["customMin","","PositiveNumbersOnly","","type","number",1,"form-control",3,"Min","CheckMin","ngModel","name","ngClass","keyup","ngModelChange"],["item_qty","ngModel"],[1,"gridActionsTd","text-center"],["href","javascript:;",1,"primary","transparent-BG",3,"click"],[1,"fa-stack","fa-lg","addNotesIcon"],[1,"fa","fa-plus","fa-stack-1x"],[1,"fa","fa-sticky-note","fa-stack-2x"],["href","javascript:;",1,"btn","btn-primary","transparent-BG",3,"click"],[1,"fa","fa-trash","font-medium-3"],[3,"ngClass"],[3,"ngValue","selected"],["customMin","","PositiveNumbersOrDecimalOnly","","type","number",1,"form-control",3,"readonly","step","Min","CheckMin","stepallow","ngModel","name","required","ngClass","keyup","ngModelChange"],["item_conv","ngModel"],[1,"form-control",3,"id","ngClass","click"],["PositiveNumbersOnly","","hidden","true","type","number","customMin","",1,"form-control",3,"id","readonly","ngModel","name","Min","CheckMin","ngClass","keyup","focusout","ngModelChange"],["price","ngModel"],["PositiveNumbersOnly","","type","number","customMax","100","customMin","",1,"form-control",3,"ngModel","Min","CheckMin","name","readonly","ngClass","keyup","ngModelChange"],["discountpercent","ngModel"],["style","color: red",4,"ngIf"],[2,"color","red"],["PositiveNumbersOnly","","type","number","customMin","",1,"form-control",3,"ngModel","name","readonly","Min","CheckMin","ngClass","keyup","ngModelChange"],["discount_value","ngModel"],["PositiveNumbersOnly","","type","number",1,"form-control",2,"background-color","silver",3,"ngModel","name","readonly","keyup","ngModelChange"],["href","javascript:;","class","info p-0",3,"click",4,"ngIf"],["href","javascript:;",1,"info","p-0",3,"click"],[1,"fa","fa-list","font-medium-3","mr-2"],[1,"table-responsive","table-accountdetails"],[4,"ngFor","ngForOf"],["type","text",1,"form-control",3,"readonly","ngModel","name","ngModelChange"],[1,"form-control",3,"name","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","text",1,"form-control",3,"ngModel","name","readonly","ngModelChange"],["PositiveNumbersOnly","","type","text",1,"form-control",3,"readonly","ngModel","name","ngModelChange"],[1,"col-12","mb-2"],[3,"custID","subsidiaryID","LinkedListChecked","ListSelected"],["type","button",1,"btn","btn-primary",3,"click"],[1,"form-control","red",3,"name","ngModel","ngModelChange"],["type","number",1,"form-control","red",3,"ngModel","name","ngModelChange"],["LinkedReceiptsentry_no","ngModel"],["aria-hidden","true",1,"fa","fa-plus-square","font-medium-3"],["aria-hidden","true",1,"fa","fa-eye","font-medium-3"],[3,"signature","signatureoutput"],[1,"row","mb-6"],[1,"col-12"],["disabled","",1,"form-control","red",3,"name","ngModel","ngModelChange"],["type","number","disabled","",1,"form-control","red",3,"ngModel","name","ngModelChange"],["historyReceiptsentry_no","ngModel"],["aria-hidden","true",1,"fa","fa-eye","fa-lg"],[3,"wrappe"],["ItemStoreQty",""],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"col-md-12","form-group"],["for","customitemname",1,"col-form-label"],["type","text","id","customitemname","name","customitemname",1,"form-control",3,"ngModel","disabled","ngModelChange"],["customitemname","ngModel"],[1,"col-md-12","row"],[3,"styles","ngModel","ngModelOptions","modules","disabled","ngModelChange","onContentChanged"],["class","col-md-12",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-success",3,"disabled","click"],["type","button",1,"btn","btn-danger","mr-2","ml-2",3,"click"],[1,"ft-x","mr-1"],["for","salesmanid",1,"col-form-label"],["name","salesmanid",1,"form-control",3,"ngModel","disabled","ngModelChange"],["class","modal-title",4,"ngIf"],[1,"table-responsive"],[2,"width","20%"],["style","width: 15%",4,"ngIf"],["type","submit",1,"btn","btn-success"],[2,"width","15%"],["type","checkbox",3,"name","checked"],["type","number","PositiveNumbersOnly","","min","0",1,"form-control",3,"name","value","ngClass","change"]],template:function(e,t){1&e&&(M["\u0275\u0275template"](0,je,4,3,"div",0),M["\u0275\u0275template"](1,En,152,127,"ng-container",1),M["\u0275\u0275template"](2,Tn,26,23,"ng-template",null,2,M["\u0275\u0275templateRefExtractor"]),M["\u0275\u0275template"](4,Xn,36,22,"ng-template",null,3,M["\u0275\u0275templateRefExtractor"]),M["\u0275\u0275elementStart"](6,"ngx-spinner",4),M["\u0275\u0275elementStart"](7,"p",5),M["\u0275\u0275text"](8,"Loading..."),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275property"]("ngIf",!(t.checkRoleParms(222)||t.checkRoleParms(223)||t.checkRoleParms(225)||t.checkRoleParms(619)||t.checkRoleParms(226))),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",t.checkRolesParms(M["\u0275\u0275pureFunction0"](3,ei))),M["\u0275\u0275advance"](5),M["\u0275\u0275property"]("fullScreen",!0))},directives:[l.O5,k.Ro,d._Y,d.JL,d.F,d.EJ,d.JJ,d.On,l.sg,d.Q7,l.mk,d.Fj,we.L,De.a,u.Qc,Be.jx,F.Pz,F.nv,F.Vx,F.uN,F.tO,Le.k,d.YN,d.Kr,d.wV,L.K,Fe.Z,Ne.v,Ve.t,qe.T,f.g6],pipes:[h.X$,l.uU,Te.N,Ae.p],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}.radio-col-green[_ngcontent-%COMP%]{margin-top:10px}.readonlyDiv[_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1;pointer-events:none}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important;text-align:center}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}.batch-input[_ngcontent-%COMP%]{border:1px solid #1b62d8!important}.isExpired[_ngcontent-%COMP%]{color:red}']}),e}();function ni(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"div",4),M["\u0275\u0275elementStart"](1,"h1",5),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function ii(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.name)}}function ri(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.name_ar)}}function ai(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",52),M["\u0275\u0275template"](1,ii,2,1,"span",1),M["\u0275\u0275template"](2,ri,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275propertyInterpolate"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function oi(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",53),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).OnAdd()}),M["\u0275\u0275element"](1,"i",27),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"]()}2&e&&(M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](3,1,"Add")," "))}function ci(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",54),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).OnPrint()}),M["\u0275\u0275element"](1,"i",27),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"]()}2&e&&(M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](3,1,"Print")," "))}function li(e,t){1&e&&M["\u0275\u0275element"](0,"i",55)}function si(e,t){1&e&&M["\u0275\u0275element"](0,"i",56)}function di(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275element"](1,"i",47),M["\u0275\u0275template"](2,li,1,0,"i",48),M["\u0275\u0275template"](3,si,1,0,"i",49),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("hidden","BranchName"==n.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","BranchName"==n.sortColumn&&"asc"==n.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","BranchName"==n.sortColumn&&"desc"==n.sortDirection)}}function pi(e,t){1&e&&M["\u0275\u0275element"](0,"i",55)}function ui(e,t){1&e&&M["\u0275\u0275element"](0,"i",56)}function mi(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275element"](1,"i",47),M["\u0275\u0275template"](2,pi,1,0,"i",48),M["\u0275\u0275template"](3,ui,1,0,"i",49),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("hidden","BranchNameAR"==n.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","BranchNameAR"==n.sortColumn&&"asc"==n.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","BranchNameAR"==n.sortColumn&&"desc"==n.sortDirection)}}function hi(e,t){1&e&&M["\u0275\u0275element"](0,"i",55)}function gi(e,t){1&e&&M["\u0275\u0275element"](0,"i",56)}function _i(e,t){1&e&&M["\u0275\u0275element"](0,"i",55)}function vi(e,t){1&e&&M["\u0275\u0275element"](0,"i",56)}function fi(e,t){1&e&&M["\u0275\u0275element"](0,"i",55)}function Ci(e,t){1&e&&M["\u0275\u0275element"](0,"i",56)}function yi(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275element"](1,"i",47),M["\u0275\u0275template"](2,fi,1,0,"i",48),M["\u0275\u0275template"](3,Ci,1,0,"i",49),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("hidden","CustomerName"==n.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","CustomerName"==n.sortColumn&&"asc"==n.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","CustomerName"==n.sortColumn&&"desc"==n.sortDirection)}}function bi(e,t){1&e&&M["\u0275\u0275element"](0,"i",55)}function Si(e,t){1&e&&M["\u0275\u0275element"](0,"i",56)}function Ri(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275element"](1,"i",47),M["\u0275\u0275template"](2,bi,1,0,"i",48),M["\u0275\u0275template"](3,Si,1,0,"i",49),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("hidden","CustomerNamear"==n.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","CustomerNamear"==n.sortColumn&&"asc"==n.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","CustomerNamear"==n.sortColumn&&"desc"==n.sortDirection)}}function xi(e,t){1&e&&M["\u0275\u0275element"](0,"i",55)}function Mi(e,t){1&e&&M["\u0275\u0275element"](0,"i",56)}function Ii(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th"),M["\u0275\u0275text"](1,"\xa0"),M["\u0275\u0275elementEnd"]())}function Pi(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n?null:n.branchname)}}function Oi(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n?null:n.branchnamear)}}function ki(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.customername)}}function Ei(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.customernamear)}}function wi(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"a",63),M["\u0275\u0275element"](1,"i",64),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275propertyInterpolate1"]("routerLink","/page/inventorytransiction/receivingvoucher/",null==n?null:n.id,"")}}function Di(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"tr"),M["\u0275\u0275template"](1,Pi,2,1,"td",1),M["\u0275\u0275template"](2,Oi,2,1,"td",1),M["\u0275\u0275elementStart"](3,"td"),M["\u0275\u0275text"](4),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](5,"td"),M["\u0275\u0275text"](6),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](7,ki,2,1,"td",1),M["\u0275\u0275template"](8,Ei,2,1,"td",1),M["\u0275\u0275elementStart"](9,"td"),M["\u0275\u0275text"](10),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](11,"td",57),M["\u0275\u0275template"](12,wi,2,1,"a",58),M["\u0275\u0275elementStart"](13,"a",59),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).$implicit;return M["\u0275\u0275nextContext"](2).PrintPreview(e.id)}),M["\u0275\u0275elementStart"](14,"span"),M["\u0275\u0275element"](15,"i",60),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](16,"a",61),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).$implicit;return M["\u0275\u0275nextContext"](2).OnView(e)}),M["\u0275\u0275elementStart"](17,"span"),M["\u0275\u0275element"](18,"i",62),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=r.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==r.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](null==i?null:i.entry_no),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](null==i?null:i.entry_date),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=r.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==r.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](null==i?null:i.netvalue),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",r.checkRoleParms(202))}}function Bi(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",65),M["\u0275\u0275elementStart"](1,"ngb-pagination",66),M["\u0275\u0275listener"]("pageChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).onPageChange(e)})("pageChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).PageNo=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](2,"p"),M["\u0275\u0275text"](3),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](4,"select",67),M["\u0275\u0275listener"]("change",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).onPageSizeChange(e.target.value)})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).PageSize=e}),M["\u0275\u0275elementStart"](5,"option",68),M["\u0275\u0275text"](6,"10 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](7,"option",69),M["\u0275\u0275text"](8,"50 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](9,"option",70),M["\u0275\u0275text"](10,"100 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275element"](11,"br"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("collectionSize",i.totalCount)("page",i.PageNo)("pageSize",i.PageSize)("maxSize",5)("boundaryLinks",!0),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",i._generalService.TotalDetailsTextShow(i.PageNo,i.PageSize,i.totalCount,i.lang)," "),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngModel",i.PageSize)}}function Li(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275elementStart"](1,"div",6),M["\u0275\u0275elementStart"](2,"div",7),M["\u0275\u0275elementStart"](3,"div",8),M["\u0275\u0275elementStart"](4,"h6",9),M["\u0275\u0275text"](5),M["\u0275\u0275pipe"](6,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](7,"div",10),M["\u0275\u0275elementStart"](8,"div",11),M["\u0275\u0275elementStart"](9,"section"),M["\u0275\u0275elementStart"](10,"div",4),M["\u0275\u0275elementStart"](11,"div",12),M["\u0275\u0275elementStart"](12,"form",13,14),M["\u0275\u0275listener"]("ngSubmit",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().SearchReceiptByEntryNo()}),M["\u0275\u0275elementStart"](14,"div",4),M["\u0275\u0275elementStart"](15,"div",15),M["\u0275\u0275elementStart"](16,"div",16),M["\u0275\u0275elementStart"](17,"label",17),M["\u0275\u0275text"](18),M["\u0275\u0275pipe"](19,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](20,"select",18,19),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._ReceiptSearch.BranchID=e})("change",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().ChangeBranch(e.target.value)}),M["\u0275\u0275elementStart"](22,"option",20),M["\u0275\u0275text"](23),M["\u0275\u0275pipe"](24,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](25,ai,3,3,"option",21),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](26,"div",15),M["\u0275\u0275elementStart"](27,"div",16),M["\u0275\u0275elementStart"](28,"label",22),M["\u0275\u0275text"](29),M["\u0275\u0275pipe"](30,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](31,"input",23,24),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._ReceiptSearch.EntryNo=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](33,"div",25),M["\u0275\u0275elementStart"](34,"button",26),M["\u0275\u0275element"](35,"i",27),M["\u0275\u0275text"](36),M["\u0275\u0275pipe"](37,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](38,"button",28),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().ShowAll()}),M["\u0275\u0275element"](39,"i",27),M["\u0275\u0275text"](40),M["\u0275\u0275pipe"](41,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](42,"div",29),M["\u0275\u0275elementStart"](43,"div",30),M["\u0275\u0275elementStart"](44,"div",31),M["\u0275\u0275template"](45,oi,4,3,"button",32),M["\u0275\u0275template"](46,ci,4,3,"button",33),M["\u0275\u0275elementStart"](47,"button",34),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().OnPrint(1)}),M["\u0275\u0275element"](48,"i",27),M["\u0275\u0275text"](49),M["\u0275\u0275pipe"](50,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](51,"button",35),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().OnExcel()}),M["\u0275\u0275element"](52,"i",27),M["\u0275\u0275text"](53),M["\u0275\u0275pipe"](54,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](55,"div",36),M["\u0275\u0275elementStart"](56,"div",37),M["\u0275\u0275elementStart"](57,"label",38),M["\u0275\u0275text"](58),M["\u0275\u0275pipe"](59,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](60,"input",39,40),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._ReceiptSearch.SearchValue=e})("keyup",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().ChangePropFinish()}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](62,"div",4),M["\u0275\u0275elementStart"](63,"div",41),M["\u0275\u0275elementStart"](64,"div",42),M["\u0275\u0275elementStart"](65,"div",43),M["\u0275\u0275elementStart"](66,"div",44),M["\u0275\u0275elementStart"](67,"table",45),M["\u0275\u0275elementStart"](68,"thead"),M["\u0275\u0275elementStart"](69,"tr"),M["\u0275\u0275elementStart"](70,"th",46),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().GetReceiptList("BranchName")}),M["\u0275\u0275text"](71),M["\u0275\u0275pipe"](72,"translate"),M["\u0275\u0275template"](73,di,4,3,"ng-container",1),M["\u0275\u0275template"](74,mi,4,3,"ng-container",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](75,"th",46),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().GetReceiptList("Entry_No")}),M["\u0275\u0275text"](76),M["\u0275\u0275pipe"](77,"translate"),M["\u0275\u0275elementContainerStart"](78),M["\u0275\u0275element"](79,"i",47),M["\u0275\u0275template"](80,hi,1,0,"i",48),M["\u0275\u0275template"](81,gi,1,0,"i",49),M["\u0275\u0275elementContainerEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](82,"th",46),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().GetReceiptList("Entry_Date")}),M["\u0275\u0275text"](83),M["\u0275\u0275pipe"](84,"translate"),M["\u0275\u0275elementContainerStart"](85),M["\u0275\u0275element"](86,"i",47),M["\u0275\u0275template"](87,_i,1,0,"i",48),M["\u0275\u0275template"](88,vi,1,0,"i",49),M["\u0275\u0275elementContainerEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](89,"th",46),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().GetReceiptList("CustomerName")}),M["\u0275\u0275text"](90),M["\u0275\u0275pipe"](91,"translate"),M["\u0275\u0275template"](92,yi,4,3,"ng-container",1),M["\u0275\u0275template"](93,Ri,4,3,"ng-container",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](94,"th",46),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().GetReceiptList("NetValue")}),M["\u0275\u0275text"](95),M["\u0275\u0275pipe"](96,"translate"),M["\u0275\u0275elementContainerStart"](97),M["\u0275\u0275element"](98,"i",47),M["\u0275\u0275template"](99,xi,1,0,"i",48),M["\u0275\u0275template"](100,Mi,1,0,"i",49),M["\u0275\u0275elementContainerEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](101,Ii,2,0,"th",1),M["\u0275\u0275elementStart"](102,"th"),M["\u0275\u0275text"](103,"\xa0"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](104,"th"),M["\u0275\u0275text"](105,"\xa0"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](106,"tbody"),M["\u0275\u0275template"](107,Di,19,8,"tr",50),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](108,Bi,12,7,"div",51),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](6,36,"Receiving Voucher"),""),M["\u0275\u0275advance"](13),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](19,38,"Branch")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i._ReceiptSearch.BranchID),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](24,40,"All")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngForOf",i.BranchList),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](30,42,"EntryNo")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i._ReceiptSearch.EntryNo),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](37,44,"Search")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](41,46,"All")," "),M["\u0275\u0275advance"](5),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(196)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(203)),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](50,48,"pdf")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](54,50,"Excel")," "),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](59,52,"Search")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i._ReceiptSearch.SearchValue),M["\u0275\u0275advance"](11),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](72,54,"Branch")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](77,56,"EntryNo")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("hidden","Entry_No"==i.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Entry_No"==i.sortColumn&&"asc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Entry_No"==i.sortColumn&&"desc"==i.sortDirection),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](84,58,"Date")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("hidden","Entry_Date"==i.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Entry_Date"==i.sortColumn&&"asc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Entry_Date"==i.sortColumn&&"desc"==i.sortDirection),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](91,60,"custvendor")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](96,62,"value")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("hidden","NetValue"==i.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","NetValue"==i.sortColumn&&"asc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","NetValue"==i.sortColumn&&"desc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(202)),M["\u0275\u0275advance"](6),M["\u0275\u0275property"]("ngForOf",i.ReceiptList),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.totalCount>0)}}var Fi=function(){var e=function(){function e(t,n,i,r,a,o,l,s,d,p,u,m,h,g,_){var v=this;c(this,e),this._cashsalesService=t,this.cd=n,this.toastr=i,this._router=r,this._generalService=a,this.translate=o,this._translateGlobalService=l,this.spinner=s,this._ReceiptSharedService=p,this._authService=u,this._printService=m,this._Excel=h,this._convertToPDF=g,this._VerifyReportsService=_,this.loaded=!1,this.subsidiaryID=0,this.PageSize=10,this.PageNo=1,this.ReceiptList=[],this.totalCount=0,this.BranchList=[],this.list=[],this._ReceiptSearch=new S.Wb,this.NumNotExist="",this.title="",this.timeout=null,this.sortDirection="asc",this.sortColumn="",this.SelectBranchMsg="",this.EntryNumberMsg="",this.subsidiaryID=this._generalService.SubsidiaryID,this.GetBranchList(),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(function(e){v.lang=e.lang,v.dir=e.dir,v.translate.use(e.lang),v.ngTransUnsubscribe=v.translate.get("SelectBranchError").subscribe(function(e){v.SelectBranchMsg=e}),v.ngTransUnsubscribe=v.translate.get("EntryNumberMsg").subscribe(function(e){v.EntryNumberMsg=e})}),d.params.subscribe(function(e){var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t?(console.log(t.branchId),v._ReceiptSearch.BranchID="null"!=t.branchId?t.branchId:0):v._ReceiptSearch.BranchID=0}),this.ngTransUnsubscribe=this.translate.get(["Receiving Voucher"]).subscribe(function(e){v.title=e["Receiving Voucher"],document.title=v.title}),this.ngTransUnsubscribe=this.translate.get(["NumNotExist"]).subscribe(function(e){v.NumNotExist=e.NumNotExist}),this.ngUnsubscribe=a.proadCastSubsidiaryID.subscribe(function(e){if(0==v.subsidiaryID&&(v.subsidiaryID=v._generalService.SubsidiaryID,v.ReceiptSearch()),v.subsidiaryID!=v._generalService.SubsidiaryID&&v.subsidiaryID>0){v.subsidiaryID=v._generalService.SubsidiaryID;var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),v._ReceiptSearch.BranchID=0,localStorage.setItem("Branch",JSON.stringify({branchId:v._ReceiptSearch.BranchID})),v._ReceiptSearch.PageNo=1,v._ReceiptSearch.PageSize=10,v.GetBranchList(),v.ReceiptSearch()}}),d.params.subscribe(function(e){var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t?(console.log(t.branchId),v._ReceiptSearch.BranchID="null"!=t.branchId?t.branchId:0):v._ReceiptSearch.BranchID=0})}return o(e,[{key:"ngOnInit",value:function(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this._ReceiptSearch.ReceiptCode="3",this._ReceiptSearch.sortColumn="Entry_Date.desc",0!=this.subsidiaryID&&(this.GetReceiptList(),this.GetReceiptListCount())}},{key:"ReceiptSearch",value:function(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this.GetReceiptList(),this.GetReceiptListCount()}},{key:"GetBranchList",value:function(){var e=this;this._cashsalesService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(function(t){e.BranchList=t,e.cd.markForCheck()})}},{key:"ChangeBranch",value:function(e){var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),this._ReceiptSearch.BranchID="0"!=e?e:0,localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this._ReceiptSearch.PageNo=1,this._ReceiptSearch.PageSize=10,this.ReceiptSearch()}},{key:"ChangePropFinish",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.timeout=null,e.ReceiptSearch()},1e3*t)}},{key:"GetReceiptList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.sortColumn=null==t?null:t,this.sortDirection="asc"==this.sortDirection?"desc":"asc","ar"==this.lang&&("branch"!=this.sortColumn&&"accountname"!=this.sortColumn||(this.sortColumn=this.sortColumn+"ar")),null!=t&&(this.PageNo=1),null!=this.sortColumn&&""!=this.sortDirection&&(this._ReceiptSearch.sortColumn=this.sortColumn+"."+this.sortDirection),this.spinner.show(),this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._ReceiptSearch.EntryNo.toString().length>10&&(this.ReceiptList=[],this.toastr.warning(this.NumNotExist),this.spinner.hide()),this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(function(t){e.ReceiptList=[],e.list=t,1==e.list.length&&e._ReceiptSearch.EntryNo>0?e._router.navigate(["/page/inventorytransiction/receivingvoucher/"+e.list[0].id]):0==e.list.length&&e._ReceiptSearch.EntryNo>0?e.toastr.warning(e.NumNotExist):e.ReceiptList=t,e.cd.markForCheck(),e.spinner.hide()})}},{key:"GetReceiptListCount",value:function(){var e=this;this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptListCount(this._ReceiptSearch).subscribe(function(t){e.totalCount=t[0].total,e.cd.markForCheck()})}},{key:"OnAdd",value:function(){this._router.navigate(["/page/inventorytransiction/receivingvoucher/0"])}},{key:"OnView",value:function(e){this._router.navigate(["/page/inventorytransiction/receivingvoucher/"+e.id+"/show"])}},{key:"onEdit",value:function(e){var t;t="/page/inventorytransiction/receivingvoucher/".concat(e.id),this._router.navigate([t])}},{key:"OnPrint",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n="",i="ar"==this.lang?"rtl":"ltr",r="ar"==this.lang?"\u0627\u0644\u0641\u0631\u0639":"Branch",a="ar"==this.lang?"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":"Entry no",o="ar"==this.lang?"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":"Date",c="ar"==this.lang?"\u0645\u0648\u0631\u062f/\u0639\u0645\u064a\u0644":"Customer / Vendor",l="ar"==this.lang?"\u0627\u0644\u0642\u064a\u0645\u0629":"Total";this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(function(s){e.cd.markForCheck(),n='\n           <table class="table text-center m-0 table table-striped"  border="1px"  dir = '.concat(i,'>\n                 <thead>\n                   <tr style="background: #e9f1f5;color: cornflowerblue;">\n                     <th>').concat(r,"</th>\n                     <th>").concat(a,"</th>\n                     <th>").concat(o,"</th>\n                     <th>").concat(c,"</th>\n                     <th>").concat(l,"</th>\n\n                   </tr>\n                 </thead>\n             <tbody>\n         "),s.map(function(t){var i;n+="\n        <tr>\n         <td>".concat("ar"==e.lang?t.branchnamear:t.branchname,"</td>\n         <td>").concat(t.entry_no,"</td>\n         <td>").concat(t.entry_date,"</td>\n         <td>").concat(null!==(i="ar"==e.lang?t.customernamear:t.customername)&&void 0!==i?i:"","</td>\n         <td>").concat(t.netvalue,"</td>\n\n        </tr>\n        ")}),n+="</tbody></table>",1==t?e._convertToPDF.by_html2pdf(n):e._printService.OnPrintContent(n)})}},{key:"OnExcel",value:function(){var e=this,t=[];this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(function(n){n.forEach(function(n){t.push("ar"==e.lang?{"\u0627\u0644\u0641\u0631\u0639":n.branchnamear,"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":n.entry_no,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":n.entry_date,"\u0627\u0644\u0645\u0648\u0631\u062f/\u0627\u0644\u0639\u0645\u064a\u0644":n.customernamear,"\u0627\u0644\u0642\u064a\u0645\u0629":n.netvalue}:{Branch:n.branchname,"Entry No":n.entry_no,Date:n.entry_date,"Customer/Vendor":n.customernamear,Total:n.netvalue})}),e._Excel.exportAsExcelFile(t,"Receiving Voucher")})}},{key:"ShowAll",value:function(){this._ReceiptSearch.BranchID=0,this._ReceiptSearch.EntryNo=0;var e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this.GetReceiptList(),this.GetReceiptListCount()}},{key:"SearchReceiptByEntryNo",value:function(){null!=this._ReceiptSearch.EntryNo&&null!=this._ReceiptSearch.EntryNo?(this.PageNo=1,this.PageSize=10,this.GetReceiptList(),this.GetReceiptListCount()):this.toastr.warning(this.EntryNumberMsg)}},{key:"PrintPreview",value:function(e){var t=this,n=this.getReportfilter(e);this.spinner.show(),this._ReceiptSharedService.GetReport(n).subscribe(function(e){t.spinner.hide(),t._authService.printJS(e.bytes)}),this.cd.markForCheck()}},{key:"getReportfilter",value:function(e){var t=this._authService.userInfo().clientdatabase,n="";"ar"==this.lang&&(n="_ar");var i={reportName:"P_I_3_ReceivingVoucher"+n,SubsidaryID:this.subsidiaryID,ReceiptID:e,lang:"",DomainName:"",toEmail:"",Subject:"",boby:""};return t.indexOf("alromaih")>-1?"P_I_3_ReceivingVoucher_GL_WEB_alromaih":t.indexOf("bander")>-1||t.indexOf("192.168.1.50")>-1||t.indexOf("win-69te7j9nfsu")>-1||t.indexOf("localhost:1000")>-1?i={reportName:"P_I_3_ReceivingVoucher_Bandar",SubsidaryID:this.subsidiaryID,ReceiptID:e,lang:n,DomainName:"",toEmail:"",Subject:"",boby:""}:t.indexOf("istones")>-1?i={reportName:"P_S_52_Issue_GL_WEB_istones",SubsidaryID:this.subsidiaryID,ReceiptID:e,lang:n,DomainName:window.location.origin,toEmail:"",Subject:"",boby:""}:t.indexOf("darshgf")>-1&&(i={reportName:"P_I_3_ReceivingVoucher_GL_WEB_darshgf"+n,SubsidaryID:this.subsidiaryID,ReceiptID:e,lang:"",DomainName:"",toEmail:"",Subject:"",boby:""}),i}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"onPageChange",value:function(e){this._ReceiptSearch.PageNo=e,this.PageNo=e,this.GetReceiptList()}},{key:"onPageSizeChange",value:function(e){this._ReceiptSearch.PageSize=e,this.PageSize=e,this.GetReceiptList()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(M["\u0275\u0275directiveInject"](b.n),M["\u0275\u0275directiveInject"](M.ChangeDetectorRef),M["\u0275\u0275directiveInject"](I._W),M["\u0275\u0275directiveInject"](m.F0),M["\u0275\u0275directiveInject"](P.m),M["\u0275\u0275directiveInject"](h.sK),M["\u0275\u0275directiveInject"](O.K),M["\u0275\u0275directiveInject"](k.t2),M["\u0275\u0275directiveInject"](m.gz),M["\u0275\u0275directiveInject"](R.t),M["\u0275\u0275directiveInject"](E.e),M["\u0275\u0275directiveInject"](w.$),M["\u0275\u0275directiveInject"](D.x),M["\u0275\u0275directiveInject"](B.z),M["\u0275\u0275directiveInject"](x.J))},e.\u0275cmp=M["\u0275\u0275defineComponent"]({type:e,selectors:[["receivingvoucher"]],features:[M["\u0275\u0275ProvidersFeature"]([b.n,R.t,x.J])],decls:5,vars:3,consts:[["class","row",4,"ngIf"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"row"],[2,"margin","0 30% 0 30%","margin-top","200px"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-1","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-body"],[1,"col-12"],[1,"col-lg-8","col-md-10"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"col-lg-4","col-md-4","col-sm-12"],[1,"form-group"],["for","Branch"],["name","Branch","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["Branch","ngModel"],["Value","0"],[3,"value",4,"ngFor","ngForOf"],["for","EntryNumber"],["type","number","id","ReceiptNumber","name","ReceiptNumber","min","0","PositiveNumbersOnly","","required","",1,"form-control",3,"ngModel","ngModelChange"],["ReceiptNumber","ngModel"],[1,"col-lg-4","col-sm-4","mt-3","text-center"],["type","submit",1,"btn","btn-primary","mr-2"],[1,""],["type","button",1,"btn","btn-primary","mr-2",3,"click"],[1,"col-lg-12","mt-2","col-xs-12","text-center-sm"],[1,"row","mb-2"],[1,"col-lg-6","col-md-7","col-xs-12","my-auto","text-center-sm","actionBtns"],["class","btn btn btn-success mb-0\n                    ng-star-inserted",3,"click",4,"ngIf"],["class","btn btn-warning mb-0 me-3 ng-star-inserted",3,"click",4,"ngIf"],[1,"btn","btn-danger","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-success","mb-0","me-3","ng-star-inserted",3,"click"],[1,"col-lg-6","col-md-6","col-sm-12","pull-right"],[1,"form-group","d-flex","justify-content-end"],["for","SearchValue",1,"pt-1","pl-1","pr-1","form-label"],["type","text","id","SearchValue","name","SearchValue",1,"form-control","col-md-6",3,"ngModel","ngModelChange","keyup"],["SearchValue","ngModel"],[1,"col-12","p-0"],[1,"card","transparent-BG"],[1,"card-content"],[1,"table-responsive","card-body"],[1,"table","m-0","table-striped","table-accountdetails"],[3,"click"],[1,"fa","fa-fw","fa-sort",3,"hidden"],["class","fa fa-fw\n                                fa-sort-desc",4,"ngIf"],["class","fa fa-fw\n                                fa-sort-asc",4,"ngIf"],[4,"ngFor","ngForOf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],[3,"value"],[1,"btn","btn","btn-success","mb-0","ng-star-inserted",3,"click"],[1,"btn","btn-warning","mb-0","me-3","ng-star-inserted",3,"click"],[1,"fa","fa-fw","fa-sort-desc"],[1,"fa","fa-fw","fa-sort-asc"],[1,"gridActionsTd","text-center"],["href","javascript:;","class","primary mr-2",3,"routerLink",4,"ngIf"],[1,"warning","mr-2",3,"click"],["aria-hidden","true",1,"fa","fa-print"],["href","javascript:;",1,"primary","mr-2",3,"click"],["aria-hidden","true",1,"fa","fa-file-text-o"],["href","javascript:;",1,"primary","mr-2",3,"routerLink"],[1,"ft-edit"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(M["\u0275\u0275template"](0,ni,4,3,"div",0),M["\u0275\u0275template"](1,Li,109,64,"div",1),M["\u0275\u0275elementStart"](2,"ngx-spinner",2),M["\u0275\u0275elementStart"](3,"p",3),M["\u0275\u0275text"](4," Loading... "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275property"]("ngIf",!t.checkRoleParms(197)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",t.checkRoleParms(197)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("fullScreen",!0))},directives:[l.O5,k.Ro,d._Y,d.JL,d.F,d.EJ,d.Q7,d.JJ,d.On,d.YN,d.Kr,l.sg,d.qQ,d.wV,d.Fj,L.K,m.yS,F.N9],pipes:[h.X$],styles:['.headerform[_ngcontent-%COMP%]{border-radius:5px;font-size:1.5rem;padding:5px 2em}.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.headerform[_ngcontent-%COMP%]{background-color:#2f8be6;color:#fff;height:44px;padding-top:9px;margin-bottom:17px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}.table-accountdetails[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#80808030}.table-accountdetails[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#7b809a}.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(odd){background-color:#fff!important}.width-table-input[_ngcontent-%COMP%]{min-width:130px}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important;text-align:center}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}']}),e}(),Ni=["RForm"];function Vi(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"div",3),M["\u0275\u0275elementStart"](1,"h1",4),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function qi(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",82),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).DocumentAction()}),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()}2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Document")," "))}function Ti(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",83),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).PrintPreview(0)}),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,2,"PrintPreview")," ")}}function Ai(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",86),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).onPrint()}),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,2,"Print")," ")}}function Gi(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",86),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).PrintPreview(1)}),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,2,"Printpdf")," ")}}function Ui(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",86),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).DupilcateAction()}),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,2,"Dupilcate")," ")}}function ji(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",86),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](4).CheckBalanceForItemInStoreBeforeDelete(0,!0)}),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](4);M["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function $i(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275template"](1,ji,3,4,"button",84),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",0==n.ShowModeReceipt&&n.ReceiptID>0&&0==n.VouchersLinkedCount)}}function zi(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275template"](1,Ai,3,4,"button",84),M["\u0275\u0275template"](2,Gi,3,4,"button",84),M["\u0275\u0275elementStart"](3,"email-popup",85),M["\u0275\u0275listener"]("_savedemailobj",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).sendEmail(e)}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](4,Ui,3,4,"button",84),M["\u0275\u0275elementStart"](5,"button",86),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).QualityAction()}),M["\u0275\u0275text"](6),M["\u0275\u0275pipe"](7,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](8,$i,2,1,"div",1),M["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(203)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(203)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("entryno",i._Receipt.entry_no),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(196)),M["\u0275\u0275advance"](1),M["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](7,7,"Quality")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(199))}}function Wi(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.text,"")}}function Ji(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.text_ar,"")}}function Qi(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",87),M["\u0275\u0275template"](1,Wi,2,1,"span",1),M["\u0275\u0275template"](2,Ji,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275property"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function Yi(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",88),M["\u0275\u0275text"](1," choose "),M["\u0275\u0275elementEnd"]())}function Hi(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",88),M["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),M["\u0275\u0275elementEnd"]())}function Zi(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function Ki(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function Xi(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",87),M["\u0275\u0275template"](1,Zi,2,1,"span",1),M["\u0275\u0275template"](2,Ki,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275property"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function er(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.sugar)}}function tr(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.sug)}}function nr(e,t){if(1&e&&(M["\u0275\u0275template"](0,er,2,1,"div",1),M["\u0275\u0275template"](1,tr,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function ir(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",93),M["\u0275\u0275text"](1," choose "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function rr(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",93),M["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function ar(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function or(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function cr(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",87),M["\u0275\u0275template"](1,ar,2,1,"span",1),M["\u0275\u0275template"](2,or,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275property"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}var lr=function(e,t){return{"invalid-data":e,"valid-data":t}};function sr(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",34),M["\u0275\u0275elementStart"](1,"div",25),M["\u0275\u0275elementStart"](2,"label",89),M["\u0275\u0275text"](3),M["\u0275\u0275pipe"](4,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](5,"span",29),M["\u0275\u0275text"](6,"*"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](7,"select",90,91),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Receipt.currency_id=e})("change",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).changeCurrency(e)}),M["\u0275\u0275template"](9,ir,2,1,"option",92),M["\u0275\u0275template"](10,rr,2,1,"option",92),M["\u0275\u0275template"](11,cr,3,3,"option",28),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](8);M["\u0275\u0275nextContext"]();var r=M["\u0275\u0275reference"](4),a=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](4,6,"Currency")),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("ngModel",a._Receipt.currency_id)("ngClass",M["\u0275\u0275pureFunction2"](8,lr,i.invalid&&r.submitted,i.valid&&r.submitted)),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",a.CurrencyList)}}function dr(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",34),M["\u0275\u0275elementStart"](1,"div",25),M["\u0275\u0275elementStart"](2,"label",94),M["\u0275\u0275text"](3),M["\u0275\u0275pipe"](4,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](5,"span",29),M["\u0275\u0275text"](6,"*"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](7,"input",95,96),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Receipt.currency_rate=e})("keyup",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).Calculate_Total_Tax_Net()}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](8);M["\u0275\u0275nextContext"]();var r=M["\u0275\u0275reference"](4),a=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](4,4,"ExchangeRate")),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("ngModel",a._Receipt.currency_rate)("readonly",1==(null==a._CurrencySelected?null:a._CurrencySelected.basecurrency))("ngClass",M["\u0275\u0275pureFunction2"](6,lr,i.invalid&&r.submitted,i.valid&&r.submitted))}}function pr(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th",74),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Pack")," "))}function ur(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function mr(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function hr(e,t){if(1&e&&(M["\u0275\u0275template"](0,ur,2,1,"div",1),M["\u0275\u0275template"](1,mr,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function gr(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function _r(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function vr(e,t){if(1&e&&(M["\u0275\u0275template"](0,gr,2,1,"div",1),M["\u0275\u0275template"](1,_r,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}var fr=function(e,t){return{"invalid-qty":e,"valid-qty":t}};function Cr(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div",130),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275nextContext"](2);var i=M["\u0275\u0275reference"](4);M["\u0275\u0275property"]("ngClass",M["\u0275\u0275pureFunction2"](2,fr,0==n.allowqtyselectforitem&&i.submitted||0==n.allowqtyselectforitem,1==n.allowqtyselectforitem&&i.submitted||1==n.allowqtyselectforitem)),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.itemname," ")}}function yr(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div",130),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275nextContext"](2);var i=M["\u0275\u0275reference"](4);M["\u0275\u0275property"]("ngClass",M["\u0275\u0275pureFunction2"](2,fr,0==n.allowqtyselectforitem&&i.submitted||0==n.allowqtyselectforitem,1==n.allowqtyselectforitem&&i.submitted||1==n.allowqtyselectforitem)),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.itemname_ar," ")}}function br(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",93),M["\u0275\u0275text"](1," choose "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function Sr(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",93),M["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function Rr(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function xr(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function Mr(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",131),M["\u0275\u0275template"](1,Rr,2,1,"span",1),M["\u0275\u0275template"](2,xr,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"]().$implicit,r=M["\u0275\u0275nextContext"](3);M["\u0275\u0275property"]("ngValue",null==n?null:n.id)("selected",(null==n?null:n.id)===i.unit_id&&(null==n?null:n.item_id)===(null==i?null:i.item_id)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=r.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==r.lang)}}function Ir(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275elementStart"](1,"input",132,133),M["\u0275\u0275listener"]("keyup",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275nextContext"]().index;return M["\u0275\u0275nextContext"](3).ChangePackItem(e)})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().$implicit.conv=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](2),r=M["\u0275\u0275nextContext"](),a=r.index,o=r.$implicit;M["\u0275\u0275nextContext"](2);var c=M["\u0275\u0275reference"](4),l=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate"]("step",null==l.CashCustomerSetting?null:l.CashCustomerSetting.allowdecimalpack),M["\u0275\u0275propertyInterpolate1"]("name","item_conv",a,""),M["\u0275\u0275property"]("readonly",3==(null==o?null:o.item_type)&&null!=(null==o?null:o.item_id))("Min",1e-5)("CheckMin",null!=(null==o?null:o.item_id))("stepallow",null==l.CashCustomerSetting?null:l.CashCustomerSetting.allowdecimalpack)("ngModel",o.conv)("required",null!=(null==o?null:o.item_id))("ngClass",M["\u0275\u0275pureFunction2"](9,lr,i.invalid&&c.submitted,i.valid&&c.submitted))}}function Pr(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1,"Maximum number can be 100 % Discount"),M["\u0275\u0275elementEnd"]())}function Or(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1,"\u0623\u0643\u0628\u0631 \u0646\u0633\u0628\u0629 \u0647\u0649 100% \u062e\u0635\u0645"),M["\u0275\u0275elementEnd"]())}function kr(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div",134),M["\u0275\u0275template"](1,Pr,2,0,"span",1),M["\u0275\u0275template"](2,Or,2,0,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==n.lang)}}var Er=function(e){return{item_id:e}};function wr(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"tr"),M["\u0275\u0275elementStart"](1,"td",105),M["\u0275\u0275text"](2),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](3,"td"),M["\u0275\u0275elementStart"](4,"p-autoComplete",106,107),M["\u0275\u0275listener"]("onFocus",function(e){var t=M["\u0275\u0275restoreView"](n).index,i=M["\u0275\u0275reference"](5),r=M["\u0275\u0275nextContext"](3);return r.onFocusInStore(e,t),i.show(),r.isType=!0})("onClick",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.storecode=e})("onSelect",function(e){var t=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).StoreSelectEvent(e,t)})("completeMethod",function(e){var t=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).StoreChangeSearch(e,t)})("onClear",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3)._Receipt.details[e].store_id=null}),M["\u0275\u0275pipe"](6,"translate"),M["\u0275\u0275template"](7,hr,2,2,"ng-template",108),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](8,"td"),M["\u0275\u0275elementStart"](9,"p-autoComplete",109,110),M["\u0275\u0275listener"]("onFocus",function(e){var t=M["\u0275\u0275restoreView"](n).index,i=M["\u0275\u0275reference"](10),r=M["\u0275\u0275nextContext"](3);return r.onFocusInItems(e,t),i.show(),r.isType=!0})("onClick",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.itemcode=e})("onSelect",function(e){var t=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).ItemsSelectEvent(e,t)})("completeMethod",function(e){var t=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).ItemsChangeSearch(e,t)})("onClear",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).onClearItems(e)}),M["\u0275\u0275pipe"](11,"translate"),M["\u0275\u0275template"](12,vr,2,2,"ng-template",111),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](13,"td",112),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n),t=e.$implicit,i=e.index;return M["\u0275\u0275nextContext"](3).OnSelectedItem(t,i,"selected")}),M["\u0275\u0275template"](14,Cr,2,5,"div",113),M["\u0275\u0275template"](15,yr,2,5,"div",113),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](16,"td"),M["\u0275\u0275elementStart"](17,"select",114,115),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e})("change",function(e){var t=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).ChangeItemUnits(e.target.value,t)}),M["\u0275\u0275template"](19,br,2,1,"option",92),M["\u0275\u0275template"](20,Sr,2,1,"option",92),M["\u0275\u0275template"](21,Mr,3,4,"option",116),M["\u0275\u0275pipe"](22,"filterby"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](23,Ir,3,12,"td",1),M["\u0275\u0275elementStart"](24,"td"),M["\u0275\u0275elementStart"](25,"input",117,118),M["\u0275\u0275listener"]("keyup",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).ChangeQty(e)})("ngModelChange",function(e){return t.$implicit.qty=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](27,"td"),M["\u0275\u0275elementStart"](28,"input",117,119),M["\u0275\u0275listener"]("keyup",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).CalaculteValuesItemsRow(e)})("ngModelChange",function(e){return t.$implicit.price=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](30,"td"),M["\u0275\u0275elementStart"](31,"input",120,121),M["\u0275\u0275listener"]("keyup",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).CalaculteValuesItemsRow(e)})("ngModelChange",function(e){return t.$implicit.discount_percent=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](33,kr,3,2,"div",122),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](34,"td"),M["\u0275\u0275elementStart"](35,"input",123,124),M["\u0275\u0275listener"]("keyup",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).CalaculteValuesItemsRow(e,"value")})("ngModelChange",function(e){return t.$implicit.discount_value=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](37,"td"),M["\u0275\u0275elementStart"](38,"input",125),M["\u0275\u0275listener"]("keyup",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).ReCalaculteValuesChangeItemsRow(e)})("ngModelChange",function(e){return t.$implicit.total=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](39,"td"),M["\u0275\u0275elementStart"](40,"a",126),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).DeleteItems(e)}),M["\u0275\u0275element"](41,"i",127),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](42,"a",128),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n),t=e.index,i=e.$implicit,r=M["\u0275\u0275nextContext"](3),a=M["\u0275\u0275reference"](4);return r.OnSerialItems(t,i,a)}),M["\u0275\u0275element"](43,"i",129),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index,a=t.index,o=M["\u0275\u0275reference"](18),c=M["\u0275\u0275reference"](26),l=M["\u0275\u0275reference"](29),s=M["\u0275\u0275reference"](32),d=M["\u0275\u0275reference"](36);M["\u0275\u0275nextContext"](2);var p=M["\u0275\u0275reference"](4),u=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](a+1),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","storecode",r,""),M["\u0275\u0275property"]("ngModel",i.storecode)("disabled",!(null!=u.CurrentUserSetting&&u.CurrentUserSetting.canchangestore))("suggestions",u.StoreList)("showEmptyMessage",!0)("emptyMessage",M["\u0275\u0275pipeBind1"](6,51,"NoResultsFound"))("forceSelection",!0),M["\u0275\u0275advance"](5),M["\u0275\u0275propertyInterpolate1"]("name","itemcode",r,""),M["\u0275\u0275property"]("ngModel",i.itemcode)("suggestions",u.ItemsList)("showEmptyMessage",!0)("emptyMessage",M["\u0275\u0275pipeBind1"](11,53,"NoResultsFound"))("forceSelection",!0),M["\u0275\u0275advance"](5),M["\u0275\u0275property"]("ngIf","ar"!=u.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==u.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","itemunit",r,""),M["\u0275\u0275property"]("ngModel",i.unit_id)("required",null!=(null==i?null:i.item_id))("ngClass",M["\u0275\u0275pureFunction2"](58,lr,o.invalid&&p.submitted,o.valid&&p.submitted)),M["\u0275\u0275attribute"]("disabled",3==(null==i?null:i.item_type)&&null!=(null==i?null:i.item_id)||null),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=u.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==u.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",M["\u0275\u0275pipeBind2"](22,55,u.ItemUnitsList,M["\u0275\u0275pureFunction1"](61,Er,null==i?null:i.item_id))),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",1==(null==u.CashCustomerSetting?null:u.CashCustomerSetting.allowpack)),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","item_qty",r,""),M["\u0275\u0275property"]("Min",1e-5)("CheckMin",null!=(null==i?null:i.item_id))("ngModel",i.qty)("ngClass",M["\u0275\u0275pureFunction2"](63,lr,c.invalid&&p.submitted,c.valid&&p.submitted)),M["\u0275\u0275advance"](3),M["\u0275\u0275propertyInterpolate1"]("name","item_price",r,""),M["\u0275\u0275property"]("Min",0)("CheckMin",null!=(null==i?null:i.item_id))("ngModel",i.price)("ngClass",M["\u0275\u0275pureFunction2"](66,lr,l.invalid&&p.submitted,l.valid&&p.submitted)),M["\u0275\u0275advance"](3),M["\u0275\u0275propertyInterpolate1"]("name","item_discount_percent",r,""),M["\u0275\u0275property"]("Min",0)("CheckMin",null!=(null==i?null:i.item_id))("ngModel",i.discount_percent)("readonly",!(null!=u.CurrentUserSetting&&u.CurrentUserSetting.showreceiptitemdiscount))("ngClass",M["\u0275\u0275pureFunction2"](69,lr,s.invalid&&p.submitted||(null==s.errors?null:s.errors.customMax),s.valid&&p.submitted)),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",null==s.errors?null:s.errors.customMax),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","item_discount_value",r,""),M["\u0275\u0275property"]("Min",0)("CheckMin",null!=(null==i?null:i.item_id))("ngModel",i.discount_value)("readonly",!(null!=u.CurrentUserSetting&&u.CurrentUserSetting.showreceiptitemdiscount))("ngClass",M["\u0275\u0275pureFunction2"](72,lr,d.invalid&&p.submitted,d.valid&&p.submitted)),M["\u0275\u0275advance"](3),M["\u0275\u0275propertyInterpolate1"]("name","item_total",r,""),M["\u0275\u0275property"]("ngModel",i.total),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("hidden",!(2==i.isrequireserial||3==i.isrequireserial))}}var Dr=function(e){return{"table-for-autocomplete":e}};function Br(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",3),M["\u0275\u0275elementStart"](1,"div",71),M["\u0275\u0275elementStart"](2,"div",97),M["\u0275\u0275elementStart"](3,"table",73),M["\u0275\u0275elementStart"](4,"thead"),M["\u0275\u0275elementStart"](5,"tr"),M["\u0275\u0275element"](6,"th"),M["\u0275\u0275elementStart"](7,"th",98),M["\u0275\u0275text"](8),M["\u0275\u0275pipe"](9,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](10,"th",74),M["\u0275\u0275text"](11),M["\u0275\u0275pipe"](12,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](13,"th",99),M["\u0275\u0275text"](14),M["\u0275\u0275pipe"](15,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](16,"th",100),M["\u0275\u0275text"](17),M["\u0275\u0275pipe"](18,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](19,pr,3,3,"th",101),M["\u0275\u0275elementStart"](20,"th",74),M["\u0275\u0275text"](21),M["\u0275\u0275pipe"](22,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](23,"th",99),M["\u0275\u0275text"](24),M["\u0275\u0275pipe"](25,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](26,"th",99),M["\u0275\u0275text"](27),M["\u0275\u0275pipe"](28,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](29,"th",74),M["\u0275\u0275text"](30),M["\u0275\u0275pipe"](31,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](32,"th",74),M["\u0275\u0275text"](33),M["\u0275\u0275pipe"](34,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](35,"th",102),M["\u0275\u0275text"](36," \xa0 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](37,"tbody"),M["\u0275\u0275template"](38,wr,44,75,"tr",103),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](39,"button",104),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).AddItems()}),M["\u0275\u0275text"](40),M["\u0275\u0275pipe"](41,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngClass",M["\u0275\u0275pureFunction1"](34,Dr,i.isType)),M["\u0275\u0275advance"](6),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](9,14,"Store")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](12,16,"ItemCode")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](15,18,"ItemDescription")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](18,20,"Unit")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",1==(null==i.CashCustomerSetting?null:i.CashCustomerSetting.allowpack)),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](22,22,"qty")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](25,24,"Price")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](28,26,"Disc%")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](31,28,"Discount")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](34,30,"Total")," "),M["\u0275\u0275advance"](5),M["\u0275\u0275property"]("ngForOf",i._Receipt.details)("ngForTrackBy",i._ReceiptSharedService.customTrackBy),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](41,32,"Add")," ")}}function Lr(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",88),M["\u0275\u0275text"](1," choose "),M["\u0275\u0275elementEnd"]())}function Fr(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",88),M["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),M["\u0275\u0275elementEnd"]())}function Nr(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function Vr(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function qr(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",87),M["\u0275\u0275template"](1,Nr,2,1,"span",1),M["\u0275\u0275template"](2,Vr,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function Tr(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",93),M["\u0275\u0275text"](1," choose "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function Ar(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",93),M["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function Gr(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.codename,"")}}function Ur(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.codenamear,"")}}function jr(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",87),M["\u0275\u0275template"](1,Gr,2,1,"span",1),M["\u0275\u0275template"](2,Ur,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("value",n.code),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function $r(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"tr"),M["\u0275\u0275elementStart"](1,"td"),M["\u0275\u0275elementStart"](2,"select",138),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.branch_id=e}),M["\u0275\u0275template"](3,Lr,2,0,"option",32),M["\u0275\u0275template"](4,Fr,2,0,"option",32),M["\u0275\u0275template"](5,qr,3,3,"option",28),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](6,"td"),M["\u0275\u0275elementStart"](7,"select",138),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.code=e}),M["\u0275\u0275template"](8,Tr,2,1,"option",92),M["\u0275\u0275template"](9,Ar,2,1,"option",92),M["\u0275\u0275template"](10,jr,3,3,"option",28),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](11,"td"),M["\u0275\u0275elementStart"](12,"input",139,140),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.entry_no=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](14,"td",141),M["\u0275\u0275elementStart"](15,"a",142),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).GetLinkedReceipt(e)}),M["\u0275\u0275element"](16,"i",143),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](17,"a",142),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).OnOpenLinkedReceipt(e)}),M["\u0275\u0275element"](18,"i",144),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](19,"a",142),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).DeleteLinkedReceipt(e)}),M["\u0275\u0275element"](20,"i",145),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index,a=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsbranch",r,""),M["\u0275\u0275property"]("ngModel",i.branch_id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",a.BranchList),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptscode",r,""),M["\u0275\u0275property"]("ngModel",i.code),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",a.ReceiptCodeList),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsentry_no",r,""),M["\u0275\u0275property"]("ngModel",i.entry_no),M["\u0275\u0275advance"](3),M["\u0275\u0275attribute"]("disabled",(null==i?null:i.fire)>0||null)}}function zr(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",135),M["\u0275\u0275elementStart"](1,"div",71),M["\u0275\u0275elementStart"](2,"div",72),M["\u0275\u0275elementStart"](3,"table",73),M["\u0275\u0275elementStart"](4,"thead"),M["\u0275\u0275elementStart"](5,"tr"),M["\u0275\u0275elementStart"](6,"th",74),M["\u0275\u0275text"](7),M["\u0275\u0275pipe"](8,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](9,"th",74),M["\u0275\u0275text"](10),M["\u0275\u0275pipe"](11,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](12,"th",74),M["\u0275\u0275text"](13),M["\u0275\u0275pipe"](14,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](15,"th",102),M["\u0275\u0275text"](16," \xa0 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](17,"tbody"),M["\u0275\u0275template"](18,$r,21,13,"tr",136),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](19,"button",137),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).AddLinkedReceipt()}),M["\u0275\u0275text"](20),M["\u0275\u0275pipe"](21,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](7),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](8,6,"Branch")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](11,8,"Receipttype")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](14,10,"EntryNo")," "),M["\u0275\u0275advance"](5),M["\u0275\u0275property"]("ngForOf",i._Receipt.linkedreceipts),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("disabled",i._Receipt.linkedreceipts.length>0),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](21,12,"Add")," ")}}function Wr(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",93),M["\u0275\u0275text"](1," choose "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function Jr(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",93),M["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function Qr(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function Yr(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function Hr(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",87),M["\u0275\u0275template"](1,Qr,2,1,"span",1),M["\u0275\u0275template"](2,Yr,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275property"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function Zr(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function Kr(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function Xr(e,t){if(1&e&&(M["\u0275\u0275template"](0,Zr,2,1,"div",1),M["\u0275\u0275template"](1,Kr,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function ea(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275elementStart"](1,"p-autoComplete",172,173),M["\u0275\u0275listener"]("onFocus",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275reference"](2);return M["\u0275\u0275nextContext"](3).onFocusInCustomerAccounts(e),t.show()})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3)._Receipt.supplier_name=e})("onSelect",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).SupplierSelectEvent(e)})("completeMethod",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).CustomerAccountsChangeSearch(e)}),M["\u0275\u0275template"](3,Xr,2,2,"ng-template",41),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngModel",i._Receipt.supplier_name)("disabled",!i.chk_ChangeSupplier)("suggestions",i.CustomerAccountsList)}}function ta(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function na(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function ia(e,t){if(1&e&&(M["\u0275\u0275template"](0,ta,2,1,"div",1),M["\u0275\u0275template"](1,na,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function ra(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275elementStart"](1,"p-autoComplete",174,173),M["\u0275\u0275listener"]("onFocus",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275reference"](2);return M["\u0275\u0275nextContext"](3).onFocusInCustomerAccounts(e),t.show()})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3)._Receipt.supplier_namear=e})("onSelect",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).SupplierSelectEvent(e)})("completeMethod",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).CustomerAccountsChangeSearch(e)}),M["\u0275\u0275template"](3,ia,2,2,"ng-template",41),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("disabled",!i.chk_ChangeSupplier)("ngModel",i._Receipt.supplier_namear)("suggestions",i.CustomerAccountsList)}}function aa(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",93),M["\u0275\u0275text"](1," choose "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function oa(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",93),M["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function ca(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.termname,"")}}function la(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.termname_ar,"")}}function sa(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",87),M["\u0275\u0275template"](1,ca,2,1,"span",1),M["\u0275\u0275template"](2,la,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275property"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function da(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",93),M["\u0275\u0275text"](1," choose "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function pa(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",93),M["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function ua(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function ma(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function ha(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",87),M["\u0275\u0275template"](1,ua,2,1,"span",1),M["\u0275\u0275template"](2,ma,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275property"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}var ga=function(){return{standalone:!0}};function _a(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",3),M["\u0275\u0275elementStart"](1,"div",34),M["\u0275\u0275elementStart"](2,"div",25),M["\u0275\u0275elementStart"](3,"label",146),M["\u0275\u0275text"](4),M["\u0275\u0275pipe"](5,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](6,"select",147,148),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Receipt.shipmentterm_id=e}),M["\u0275\u0275template"](8,Wr,2,1,"option",92),M["\u0275\u0275template"](9,Jr,2,1,"option",92),M["\u0275\u0275template"](10,Hr,3,3,"option",28),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](11,"div",149),M["\u0275\u0275elementStart"](12,"div",25),M["\u0275\u0275elementStart"](13,"label",150),M["\u0275\u0275text"](14),M["\u0275\u0275pipe"](15,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](16,"input",151),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).chk_ChangeSupplier=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](17,"label",152),M["\u0275\u0275elementStart"](18,"span"),M["\u0275\u0275text"](19),M["\u0275\u0275pipe"](20,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](21,ea,4,3,"ng-container",1),M["\u0275\u0275template"](22,ra,4,3,"ng-container",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](23,"div",149),M["\u0275\u0275elementStart"](24,"div",25),M["\u0275\u0275elementStart"](25,"label",153),M["\u0275\u0275text"](26),M["\u0275\u0275pipe"](27,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](28,"input",154),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Receipt.deliverylocation=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](29,"div",3),M["\u0275\u0275elementStart"](30,"div",34),M["\u0275\u0275elementStart"](31,"div",25),M["\u0275\u0275elementStart"](32,"label",155),M["\u0275\u0275text"](33),M["\u0275\u0275pipe"](34,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](35,"select",156,157),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Receipt.paymentterm_id=e}),M["\u0275\u0275template"](37,aa,2,1,"option",92),M["\u0275\u0275template"](38,oa,2,1,"option",92),M["\u0275\u0275template"](39,sa,3,3,"option",28),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](40,"div",149),M["\u0275\u0275elementStart"](41,"div",25),M["\u0275\u0275elementStart"](42,"label",158),M["\u0275\u0275text"](43),M["\u0275\u0275pipe"](44,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](45,"input",159),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Receipt.contactedperson=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](46,"div",149),M["\u0275\u0275elementStart"](47,"div",25),M["\u0275\u0275elementStart"](48,"label",160),M["\u0275\u0275text"](49),M["\u0275\u0275pipe"](50,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](51,"input",161,162),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Receipt.planneddeliverydate=e}),M["\u0275\u0275pipe"](53,"date"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](54,"div",3),M["\u0275\u0275elementStart"](55,"div",34),M["\u0275\u0275elementStart"](56,"div",25),M["\u0275\u0275elementStart"](57,"label",163),M["\u0275\u0275text"](58),M["\u0275\u0275pipe"](59,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](60,"select",164,165),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Receipt.courierid=e}),M["\u0275\u0275template"](62,da,2,1,"option",92),M["\u0275\u0275template"](63,pa,2,1,"option",92),M["\u0275\u0275template"](64,ha,3,3,"option",28),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](65,"div",149),M["\u0275\u0275elementStart"](66,"div",25),M["\u0275\u0275elementStart"](67,"label",166),M["\u0275\u0275text"](68),M["\u0275\u0275pipe"](69,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](70,"textarea",167,168),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Receipt.othernotes=e}),M["\u0275\u0275text"](72,"                              "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](73,"div",149),M["\u0275\u0275elementStart"](74,"div",25),M["\u0275\u0275elementStart"](75,"label",169),M["\u0275\u0275text"](76),M["\u0275\u0275pipe"](77,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](78,"input",170,171),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Receipt.actualdeliverydate=e}),M["\u0275\u0275pipe"](80,"date"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](5,32,"Shipment Term")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i._Receipt.shipmentterm_id),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",i.ShipmentTermList),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](15,34,"Supplier Account")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("checked",i.chk_ChangeSupplier)("ngModelOptions",M["\u0275\u0275pureFunction0"](58,ga))("ngModel",i.chk_ChangeSupplier),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](20,36,"Change")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](27,38,"Delivery Location")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i._Receipt.deliverylocation),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](34,40,"Payment Term")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i._Receipt.paymentterm_id),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",i.PaymentTermsList),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](44,42,"Contacted Person")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i._Receipt.contactedperson),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](50,44,"Planned Delivery Date")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",M["\u0275\u0275pipeBind2"](53,46,i._Receipt.planneddeliverydate,"yyyy-MM-dd")),M["\u0275\u0275advance"](7),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](59,49,"Courier")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i._Receipt.courierid),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",i.CourierList),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](69,51,"Notes")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i._Receipt.othernotes),M["\u0275\u0275advance"](6),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](77,53,"Actual Delivery Date")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",M["\u0275\u0275pipeBind2"](80,55,i._Receipt.actualdeliverydate,"yyyy-MM-dd"))}}function va(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",135),M["\u0275\u0275elementStart"](1,"div",71),M["\u0275\u0275elementStart"](2,"Signature",175),M["\u0275\u0275listener"]("signatureoutput",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).OnSignatureSet(e)}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("signature",i._Receipt.signature)}}function fa(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",93),M["\u0275\u0275text"](1," choose "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function Ca(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",93),M["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function ya(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.codename,"")}}function ba(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.codenamear,"")}}function Sa(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",87),M["\u0275\u0275template"](1,ya,2,1,"span",1),M["\u0275\u0275template"](2,ba,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("value",n.code),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function Ra(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"tr"),M["\u0275\u0275elementStart"](1,"td"),M["\u0275\u0275elementStart"](2,"select",179),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.code=e}),M["\u0275\u0275template"](3,fa,2,1,"option",92),M["\u0275\u0275template"](4,Ca,2,1,"option",92),M["\u0275\u0275template"](5,Sa,3,3,"option",28),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](6,"td"),M["\u0275\u0275elementStart"](7,"input",180,181),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.entry_no=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](9,"td",182),M["\u0275\u0275elementStart"](10,"a",183),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).OnOpenReceiptHistory(e)}),M["\u0275\u0275element"](11,"i",184),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index,a=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","historyReceiptscode",r,""),M["\u0275\u0275property"]("ngModel",i.code),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",a.ReceiptCodeList),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","historyReceiptsentry_no",r,""),M["\u0275\u0275property"]("ngModel",i.entry_no)}}function xa(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div",176),M["\u0275\u0275elementStart"](1,"div",177),M["\u0275\u0275elementStart"](2,"div",178),M["\u0275\u0275elementStart"](3,"table",73),M["\u0275\u0275elementStart"](4,"thead"),M["\u0275\u0275elementStart"](5,"tr"),M["\u0275\u0275elementStart"](6,"th",74),M["\u0275\u0275text"](7),M["\u0275\u0275pipe"](8,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](9,"th",74),M["\u0275\u0275text"](10),M["\u0275\u0275pipe"](11,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](12,"th",74),M["\u0275\u0275text"](13,"\xa0"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](14,"tbody"),M["\u0275\u0275template"](15,Ra,12,7,"tr",136),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](7),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](8,3,"Receipttype")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](11,5,"EntryNo")," "),M["\u0275\u0275advance"](5),M["\u0275\u0275property"]("ngForOf",n.ReceiptHistoryList)}}function Ma(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275element"](1,"Item-StoreQty",185,186),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("wrappe",n._itemstoreqtyobj)}}function Ia(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275elementStart"](1,"div",5),M["\u0275\u0275elementStart"](2,"div",6),M["\u0275\u0275elementStart"](3,"form",7,8),M["\u0275\u0275listener"]("ngSubmit",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275reference"](4);return M["\u0275\u0275nextContext"]().CheckPre_SaveReceipt(e)}),M["\u0275\u0275elementStart"](5,"div",9),M["\u0275\u0275elementStart"](6,"div",10),M["\u0275\u0275elementStart"](7,"div",11),M["\u0275\u0275elementStart"](8,"div",12),M["\u0275\u0275elementStart"](9,"h6",13),M["\u0275\u0275text"](10),M["\u0275\u0275pipe"](11,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](12,"div",3),M["\u0275\u0275elementStart"](13,"div",14),M["\u0275\u0275elementStart"](14,"button",15),M["\u0275\u0275element"](15,"i",16),M["\u0275\u0275text"](16),M["\u0275\u0275pipe"](17,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](18,"button",17),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().CreateNewAction()}),M["\u0275\u0275text"](19),M["\u0275\u0275pipe"](20,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](21,qi,3,3,"button",18),M["\u0275\u0275template"](22,Ti,3,4,"button",19),M["\u0275\u0275elementStart"](23,"button",20),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().BackAction()}),M["\u0275\u0275text"](24),M["\u0275\u0275pipe"](25,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](26,"div",21),M["\u0275\u0275elementStart"](27,"button",22),M["\u0275\u0275text"](28),M["\u0275\u0275pipe"](29,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](30,"div",23),M["\u0275\u0275template"](31,zi,9,9,"ng-container",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275element"](32,"hr"),M["\u0275\u0275elementStart"](33,"div",3),M["\u0275\u0275elementStart"](34,"div",24),M["\u0275\u0275elementStart"](35,"div",25),M["\u0275\u0275elementStart"](36,"label",26),M["\u0275\u0275text"](37),M["\u0275\u0275pipe"](38,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](39,"select",27),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.customersalesprice=e})("change",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().changesalesprice(e)}),M["\u0275\u0275template"](40,Qi,3,3,"option",28),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](41,"div",24),M["\u0275\u0275elementStart"](42,"div",25),M["\u0275\u0275elementStart"](43,"label",26),M["\u0275\u0275text"](44),M["\u0275\u0275pipe"](45,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](46,"span",29),M["\u0275\u0275text"](47,"*"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](48,"select",30,31),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.branch_id=e})("change",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().changeBranch(e)}),M["\u0275\u0275template"](50,Yi,2,0,"option",32),M["\u0275\u0275template"](51,Hi,2,0,"option",32),M["\u0275\u0275template"](52,Xi,3,3,"option",33),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](53,"div",34),M["\u0275\u0275elementStart"](54,"div",25),M["\u0275\u0275elementStart"](55,"label",35),M["\u0275\u0275text"](56),M["\u0275\u0275pipe"](57,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](58,"span",29),M["\u0275\u0275text"](59,"*"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](60,"input",36,37),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.entry_no=e})("ngModelChange",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().ChangePropFinish("EntryCode",2)})("keydown.space",function(e){return e.preventDefault()}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275element"](62,"hr"),M["\u0275\u0275elementStart"](63,"div",3),M["\u0275\u0275elementStart"](64,"div",34),M["\u0275\u0275elementStart"](65,"div",25),M["\u0275\u0275elementStart"](66,"label",38),M["\u0275\u0275text"](67),M["\u0275\u0275pipe"](68,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](69,"span",29),M["\u0275\u0275text"](70,"*"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](71,"p-autoComplete",39,40),M["\u0275\u0275listener"]("onFocus",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275reference"](72);return M["\u0275\u0275nextContext"]().onFocusInCustomerAccounts(e),t.show()})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.cashcustomer_vendor_code=e})("onSelect",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().CustomerAccountsSelectEvent(e)})("completeMethod",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().CustomerAccountsChangeSearch(e)})("onClear",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().onClearVendor(e)}),M["\u0275\u0275pipe"](74,"translate"),M["\u0275\u0275template"](75,nr,2,2,"ng-template",41),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](76,"div",34),M["\u0275\u0275elementStart"](77,"div",25),M["\u0275\u0275elementStart"](78,"label",42),M["\u0275\u0275text"](79),M["\u0275\u0275pipe"](80,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](81,"input",43,44),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.cashcustomer_vendor_name=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](83,"div",34),M["\u0275\u0275elementStart"](84,"div",25),M["\u0275\u0275elementStart"](85,"label",45),M["\u0275\u0275text"](86),M["\u0275\u0275pipe"](87,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](88,"input",46,47),M["\u0275\u0275listener"]("ngModelChange",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275nextContext"]();return t._Receipt.entry_date=e,t.ChangePropFinish("EntryDate",2)}),M["\u0275\u0275pipe"](90,"date"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](91,"div",34),M["\u0275\u0275elementStart"](92,"div",25),M["\u0275\u0275elementStart"](93,"label",45),M["\u0275\u0275text"](94),M["\u0275\u0275pipe"](95,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](96,"input",48,49),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.entry_time=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](98,"div",3),M["\u0275\u0275template"](99,sr,12,11,"div",50),M["\u0275\u0275template"](100,dr,9,9,"div",50),M["\u0275\u0275elementStart"](101,"div",34),M["\u0275\u0275elementStart"](102,"div",25),M["\u0275\u0275elementStart"](103,"label",51),M["\u0275\u0275text"](104),M["\u0275\u0275pipe"](105,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](106,"input",52,53),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.reference_no=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](108,"div",34),M["\u0275\u0275elementStart"](109,"div",25),M["\u0275\u0275elementStart"](110,"label",54),M["\u0275\u0275text"](111),M["\u0275\u0275pipe"](112,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](113,"input",55,56),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.memo=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](115,"div",3),M["\u0275\u0275elementStart"](116,"div",34),M["\u0275\u0275elementStart"](117,"div",25),M["\u0275\u0275elementStart"](118,"label",57),M["\u0275\u0275text"](119),M["\u0275\u0275pipe"](120,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](121,"input",58,59),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().costing_rateDisplay=e})("keyup",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().Calculate_Total_Tax_Net()}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](123,"div",60),M["\u0275\u0275elementStart"](124,"div",61),M["\u0275\u0275elementStart"](125,"div",3),M["\u0275\u0275elementStart"](126,"div",62),M["\u0275\u0275elementStart"](127,"ul",63,64),M["\u0275\u0275listener"]("activeIdChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().activeNav=e}),M["\u0275\u0275elementStart"](129,"li",65),M["\u0275\u0275elementStart"](130,"a",66),M["\u0275\u0275text"](131),M["\u0275\u0275pipe"](132,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](133,Br,42,36,"ng-template",67),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](134,"li",68),M["\u0275\u0275elementStart"](135,"a",66),M["\u0275\u0275text"](136),M["\u0275\u0275pipe"](137,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](138,zr,22,14,"ng-template",67),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](139,"li",68),M["\u0275\u0275elementStart"](140,"a",66),M["\u0275\u0275text"](141),M["\u0275\u0275pipe"](142,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](143,_a,81,59,"ng-template",67),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](144,"li",68),M["\u0275\u0275elementStart"](145,"a",66),M["\u0275\u0275text"](146),M["\u0275\u0275pipe"](147,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](148,va,3,1,"ng-template",67),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](149,"li",68),M["\u0275\u0275elementStart"](150,"a",66),M["\u0275\u0275text"](151),M["\u0275\u0275pipe"](152,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](153,xa,16,7,"ng-template",67),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275element"](154,"div",69),M["\u0275\u0275elementStart"](155,"div",3),M["\u0275\u0275elementStart"](156,"div",70),M["\u0275\u0275elementStart"](157,"div",71),M["\u0275\u0275elementStart"](158,"div",72),M["\u0275\u0275elementStart"](159,"table",73),M["\u0275\u0275elementStart"](160,"thead"),M["\u0275\u0275elementStart"](161,"tr"),M["\u0275\u0275element"](162,"th",74),M["\u0275\u0275elementStart"](163,"th",75),M["\u0275\u0275text"](164),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](165,"th",74),M["\u0275\u0275text"](166),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](167,"tbody"),M["\u0275\u0275elementStart"](168,"tr"),M["\u0275\u0275elementStart"](169,"td"),M["\u0275\u0275text"](170),M["\u0275\u0275pipe"](171,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](172,"td",76),M["\u0275\u0275elementStart"](173,"input",77),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.netvalueforeign=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](174,"td"),M["\u0275\u0275elementStart"](175,"input",78),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.netvalue=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](176,"tr"),M["\u0275\u0275elementStart"](177,"td"),M["\u0275\u0275text"](178),M["\u0275\u0275pipe"](179,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](180,"td"),M["\u0275\u0275elementStart"](181,"input",79),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.qtotal=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](182,"tr"),M["\u0275\u0275elementStart"](183,"td"),M["\u0275\u0275text"](184),M["\u0275\u0275pipe"](185,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](186,"td"),M["\u0275\u0275elementStart"](187,"input",80),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.totalitem=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](188,"div",81),M["\u0275\u0275template"](189,Ma,3,1,"div",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](4),r=M["\u0275\u0275reference"](49),a=M["\u0275\u0275reference"](61),o=M["\u0275\u0275reference"](73),c=M["\u0275\u0275reference"](89),l=M["\u0275\u0275reference"](128),s=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](10),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](11,84,"Receiving Voucher"),""),M["\u0275\u0275advance"](4),M["\u0275\u0275attribute"]("disabled",s.VouchersLinkedCount>0||1==s.ShowModeReceipt||1==s.DuringSaveDisable||s.ReceiptID>0&&!s.checkRoleParms(202)||0==s.ReceiptID&&!s.checkRoleParms(196)||null),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](17,86,"Save")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275attribute"]("disabled",!s.checkRoleParms(196)||1==s.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](20,88,"CreateNew")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",s.ReceiptID>0&&0==s.VouchersLinkedCount),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",s.ReceiptID>0),M["\u0275\u0275advance"](1),M["\u0275\u0275attribute"]("disabled",1==s.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](25,90,"Exit")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](29,92,"Action Menu")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngIf",s.ReceiptID>0),M["\u0275\u0275advance"](6),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](38,94,"CostPrice")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",s._Receipt.customersalesprice),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",s.CustomerSalesPriceList),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](45,96,"Branch")),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("ngModel",s._Receipt.branch_id)("ngClass",M["\u0275\u0275pureFunction2"](135,lr,r.invalid&&i.submitted,r.valid&&i.submitted)),M["\u0275\u0275attribute"]("disabled",s.ReceiptID>0||null),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=s.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==s.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",s.BranchList)("ngForTrackBy",s.customTrackBy),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](57,98,"Entry#")),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("stepallow",1)("ngModel",s._Receipt.entry_no)("Min",1)("CheckMin",!0)("readonly",0==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.controlvouchernumanddate)||s.VouchersLinkedCount>0||1==s.LockedRecepit)("ngClass",M["\u0275\u0275pureFunction2"](138,lr,a.invalid&&i.submitted,a.valid&&i.submitted)),M["\u0275\u0275advance"](7),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](68,100,"Vendor#")),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("ngModel",s._Receipt.cashcustomer_vendor_code)("suggestions",s.CustomerAccountsList)("showEmptyMessage",!0)("emptyMessage",M["\u0275\u0275pipeBind1"](74,102,"NoResultsFound"))("forceSelection",!0)("ngClass",M["\u0275\u0275pureFunction2"](141,lr,o.invalid&&i.submitted,o.valid&&i.submitted)),M["\u0275\u0275advance"](8),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](80,104,"Vendor Name")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",s._Receipt.cashcustomer_vendor_name)("readonly",!0),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](87,106,"Date")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",M["\u0275\u0275pipeBind2"](90,108,s._Receipt.entry_date,"yyyy-MM-dd"))("readonly",0==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.controlvouchernumanddate)||s.VouchersLinkedCount>0||1==s.LockedRecepit)("ngClass",M["\u0275\u0275pureFunction2"](144,lr,c.invalid&&i.submitted||0==s.ValidPeriod,c.valid&&i.submitted)),M["\u0275\u0275advance"](6),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](95,111,"Time")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("readonly",0==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.controlvouchernumanddate)||s.VouchersLinkedCount>0||1==s.LockedRecepit)("ngModel",s._Receipt.entry_time),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngIf",null==s.subsaidarySetting?null:s.subsaidarySetting.enablemulticurrency),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null==s.subsaidarySetting?null:s.subsaidarySetting.enablemulticurrency),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](105,113,"ReferenceNo")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",s._Receipt.reference_no),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](112,115,"Memo")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",s._Receipt.memo),M["\u0275\u0275advance"](6),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](120,117,"costingrate")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",s.costing_rateDisplay)("readonly",!0),M["\u0275\u0275advance"](6),M["\u0275\u0275property"]("destroyOnHide",!1)("activeId",s.activeNav),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngbNavItem",1),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](132,119,"Items")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngbNavItem",2),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](137,121,"LinkedReceipt")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngbNavItem",3),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](142,123,"Other Details")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngbNavItem",4),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](147,125,"Signature")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngbNavItem",5),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](152,127,"History")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngbNavOutlet",l),M["\u0275\u0275advance"](9),M["\u0275\u0275property"]("hidden",!s.ForeignCurrencyShow),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" Total - ",null==s._CurrencySelected?null:s._CurrencySelected.currencysymbol," "),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" Total - ",null==s._BaseCurrency?null:s._BaseCurrency.currencysymbol," "),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](171,129,"Net")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("hidden",!s.ForeignCurrencyShow),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngModel",s._Receipt.netvalueforeign)("readonly",!0),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",s._Receipt.netvalue)("readonly",!0),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](179,131,"totalqty")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("readonly",!0)("ngModel",s._Receipt.qtotal),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](185,133,"totalitem")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("readonly",!0)("ngModel",s._Receipt.totalitem),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",s.itemqtyview)}}function Pa(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"h6",199),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}function Oa(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"h6",199),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Batches")," "))}function ka(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th",200),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"qty")," "))}function Ea(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th"),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Date")," "))}function wa(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th"),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"BatchNo")," "))}function Da(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th"),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}var Ba=function(e){return{"invalid-data":e}};function La(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275elementStart"](1,"input",207),M["\u0275\u0275listener"]("change",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275nextContext"](),i=t.$implicit,r=t.index;return M["\u0275\u0275nextContext"](2).ChangeBatchQty(i,e.target.value,r)}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](),r=i.index,a=i.$implicit;M["\u0275\u0275nextContext"]();var o=M["\u0275\u0275reference"](7);M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate1"]("name","Qty",r,""),M["\u0275\u0275property"]("value",null==a?null:a.qty)("ngClass",M["\u0275\u0275pureFunction1"](3,Ba,null==(null==a?null:a.qty)&&o.submitted||(null==a?null:a.qty)<=0&&o.submitted))}}function Fa(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275elementStart"](1,"input",208),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().$implicit.date=e}),M["\u0275\u0275pipe"](2,"date"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](),r=i.index,a=i.$implicit;M["\u0275\u0275nextContext"]();var o=M["\u0275\u0275reference"](7);M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate1"]("name","Expire_Date",r,""),M["\u0275\u0275property"]("ngModel",M["\u0275\u0275pipeBind2"](2,4,null==a?null:a.date,"yyyy-MM-dd"))("ngClass",M["\u0275\u0275pureFunction1"](7,Ba,null==(null==a?null:a.date)&&o.submitted||""==(null==a?null:a.date)&&o.submitted))("disabled",(null==a?null:a.solidquantity)>0||null)}}function Na(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"tr"),M["\u0275\u0275elementStart"](1,"td"),M["\u0275\u0275element"](2,"input",201),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](3,"td"),M["\u0275\u0275element"](4,"input",202),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](5,La,2,5,"td",1),M["\u0275\u0275elementStart"](6,"td"),M["\u0275\u0275element"](7,"input",203),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](8,Fa,3,9,"td",1),M["\u0275\u0275elementStart"](9,"td"),M["\u0275\u0275elementStart"](10,"input",204),M["\u0275\u0275listener"]("change",function(e){var t=M["\u0275\u0275restoreView"](n),i=t.$implicit,r=t.index;return M["\u0275\u0275nextContext"](2).ChangeBatchNo(i,e.target.value,r)}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](11,"td",141),M["\u0275\u0275elementStart"](12,"button",205),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n),t=e.$implicit,i=e.index;return M["\u0275\u0275nextContext"](2).DeleteRow(t,i)}),M["\u0275\u0275element"](13,"i",206),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index,a=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","Vaild",r,""),M["\u0275\u0275property"]("checked",null==i?null:i.valid),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","Serial",r,""),M["\u0275\u0275property"]("value",null==i?null:i.serial),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",3==a.requiredserial),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","Store",r,""),M["\u0275\u0275propertyInterpolate"]("value","ar"!=a.lang?null==i?null:i.storename:null==i?null:i.storename_ar),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",3==a.requiredserial),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","BatchNo",r,""),M["\u0275\u0275property"]("value",null==i?null:i.batchno)("ngClass",M["\u0275\u0275pureFunction1"](13,Ba,null==i?null:i.isdublicatebatch))("disabled",(null==i?null:i.solidquantity)>0||null),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("disabled",(null==i?null:i.solidquantity)>0||null)}}function Va(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"div",3),M["\u0275\u0275elementStart"](1,"button",209),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](4,"button",210),M["\u0275\u0275text"](5),M["\u0275\u0275pipe"](6,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](7,"button",211),M["\u0275\u0275text"](8),M["\u0275\u0275pipe"](9,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](3,3,"SampleFile")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](6,5,"SelectExcleFile")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](9,7,"Upload")," "))}function qa(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",187),M["\u0275\u0275template"](1,Pa,3,3,"h6",188),M["\u0275\u0275template"](2,Oa,3,3,"h6",188),M["\u0275\u0275elementStart"](3,"button",189),M["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),M["\u0275\u0275elementStart"](4,"span",190),M["\u0275\u0275text"](5,"\xd7"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](6,"form",7,8),M["\u0275\u0275listener"]("ngSubmit",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275reference"](7);return M["\u0275\u0275nextContext"]().SubmitOk(e)}),M["\u0275\u0275elementStart"](8,"div",191),M["\u0275\u0275elementStart"](9,"div",192),M["\u0275\u0275elementStart"](10,"div",3),M["\u0275\u0275elementStart"](11,"form"),M["\u0275\u0275elementStart"](12,"div",193),M["\u0275\u0275elementStart"](13,"table",73),M["\u0275\u0275elementStart"](14,"thead"),M["\u0275\u0275elementStart"](15,"tr"),M["\u0275\u0275elementStart"](16,"th"),M["\u0275\u0275text"](17),M["\u0275\u0275pipe"](18,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](19,"th",194),M["\u0275\u0275text"](20),M["\u0275\u0275pipe"](21,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](22,ka,3,3,"th",195),M["\u0275\u0275elementStart"](23,"th",196),M["\u0275\u0275text"](24),M["\u0275\u0275pipe"](25,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](26,Ea,3,3,"th",1),M["\u0275\u0275template"](27,wa,3,3,"th",1),M["\u0275\u0275template"](28,Da,3,3,"th",1),M["\u0275\u0275element"](29,"th"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](30,"tbody"),M["\u0275\u0275template"](31,Na,14,15,"tr",103),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](32,Va,10,9,"div",0),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](33,"div",197),M["\u0275\u0275elementStart"](34,"button",198),M["\u0275\u0275text"](35),M["\u0275\u0275pipe"](36,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",2==i.requiredserial),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",3==i.requiredserial),M["\u0275\u0275advance"](15),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](18,13,"Valid")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](21,15,"Serial")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",3==i.requiredserial),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](25,17,"Store")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",3==i.requiredserial),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",3==i.requiredserial),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",2==i.requiredserial),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngForOf",i._Receipt.details[i.SelectedRowIndex].batcheslist)("ngForTrackBy",i.trackByFn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",2==i.requiredserial),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](36,19,"Cancel")," ")}}var Ta=function(){return[197,196,199,202]},Aa=function(){var e=function(){function e(t,n,i,r,a,o,l,s,d,p,u,m,h,g,_,v,f,C){var y=this;c(this,e),this._cashsalesService=t,this._CustomerService=n,this._ReceiptSharedService=i,this._VoucherService=r,this.cd=a,this.toastr=o,this._router=l,this._generalService=s,this.translate=d,this._translateGlobalService=p,this._activeRoute=u,this.modalService=m,this.spinner=h,this._authService=g,this._printService=_,this._VerifyReportsService=v,this.datepipe=f,this.location=C,this.isType=!1,this.subsidiaryID=0,this.ReceiptID=0,this.PurchaseOrderId=0,this.CustomerTypeID=2,this.activeNav=1,this.PriceListItemsOnly=!1,this.BasicCodeReceipt=3,this.Transaction_move=0,this._Receipt=new S.tY,this._ReceiptOriginal=new S.tY,this._Receipt_h_Edit=new S.Iu,this._CashSalesDetailsReceipt=new S.hm,this.DescriptionItem=new S.tH,this._LinkedReceipt=new S.Cb,this.ShowWarrantyDateCols=!1,this.IsSalesManImplemented=!1,this._Currencyprecision=3,this.ForeignCurrencyShow=!1,this.ValidPeriod=!0,this.deliverdateValid=!0,this.VouchersLinkedCount=0,this.DuringSaveDisable=!1,this.chk_ChangeSupplier=!1,this.BranchList=[],this.PaymentTypeList=[],this.MultiPaymentMethodsList=[],this.CustomerAccountsList=[],this.SalesManlist=[],this.ShipmentTermList=[],this.CourierList=[],this.ReceiptCodeList=[],this.PaymentTermsList=[],this.TransactionAccountList=[],this.CurrencyList=[],this.StoreList=[],this.ItemsList=[],this.ItemUnitsList=[],this.CustomerSalesPriceList=[],this.ApprovalStatusList=[{id:1,name:"New",name_ar:"\u062c\u062f\u064a\u062f"},{id:2,name:"Approved",name_ar:"\u0645\u0642\u0628\u0648\u0644"},{id:3,name:"Disapproved",name_ar:"\u0645\u0631\u0641\u0648\u0636"},{id:4,name:"Invoiced",name_ar:"\u062a\u0645 \u0639\u0645\u0644 \u0641\u0627\u062a\u0648\u0631\u0647"},{id:5,name:"Sales Order",name_ar:"\u062a\u0645 \u0639\u0645\u0644 \u0633\u0646\u062f \u0628\u064a\u0639"}],this.reporturl="",this.reportdomainUrl=ke.N.aspDomain,this._emailobj={email:"",subject:""},this.mailmsg="",this.allowDelete=!1,this.ShowModeReceipt=!1,this.LockedRecepit=!1,this.swalTitleEntry="",this.swalTextEntry="",this.swalConfirmButtonEntry="",this.Cancel="",this.WarningInfoLost="",this.warning="",this.Yes="",this.FinancialPeriodMsg="",this.FinancialPeriodCloseMsg="",this.Close="",this.CostPostingPeriodMessage="",this.LinkedVoucherIsPostedMsg="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.DeleteRelationmsg="",this.ItemsZeroErrorMsg="",this.MultiPayErrorMsg="",this.ItemsEqualZeroMsg="",this.ReceiptNotFound="",this.CustomerPricelistMsg="",this.Receiptnoitems="",this.NoUnits="",this.ItemWarrantyValidMsg="",this.DeliverDateMsg="",this.qtyErrorSaveMsg="",this.qtyErrorMsg="",this.qtyZeroErrorSaveMsg="",this.NOComponents="",this.SaveMsg="",this.No="",this.swalNewActionTitle="",this.swalNewActionText="",this.StopInventoryErrorMsg="",this.InValidQty="",this.InValidNumberOfBatch="",this.DublicateBatchMassage="",this.RelatedwithSerialsOrBatches="",this.DeleteUsedBatchesOrSerials="",this.CostAccountErrorMsg="",this.CountReceipts=0,this.CountReceiptsMsg="",this.timeout=null,this.ItemLinkedReceipt=[],this.LinkedReceiptListSelected=[],this.IxLRS=0,this.itemqtyview=!1,this._itemstoreqtyobj=new S.I$,this.isDupilcate=!1,this.quillConfig={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"]]},this.requiredserial=2,this.RowItem=null,this.SelectedRowIndex=0,this.BatchesAndSeialsList=[],this.ReceiptHistoryList=[],u.params.subscribe(function(e){y.ReceiptID=e.id,y.PurchaseOrderId=e.purchaseorderid,y.ShowModeReceipt=null!=e.show&&"show"==e.show&&e.id>0,y.LockedRecepit=y.ShowModeReceipt,console.log(y.ShowModeReceipt,"this.ShowModeReceipt"),y.subsidiaryID=y._generalService.SubsidiaryID,y.subsidiaryID>0&&y.SetInitialMethods(),y._UserLogin=y._authService.userInfo()}),this.ngUnsubscribe=s.proadCastSubsidiaryID.subscribe(function(e){0==y.subsidiaryID&&(y.subsidiaryID=y._generalService.SubsidiaryID,y.SetInitialMethods()),y.subsidiaryID!=y._generalService.SubsidiaryID&&y.subsidiaryID>0&&(y.subsidiaryID=y._generalService.SubsidiaryID,y._router.navigate(["/page/inventorytransiction/receivingvoucher/0"]).then(function(){window.location.reload()}))}),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(function(e){y.lang=e.lang,y.dir=e.dir,y.translate.use(e.lang),y.ngTransUnsubscribe=y.translate.get(["Cancel","swalTitleEntryno","swalEntrynoText","swalEntrynoConfirmButton","WarningInfoLost","warning","Yes","mailmsg","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","DeleteRelationmsg","successMsg","ItemsZeroErrorMsg","MultiPayErrorMsg","ItemsEqualZeroMsg","ReceiptNotFound","CustomerPricelistMsg","Receiptnoitems","NoUnits","ItemWarrantyValidMsg","FinancialPeriodMsg","StopInventoryErrorMsg","CloseFinancialPeriodMsg","Close","DeliverDateMsg","qtyErrorSaveMsg","qtyErrorMsg","qtyZeroErrorSaveMsg","NOComponents","Receiving Voucher","SaveMsg","No","swalNewActionTitle","swalNewActionText","CostPostingPeriodMessage","LinkedVoucherIsPostedMsg","InValidQty","InValidNumberOfBatch","DublicateBatchMassage","RelatedwithSerialsOrBatches","DeleteUsedBatchesOrSerials","CountReceiptsMsg","cantNotDuplicateItem","CostAccountErrorMsg"]).subscribe(function(e){document.title=e["Receiving Voucher"],y.Cancel=e.Cancel,y.swalTitleEntry=e.swalTitleEntryno,y.swalTextEntry=e.swalEntrynoText,y.swalConfirmButtonEntry=e.swalEntrynoConfirmButton,y.WarningInfoLost=e.WarningInfoLost,y.warning=e.warning,y.Yes=e.Yes,y.No=e.No,y.swalNewActionTitle=e.swalNewActionTitle,y.swalNewActionText=e.swalNewActionText,y.mailmsg=e.mailmsg,y.swalDeleteTitle=e.swalDeleteTitle,y.swalDetlateText=e.swalDetlateText,y.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,y.DeleteRelationmsg=e.DeleteRelationmsg,y.toastrSuccessDelete=e.successMsg,y.ItemsZeroErrorMsg=e.ItemsZeroErrorMsg,y.MultiPayErrorMsg=e.MultiPayErrorMsg,y.ItemsEqualZeroMsg=e.ItemsEqualZeroMsg,y.ReceiptNotFound=e.ReceiptNotFound,y.CustomerPricelistMsg=e.CustomerPricelistMsg,y.Receiptnoitems=e.Receiptnoitems,y.NoUnits=e.NoUnits,y.ItemWarrantyValidMsg=e.ItemWarrantyValidMsg,y.FinancialPeriodMsg=e.FinancialPeriodMsg,y.Close=e.Close,y.DeliverDateMsg=e.DeliverDateMsg,y.qtyErrorMsg=e.qtyErrorMsg,y.qtyErrorSaveMsg=e.qtyErrorSaveMsg,y.qtyZeroErrorSaveMsg=e.qtyZeroErrorSaveMsg,y.NOComponents=e.NOComponents,y.SaveMsg=e.SaveMsg,y.StopInventoryErrorMsg=e.StopInventoryErrorMsg,y.FinancialPeriodCloseMsg=e.CloseFinancialPeriodMsg,y.CostPostingPeriodMessage=e.CostPostingPeriodMessage,y.LinkedVoucherIsPostedMsg=e.LinkedVoucherIsPostedMsg,y.InValidQty=e.InValidQty,y.InValidNumberOfBatch=e.InValidNumberOfBatch,y.DublicateBatchMassage=e.DublicateBatchMassage,y.RelatedwithSerialsOrBatches=e.RelatedwithSerialsOrBatches,y.DeleteUsedBatchesOrSerials=e.DeleteUsedBatchesOrSerials,y.CountReceiptsMsg=e.CountReceiptsMsg,y.cantNotDuplicateItem=e.cantNotDuplicateItem,y.CostAccountErrorMsg=e.CostAccountErrorMsg})})}return o(e,[{key:"SetInitialMethods",value:function(){this._Receipt=new S.tY,this.GetModuleSetting(),this.GetCurrentUserSetting(),this.GetBranchList(),this.GetShipmentTermList(),this.GetCourierList(),this.GetAllPaymentTermsList(),this.GetCashCustomerSettings(),this.GetSubsaidarySetting(),this.GetCurrencyList(),this.GetReceipt_AfterReceiptCode_InventroySettings()}},{key:"GetReceipt_AfterReceiptCode_InventroySettings",value:function(){var e=this,t=this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID),i=this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID);(0,Ie.D)([t,i]).subscribe(function(t){var i=n(t,2),r=i[0],a=i[1];e.ReceiptCodeList=r,e.InventorySetting=a;var o=e.ReceiptCodeList.find(function(t){return t.code==e.BasicCodeReceipt});e.Transaction_move=o.items,e.GetReceipt(),e.cd.markForCheck()})}},{key:"GetModuleSetting",value:function(){var e=this;this._generalService.GetModuleSetting().subscribe(function(t){null!=t&&(e._ModuleList=t)})}},{key:"ngOnInit",value:function(){}},{key:"GetReceipt",value:function(){var e=this;if(this._Receipt.subsidiaryid=this.subsidiaryID,0==this.ReceiptID){this._Receipt.code=this.BasicCodeReceipt,this._Receipt.entry_date=this.datepipe.transform(new Date,"yyyy-MM-dd"),this.CheckValidDateBySubsidaryID(),this._Receipt.entry_time=this.SetTimeNow();var n=JSON.parse(localStorage.getItem("Branch"));null!=n&&null!=n&&(this._Receipt.branch_id="null"==n.branchId||0==n.branchId?null:n.branchId,null!=this._Receipt.branch_id&&(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch())),setTimeout(function(){e._ReceiptOriginal=JSON.parse(JSON.stringify(e._Receipt)),console.log(e._Receipt)},1e3)}null!=this.PurchaseOrderId&&0!=this.PurchaseOrderId?this._ReceiptSharedService.GetPayableReceiptAndDetailsByID(this.PurchaseOrderId).subscribe(function(n){null!=n.receipt&&(e._Receipt.id=0,e._Receipt.subsidiaryid=n.receipt.subsidiaryid,e._Receipt.code=e.BasicCodeReceipt,e._Receipt.branch_id=n.receipt.branch_id,e._Receipt.customersalesprice=n.receipt.customersalesprice,e._Receipt.entry_date=e.datepipe.transform(n.receipt.entry_date,"yyyy-MM-dd"),e._Receipt.entry_time=n.receipt.entry_time,e._Receipt.reservedflag=n.receipt.reservedflag,e._Receipt.payment_type=n.receipt.payment_type,e._Receipt.vendor_id=n.receipt.vendor_id,e._Receipt.cashcustomerid=n.receipt.cashcustomerid,null!=e._Receipt.vendor_id&&(e._Receipt.cashcustomer_vendor_code={code:n.receipt.vendorcode},e._Receipt.cashcustomer_vendor_name="ar"==e.lang?n.receipt.vendornamear:n.receipt.vendorname),e._Receipt.currency_id=n.receipt.currency_id,e._Receipt.currency_rate=n.receipt.currency_rate,e._Receipt.customerdeliverdate=e.datepipe.transform(n.receipt.customerdeliverdate,"yyyy-MM-dd"),e._Receipt.customerdeliverdate_time=n.receipt.customerdeliverdate_time,e._Receipt.ordertype=n.receipt.ordertype,e._Receipt.empoyee_id=n.receipt.empoyee_id,e._Receipt.memo=n.receipt.memo,e._Receipt.reference_no=n.receipt.reference_no,e._Receipt.salestypeid=n.receipt.salestypeid,e._Receipt.commisionaccountid=n.receipt.commisionaccountid,e._Receipt.commisionaccountfieldname="ar"==e.lang?{commisionaccountfieldname:n.receipt.commisionaccount_sug_ar}:{commisionaccountfieldname:n.receipt.commisionaccount_sug},e._Receipt.commissiontype=n.receipt.commissiontype,e._Receipt.commission=n.receipt.commission,e._Receipt.commissionnet=n.receipt.commissionnet,e._Receipt.commisionaccountid1=n.receipt.commisionaccountid1,e._Receipt.commisionaccountfieldname1="ar"==e.lang?{commisionaccountfieldname1:n.receipt.commisionaccount1_sug_ar}:{commisionaccountfieldname1:n.receipt.commisionaccount1_sug},e._Receipt.commissiontype1=n.receipt.commissiontype1,e._Receipt.commission1=n.receipt.commission1,e._Receipt.commissionnet1=n.receipt.commissionnet1,e._Receipt.costcenterid=n.receipt.costcenterid,e._Receipt.costcenterfieldname=null!=e._Receipt.costcenterid?"ar"==e.lang?{costcenterfieldname:n.receipt.costcenter_sug_ar}:{costcenterfieldname:n.receipt.costcenter_sug}:null,e._Receipt.classid=n.receipt.classid,e._Receipt.classfieldname=null!=e._Receipt.classid?"ar"==e.lang?{classfieldname:n.receipt.classes_sug_ar}:{classfieldname:n.receipt.classes_sug}:null,e._Receipt.locationid=n.receipt.locationid,e._Receipt.locationfieldname=null!=e._Receipt.locationid?"ar"==e.lang?{locationfieldname:n.receipt.location_sug_ar}:{locationfieldname:n.receipt.location_sug}:null,e._Receipt.departmentid=n.receipt.departmentid,e._Receipt.departmentfieldname=null!=e._Receipt.departmentid?"ar"==e.lang?{departmentfieldname:n.receipt.department_sug_ar}:{departmentfieldname:n.receipt.department_sug}:null,e._Receipt.carid=n.receipt.carid,e._Receipt.driverid=n.receipt.driverid,e._Receipt.valueforeign=n.receipt.valueforeign,e._Receipt.value=n.receipt.value,e._Receipt.discount_foreignpercent=n.receipt.discount_foreignpercent,e._Receipt.discount_percent=n.receipt.discount_percent,e._Receipt.discount_foreignvalue=n.receipt.discount_foreignvalue,e._Receipt.discount_value=n.receipt.discount_value,e._Receipt.deliveryfeesforeign=n.receipt.deliveryfeesforeign,e._Receipt.deliveryfees=n.receipt.deliveryfees,e._Receipt.surchargevalueforeign=n.receipt.surchargevalueforeign,e._Receipt.surchargevalue=n.receipt.surchargevalue,e._Receipt.surchargepercent=n.receipt.surchargepercent,e._Receipt.netvalueforeign=n.receipt.netvalueforeign,e._Receipt.netvalue=n.receipt.netvalue,e._Receipt.signature=n.receipt.signature,e._Receipt.related_voucher_type=n.receipt.related_voucher_type,e._Receipt.related_voucher_code=n.receipt.related_voucher_code,e._Receipt.status_id=n.receipt.status_id,e._Receipt.approvalstatus_id=n.receipt.approvalstatus_id,e._Receipt.costing_rate=n.receipt.costing_rate,e.costing_rateDisplay=n.receipt.costing_rate.toFixed(6),e._Receipt.approvedby_id=n.receipt.approvedby_id,e._Receipt.shipmentterm_id=n.receipt.shipmentterm_id,e._Receipt.paymentterm_id=n.receipt.paymentterm_id,e._Receipt.supplieraccount_id=n.receipt.supplieraccount_id,e.Oldsupplieraccount_id=n.receipt.supplieraccount_id,e._Receipt.supplier_name=null!=e._Receipt.supplieraccount_id?"ar"==e.lang?{supplier_name:n.receipt.supplier_namear}:{supplier_name:n.receipt.supplier_name}:null,e._Receipt.planneddeliverydate=n.receipt.planneddeliverydate,e._Receipt.actualdeliverydate=n.receipt.actualdeliverydate,e._Receipt.deliverylocation=n.receipt.deliverylocation,e._Receipt.contactedperson=n.receipt.contactedperson,e._Receipt.othernotes=n.receipt.othernotes,e._Receipt.cashdrawerid=n.receipt.cashdrawerid,e._Receipt.leadid=n.receipt.leadid,e._Receipt.deliverynotes=n.receipt.deliverynotes,e._Receipt.cashcustomerdetailid=n.receipt.cashcustomerdetailid,e._Receipt.is_canceled=n.receipt.is_canceled,e._Receipt.fromstoreid=n.receipt.fromstoreid,e._Receipt.tostoreid=n.receipt.tostoreid,e._Receipt.isdeliveryprint=n.receipt.isdeliveryprint,e._Receipt.printcount=n.receipt.printcount,e._Receipt.iskitchendone=n.receipt.iskitchendone,e._Receipt.paidamount=n.receipt.paidamount,e._Receipt.isholded=n.receipt.isholded,e._Receipt.branchtableid=n.receipt.branchtableid,e._Receipt.customeractualdeliverdate=n.receipt.customeractualdeliverdate,e._Receipt.deliverystatusid=n.receipt.deliverystatusid,e._Receipt.deposite=n.receipt.deposite,e._Receipt.paymentandconditions=n.receipt.paymentandconditions,e._Receipt.notes=n.receipt.notes,e._Receipt.chefid=n.receipt.chefid,e._Receipt.changeamount=n.receipt.changeamount,e._Receipt.divisionid=n.receipt.divisionid,e._Receipt.courierid=n.receipt.courierid,e._Receipt.depositepaymenttypeid=n.receipt.depositepaymenttypeid,e._Receipt.creationdate=n.receipt.creationdate,e._Receipt.lastupdatedate=n.receipt.lastupdatedate,e._Receipt.createdbyid=n.receipt.createdbyid,e._Receipt.updatedbyid=n.receipt.updatedbyid,e._Receipt.receiptattributeid=n.receipt.receiptattributeid,e._Receipt.costposted=n.receipt.costposted,e._Receipt.lcaccountid=n.receipt.lcaccountid,e._Receipt.lcaccountcode=n.receipt.lcaccountcode,e._Receipt.lcaccountname=null!=e._Receipt.lcaccountid?"ar"==e.lang?{lcaccountname:n.receipt.lcaccountnamear}:{lcaccountname:n.receipt.lcaccountname}:null,e._Receipt.lcno=n.receipt.lcno,e._Receipt.lcbank=n.receipt.lcbank,e._Receipt.lcstartdate=n.receipt.lcstartdate,e._Receipt.lcenddate=n.receipt.lcenddate,e._Receipt.lcrenewdate=n.receipt.lcrenewdate,e._Receipt.lcrenewenddate=n.receipt.lcrenewenddate,e._Receipt.lcinsurancecompany=n.receipt.lcinsurancecompany,e._Receipt.lcpolicyno=n.receipt.lcpolicyno,e._Receipt.insurancedate=n.receipt.insurancedate,e._Receipt.gooddeliverydate=n.receipt.gooddeliverydate,e._Receipt.lccondition=n.receipt.lccondition,e._Receipt.shippingmethod=n.receipt.shippingmethod,e._Receipt.exportport=n.receipt.exportport,e._Receipt.shipname=n.receipt.shipname,e._Receipt.lcnotes=n.receipt.lcnotes,e._Receipt.quotationcustomername=n.receipt.quotationcustomername,e._Receipt.duedate=n.receipt.duedate,e._Receipt.schedule_date=n.receipt.schedule_date,e._Receipt.storetype=n.receipt.storetype,e._Receipt.quotationenddate=n.receipt.quotationenddate,e._Receipt.wostatusid=n.receipt.wostatusid,e._Receipt.parentreceiptid=n.receipt.parentreceiptid,e._Receipt.isapproved=n.receipt.isapproved,e._Receipt.replenshimenttype=n.receipt.replenshimenttype,e._Receipt.reference=n.receipt.reference,e._Receipt.replenshimentfromdate=n.receipt.replenshimentfromdate,e._Receipt.replenshimenttodate=n.receipt.replenshimenttodate,e._Receipt.cancelreasonid=n.receipt.cancelreasonid,e._Receipt.contractstartdate=n.receipt.contractstartdate,e._Receipt.contractenddate=n.receipt.contractenddate,e._Receipt.previouscontractid=n.receipt.previouscontractid,e._Receipt.erpstatus=n.receipt.erpstatus,e._Receipt.loyalitybalance=n.receipt.loyalitybalance,e._Receipt.cpno=n.receipt.cpno,e._Receipt.accounttype=n.receipt.accounttype,e._Receipt.printing=n.receipt.printing,e._Receipt.storedelivery=n.receipt.storedelivery,e._Receipt.customerrecieve=n.receipt.customerrecieve,e._Receipt.promotionid=n.receipt.promotionid,e._Receipt.promotionpercent=n.receipt.promotionpercent,e._Receipt.promotionvalue=n.receipt.promotionvalue,e._Receipt.purchaserequeststatusid=n.receipt.purchaserequeststatusid,e._Receipt.urgent=n.receipt.urgent,e._Receipt.quotationstatusid=n.receipt.quotationstatusid,e._Receipt.salesorderstatusid=n.receipt.salesorderstatusid,e._Receipt.purchaseorderstatusid=n.receipt.purchaseorderstatusid,e._Receipt.expensesdistributionvoucherno=n.receipt.expensesdistributionvoucherno,e._Receipt.totalproductioncost=n.receipt.totalproductioncost,e._Receipt.totalvouchercost=n.receipt.totalvouchercost,e._Receipt.totalproductioncostforeign=n.receipt.totalproductioncostforeign,e._Receipt.totalvouchercostforeign=n.receipt.totalvouchercostforeign,e._Receipt.taxvalue=n.receipt.taxvalue,e._Receipt.sourceid=n.receipt.sourceid,e._Receipt.contractid=n.receipt.contractid,e._Receipt.type_id=n.receipt.type_id,e._Receipt.productionlineid=n.receipt.productionlineid,e._Receipt.linescheduleddate=n.receipt.linescheduleddate,e._Receipt.inchargepersonname=n.receipt.inchargepersonname,e._Receipt.inchargephoneno=n.receipt.inchargephoneno,e._Receipt.details=n.items,e._Receipt.details.forEach(function(t){t.transaction_move=e.Transaction_move,t.storecode={code:t.storecode},t.itemcode={code:t.itemcode},t.allowqtyselectforitem=!0}),e.ItemUnitsList=n.itemunits,e._Receipt.receiptexpenses=n.receiptexpenses,e._Receipt.details.map(function(e){e.batcheslist=new Array;var i=n.batches.filter(function(t){return t.inv_receipt_d_id==e.id});e.batcheslist=t(i)}),e._LinkedReceipt=new S.Cb,e._LinkedReceipt.receiptid=n.receipt.id,e._LinkedReceipt.code=n.receipt.code,e._LinkedReceipt.branch_id=n.receipt.branch_id,e._LinkedReceipt.entry_no=n.receipt.entry_no,e._LinkedReceipt.subsidiaryid=e.subsidiaryID,e._LinkedReceipt.fire=1,e._Receipt.linkedreceipts.push(e._LinkedReceipt),e.CheckShowWarrantyDateCols(),e.CustomerTypeID=2,e.entry_no=e._Receipt.entry_no,e.originalSalesPrice=e._Receipt.customersalesprice,e.CheckValidDateBySubsidaryID(),null!=e._Receipt.branch_id&&e.GetReceiptEntryCode(),e.OnSelectedItem(e._Receipt.details[0],0,"selected",!0),e.cd.markForCheck())}):this._ReceiptSharedService.GetPayableReceiptAndDetailsByID(this.ReceiptID).subscribe(function(n){if(null!=n.receipt){if(e.VouchersLinkedCount=n.voucherslinkedcount.voucherslinkedcount,e._Receipt.id=n.receipt.id,e._Receipt.subsidiaryid=n.receipt.subsidiaryid,e._Receipt.code=n.receipt.code,e._Receipt.entry_no=n.receipt.entry_no,e._Receipt.branch_id=n.receipt.branch_id,e._Receipt.transaction_code=n.receipt.transaction_code,e._Receipt.customersalesprice=n.receipt.customersalesprice,e._Receipt.qtotal=n.items.qty,e._Receipt.totalitem=n.items.length,e._Receipt.entry_date=e.datepipe.transform(n.receipt.entry_date,"yyyy-MM-dd"),e._Receipt.entry_time=n.receipt.entry_time,e._Receipt.reservedflag=n.receipt.reservedflag,e._Receipt.payment_type=n.receipt.payment_type,e._Receipt.vendor_id=n.receipt.vendor_id,e._Receipt.cashcustomerid=n.receipt.cashcustomerid,null!=e._Receipt.vendor_id&&(e._Receipt.cashcustomer_vendor_code={code:n.receipt.vendorcode},e._Receipt.cashcustomer_vendor_name="ar"==e.lang?n.receipt.vendornamear:n.receipt.vendorname,e.PriceListItemsOnly=n.receipt.pricelistitemsonly),null!=e._Receipt.cashcustomerid&&(e._Receipt.cashcustomer_vendor_code={phonenumber:n.receipt.phonenumber},e._Receipt.cashcustomer_vendor_name="ar"==e.lang?n.receipt.cashcustomername_ar:n.receipt.cashcustomername,e.PriceListItemsOnly=!1),e._Receipt.currency_id=n.receipt.currency_id,e._Receipt.currency_rate=n.receipt.currency_rate,e._Receipt.customerdeliverdate=e.datepipe.transform(n.receipt.customerdeliverdate,"yyyy-MM-dd"),e._Receipt.customerdeliverdate_time=n.receipt.customerdeliverdate_time,e._Receipt.ordertype=n.receipt.ordertype,e._Receipt.empoyee_id=n.receipt.empoyee_id,e._Receipt.memo=n.receipt.memo,e._Receipt.reference_no=n.receipt.reference_no,e._Receipt.salestypeid=n.receipt.salestypeid,e._Receipt.commisionaccountid=n.receipt.commisionaccountid,e._Receipt.commisionaccountfieldname="ar"==e.lang?{commisionaccountfieldname:n.receipt.commisionaccount_sug_ar}:{commisionaccountfieldname:n.receipt.commisionaccount_sug},e._Receipt.commissiontype=n.receipt.commissiontype,e._Receipt.commission=n.receipt.commission,e._Receipt.commissionnet=n.receipt.commissionnet,e._Receipt.commisionaccountid1=n.receipt.commisionaccountid1,e._Receipt.commisionaccountfieldname1="ar"==e.lang?{commisionaccountfieldname1:n.receipt.commisionaccount1_sug_ar}:{commisionaccountfieldname1:n.receipt.commisionaccount1_sug},e._Receipt.commissiontype1=n.receipt.commissiontype1,e._Receipt.commission1=n.receipt.commission1,e._Receipt.commissionnet1=n.receipt.commissionnet1,e._Receipt.costcenterid=n.receipt.costcenterid,e._Receipt.costcenterfieldname=null!=e._Receipt.costcenterid?"ar"==e.lang?{costcenterfieldname:n.receipt.costcenter_sug_ar}:{costcenterfieldname:n.receipt.costcenter_sug}:null,e._Receipt.classid=n.receipt.classid,e._Receipt.classfieldname=null!=e._Receipt.classid?"ar"==e.lang?{classfieldname:n.receipt.classes_sug_ar}:{classfieldname:n.receipt.classes_sug}:null,e._Receipt.locationid=n.receipt.locationid,e._Receipt.locationfieldname=null!=e._Receipt.locationid?"ar"==e.lang?{locationfieldname:n.receipt.location_sug_ar}:{locationfieldname:n.receipt.location_sug}:null,e._Receipt.departmentid=n.receipt.departmentid,e._Receipt.departmentfieldname=null!=e._Receipt.departmentid?"ar"==e.lang?{departmentfieldname:n.receipt.department_sug_ar}:{departmentfieldname:n.receipt.department_sug}:null,e._Receipt.carid=n.receipt.carid,e._Receipt.driverid=n.receipt.driverid,e._Receipt.valueforeign=n.receipt.valueforeign,e._Receipt.value=n.receipt.value,e._Receipt.discount_foreignpercent=n.receipt.discount_foreignpercent,e._Receipt.discount_percent=n.receipt.discount_percent,e._Receipt.discount_foreignvalue=n.receipt.discount_foreignvalue,e._Receipt.discount_value=n.receipt.discount_value,e._Receipt.deliveryfeesforeign=n.receipt.deliveryfeesforeign,e._Receipt.deliveryfees=n.receipt.deliveryfees,e._Receipt.surchargevalueforeign=n.receipt.surchargevalueforeign,e._Receipt.surchargevalue=n.receipt.surchargevalue,e._Receipt.surchargepercent=n.receipt.surchargepercent,e._Receipt.netvalueforeign=n.receipt.netvalueforeign,e._Receipt.netvalue=n.receipt.netvalue,e._Receipt.signature=n.receipt.signature,e._Receipt.related_voucher_type=n.receipt.related_voucher_type,e._Receipt.related_voucher_code=n.receipt.related_voucher_code,e._Receipt.status_id=n.receipt.status_id,e._Receipt.approvalstatus_id=n.receipt.approvalstatus_id,e._Receipt.costing_rate=n.receipt.costing_rate,e.costing_rateDisplay=n.receipt.costing_rate.toFixed(6),e._Receipt.approvedby_id=n.receipt.approvedby_id,e._Receipt.shipmentterm_id=n.receipt.shipmentterm_id,e._Receipt.paymentterm_id=n.receipt.paymentterm_id,e._Receipt.supplieraccount_id=n.receipt.supplieraccount_id,e.Oldsupplieraccount_id=n.receipt.supplieraccount_id,e._Receipt.supplier_name={name:n.receipt.supplier_name},e._Receipt.supplier_namear={name_ar:n.receipt.supplier_namear},e._Receipt.planneddeliverydate=n.receipt.planneddeliverydate,e._Receipt.actualdeliverydate=n.receipt.actualdeliverydate,e._Receipt.deliverylocation=n.receipt.deliverylocation,e._Receipt.contactedperson=n.receipt.contactedperson,e._Receipt.othernotes=n.receipt.othernotes,e._Receipt.cashdrawerid=n.receipt.cashdrawerid,e._Receipt.leadid=n.receipt.leadid,e._Receipt.deliverynotes=n.receipt.deliverynotes,e._Receipt.cashcustomerdetailid=n.receipt.cashcustomerdetailid,e._Receipt.is_canceled=n.receipt.is_canceled,e._Receipt.fromstoreid=n.receipt.fromstoreid,e._Receipt.tostoreid=n.receipt.tostoreid,e._Receipt.isdeliveryprint=n.receipt.isdeliveryprint,e._Receipt.printcount=n.receipt.printcount,e._Receipt.iskitchendone=n.receipt.iskitchendone,e._Receipt.paidamount=n.receipt.paidamount,e._Receipt.isholded=n.receipt.isholded,e._Receipt.branchtableid=n.receipt.branchtableid,e._Receipt.customeractualdeliverdate=n.receipt.customeractualdeliverdate,e._Receipt.deliverystatusid=n.receipt.deliverystatusid,e._Receipt.deposite=n.receipt.deposite,e._Receipt.paymentandconditions=n.receipt.paymentandconditions,e._Receipt.notes=n.receipt.notes,e._Receipt.chefid=n.receipt.chefid,e._Receipt.changeamount=n.receipt.changeamount,e._Receipt.divisionid=n.receipt.divisionid,e._Receipt.courierid=n.receipt.courierid,e._Receipt.depositepaymenttypeid=n.receipt.depositepaymenttypeid,e._Receipt.creationdate=n.receipt.creationdate,e._Receipt.lastupdatedate=n.receipt.lastupdatedate,e._Receipt.createdbyid=n.receipt.createdbyid,e._Receipt.updatedbyid=n.receipt.updatedbyid,e._Receipt.receiptattributeid=n.receipt.receiptattributeid,e._Receipt.costposted=n.receipt.costposted,e._Receipt.lcaccountid=n.receipt.lcaccountid,e._Receipt.lcno=n.receipt.lcno,e._Receipt.lcbank=n.receipt.lcbank,e._Receipt.lcstartdate=n.receipt.lcstartdate,e._Receipt.lcenddate=n.receipt.lcenddate,e._Receipt.lcrenewdate=n.receipt.lcrenewdate,e._Receipt.lcrenewenddate=n.receipt.lcrenewenddate,e._Receipt.lcinsurancecompany=n.receipt.lcinsurancecompany,e._Receipt.lcpolicyno=n.receipt.lcpolicyno,e._Receipt.insurancedate=n.receipt.insurancedate,e._Receipt.gooddeliverydate=n.receipt.gooddeliverydate,e._Receipt.lccondition=n.receipt.lccondition,e._Receipt.shippingmethod=n.receipt.shippingmethod,e._Receipt.exportport=n.receipt.exportport,e._Receipt.shipname=n.receipt.shipname,e._Receipt.lcnotes=n.receipt.lcnotes,e._Receipt.quotationcustomername=n.receipt.quotationcustomername,e._Receipt.duedate=n.receipt.duedate,e._Receipt.schedule_date=n.receipt.schedule_date,e._Receipt.storetype=n.receipt.storetype,e._Receipt.quotationenddate=n.receipt.quotationenddate,e._Receipt.wostatusid=n.receipt.wostatusid,e._Receipt.parentreceiptid=n.receipt.parentreceiptid,e._Receipt.isapproved=n.receipt.isapproved,e._Receipt.replenshimenttype=n.receipt.replenshimenttype,e._Receipt.reference=n.receipt.reference,e._Receipt.replenshimentfromdate=n.receipt.replenshimentfromdate,e._Receipt.replenshimenttodate=n.receipt.replenshimenttodate,e._Receipt.cancelreasonid=n.receipt.cancelreasonid,e._Receipt.contractstartdate=n.receipt.contractstartdate,e._Receipt.contractenddate=n.receipt.contractenddate,e._Receipt.previouscontractid=n.receipt.previouscontractid,e._Receipt.erpstatus=n.receipt.erpstatus,e._Receipt.loyalitybalance=n.receipt.loyalitybalance,e._Receipt.cpno=n.receipt.cpno,e._Receipt.accounttype=n.receipt.accounttype,e._Receipt.printing=n.receipt.printing,e._Receipt.storedelivery=n.receipt.storedelivery,e._Receipt.customerrecieve=n.receipt.customerrecieve,e._Receipt.promotionid=n.receipt.promotionid,e._Receipt.promotionpercent=n.receipt.promotionpercent,e._Receipt.promotionvalue=n.receipt.promotionvalue,e._Receipt.purchaserequeststatusid=n.receipt.purchaserequeststatusid,e._Receipt.urgent=n.receipt.urgent,e._Receipt.quotationstatusid=n.receipt.quotationstatusid,e._Receipt.salesorderstatusid=n.receipt.salesorderstatusid,e._Receipt.purchaseorderstatusid=n.receipt.purchaseorderstatusid,e._Receipt.expensesdistributionvoucherno=n.receipt.expensesdistributionvoucherno,e._Receipt.totalproductioncost=n.receipt.totalproductioncost,e._Receipt.totalvouchercost=n.receipt.totalvouchercost,e._Receipt.totalproductioncostforeign=n.receipt.totalproductioncostforeign,e._Receipt.totalvouchercostforeign=n.receipt.totalvouchercostforeign,e._Receipt.taxvalue=n.receipt.taxvalue,e._Receipt.sourceid=n.receipt.sourceid,e._Receipt.contractid=n.receipt.contractid,e._Receipt.type_id=n.receipt.type_id,e._Receipt.productionlineid=n.receipt.productionlineid,e._Receipt.linescheduleddate=n.receipt.linescheduleddate,e._Receipt.inchargepersonname=n.receipt.inchargepersonname,e._Receipt.inchargephoneno=n.receipt.inchargephoneno,e._Receipt.details=n.items,e._Receipt.details.forEach(function(e){e.storecode={code:e.storecode},e.itemcode={code:e.itemcode},e.allowqtyselectforitem=!0}),e._Receipt.receiptexpenses=n.receiptexpenses,e.ItemUnitsList=n.itemunits,e._Receipt.linkedreceipts=n.linkedreceipts,e._Receipt.details.map(function(e){e.batcheslist=new Array;var i=n.batches.filter(function(t){return t.inv_receipt_d_id==e.id});e.batcheslist=t(i)}),1==e.CashCustomerSetting.updatelinkedreceivingvoucher&&(e.CountReceipts=n.countreceipts.countreceipts),e.ReceiptHistoryList=n.receipthistory,null==e._Receipt.qtotal||null==e._Receipt.totalitem){var i=0;e._Receipt.details.forEach(function(e){i+=e.qty}),e._Receipt.qtotal=i,e._Receipt.totalitem=n.items.length}e._ReceiptOriginal=JSON.parse(JSON.stringify(e._Receipt)),e.CheckShowWarrantyDateCols(),e.CustomerTypeID=2,e.entry_no=e._Receipt.entry_no,e.originalSalesPrice=e._Receipt.customersalesprice,e._CurrencySelected=e.CurrencyList.find(function(t){return t.id==e._Receipt.currency_id}),e.ForeignCurrencyShow=1!=e._CurrencySelected.basecurrency,e.VouchersLinkedCount>0?(e.ShowModeReceipt=!0,e.ShowPopUpLinkedVoucherIsPosted()):1==!e.ShowModeReceipt&&e.CheckValidDateBySubsidaryID(),e.OnSelectedItem(e._Receipt.details[0],0,"selected",!0),e.cd.markForCheck()}})}},{key:"CheckPre_SaveReceipt",value:function(e){var t=this;if(e.form.valid){if(0==this.ValidPeriod)return void this.ShowPopUpFinancialPeriod();if(0==this.deliverdateValid)return void this.toastr.error(this.DeliverDateMsg);if(1==this._Receipt.details.length&&null==this._Receipt.details[0].item_id)return this.toastr.error(this.ItemsZeroErrorMsg),this._Receipt.details.splice(0,1),void this.AddItems();for(var n=function(e){if(null==t._Receipt.details[e].item_id)t._Receipt.details.splice(e,1),e--;else{if(!(t._Receipt.details[e].qty>0))return i=e,{v:void t.toastr.error(t.qtyZeroErrorSaveMsg)};0!=t._Receipt.value?(t._Receipt.details[e].h_discount_value=t._Receipt.discount_percent/100*t._Receipt.details[e].total/t._Receipt.details[e].qty%(1/0)||0,t._Receipt.details[e].h_discount_percentage=100*(t._Receipt.details[e].h_discount_value/(t._Receipt.details[e].total/t._Receipt.details[e].qty)%(1/0)||0)):(t._Receipt.details[e].h_discount_value=0,t._Receipt.details[e].h_discount_percentage=0);var n=t.ItemUnitsList.find(function(n){return n.item_id==t._Receipt.details[e].item_id&&n.id==t._Receipt.details[e].unit_id});t._Receipt.details[e].final_conv=null!=n?(null!=n.finalconv?n.finalconv:1)*(t._Receipt.details[e].conv/n.conv):t._Receipt.details[e].conv,t._Receipt.details[e].final_conv=0==t._Receipt.details[e].final_conv?1:t._Receipt.details[e].final_conv}i=e},i=0;i<this._Receipt.details.length;i++){var r=n(i);if("object"==typeof r)return r.v}if(0==this._Receipt.details.length)return this.toastr.error(this.ItemsZeroErrorMsg),void this.AddItems();this.CheckBalanceForItemInStore(0,!0,!0)}}},{key:"SaveReceipt",value:function(){this._Receipt.lang=this.lang,"ar"!=this._Receipt.lang&&(this._Receipt.lang="en-US");var e=this._Receipt.details.filter(function(e){return 0==e.allowqtyselectforitem&&2!=e.item_type}),t=this._Receipt.details.filter(function(e){return 0==e.allowqtyselectforitem&&2==e.item_type});if(e.length>0)return this.toastr.error(this.qtyErrorSaveMsg),this.DuringSaveDisable=!1,void this.cd.markForCheck();if(t.length>0)return this.toastr.error(this.CostAccountErrorMsg),this.DuringSaveDisable=!1,void this.cd.markForCheck();for(var n=0;n<this._Receipt.linkedreceipts.length;n++)0==this._Receipt.linkedreceipts[n].fire&&(this._Receipt.linkedreceipts.splice(n,1),n--);""==this._Receipt.customerdeliverdate||null==this._Receipt.customerdeliverdate||""==this._Receipt.entry_time||null==this._Receipt.entry_time||""!=this._Receipt.customerdeliverdate_time&&null!=this._Receipt.customerdeliverdate_time||(this._Receipt.customerdeliverdate_time=this._Receipt.entry_time),this.chk_ChangeSupplier||this._Receipt.supplieraccount_id!=this.Oldsupplieraccount_id&&(this._Receipt.supplieraccount_id=this._Receipt.vendor_id),this.CheckBatchesAndSerials()}},{key:"Save",value:function(){var e=this;null==this._Receipt.id||0==this._Receipt.id?(this._Receipt.totalitem=this._Receipt.details.length,this._ReceiptSharedService.ReceiptCreate(this._Receipt).subscribe(function(t){e.DuringSaveDisable=!1,e.toastr.success(e.SaveMsg),e.ReceiptID=t.id,e._router.navigate(["/page/inventorytransiction/receivingvoucher/"+e.ReceiptID]).then(function(){window.location.reload()})})):(this._Receipt_h_Edit=new S.Iu,this._Receipt_h_Edit.Receipt_h=this._Receipt,this._Receipt_h_Edit.ReceiptOriginal=this._ReceiptOriginal,this._ReceiptSharedService.ReceiptUpdate(this._Receipt_h_Edit).subscribe(function(t){e.DuringSaveDisable=!1,e.toastr.success(e.SaveMsg),e._router.navigate(["/page/inventorytransiction/receivingvoucher/"+e.ReceiptID]).then(function(){window.location.reload()})}))}},{key:"ChangePropFinish",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.DuringSaveDisable=!0,this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.timeout=null,"EntryCode"==t?e.CheckEntryCode():"EntryDate"==t&&e.ChangeEntryDate()},1e3*n)}},{key:"CheckEntryCode",value:function(){var e=this;this._ReceiptSharedService.CheckEntryNo(this._Receipt.id,this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.entry_no,this._Receipt.branch_id).subscribe(function(t){e.DuringSaveDisable=!1,e.cd.markForCheck(),null!=t&&Me().fire({title:e.swalTitleEntry,text:e.swalTextEntry,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:e.swalConfirmButtonEntry,cancelButtonText:e.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.value?e._router.navigate(["/page/inventorytransiction/receivingvoucher/"+t.id]).then(function(){}):(e._Receipt.entry_no=e.entry_no,e.cd.markForCheck())})})}},{key:"GetReceiptEntryCode",value:function(){var e=this;this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(function(t){e._Receipt.entry_no=0==t.length?1:t[0].entry_no+1,e.entry_no=e._Receipt.entry_no,e.cd.markForCheck()})}},{key:"changesalesprice",value:function(e){var t=this,n=JSON.parse(localStorage.getItem("ReceivePricePolicy"));null!=n&&null!=n&&localStorage.removeItem("ReceivePricePolicy"),this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id||null!=this._Receipt.vendor_id?Me().fire({title:this.warning,text:this.WarningInfoLost,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(e){e.value?(t._Receipt.details=new Array,t._Receipt.linkedreceipts=new Array,t.ItemUnitsList=[],t.GetDefaultStoreCostCenterByBranch(!0,!1)):t._Receipt.customersalesprice=t.originalSalesPrice,localStorage.setItem("ReceivePricePolicy",JSON.stringify({SalesPricePolicy:t._Receipt.customersalesprice}))}):(this.originalSalesPrice=this._Receipt.customersalesprice,localStorage.setItem("ReceivePricePolicy",JSON.stringify({SalesPricePolicy:this._Receipt.customersalesprice})))}},{key:"GetBranchList",value:function(){var e=this;this._ReceiptSharedService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(function(t){e.BranchList=t,e.cd.markForCheck()})}},{key:"changeBranch",value:function(e){var t=this;if(this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id||null!=this._Receipt.vendor_id)Me().fire({title:this.warning,text:this.WarningInfoLost,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){if(n.value){t._Receipt.details=new Array,t._Receipt.linkedreceipts=new Array,t.ItemUnitsList=[],t._Receipt.branch_id="null"==e.target.value?null:e.target.value;var i=JSON.parse(localStorage.getItem("Branch"));null!=i&&null!=i&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:t._Receipt.branch_id})),null!=t._Receipt.branch_id?(t.GetReceiptEntryCode(),t.GetDefaultStoreCostCenterByBranch(!0)):t._Receipt.entry_no=null}else{var r=JSON.parse(localStorage.getItem("Branch"));null!=r&&null!=r&&(t._Receipt.branch_id="null"==r.branchId||0==r.branchId?null:r.branchId)}});else{this._Receipt.branch_id="null"==e.target.value?null:e.target.value;var n=JSON.parse(localStorage.getItem("Branch"));null!=n&&null!=n&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._Receipt.branch_id})),null!=this._Receipt.branch_id?(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch()):this._Receipt.entry_no=null}}},{key:"GetDefaultStoreCostCenterByBranch",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];1==n&&(this._Receipt.vendor_id=null,this._Receipt.cashcustomerid=null,this._Receipt.cashcustomer_vendor_code=null,this._Receipt.cashcustomer_vendor_name=null,this._Receipt.costcenterid=null,this._Receipt.costcenterfieldname=null),1==t&&this.Calculate_Total_Tax_Net(),this._ReceiptSharedService.DefaultStoreCostCenterByBranch(this._Receipt.branch_id).subscribe(function(t){e.StoreCostCenterSetting=t.length>0?t[0]:{storeid:null,storecode:null,costcenterid:null,costcentername:null,costcentername_ar:null},null!=e.StoreCostCenterSetting.storeid&&(0==e._Receipt.details.length&&(e._CashSalesDetailsReceipt=new S.hm,e._CashSalesDetailsReceipt.transaction_move=e.Transaction_move,e._Receipt.details.push(e._CashSalesDetailsReceipt),e._Receipt.details[0].store_id=e.StoreCostCenterSetting.storeid,e._Receipt.details[0].storecode={code:e.StoreCostCenterSetting.storecode}),1==n&&e._Receipt.details.length>0&&(e._Receipt.details.forEach(function(t){t.store_id=e.StoreCostCenterSetting.storeid,t.storecode={code:e.StoreCostCenterSetting.storecode}}),e.CheckBalanceForItemInStore(0,!0))),e.cd.markForCheck()})}},{key:"GetShipmentTermList",value:function(){var e=this;this._cashsalesService.GetAllShipmentTermBySubSidary(this.subsidiaryID).subscribe(function(t){e.ShipmentTermList=t,e.cd.markForCheck()})}},{key:"GetCourierList",value:function(){var e=this;this._cashsalesService.AllActiveCourierBySubsidiaryID(this.subsidiaryID).subscribe(function(t){e.CourierList=t,e.cd.markForCheck()})}},{key:"GetAllPaymentTermsList",value:function(){var e=this;this._cashsalesService.GetAllPaymentTermsList().subscribe(function(t){e.PaymentTermsList=t,e.cd.markForCheck()})}},{key:"GetCurrentUserSetting",value:function(){var e=this;this._ReceiptSharedService.GetCurrentUserSetting().subscribe(function(t){e.CurrentUserSetting=t,e.SetCustomerSalesPriceList()})}},{key:"SetCustomerSalesPriceList",value:function(){if(this.CustomerSalesPriceList=[{id:1,text:"Price1",text_ar:"\u0633\u0639\u0631 1"},{id:2,text:"Price 2",text_ar:"\u0633\u0639\u0631 2"},{id:3,text:"Last Price",text_ar:"\u0622\u062e\u0631 \u0633\u0639\u0631"}],0==this.ReceiptID){var e=JSON.parse(localStorage.getItem("ReceivePricePolicy"));this._Receipt.customersalesprice=null!=e&&null!=e?parseInt(e.SalesPricePolicy):this.CustomerSalesPriceList[0].id}this.originalSalesPrice=this._Receipt.customersalesprice}},{key:"GetCashCustomerSettings",value:function(){var e=this;this._ReceiptSharedService.GetCashCustomerSettings(this.subsidiaryID).subscribe(function(t){null!=t||null!=t?(e.CashCustomerSetting=t,e.CashCustomerSetting.allowdecimalpack=1==e.CashCustomerSetting.allowdecimalpack?".01":"1"):e.CashCustomerSetting={allowdecimalpack:"1",enablecashcustomer:!1,salesreturneffect:"1",allowpack:!1,updatelinkedreceivingvoucher:!1},e.cd.markForCheck()})}},{key:"GetAllInventroySettingsBySubSidary",value:function(){var e=this;this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID).subscribe(function(t){e.InventorySetting=t})}},{key:"GetSubsaidarySetting",value:function(){var e=this;this._ReceiptSharedService.GetSubsaidarySetting(this.subsidiaryID).subscribe(function(t){null!=t&&(e.subsaidarySetting=t[0],e.cd.markForCheck())})}},{key:"GetCurrencyList",value:function(){var e=this;this._VoucherService.GetSubsidaryCurrencyList(this.subsidiaryID).subscribe(function(t){var n;t.length>0&&(e.CurrencyList=t,e._BaseCurrency=e.CurrencyList.find(function(e){return 1==e.basecurrency}),e._CurrencySelected=e._BaseCurrency,e._Currencyprecision=null!==(n=e._BaseCurrency.currencyprecision)&&void 0!==n?n:3,e._Receipt.currency_id=e._CurrencySelected.id,e._Receipt.currency_rate=Number(1..toFixed(9)),e.cd.markForCheck())})}},{key:"SupplierSelectEvent",value:function(e){this._Receipt.supplieraccount_id=e.accountid,this._Receipt.supplier_name={name:e.name},this._Receipt.supplier_namear={name_ar:e.name_ar}}},{key:"changeCurrency",value:function(e){var t,n=this;(console.log(e.target.value),this._CurrencySelected=this.CurrencyList.find(function(t){return t.id==e.target.value}),null!=this._CurrencySelected)?(t=""!=this._Receipt.entry_time&&null!=this._Receipt.entry_time&&null!=this._Receipt.entry_time?this._Receipt.entry_date+" "+this._Receipt.entry_time:this._Receipt.entry_date+" 23:59",this._VoucherService.GetSubsidaryCurrenciesRate(this.subsidiaryID,this._CurrencySelected.id,t,0).subscribe(function(e){n._Receipt.currency_rate=e&&e.length>0?e[0].rate.toFixed(9):Number(1..toFixed(9)),n.ForeignCurrencyShow=1!=n._CurrencySelected.basecurrency,n.Calculate_Total_Tax_Net(),n.cd.markForCheck()})):(this._CurrencySelected=null,this._Currencyprecision=3,this._Receipt.currency_rate=null,this.cd.markForCheck())}},{key:"ChangeEntryDate",value:function(){if(null!=this._Receipt.entry_date&&""!=this._Receipt.entry_date&&null!=this._Receipt.entry_date){this.CheckValidDateBySubsidaryID();for(var e=0;e<this._Receipt.details.length;e++)1==this._Receipt.details[e].haswarrenty&&null!=this._Receipt.details[e].warrantydate&&null!=this._Receipt.details[e].warrantydate&&Date.parse(this._Receipt.details[e].warrantydate.toString())<Date.parse(this._Receipt.entry_date.toString())&&(this._Receipt.details[e].warrantydate=null,this.toastr.error(this.ItemWarrantyValidMsg))}else this.DuringSaveDisable=!1,this.cd.markForCheck()}},{key:"CheckValidDateBySubsidaryID",value:function(){var e=this;this._ReceiptSharedService.ValidDateBySubsidaryID(this._Receipt.entry_date,this.subsidiaryID).subscribe(function(t){if(e.DuringSaveDisable=!1,e.cd.markForCheck(),null!=t||null!=t){if(null!=t||null!=t){var n=Date.parse(t.subsidarystart.toString()),i=Date.parse(e._Receipt.entry_date.toString());0==t.openperiod?(e.ValidPeriod=!1,e.ShowModeReceipt=!0,e.ShowPopUpFinancialPeriod("close")):1==t.openperiod&&n<i?(e.ValidPeriod=!0,e.ShowModeReceipt=!1,e.GetMaxCostPostedSerDate()):(e.ValidPeriod=!1,e.ShowModeReceipt=!0,e.ShowPopUpFinancialPeriod())}}else e.ValidPeriod=!1,e.ShowModeReceipt=!0,e.ShowPopUpFinancialPeriod();e.cd.markForCheck()})}},{key:"ShowPopUpFinancialPeriod",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="close"==e?this.FinancialPeriodCloseMsg:this.FinancialPeriodMsg;Me().fire({title:this.warning,text:t,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(function(e){})}},{key:"ShowPopUpCostPostedSerDate",value:function(){Me().fire({title:this.warning,text:this.CostPostingPeriodMessage,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(function(e){})}},{key:"ShowPopUpLinkedVoucherIsPosted",value:function(){Me().fire({title:this.warning,text:this.LinkedVoucherIsPostedMsg,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(function(e){})}},{key:"ShowPopUpCountReceipt",value:function(){Me().fire({title:this.warning,text:this.CountReceiptsMsg,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(function(e){})}},{key:"onFocusInCustomerAccounts",value:function(e){this.GetCustomerAccountsList("")}},{key:"CustomerAccountsChangeSearch",value:function(e){this.GetCustomerAccountsList(e.query.trim())}},{key:"CustomerAccountsSelectEvent",value:function(e){var t=this;1==e.pricelistitemsonly&&(this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id)?Me().fire({title:this.warning,text:this.CustomerPricelistMsg,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.value?(t._Receipt.details=new Array,t._Receipt.linkedreceipts=new Array,t.ItemUnitsList=[],t._Receipt.vendor_id=e.accountid,t._Receipt.cashcustomer_vendor_name="ar"!=t.lang?e.name:e.name_ar,t.PriceListItemsOnly=e.pricelistitemsonly,t.chk_ChangeSupplier||(t._Receipt.supplieraccount_id=e.accountid,t._Receipt.supplier_name={name:e.name},t._Receipt.supplier_namear={name_ar:e.name_ar}),null!=e.salesmanid&&0!=e.salesmanid&&""!=e.salesmanid&&(t._Receipt.empoyee_id=e.salesmanid),t.GetDefaultStoreCostCenterByBranch(!0,!1)):(t._Receipt.vendor_id=e.accountid,t._Receipt.cashcustomer_vendor_name="ar"!=t.lang?e.name:e.name_ar,t.PriceListItemsOnly=e.pricelistitemsonly,t.chk_ChangeSupplier||(t._Receipt.supplieraccount_id=e.accountid,t._Receipt.supplier_name={name:e.name},t._Receipt.supplier_namear={name_ar:e.name_ar}),null!=e.salesmanid&&0!=e.salesmanid&&""!=e.salesmanid&&(t._Receipt.empoyee_id=e.salesmanid),t.GetDefaultStoreCostCenterByBranch(!1,!1))}):(this.chk_ChangeSupplier||(this._Receipt.supplieraccount_id=e.accountid,this._Receipt.supplier_name={name:e.name},this._Receipt.supplier_namear={name_ar:e.name_ar}),this._Receipt.vendor_id=e.accountid,this._Receipt.cashcustomer_vendor_name="ar"!=this.lang?e.name:e.name_ar,this.PriceListItemsOnly=e.pricelistitemsonly,this.GetDefaultStoreCostCenterByBranch(!1,!1))}},{key:"GetCustomerAccountsList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._CustomerService.GetVendorAccountsList(this.subsidiaryID,t).subscribe(function(t){e.CustomerAccountsList=[],e.CustomerAccountsList=t,e.cd.markForCheck()})}},{key:"onClearVendor",value:function(){this._Receipt.cashcustomer_vendor_name=null,this._Receipt.vendor_balance=null,this._Receipt.vendor_id=null}},{key:"onFocusInStore",value:function(e,t){t==this._Receipt.details.length-1&&this.AddItems(),this.GetStoreList("")}},{key:"StoreChangeSearch",value:function(e,t){this.GetStoreList(e.query.trim())}},{key:"StoreSelectEvent",value:function(e,t){this._Receipt.details[t].store_id=e.id,this._Receipt.details.forEach(function(t){t.store_id=e.id,t.storecode=e}),this.CheckBalanceForItemInStore(0,!0)}},{key:"GetStoreList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetStoreList(this.subsidiaryID,t).subscribe(function(t){e.StoreList=[],e.StoreList=t,e.cd.markForCheck()})}},{key:"onFocusInItems",value:function(e,t){this.GetItemsList("")}},{key:"ItemsChangeSearch",value:function(e,t){var n=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){n.timeout=null,n.GetItemsList(e.query.trim())},300)}},{key:"ItemsSelectEvent",value:function(e,t){null!=this._Receipt.details[t].item_id&&this.onClearItems(t),0==e.stopinventorytransactions?(t==this._Receipt.details.length-1&&(this.InventorySetting?this.InventorySetting[0].permissiontorepeatiteminvoucher&&null!=this.InventorySetting[0].permissiontorepeatiteminvoucher&&null!=this.InventorySetting[0].permissiontorepeatiteminvoucher?this.AddItems():this._Receipt.details.some(function(t){return t.item_id==e.id})?this.duplicateItemSwalPopUp(t):this.AddItems():this.AddItems()),this._Receipt.details[t].item_id=e.id,this._Receipt.details[t].itemname=e.name,this._Receipt.details[t].itemname_ar=e.name_ar,this.GetItemDataDetailsLists(e,t)):(this._Receipt.details[t]=new S.hm,0==this._Receipt.id?(this._Receipt.details[t].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[t].storecode={code:this.StoreCostCenterSetting.storecode}):(this._Receipt.details[t].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.details[t].storecode=this._ReceiptOriginal.details[0].storecode),this.cd.markForCheck(),this.toastr.error(this.StopInventoryErrorMsg))}},{key:"duplicateItemSwalPopUp",value:function(e){var t=this;Me().fire({title:this.warning,text:this.cantNotDuplicateItem,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(function(n){t.onClearItems(e),t._Receipt.details[e].itemcode=null,t.cd.markForCheck()})}},{key:"onClearItems",value:function(e){this._Receipt.details[e].id=null,this._Receipt.details[e].finishedproductid=null,this._Receipt.details[e].finishedreceipt_did=null,this._Receipt.details[e].item_id=null,this._Receipt.details[e].itemname=null,this._Receipt.details[e].itemname_ar=null}},{key:"GetItemsList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetItemsDataListpurchase(this.subsidiaryID,t,this._Receipt.vendor_id).subscribe(function(t){e.ItemsList=[],e.ItemsList=t,e.cd.markForCheck()})}},{key:"GetItemDataDetailsLists",value:function(e,t){var n=this;this._Receipt.details[t].id=null,this._Receipt.details[t].finishedproductid=null,this._Receipt.details[t].finishedreceipt_did=null,this._Receipt.details[t].conv=1,this._Receipt.details[t].final_conv=1,this._Receipt.details[t].qty=1,this._Receipt.details[t].price=0,this._Receipt.details[t].lowestsaleprice=0,this._Receipt.details[t].discount_percent=0,this._Receipt.details[t].discount_value=0,this._Receipt.details[t].total=0,this._Receipt.details[t].notes="",this._Receipt.details[t].unit_id=null,this._ReceiptSharedService.GetItemDataDetailsLists(this.subsidiaryID,e.id).subscribe(function(i){0==i.itemunits.length?(n._Receipt.details[t]=new S.hm,n._Receipt.details[t].isrequireserial=i.item.isrequireserial,n._Receipt.details[t].othercostaccount=i.item.othercostaccount,0==n._Receipt.id?(n._Receipt.details[t].store_id=n.StoreCostCenterSetting.storeid,n._Receipt.details[t].storecode={code:n.StoreCostCenterSetting.storecode}):(n._Receipt.details[t].store_id=n._ReceiptOriginal.details[0].store_id,n._Receipt.details[t].storecode=n._ReceiptOriginal.details[0].storecode),n.toastr.error(n.NoUnits)):(n._Receipt.details[t].isrequireserial=i.item.isrequireserial,n._Receipt.details[t].othercostaccount=i.item.othercostaccount,n._Receipt.details[t].notes=i.item.notes,n._Receipt.details[t].item_type=i.item.item_type,n._Receipt.details[t].qty=1,n._Receipt.details[t].haswarrenty=i.item.haswarrenty,n._Receipt.details[t].warrantydate=i.item.haswarrenty?n.getwarrantydateDate():null,n.ItemUnitsList.length>0?0==n.ItemUnitsList.filter(function(t){return t.item_id==e.id}).length&&(n.ItemUnitsList=n.ItemUnitsList.concat(i.itemunits)):n.ItemUnitsList=n.ItemUnitsList.concat(i.itemunits),n._Receipt.details[t].unit_id=e.purchasing_unitid,n.CheckShowWarrantyDateCols(),n.ChangeItemUnits(e.purchasing_unitid,t)),n.cd.markForCheck()})}},{key:"ChangeItemUnits",value:function(e,t){var n=this;e.toString().includes(":")&&(e=e.split(":")[1].trim());var i=this._Receipt.details[t].item_id,r=this.ItemUnitsList.filter(function(t){return t.item_id==i&&t.id==e});this._ReceiptSharedService.GetItemVendorPrice(this._Receipt.vendor_id,i,e,this._Receipt.customersalesprice).subscribe(function(e){var i;e.length>0&&(n._Receipt.details[t].price=null!==(i=e[0].price)&&void 0!==i?i:0),n._Receipt.details[t].conv=r[0].conv,n._Receipt.details[t].final_conv=r[0].finalconv,n.OnSelectedItem(n._Receipt.details[t],t),n.CalaculteValuesItemsRow(t)}),this.cd.markForCheck()}},{key:"ChangePackItem",value:function(e){var t=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.timeout=null;var n,i=0,r=t.ItemUnitsList.filter(function(n){return n.item_id==t._Receipt.details[e].item_id&&n.id==t._Receipt.details[e].unit_id});n=r[0].conv,t._ReceiptSharedService.GetItemVendorPrice(t._Receipt.vendor_id,t._Receipt.details[e].item_id,t._Receipt.details[e].unit_id,t._Receipt.customersalesprice).subscribe(function(r){i=r[0].price,t._Receipt.details[e].price=i*t._Receipt.details[e].conv/n,t.OnSelectedItem(t._Receipt.details[e],e),t.CalaculteValuesItemsRow(e)}),t.cd.markForCheck()},1e3)}},{key:"ChangeQty",value:function(e){var t=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.timeout=null,t.StockBalances(e),t.CheckBalanceForItemInStore(e),t.CalaculteValuesItemsRow(e)},1e3)}},{key:"OnSelectedItem",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this.SelectedItem=e,this.itemqtyview=!1,null!=t&&this.StockBalances(t),""==n&&null!=t&&this.CheckBalanceForItemInStore(t)}},{key:"AddItems",value:function(){if(this._CashSalesDetailsReceipt=new S.hm,this._Receipt.details.length>0){this._CashSalesDetailsReceipt.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,this._CashSalesDetailsReceipt.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode;var e=0;this._Receipt.details.forEach(function(t){e+=t.qty}),this._Receipt.qtotal=e,this._Receipt.totalitem=this._Receipt.details.length}else{this._CashSalesDetailsReceipt.store_id=this.StoreCostCenterSetting.storeid,this._CashSalesDetailsReceipt.storecode={code:this.StoreCostCenterSetting.storecode};var t=0;this._Receipt.details.forEach(function(e){t+=e.qty}),this._Receipt.qtotal=t,this._Receipt.totalitem=this._Receipt.details.length}this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move,this._Receipt.details.push(this._CashSalesDetailsReceipt),this.cd.markForCheck()}},{key:"DeleteItems",value:function(e){var t=this._Receipt.details[e];null==t.batcheslist||-1==t.batcheslist.findIndex(function(e){return e.solidquantity>0})?(1==this._Receipt.details.filter(function(e){return e.item_id==t.item_id}).length&&(this.ItemUnitsList=this.ItemUnitsList.filter(function(e){return e.item_id!=t.item_id})),this._Receipt.details.splice(e,1),0==this._Receipt.details.length&&(this._Receipt.discount_percent=0,this._Receipt.discount_foreignpercent=0,this._Receipt.deliveryfees=0,this._Receipt.deliveryfeesforeign=0,this._Receipt.discount_value=0,this._Receipt.discount_foreignvalue=0,this._Receipt.value=0,this._Receipt.valueforeign=0,this._Receipt.surchargevalueforeign=0,this._Receipt.surchargevalue=0),this.Calculate_Total_Tax_Net(),this._Receipt.totalitem=this._Receipt.details.length,this.OnSelectedItem(null),this.cd.markForCheck()):this.toastr.error(this.DeleteUsedBatchesOrSerials)}},{key:"Checkwarrantydate",value:function(e,t){Date.parse(e.toString())>Date.parse(this._Receipt.entry_date.toString())?(this._Receipt.details[t].warrantydate=e.target.value,this.cd.markForCheck()):(this.toastr.error(this.ItemWarrantyValidMsg),this._Receipt.details[t].warrantydate=null)}},{key:"CheckShowWarrantyDateCols",value:function(){var e=this._Receipt.details.filter(function(e){return 1==e.haswarrenty});this.ShowWarrantyDateCols=e.length>0,this.cd.markForCheck()}},{key:"CalaculteValuesItemsRow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"percent";this._Receipt.details[e].qty=this._Receipt.details[e].qty||0,this._Receipt.details[e].price=this._Receipt.details[e].price||0,this._Receipt.details[e].discount_value=this._Receipt.details[e].discount_value||0,this._Receipt.details[e].discount_percent=this._Receipt.details[e].discount_percent||0;var n=Number((this._Receipt.details[e].price*this._Receipt.details[e].qty).toFixed(this._Currencyprecision));"percent"==t&&(this._Receipt.details[e].discount_value=Number(((n*this._Receipt.details[e].discount_percent||0)/100).toFixed(this._Currencyprecision))),"value"==t&&(this._Receipt.details[e].discount_percent=100*(this._Receipt.details[e].discount_value/n%(1/0)||0)),this._Receipt.details[e].total=Number((n-this._Receipt.details[e].discount_value).toFixed(this._Currencyprecision)),this.Calculate_Total_Tax_Net(),this.cd.markForCheck()}},{key:"ReCalaculteValuesChangeItemsRow",value:function(e){this._Receipt.details[e].qty=this._Receipt.details[e].qty||1,this._Receipt.details[e].price=this._Receipt.details[e].price||0,this._Receipt.details[e].discount_value=this._Receipt.details[e].discount_value||0,this._Receipt.details[e].discount_percent=this._Receipt.details[e].discount_percent||0,this._Receipt.details[e].total=Number((this._Receipt.details[e].total||0).toFixed(this._Currencyprecision)),0==this._Receipt.details[e].discount_value?this._Receipt.details[e].price=Number((this._Receipt.details[e].total/this._Receipt.details[e].qty%(1/0)||0).toFixed(this._Currencyprecision)):0!=this._Receipt.details[e].discount_value&&(this._Receipt.details[e].price=Number(((this._Receipt.details[e].total+this._Receipt.details[e].discount_value)/this._Receipt.details[e].qty%(1/0)||0).toFixed(this._Currencyprecision)),this._Receipt.details[e].discount_percent=100*(this._Receipt.details[e].discount_value/(this._Receipt.details[e].price*this._Receipt.details[e].qty)%(1/0)||0)),this.Calculate_Total_Tax_Net(),this.cd.markForCheck()}},{key:"GetReceiptCodeList",value:function(){var e=this;this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID).subscribe(function(t){e.ReceiptCodeList=t;var n=e.ReceiptCodeList.find(function(t){return t.code==e.BasicCodeReceipt});e.Transaction_move=n.items,e.cd.markForCheck()})}},{key:"AddLinkedReceipt",value:function(){this._LinkedReceipt=new S.Cb,this._LinkedReceipt.code=this.BasicCodeReceipt,this._LinkedReceipt.branch_id=this._Receipt.branch_id,this._Receipt.linkedreceipts.push(this._LinkedReceipt),this.cd.markForCheck()}},{key:"GetLinkedReceipt",value:function(e){var t=this,n=this._Receipt.linkedreceipts[e];this.ItemLinkedReceipt=[],null!=n.branch_id&&null!=n.code&&null!=n.entry_no&&n.entry_no>0&&0==n.fire&&(this._Receipt.linkedreceipts[e].fire=1,this.spinner.show(),this._ReceiptSharedService.GetReceiptForLinkedReceipt(n.branch_id,n.code,n.entry_no).subscribe(function(n){if(null==n.receipt.id)t._Receipt.linkedreceipts[e].fire=0,t.toastr.error(t.ReceiptNotFound);else if(n.items.length>0)if(1==t._Receipt.linkedreceipts.length&&(t._Receipt.subsidiaryid=n.receipt.subsidiaryid,t._Receipt.customersalesprice=null!=n.receipt.customersalesprice?n.receipt.customersalesprice:t._Receipt.customersalesprice,t._Receipt.payment_type=null!=n.receipt.payment_type?n.receipt.payment_type:t._Receipt.payment_type,t._Receipt.vendor_id=null!=n.receipt.vendor_id?n.receipt.vendor_id:t._Receipt.vendor_id,t._Receipt.cashcustomerid=null!=n.receipt.cashcustomerid?n.receipt.cashcustomerid:t._Receipt.cashcustomerid,null!=t._Receipt.vendor_id&&(t._Receipt.cashcustomer_vendor_code={code:n.receipt.vendorcode},t._Receipt.cashcustomer_vendor_name="ar"==t.lang?n.receipt.vendornamear:n.receipt.vendorname,t._Receipt.vendor_balance=null!=n.receipt.vendor_balance?n.receipt.vendor_balance:t._Receipt.vendor_balance,t.PriceListItemsOnly=n.receipt.pricelistitemsonly),null!=t._Receipt.cashcustomerid&&(t._Receipt.cashcustomer_vendor_code={phonenumber:n.receipt.phonenumber},t._Receipt.cashcustomer_vendor_name="ar"==t.lang?n.receipt.cashcustomername_ar:n.receipt.cashcustomername,t.PriceListItemsOnly=!1),t._Receipt.currency_id=n.receipt.currency_id,t._Receipt.currency_rate=n.receipt.currency_rate,t._Receipt.empoyee_id=null!=n.receipt.empoyee_id?n.receipt.empoyee_id:t._Receipt.empoyee_id,t._Receipt.memo=n.receipt.memo,t._Receipt.reference_no=n.receipt.reference_no,t._Receipt.costing_rate=n.receipt.costing_rate,t.costing_rateDisplay=n.receipt.costing_rate.toFixed(6),t._CurrencySelected=t.CurrencyList.find(function(e){return e.id==t._Receipt.currency_id}),t.ForeignCurrencyShow=1!=t._CurrencySelected.basecurrency),0==t.PriceListItemsOnly||n.receipt.vendor_id==t._Receipt.vendor_id){t._Receipt.linkedreceipts[e].fire=1,t._Receipt.linkedreceipts[e].receiptid=n.receipt.id,t._Receipt.linkedreceipts[e].subsidiaryid=t.subsidiaryID,t._Receipt.linkedreceipts[e].parentreceiptid=t._Receipt.id;for(var i=0;i<t._Receipt.details.length;i++)null==t._Receipt.details[i].item_id&&(t._Receipt.details.splice(i,1),i--);n.itemunits.forEach(function(e){0==t.ItemUnitsList.filter(function(t){return t.item_id==e.item_id&&t.id==e.unit_id}).length&&t.ItemUnitsList.push(e)}),t.ItemLinkedReceipt=n.items.filter(function(e){return 3!=e.item_type&&(0==e.consignment||1==e.consignment&&2==e.consignmentbalancetype)}),81==n.receipt.code&&(t.ItemLinkedReceipt=t.ItemLinkedReceipt.filter(function(e){return-1==e.transaction_move})),t.SetLinkReceiptItemRow(0,t.ItemLinkedReceipt[0]),t._Receipt.lcbank=n.receipt.lcbank,t._Receipt.lccondition=n.receipt.lccondition,t._Receipt.lcaccountcode=n.receipt.lcaccountcode,t._Receipt.lcaccountid=n.receipt.lcaccountid,t._Receipt.lcaccountname={lcaccountname:"ar"==t.lang?n.receipt.lcaccountnamear:n.receipt.lcaccountname},t._Receipt.lcenddate=n.receipt.lcenddate,t._Receipt.lcinsurancecompany=n.receipt.lcinsurancecompany,t._Receipt.lcno=n.receipt.lcno,t._Receipt.lcnotes=n.receipt.lcnotes,t._Receipt.lcpolicyno=n.receipt.lcpolicyno,t._Receipt.lcrenewdate=n.receipt.lcrenewdate,t._Receipt.lcrenewenddate=n.receipt.lcrenewenddate,t._Receipt.lcstartdate=n.receipt.lcstartdate,t._Receipt.insurancedate=n.receipt.insurancedate,t._Receipt.shippingmethod=n.receipt.shippingmethod,t._Receipt.gooddeliverydate=n.receipt.gooddeliverydate,t._Receipt.exportport=n.receipt.exportport,t._Receipt.shipname=n.receipt.shipname,t._Receipt.supplier_name={supplier_name:"ar"==t.lang?n.receipt.supplier_namear:n.receipt.supplier_name},t._Receipt.supplieraccount_id=n.receipt.supplieraccount_id,t._Receipt.paymentterm_id=n.receipt.paymentterm_id,t._Receipt.contactedperson=n.receipt.contactedperson,t._Receipt.planneddeliverydate=n.receipt.planneddeliverydate,t._Receipt.actualdeliverydate=n.receipt.actualdeliverydate,t._Receipt.courierid=n.receipt.courierid,t._Receipt.deliverylocation=n.receipt.deliverylocation,t._Receipt.othernotes=n.receipt.othernotes,n.receiptexpenses.length>0&&(t._Receipt.receiptexpenses=n.receiptexpenses)}else t._Receipt.linkedreceipts[e].fire=0,t.toastr.info(t.CustomerPricelistMsg);else t._Receipt.linkedreceipts[e].fire=0,t.spinner.hide(),t.toastr.error(t.Receiptnoitems),t._Receipt.linkedreceipts[e].entry_no=null,t.cd.markForCheck()}))}},{key:"SetLinkReceiptItemRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;this._CashSalesDetailsReceipt=new S.hm;var n=this._Receipt.details.findIndex(function(e){return e.item_id==t.item_id&&e.unit_id==t.unit_id&&e.conv==t.conv});-1==n?(this._Receipt.details.length>0?(this._CashSalesDetailsReceipt.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,this._CashSalesDetailsReceipt.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode):(this._CashSalesDetailsReceipt.store_id=t.store_id,this._CashSalesDetailsReceipt.storecode={code:t.storecode}),this._CashSalesDetailsReceipt.item_id=t.item_id,this._CashSalesDetailsReceipt.itemcode={code:t.itemcode},this._CashSalesDetailsReceipt.itemname=t.itemname,this._CashSalesDetailsReceipt.itemname_ar=t.itemname_ar,this._CashSalesDetailsReceipt.unit_id=t.unit_id,this._CashSalesDetailsReceipt.qty=t.qty,this._CashSalesDetailsReceipt.conv=t.conv,this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move,this._CashSalesDetailsReceipt.isrequireserial=t.isrequireserial,this._CashSalesDetailsReceipt.othercostaccount=t.othercostaccount,this._CashSalesDetailsReceipt.item_type=t.item_type,this._CashSalesDetailsReceipt.notes=t.notes,this._CashSalesDetailsReceipt.haswarrenty=t.haswarrenty,this._CashSalesDetailsReceipt.warrantydate=t.warrantydate,this._CashSalesDetailsReceipt.detailshtml=t.detailshtml,this._CashSalesDetailsReceipt.customitemname=t.customitemname,this._CashSalesDetailsReceipt.salesmanid=t.salesmanid,this._CashSalesDetailsReceipt.price=0!=t.priceafterincrease&&null!=t.priceafterincrease?t.priceafterincrease:t.price,this._CashSalesDetailsReceipt.discount_percent=t.discount_percent,this._CashSalesDetailsReceipt.discount_value=t.discount_value,this._CashSalesDetailsReceipt.total=t.total,this.ItemUnitsList.filter(function(e){return e.item_id==t.item_id&&e.id==t.unit_id}),this._Receipt.details.push(this._CashSalesDetailsReceipt),this.CalaculteValuesItemsRow(this._Receipt.details.length-1),e+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(e+1,this.ItemLinkedReceipt[e+1]):(this.CheckShowWarrantyDateCols(),this.SetLinkReceiptItemComponentsRows())):(this._Receipt.details[n].qty=this._Receipt.details[n].qty+parseFloat(t.qty),this.CalaculteValuesItemsRow(n),e+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(e+1,this.ItemLinkedReceipt[e+1]):(this.CheckShowWarrantyDateCols(),this.SetLinkReceiptItemComponentsRows()))}},{key:"SetLinkReceiptItemComponentsRows",value:function(){if(this.spinner.hide(),this.IxLRS+1<this.LinkedReceiptListSelected.length){this.IxLRS=this.IxLRS+1;var e=this._Receipt.linkedreceipts.length-(this.IxLRS+1);1!=this._Receipt.linkedreceipts[e].fire&&this.GetLinkedReceipt(e)}else this.CheckBalanceForItemInStore(0,!0),this.StockBalances(0)}},{key:"OnOpenLinkedReceipt",value:function(e){var t=this,n=this._Receipt.linkedreceipts[e];null!=n.branch_id&&null!=n.code&&null!=n.entry_no&&n.entry_no>0&&this._ReceiptSharedService.GetLinkedReceiptID(n.branch_id,n.code,n.entry_no).subscribe(function(e){var i=t._ReceiptSharedService.ReceiptsLinked_Url_Codes.find(function(e){return e.Code==n.code});""!=i.Url&&null!=e.id?window.open(i.Url+e.id+"/show","_blank"):t.toastr.error(t.ReceiptNotFound)})}},{key:"DeleteLinkedReceipt",value:function(e){this._Receipt.linkedreceipts.splice(e,1),this.cd.markForCheck()}},{key:"OnSignatureSet",value:function(e){this._Receipt.signature=e.signature}},{key:"OnOpenReceiptHistory",value:function(e){var t=this.ReceiptHistoryList[e],n=this._ReceiptSharedService.ReceiptsLinked_Url_Codes.find(function(e){return e.Code==t.code});""!=n.Url&&window.open(n.Url+this.ReceiptHistoryList[e].receiptid+"/show","_blank")}},{key:"Calculate_Total_Tax_Net",value:function(){var e=0;this._Receipt.details.forEach(function(t){e+=t.total}),1==this._Receipt.currency_rate?(this._Receipt.value=Number(e.toFixed(this._Currencyprecision)),this._Receipt.valueforeign=Number(e.toFixed(this._Currencyprecision))):(this._Receipt.valueforeign=Number(e.toFixed(this._Currencyprecision)),this._Receipt.value=Number((e/this._Receipt.currency_rate).toFixed(this._Currencyprecision))),this._Receipt.deliveryfees=this._Receipt.deliveryfees||0,this._Receipt.deliveryfeesforeign=this._Receipt.deliveryfeesforeign||0,this._Receipt.discount_foreignpercent=this._Receipt.discount_foreignpercent||0,this._Receipt.discount_foreignvalue=this._Receipt.discount_foreignvalue||0,this._Receipt.discount_percent=this._Receipt.discount_percent||0,this._Receipt.discount_value=this._Receipt.discount_value||0,this._Receipt.surchargepercent=this._Receipt.surchargepercent||0,this._Receipt.surchargevalue=this._Receipt.surchargevalue||0,this.CalculateTax_Net(e);var t=0;this._Receipt.details.forEach(function(e){t+=e.qty}),this._Receipt.qtotal=t}},{key:"CalculateTax_Net",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;1==this._Receipt.currency_rate?(this._Receipt.netvalue=Number(e.toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0,this._Receipt.netvalueforeign=this._Receipt.netvalue):(this._Receipt.netvalueforeign=Number(e.toFixed(this._Currencyprecision)),this._Receipt.netvalueforeign=this._Receipt.netvalueforeign>=0?this._Receipt.netvalueforeign:0,this._Receipt.netvalue=Number((this._Receipt.netvalueforeign/this._Receipt.currency_rate).toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0)}},{key:"StockBalances",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!=e&&3!=this._Receipt.details[e].item_type?(this.itemqtyview=!1,this._itemstoreqtyobj=new S.I$,this._itemstoreqtyobj.subsidairyid=this.subsidiaryID,this._itemstoreqtyobj.ReceiptCode=this.BasicCodeReceipt,this._itemstoreqtyobj.BranchID=this._Receipt.branch_id,this._itemstoreqtyobj.Entrydate=this._Receipt.entry_date,this._itemstoreqtyobj.Unit_ID=this._Receipt.details[e].unit_id,this._itemstoreqtyobj.conv=this._Receipt.details[e].conv,this._itemstoreqtyobj.itemid=this._Receipt.details[e].item_id,this.itemqtyview=!0):(this.itemqtyview=!1,this._itemstoreqtyobj=new S.I$)}},{key:"CheckBalanceForItemInStore",value:function(e){var t,n=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];1==r&&(this.DuringSaveDisable=!0,this.cd.markForCheck());var a=!0,o=new S.I$;if(null!=this._Receipt.details[e].item_id){o.ReceiptCode=this.BasicCodeReceipt,o.BranchID=this._Receipt.branch_id,o.Entrydate=this._Receipt.entry_date,o.Unit_ID=this._Receipt.details[e].unit_id,o.conv=this._Receipt.details[e].conv,o.Qty=0,o.itemid=this._Receipt.details[e].item_id,o.StoreID=this._Receipt.details[e].store_id,o.subsidairyid=this.subsidiaryID,o.ReceiptID=this._Receipt.id;var c=null!==(t=this.ReceiptCodeList.filter(function(e){return e.code==n.BasicCodeReceipt})[0].items)&&void 0!==t?t:-1,l=this.InventorySetting[0].physicalnegativeinventoryid;2!=this._Receipt.details[e].item_type&&(-1==c||1==c&&this._Receipt.details[e].id>0)&&1==l?this._ReceiptSharedService.CheckBalanceForItemInStore(o).subscribe(function(t){var o=0,l=0,s=0;0==t.consignment.consignment&&(null!=t.totalqty.totalqty?(o=t.totalqty.totalqty,n._Receipt.details.filter(function(t){return t.item_id==n._Receipt.details[e].item_id}).forEach(function(e){var t=n.ItemUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=t){var i=null!=t.finalconv?t.finalconv:1,r=null!=t.conv?t.conv:1,a=e.conv;l=parseFloat(l.toString())+i*(a/r)*parseFloat(e.qty.toString())}}),-1==c?s=o-l:1==c&&(s=o+l),a=s>=0):a=!1,0==a?(n._Receipt.details[e].allowqtyselectforitem=!1,n.cd.markForCheck(),n.toastr.warning(n.qtyErrorMsg+o)):(n._Receipt.details[e].allowqtyselectforitem=!0,n.cd.markForCheck())),1==i&&e+1<n._Receipt.details.length?n.CheckBalanceForItemInStore(e+1,!0,r):1==r&&n.SaveReceipt()}):1==i&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,r):1==r&&this.SaveReceipt()}else 2==this._Receipt.details[e].item_type&&1==this._ModuleList[0].financial?(0==this._Receipt.details[e].othercostaccount?(this._Receipt.details[e].allowqtyselectforitem=!1,this.cd.markForCheck(),this.toastr.warning(this.CostAccountErrorMsg)):(this._Receipt.details[e].allowqtyselectforitem=!0,this.cd.markForCheck()),1==i&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,r):1==r&&this.SaveReceipt()):1==i&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,r):1==r&&this.SaveReceipt()}},{key:"CheckBalanceForItemInStoreBeforeDelete",value:function(e){var t,n=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!0,a=new S.I$;if(null!=this._Receipt.details[e].item_id){a.ReceiptCode=this.BasicCodeReceipt,a.BranchID=this._Receipt.branch_id,a.Entrydate=this._Receipt.entry_date,a.Unit_ID=this._Receipt.details[e].unit_id,a.conv=this._Receipt.details[e].conv,a.Qty=0,a.itemid=this._Receipt.details[e].item_id,a.StoreID=this._Receipt.details[e].store_id,a.subsidairyid=this.subsidiaryID,a.ReceiptID=this._Receipt.id;var o=null!==(t=this.ReceiptCodeList.filter(function(e){return e.code==n.BasicCodeReceipt})[0].items)&&void 0!==t?t:-1,c=this.InventorySetting[0].physicalnegativeinventoryid,l=this.InventorySetting[0].purchaseseffect;2!=this._Receipt.details[e].item_type&&3!=this._Receipt.details[e].item_type&&1==o&&this._Receipt.details[e].id>0&&1==c&&(1==l||null==l)?this._ReceiptSharedService.CheckBalanceForItemInStoreBeforeDelete(a).subscribe(function(t){var a=0,o=0,c=0;null!=t.totalqty.totalqty?(a=t.totalqty.totalqty,n._Receipt.details.filter(function(t){return t.item_id==n._Receipt.details[e].item_id}).forEach(function(e){if(e.id>0){var t=n.ItemUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=t){var i=null!=t.finalconv?t.finalconv:1,r=null!=t.conv?t.conv:1,a=e.conv;o=parseFloat(o.toString())+i*(a/r)*parseFloat(e.qty.toString())}}}),r=(c=a-o)>=0):r=!1,0==r?(n._Receipt.details[e].allowqtyselectforitem=!1,n.cd.markForCheck(),n.toastr.error(n.qtyErrorMsg+" "+c)):(n._Receipt.details[e].allowqtyselectforitem=!0,n.cd.markForCheck(),1==i&&e+1<n._Receipt.details.length?n.CheckBalanceForItemInStoreBeforeDelete(e+1,!0):n.DeleteAction())}):1==i&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStoreBeforeDelete(e+1,!0):this.DeleteAction()}else 1==i&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStoreBeforeDelete(e+1,!0):this.DeleteAction()}},{key:"CreateNewAction",value:function(){var e=this;JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||1==this.ShowModeReceipt||this.ReceiptID>0&&!this.checkRoleParms(202)?this._router.navigate(["/page/inventorytransiction/receivingvoucher/0"]).then(function(){window.location.reload()}):Me().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(t){t.value?e.CheckPre_SaveReceipt(e.RForm):t.dismiss===Me().DismissReason.cancel&&e._router.navigate(["/page/inventorytransiction/receivingvoucher/0"]).then(function(){window.location.reload()})})}},{key:"DeleteAction",value:function(){var e=this;Me().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(t){t.isConfirmed&&1==t.isConfirmed&&e._ReceiptSharedService.DeleteReceipts(e._Receipt.id).subscribe(function(t){0==t.bcount?(e.toastr.success(e.toastrSuccessDelete),e._router.navigate(["/page/inventorytransiction/receivingvoucher"])):-1==t.bcount?(t.usedserials.forEach(function(t){var n=e._Receipt.details.findIndex(function(e){return e.item_id==t.itemid&&e.batcheslist[0].id==t.id});-1!=n&&(e._Receipt.details[n].allowqtyselectforitem=!1)}),e.toastr.error(e.RelatedwithSerialsOrBatches)):e.toastr.error(e.DeleteRelationmsg)})})}},{key:"GetMaxCostPostedSerDate",value:function(){var e=this;this._ReceiptSharedService.GetMaxCostPostedSerDate(this._Receipt.entry_date,this.subsidiaryID).subscribe(function(t){var n=e.datepipe.transform(t[0].maxpostingdate,"yyyy-MM-dd");Date.parse(n.toString())<Date.parse(e._Receipt.entry_date.toString())?(e.ShowModeReceipt=!1,e.ValidPeriod=!0,e.CountReceipts>0&&(e.ShowModeReceipt=!0,e.ShowPopUpCountReceipt())):(e.ShowModeReceipt=!0,e.ValidPeriod=!1,e.ShowPopUpCostPostedSerDate()),e.cd.markForCheck()})}},{key:"DupilcateAction",value:function(){var e=this;this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(function(t){e._Receipt.entry_no=0==t.length?1:t[0].entry_no+1,e.entry_no=e._Receipt.entry_no,e.location.replaceState("/page/inventorytransiction/receivingvoucher/0"),e.ReceiptID=0,e._Receipt.id=null,e.VouchersLinkedCount=0,e.CheckBalanceForItemInStore(0,!0),e.cd.markForCheck()})}},{key:"QualityAction",value:function(){}},{key:"DocumentAction",value:function(){this._router.navigate(["/page/setupsettings/documents/3/"+this._Receipt.id+"/receivingvoucher"],{relativeTo:this._activeRoute,queryParams:{show:this.LockedRecepit}})}},{key:"PrintPreview",value:function(e){var t=this,n=this.getReportfilter(0==e?1:0);this.spinner.show(),this._ReceiptSharedService.GetReport(n).subscribe(function(n){t.spinner.hide(),1==e?t._authService.showPdfInNewTab(n.bytes,""):t._authService.printJS(n.bytes)}),this.cd.markForCheck()}},{key:"onPrint",value:function(){var e=this,t=this.getReportfilter(0);this._VerifyReportsService.SaveVerifyReports(this.subsidiaryID,this.lang).subscribe(function(n){e.reporturl="".concat(e.reportdomainUrl,"?q=").concat(t.reportName,"&ID=").concat(t.ReceiptID),""!=t.lang&&(e.reporturl=e.reporturl+"&Lang=".concat(t.lang)),""!=t.DomainName&&(e.reporturl=e.reporturl+"&DomainName=".concat(t.DomainName)),""!=t.toEmail&&(e.reporturl=e.reporturl+"&email=".concat(t.toEmail,"+&Subject=").concat(t.Subject,"+&boby=").concat(t.boby)),e.reporturl=e.reporturl+"&Info=".concat(n),e._authService.showReportInNextTab(e.reporturl),e.cd.markForCheck()})}},{key:"sendEmail",value:function(e){var t=this;this._emailobj=e.list;var n=this.getReportfilter(0);this.spinner.show(),this._ReceiptSharedService.GetReport(n).subscribe(function(e){t.spinner.hide(),alert(t.mailmsg)}),this.cd.markForCheck()}},{key:"getReportfilter",value:function(){var e=this._authService.userInfo().clientdatabase,t="",n="";"ar"==this.lang&&(n="_ar");var i={reportName:t="P_I_3_ReceivingVoucher"+n,SubsidaryID:this.subsidiaryID,ReceiptID:this._Receipt.id,lang:"",DomainName:"",toEmail:"",Subject:"",boby:""};return e.indexOf("alromaih")>-1?t="P_I_3_ReceivingVoucher_GL_WEB_alromaih":e.indexOf("bander")>-1||e.indexOf("192.168.1.50")>-1||e.indexOf("win-69te7j9nfsu")>-1||e.indexOf("localhost:1000")>-1?i={reportName:t="P_I_3_ReceivingVoucher_Bandar",SubsidaryID:this.subsidiaryID,ReceiptID:this._Receipt.id,lang:n,DomainName:"",toEmail:"",Subject:"",boby:""}:e.indexOf("istones")>-1?i={reportName:t="P_S_52_Issue_GL_WEB_istones",SubsidaryID:this.subsidiaryID,ReceiptID:this._Receipt.id,lang:n,DomainName:window.location.origin,toEmail:"",Subject:"",boby:""}:e.indexOf("darshgf")>-1&&(i={reportName:t="P_I_3_ReceivingVoucher_GL_WEB_darshgf"+n,SubsidaryID:this.subsidiaryID,ReceiptID:this._Receipt.id,lang:"",DomainName:"",toEmail:"",Subject:"",boby:""}),i.reportName=t,i.toEmail=this._emailobj.email,i.Subject=this._emailobj.subject,i}},{key:"BackAction",value:function(){var e=this;JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||this.ReceiptID>0&&!this.checkRoleParms(202)||0==this.ReceiptID&&!this.checkRoleParms(196)||1==this.ShowModeReceipt?this._router.navigate(["/page/inventorytransiction/receivingvoucher"]):Me().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(t){t.value?e.CheckPre_SaveReceipt(e.RForm):t.dismiss===Me().DismissReason.cancel&&e._router.navigate(["/page/inventorytransiction/receivingvoucher"])})}},{key:"CashReturn",value:function(){}},{key:"IssueVoucher",value:function(){}},{key:"CreateWorkOrder",value:function(){}},{key:"ViewReportDeliveryNote",value:function(){}},{key:"getCurrentDate",value:function(){var e=new Date,t=e.getFullYear();return e.getMonth()+1+"/"+e.getDate()+"/"+t}},{key:"getwarrantydateDate",value:function(){var e=new Date,t=e.getFullYear()+1;return e.getMonth()+1+"/"+e.getDate()+"/"+t}},{key:"SetTimeNow",value:function(){var e=new Date;return("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)}},{key:"OpenModal",value:function(e){this.modalReference=this.modalService.open(e,{size:"xl",backdrop:"static"})}},{key:"CloseModal",value:function(){this.modalReference.close()}},{key:"formateDecimal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return e.toFixed(t)}},{key:"OnSerialItems",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(console.log(e,"ix",t),this.SelectedRowIndex=e,this.RowItem=t,t.qty<=0)this.toastr.error(this.InValidQty);else{if(this.requiredserial=this._Receipt.details[e].isrequireserial,0==this._Receipt.details[e].batcheslist.length)this.AddNewRow(e);else{var r=this.ItemUnitsList.filter(function(t){return t.item_id==n._Receipt.details[e].item_id&&t.id==n._Receipt.details[e].unit_id});this._Receipt.details[e].batcheslist[0].qty=this._Receipt.details[e].qty*(this._Receipt.details[e].conv*r[0].finalconv/r[0].conv)}this.OpenModal(i)}}},{key:"AddNewRow",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._ReceiptSharedService.GetStoreByID(this.RowItem.store_id).subscribe(function(n){var i,r;console.log(n,"dd",e.RowItem);var a=new Ee.WB;a.storeid=e.RowItem.store_id,a.storename=null!==(i=null==n?void 0:n.name)&&void 0!==i?i:"",a.storename_ar=null!==(r=null==n?void 0:n.name_ar)&&void 0!==r?r:"";var o=e.ItemUnitsList.filter(function(n){return n.item_id==e._Receipt.details[t].item_id&&n.id==e._Receipt.details[t].unit_id}),c=e._Receipt.details[t].conv*o[0].finalconv/o[0].conv;a.qty=e._Receipt.details[t].qty*c,console.log(o,"_selectedunit",c,a.qty),a.serial=e._Receipt.details[t].batcheslist.length>0?e._Receipt.details[t].batcheslist.length+1:1,e._Receipt.details[t].batcheslist.push(a),e.cd.markForCheck(),console.log(e._Receipt.details[t].batcheslist,"this.BatchesList")})}},{key:"SubmitOk",value:function(e){e.valid&&this.CloseModal()}},{key:"ChangeBatchQty",value:function(e,t,n){}},{key:"ChangeBatchNo",value:function(e,t,n){this._Receipt.details[this.SelectedRowIndex].batcheslist[n].batchno=t,console.log(this._Receipt.details,"ChangeBatchNo")}},{key:"DeleteRow",value:function(e,t){this._Receipt.details[this.SelectedRowIndex].batcheslist.pop(),console.log(this._Receipt.details,"DeleteRow")}},{key:"CheckBatchesAndSerials",value:function(){var e=this;this.BatchesAndSeialsList=[],console.log(this.BatchesAndSeialsList,"BatchesAndSeialsList"),this._Receipt.details.some(function(e){return 3==e.isrequireserial})?(console.log("Validate"),this._Receipt.details.forEach(function(n){e.BatchesAndSeialsList=[].concat(t(e.BatchesAndSeialsList),t(n.batcheslist))}),this.ValidateInFrontEnd()?(this.DuringSaveDisable=!0,this.Save()):this.DuringSaveDisable=!1):(this.DuringSaveDisable=!0,console.log("Saved"),this.Save())}},{key:"ValidateInFrontEnd",value:function(){return 0==this.ValidateBatchesAndSerialsList()?(this.toastr.error(this.InValidNumberOfBatch),!1):(this._Receipt.details.map(function(e){e.batcheslist.length>0&&""==e.batcheslist[0].batchno&&(e.batcheslist[0].batchno=new Date(e.batcheslist[0].date).toLocaleDateString()+"_"+e.item_id)}),!0)}},{key:"ValidateBatchesAndSerialsList",value:function(){var e=this,t=!0;this.BatchesAndSeialsList.forEach(function(e){return 0==e.qty||null==e.qty||null==e.date||""==e.date?t=!1:void 0});for(var n=0,i=function(t){if(3==e._Receipt.details[t].isrequireserial){var i=e.ItemUnitsList.filter(function(n){return n.item_id==e._Receipt.details[t].item_id&&n.id==e._Receipt.details[t].unit_id});n+=e._Receipt.details[t].qty*(e._Receipt.details[t].conv*i[0].finalconv/i[0].conv)}},r=0;r<this._Receipt.details.length;r++)i(r);return n!=this.BatchesAndSeialsList.reduce(function(e,t){return e+t.qty},0)&&(t=!1),t}},{key:"ValidateDublicateBatchesInFrontEnd",value:function(){for(var e=[],t=0;t<this._Receipt.details.length;t++)if(0!=this._Receipt.details[t].batcheslist.length){var n=this._Receipt.details[t].batcheslist[0];if(1==n.isdublicatebatch)continue;n.isdublicatebatch=!1;for(var i=t+1;i<this._Receipt.details.length;i++)0!=this._Receipt.details[i].batcheslist.length&&n.batchno.toLowerCase().trim()==this._Receipt.details[i].batcheslist[0].batchno.toLowerCase().trim()&&new Date(n.date).toLocaleDateString()!=new Date(this._Receipt.details[i].batcheslist[0].date).toLocaleDateString()&&(this._Receipt.details[i].batcheslist[0].isdublicatebatch=!0,e.push(this._Receipt.details[i].batcheslist[0]))}return e}},{key:"ValidateDublicateBatchesInBackEnd",value:function(){var e=this;console.log(this._Receipt.details,"this._Receipt.details"),this._ReceiptSharedService.ValidateDublicateBatches(this._Receipt.details).subscribe(function(t){if(e._Receipt.details=[],e._Receipt.details=null!=t?t:[],console.log(e._Receipt.details,"details"),e.cd.markForCheck(),e._Receipt.details.some(function(e){if(e.batcheslist.length>0)return 1==e.batcheslist[0].isdublicatebatch}))return Me().fire(e.DublicateBatchMassage),void(e.DuringSaveDisable=!1);e.DuringSaveDisable=!0,e.Save()})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"checkRolesParms",value:function(e){var t=!0;return this._authService.isHasRole(e)||(t=!1),t}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}},{key:"customTrackBy",value:function(e,t){return e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(M["\u0275\u0275directiveInject"](b.n),M["\u0275\u0275directiveInject"](Pe.v),M["\u0275\u0275directiveInject"](R.t),M["\u0275\u0275directiveInject"](Oe.H),M["\u0275\u0275directiveInject"](M.ChangeDetectorRef),M["\u0275\u0275directiveInject"](I._W),M["\u0275\u0275directiveInject"](m.F0),M["\u0275\u0275directiveInject"](P.m),M["\u0275\u0275directiveInject"](h.sK),M["\u0275\u0275directiveInject"](O.K),M["\u0275\u0275directiveInject"](m.gz),M["\u0275\u0275directiveInject"](F.FF),M["\u0275\u0275directiveInject"](k.t2),M["\u0275\u0275directiveInject"](E.e),M["\u0275\u0275directiveInject"](w.$),M["\u0275\u0275directiveInject"](x.J),M["\u0275\u0275directiveInject"](l.uU),M["\u0275\u0275directiveInject"](l.Ye))},e.\u0275cmp=M["\u0275\u0275defineComponent"]({type:e,selectors:[["receivingvoucher-details"]],viewQuery:function(e,t){var n;(1&e&&M["\u0275\u0275viewQuery"](Ni,5),2&e)&&(M["\u0275\u0275queryRefresh"](n=M["\u0275\u0275loadQuery"]())&&(t.RForm=n.first))},features:[M["\u0275\u0275ProvidersFeature"]([b.n,Pe.v,R.t,l.uU,Oe.H,x.J])],decls:5,vars:3,consts:[["class","row",4,"ngIf"],[4,"ngIf"],["_AddPatchModal",""],[1,"row"],[1,"HasNotPermission",2,"margin","auto","width","auto","margin-top","200px"],[1,"col-md-12","col-lg-12"],[1,"row","match-height"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"container-fluid","py-4","pl-0","pr-0"],[1,"card","my-2","mx-2","px-3","pb-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-1","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"col-12","text-right","actionBtns"],["type","submit",1,"btn","btn-success","btn-md","mr-2","mb-2"],[1,"ft-check-square","mr-1"],["type","button",1,"btn","btn-success","btn-md","mr-2","mb-2",3,"click"],["class","btn btn-primary btn-md mr-2 mb-2","type","button",3,"click",4,"ngIf"],["class","btn btn-warning btn-md mr-2 mb-2","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-danger","btn-md","mr-2","mb-2",3,"click"],[1,"btn-group"],["type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-primary","dropdown-toggle","btn-md","mr-2","mb-2"],[1,"dropdown-menu"],[1,"col-12","col-md-4","mb-2","mb-md-0"],[1,"form-group"],["for","Category",1,"col-form-label"],["name","customersalesprice",1,"form-control",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[2,"color","red","font-weight","bold"],["name","Branch","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["Branch","ngModel"],["Value","null",4,"ngIf"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12","col-md-3","mb-2","mb-md-0"],["for","VendorCode",1,"col-form-label"],["type","text","id","entry_no","name","entry_no","PositiveNumbersOrDecimalOnly","","required","","customMin","",1,"form-control",3,"stepallow","ngModel","Min","CheckMin","readonly","ngClass","ngModelChange","keydown.space"],["entry_no","ngModel"],[1,"col-form-label"],["minLength","0","delay","0","field","code","name","CreditAccount","required","",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","ngClass","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoCustomerAccounts","","CreditAccount","ngModel"],["pTemplate","CustomerAccountsTemplate"],["for","cashcustomer_vendor_phone",1,"col-form-label"],["type","text","id","cashcustomer_vendor_name","name","cashcustomer_vendor_name",1,"form-control",3,"ngModel","readonly","ngModelChange"],["cashcustomer_vendor_name","ngModel"],["for","entry_date",1,"col-form-label"],["type","date","id","entry_date","name","entry_date","required","",1,"form-control",3,"ngModel","readonly","ngClass","ngModelChange"],["entry_date","ngModel"],["type","time","id","entry_time","name","entry_time",1,"form-control",3,"readonly","ngModel","ngModelChange"],["entry_time","ngModel"],["class","col-12\n                col-md-3 mb-2 mb-md-0",4,"ngIf"],["for","reference_no",1,"col-form-label"],["type","text","id","reference_no","name","reference_no",1,"form-control",3,"ngModel","ngModelChange"],["reference_no","ngModel"],["for","memo",1,"col-form-label"],["type","text","id","memo","name","memo",1,"form-control",3,"ngModel","ngModelChange"],["memo","ngModel"],["for","Costing_Rate",1,"col-form-label"],["type","number","PositiveNumbersOnly","","min","0","id","Costing_Rate","name","Costing_Rate",1,"form-control",3,"ngModel","readonly","ngModelChange","keyup"],["Costing_Rate","ngModel"],[1,"card","my-2","mx-2","px-3","pb-3","pt-3"],[1,"col-12","nav-wrapper","position-relative","end-0","mt-3"],[1,"col-xl-7","col-md-7"],["ngbNav","",1,"nav","nav-pills","nav-fill","p-1",3,"destroyOnHide","activeId","activeIdChange"],["nav","ngbNav"],[1,"nav-item",3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavItem"],[1,"mt-2",3,"ngbNavOutlet"],[1,"row","col-md-5",2,"margin-top","4rem"],[1,"col"],[1,"table-responsive","table","table-accountdetails"],[1,"table"],["scope","col"],["scope","col",3,"hidden"],[3,"hidden"],["PositiveNumbersOnly","","type","number","name","ovr_ForiegnNet",1,"form-control",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalNet",1,"form-control",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalTotalqty",1,"form-control","totalValInput","font-weight-bold",3,"readonly","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalTotalitem",1,"form-control","totalValInput","font-weight-bold",3,"readonly","ngModel","ngModelChange"],[1,"row","col-md-7"],["type","button",1,"btn","btn-primary","btn-md","mr-2","mb-2",3,"click"],["type","button",1,"btn","btn-warning","btn-md","mr-2","mb-2",3,"click"],["class","dropdown-item","type","button",3,"click",4,"ngIf"],[3,"entryno","_savedemailobj"],["type","button",1,"dropdown-item",3,"click"],[3,"value"],["Value","null"],["for","Currency",1,"col-form-label"],["name","Currency","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["Currency","ngModel"],[3,"ngValue",4,"ngIf"],[3,"ngValue"],["for","CurrencyRate",1,"col-form-label"],["type","number","PositiveNumbersOnly","","min","0","id","CurrencyRate","name","CurrencyRate","required","",1,"form-control",3,"ngModel","readonly","ngClass","ngModelChange","keyup"],["CurrencyRate","ngModel"],[1,"table-responsive","table","table-accountdetails",3,"ngClass"],["scope","col",2,"width","5%"],["scope","col",2,"width","15%"],["scope","col",2,"width","9%"],["scope","col",4,"ngIf"],["scope","col",2,"min-width","30px"],[4,"ngFor","ngForOf","ngForTrackBy"],["type","button",1,"btn","btn-success",3,"click"],[2,"padding-top","15px !important"],["minLength","0","delay","0","field","code",3,"ngModel","disabled","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoStore",""],["pTemplate","servstoreTemplate"],["minLength","0","delay","0","field","code",3,"ngModel","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoItems",""],["pTemplate","servCodeTemplate"],[3,"click"],[3,"ngClass",4,"ngIf"],[1,"form-control",3,"name","ngModel","required","ngClass","ngModelChange","change"],["itemunit","ngModel"],[3,"ngValue","selected",4,"ngFor","ngForOf"],["customMin","","PositiveNumbersOnly","","type","number",1,"form-control",3,"Min","CheckMin","ngModel","name","ngClass","keyup","ngModelChange"],["item_qty","ngModel"],["price","ngModel"],["customMin","","PositiveNumbersOnly","","type","number","customMax","100",1,"form-control",3,"Min","CheckMin","ngModel","name","readonly","ngClass","keyup","ngModelChange"],["discountpercent","ngModel"],["style","color: red",4,"ngIf"],["customMin","","PositiveNumbersOnly","","type","number",1,"form-control",3,"Min","CheckMin","ngModel","name","readonly","ngClass","keyup","ngModelChange"],["discount_value","ngModel"],["PositiveNumbersOnly","","type","number",1,"form-control",2,"background-color","silver",3,"ngModel","name","keyup","ngModelChange"],["href","javascript:;",2,"color","red",3,"click"],[1,"fa","fa-trash","fa-lg"],["href","javascript:;",1,"info","p-0",3,"hidden","click"],[1,"fa","fa-list","font-medium-3","mr-2"],[3,"ngClass"],[3,"ngValue","selected"],["customMin","","PositiveNumbersOrDecimalOnly","","type","number",1,"form-control",3,"readonly","step","Min","CheckMin","stepallow","ngModel","name","required","ngClass","keyup","ngModelChange"],["item_conv","ngModel"],[2,"color","red"],[1,"row",2,"margin-top","10px"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-success",3,"disabled","click"],[1,"form-control","red",3,"name","ngModel","ngModelChange"],["type","number",1,"form-control","red",3,"ngModel","name","ngModelChange"],["LinkedReceiptsentry_no","ngModel"],[1,"text-center"],["href","javascript:;",1,"primary","transparent-BG",3,"click"],["aria-hidden","true",1,"fa","fa-plus-square","font-medium-3"],["aria-hidden","true",1,"fa","fa-eye","font-medium-3"],[1,"fa","fa-trash","font-medium-3"],["for","shipmentterm",1,"col-form-label"],["name","shipmentterm",1,"form-control",3,"ngModel","ngModelChange"],["shipmentterm","ngModel"],[1,"col-md-3","form-group"],["for","SupplierAccount",1,"col-form-label"],["type","checkbox","id","ChangeSupplier",3,"checked","ngModelOptions","ngModel","ngModelChange"],["for","ChangeSupplier"],["for","deliverylocation",1,"col-form-label"],["type","text","name","deliverylocation",1,"form-control",3,"ngModel","ngModelChange"],["for","PaymentTerm",1,"col-form-label"],["name","PaymentTerm",1,"form-control",3,"ngModel","ngModelChange"],["paymentterm","ngModel"],["for","contactedperson",1,"col-form-label"],["type","text","name","contactedperson",1,"form-control",3,"ngModel","ngModelChange"],["for","planneddeliverydate",1,"col-form-label"],["type","date","id","planneddeliverydate","name","planneddeliverydate",1,"form-control",3,"ngModel","ngModelChange"],["planneddeliverydate","ngModel"],["for","Courier",1,"col-form-label"],["name","Courier",1,"form-control",3,"ngModel","ngModelChange"],["Courier","ngModel"],["for","othernotes",1,"col-form-label"],["id","othernotes","name","othernotes","rows","3",1,"form-control",3,"ngModel","ngModelChange"],["othernotes","ngModel"],["for","actualdeliverydate",1,"col-form-label"],["type","date","id","actualdeliverydate","name","actualdeliverydate",1,"form-control",3,"ngModel","ngModelChange"],["actualdeliverydate","ngModel"],["minLength","0","delay","0","field","name","name","SupplierAccount",3,"ngModel","disabled","suggestions","onFocus","ngModelChange","onSelect","completeMethod"],["autoCustomerAccounts",""],["minLength","0","delay","0","field","name_ar","name","SupplierAccount",3,"disabled","ngModel","suggestions","onFocus","ngModelChange","onSelect","completeMethod"],[3,"signature","signatureoutput"],[1,"row","mb-6"],[1,"col-12"],[1,"table-responsive","table-accountdetails"],["disabled","",1,"form-control","red",3,"name","ngModel","ngModelChange"],["type","number","disabled","",1,"form-control","red",3,"ngModel","name","ngModelChange"],["historyReceiptsentry_no","ngModel"],[1,"gridActionsTd","text-center"],["href","javascript:;",1,"btn","btn-primary","transparent-BG",3,"click"],["aria-hidden","true",1,"fa","fa-eye","fa-lg"],[3,"wrappe"],["ItemStoreQty",""],[1,"modal-header"],["class","modal-title",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"col-md-12"],[1,"table-responsive"],[2,"width","10%"],["style","width: 15%",4,"ngIf"],[2,"width","20%"],[1,"modal-footer"],["type","submit",1,"btn","btn-secondary","mx-2"],[1,"modal-title"],[2,"width","15%"],["type","checkbox","disabled","",3,"name","checked"],["type","number","disabled","",1,"form-control",3,"name","value"],["type","text","disabled","",1,"form-control",3,"name","value"],["type","text",1,"form-control",3,"name","value","ngClass","disabled","change"],[1,"btn","btn-sm","btn-danger",3,"disabled","click"],[1,"icon-trash"],["type","number","PositiveNumbersOnly","","min","0","disabled","",1,"form-control",3,"name","value","ngClass","change"],["type","date","required","",1,"form-control",3,"name","ngModel","ngClass","disabled","ngModelChange"],["type","button",1,"btn","btn-primary","col-md-4"],["type","button",1,"btn","btn-info","col-md-2","mx-2"],["type","button",1,"btn","btn-primary","col-md-2"]],template:function(e,t){1&e&&(M["\u0275\u0275template"](0,Vi,4,3,"div",0),M["\u0275\u0275template"](1,Ia,190,147,"ng-container",1),M["\u0275\u0275elementStart"](2,"div"),M["\u0275\u0275template"](3,qa,37,21,"ng-template",null,2,M["\u0275\u0275templateRefExtractor"]),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275property"]("ngIf",!(t.checkRoleParms(197)||t.checkRoleParms(196)||t.checkRoleParms(199)||t.checkRoleParms(202))),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",t.checkRolesParms(M["\u0275\u0275pureFunction0"](2,Ta))))},directives:[l.O5,d._Y,d.JL,d.F,d.EJ,d.JJ,d.On,l.sg,d.Q7,l.mk,d.Fj,we.L,De.a,u.Qc,Be.jx,d.qQ,d.wV,L.K,F.Pz,F.nv,F.Vx,F.uN,F.tO,Le.k,d.YN,d.Kr,Fe.Z,d.Wl,Ve.t,qe.T],pipes:[h.X$,l.uU,Te.N],styles:['.headerform[_ngcontent-%COMP%]{border-radius:5px;font-size:1.5rem;padding:5px 2em}.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}.table-accountdetails[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#80808030}.table-accountdetails[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#7b809a}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important;text-align:center}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}']}),e}();function Ga(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"div",4),M["\u0275\u0275elementStart"](1,"h1",5),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function Ua(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.name)}}function ja(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.name_ar)}}function $a(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",51),M["\u0275\u0275template"](1,Ua,2,1,"span",1),M["\u0275\u0275template"](2,ja,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275propertyInterpolate"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function za(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",52),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).OnAdd()}),M["\u0275\u0275element"](1,"i",27),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"]()}2&e&&(M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](3,1,"Add")," "))}function Wa(e,t){1&e&&M["\u0275\u0275element"](0,"i",53)}function Ja(e,t){1&e&&M["\u0275\u0275element"](0,"i",54)}function Qa(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275element"](1,"i",47),M["\u0275\u0275template"](2,Wa,1,0,"i",48),M["\u0275\u0275template"](3,Ja,1,0,"i",49),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("hidden","BranchName"==n.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","BranchName"==n.sortColumn&&"asc"==n.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","BranchName"==n.sortColumn&&"desc"==n.sortDirection)}}function Ya(e,t){1&e&&M["\u0275\u0275element"](0,"i",53)}function Ha(e,t){1&e&&M["\u0275\u0275element"](0,"i",54)}function Za(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275element"](1,"i",47),M["\u0275\u0275template"](2,Ya,1,0,"i",48),M["\u0275\u0275template"](3,Ha,1,0,"i",49),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("hidden","BranchNameAR"==n.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","BranchNameAR"==n.sortColumn&&"asc"==n.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","BranchNameAR"==n.sortColumn&&"desc"==n.sortDirection)}}function Ka(e,t){1&e&&M["\u0275\u0275element"](0,"i",53)}function Xa(e,t){1&e&&M["\u0275\u0275element"](0,"i",54)}function eo(e,t){1&e&&M["\u0275\u0275element"](0,"i",53)}function to(e,t){1&e&&M["\u0275\u0275element"](0,"i",54)}function no(e,t){1&e&&M["\u0275\u0275element"](0,"i",53)}function io(e,t){1&e&&M["\u0275\u0275element"](0,"i",54)}function ro(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275element"](1,"i",47),M["\u0275\u0275template"](2,no,1,0,"i",48),M["\u0275\u0275template"](3,io,1,0,"i",49),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("hidden","CustomerName"==n.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","CustomerName"==n.sortColumn&&"asc"==n.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","CustomerName"==n.sortColumn&&"desc"==n.sortDirection)}}function ao(e,t){1&e&&M["\u0275\u0275element"](0,"i",53)}function oo(e,t){1&e&&M["\u0275\u0275element"](0,"i",54)}function co(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275element"](1,"i",47),M["\u0275\u0275template"](2,ao,1,0,"i",48),M["\u0275\u0275template"](3,oo,1,0,"i",49),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("hidden","CustomerNamear"==n.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","CustomerNamear"==n.sortColumn&&"asc"==n.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","CustomerNamear"==n.sortColumn&&"desc"==n.sortDirection)}}function lo(e,t){1&e&&M["\u0275\u0275element"](0,"i",53)}function so(e,t){1&e&&M["\u0275\u0275element"](0,"i",54)}function po(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",null==n?null:n.branchname," ")}}function uo(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",null==n?null:n.branchnamear," ")}}function mo(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.customername," ")}}function ho(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.customernamear," ")}}function go(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"a",60),M["\u0275\u0275element"](1,"i",61),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275propertyInterpolate1"]("routerLink","/page/inventorytransiction/issuevoucher/",null==n?null:n.id,"")}}function _o(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"tr"),M["\u0275\u0275template"](1,po,2,1,"td",1),M["\u0275\u0275template"](2,uo,2,1,"td",1),M["\u0275\u0275elementStart"](3,"td"),M["\u0275\u0275text"](4),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](5,"td"),M["\u0275\u0275text"](6),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](7,mo,2,1,"td",1),M["\u0275\u0275template"](8,ho,2,1,"td",1),M["\u0275\u0275elementStart"](9,"td"),M["\u0275\u0275text"](10),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](11,"td",56),M["\u0275\u0275template"](12,go,2,1,"a",57),M["\u0275\u0275elementStart"](13,"a",58),M["\u0275\u0275elementStart"](14,"span"),M["\u0275\u0275element"](15,"i",59),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](null==n?null:n.entry_no),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](null==n?null:n.entry_date),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",1==(null==i.CurrentUserSetting?null:i.CurrentUserSetting.showcostprice)?null==n?null:n.netvalue:"****"," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(620)),M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate1"]("routerLink","/page/inventorytransiction/issuevoucher/",null==n?null:n.id,"/show")}}function vo(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"tbody"),M["\u0275\u0275template"](1,_o,16,9,"tr",55),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",n.ReceiptList)}}function fo(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"tbody"),M["\u0275\u0275elementStart"](1,"tr",62),M["\u0275\u0275elementStart"](2,"td",63),M["\u0275\u0275text"](3),M["\u0275\u0275pipe"](4,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](4,1,"NoData")))}function Co(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",64),M["\u0275\u0275elementStart"](1,"ngb-pagination",65),M["\u0275\u0275listener"]("pageChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).onPageChange(e)})("pageChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).PageNo=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](2,"p"),M["\u0275\u0275text"](3),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](4,"select",66),M["\u0275\u0275listener"]("change",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).onPageSizeChange(e.target.value)})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).PageSize=e}),M["\u0275\u0275elementStart"](5,"option",67),M["\u0275\u0275text"](6,"10 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](7,"option",68),M["\u0275\u0275text"](8,"50 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](9,"option",69),M["\u0275\u0275text"](10,"100 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275element"](11,"br"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("collectionSize",i.totalCount)("page",i.PageNo)("pageSize",i.PageSize)("maxSize",5)("boundaryLinks",!0),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",i._generalService.TotalDetailsTextShow(i.PageNo,i.PageSize,i.totalCount,i.lang)," "),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngModel",i.PageSize)}}function yo(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275elementStart"](1,"section"),M["\u0275\u0275elementStart"](2,"div",6),M["\u0275\u0275elementStart"](3,"div",7),M["\u0275\u0275elementStart"](4,"div",8),M["\u0275\u0275elementStart"](5,"h6",9),M["\u0275\u0275text"](6),M["\u0275\u0275pipe"](7,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](8,"div",10),M["\u0275\u0275elementStart"](9,"div",11),M["\u0275\u0275elementStart"](10,"section"),M["\u0275\u0275elementStart"](11,"div",4),M["\u0275\u0275elementStart"](12,"div",12),M["\u0275\u0275elementStart"](13,"form",13,14),M["\u0275\u0275listener"]("ngSubmit",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().SearchReceiptByEntryNo()}),M["\u0275\u0275elementStart"](15,"div",4),M["\u0275\u0275elementStart"](16,"div",15),M["\u0275\u0275elementStart"](17,"div",16),M["\u0275\u0275elementStart"](18,"label",17),M["\u0275\u0275text"](19),M["\u0275\u0275pipe"](20,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](21,"select",18,19),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._ReceiptSearch.BranchID=e})("change",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().ChangeBranch(e.target.value)}),M["\u0275\u0275elementStart"](23,"option",20),M["\u0275\u0275text"](24),M["\u0275\u0275pipe"](25,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](26,$a,3,3,"option",21),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](27,"div",15),M["\u0275\u0275elementStart"](28,"div",16),M["\u0275\u0275elementStart"](29,"label",22),M["\u0275\u0275text"](30),M["\u0275\u0275pipe"](31,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](32,"input",23,24),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._ReceiptSearch.EntryNo=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](34,"div",25),M["\u0275\u0275elementStart"](35,"button",26),M["\u0275\u0275element"](36,"i",27),M["\u0275\u0275text"](37),M["\u0275\u0275pipe"](38,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](39,"button",28),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().ShowAll()}),M["\u0275\u0275element"](40,"i",27),M["\u0275\u0275text"](41),M["\u0275\u0275pipe"](42,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](43,"div",29),M["\u0275\u0275elementStart"](44,"div",30),M["\u0275\u0275elementStart"](45,"div",31),M["\u0275\u0275template"](46,za,4,3,"button",32),M["\u0275\u0275elementStart"](47,"button",33),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().OnPrint()}),M["\u0275\u0275element"](48,"i",27),M["\u0275\u0275text"](49),M["\u0275\u0275pipe"](50,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](51,"button",34),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().OnPrint(1)}),M["\u0275\u0275element"](52,"i",27),M["\u0275\u0275text"](53),M["\u0275\u0275pipe"](54,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](55,"button",35),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().OnExcel()}),M["\u0275\u0275element"](56,"i",27),M["\u0275\u0275text"](57),M["\u0275\u0275pipe"](58,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](59,"div",36),M["\u0275\u0275elementStart"](60,"div",37),M["\u0275\u0275elementStart"](61,"label",38),M["\u0275\u0275text"](62),M["\u0275\u0275pipe"](63,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](64,"input",39,40),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._ReceiptSearch.SearchValue=e})("keyup",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().ChangePropFinish()}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](66,"div",4),M["\u0275\u0275elementStart"](67,"div",41),M["\u0275\u0275elementStart"](68,"div",42),M["\u0275\u0275elementStart"](69,"div",43),M["\u0275\u0275elementStart"](70,"div",44),M["\u0275\u0275elementStart"](71,"table",45),M["\u0275\u0275elementStart"](72,"thead"),M["\u0275\u0275elementStart"](73,"tr"),M["\u0275\u0275elementStart"](74,"th",46),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().GetReceiptList("BranchName")}),M["\u0275\u0275text"](75),M["\u0275\u0275pipe"](76,"translate"),M["\u0275\u0275template"](77,Qa,4,3,"ng-container",1),M["\u0275\u0275template"](78,Za,4,3,"ng-container",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](79,"th",46),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().GetReceiptList("Entry_No")}),M["\u0275\u0275text"](80),M["\u0275\u0275pipe"](81,"translate"),M["\u0275\u0275elementContainerStart"](82),M["\u0275\u0275element"](83,"i",47),M["\u0275\u0275template"](84,Ka,1,0,"i",48),M["\u0275\u0275template"](85,Xa,1,0,"i",49),M["\u0275\u0275elementContainerEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](86,"th",46),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().GetReceiptList("Entry_Date")}),M["\u0275\u0275text"](87),M["\u0275\u0275pipe"](88,"translate"),M["\u0275\u0275elementContainerStart"](89),M["\u0275\u0275element"](90,"i",47),M["\u0275\u0275template"](91,eo,1,0,"i",48),M["\u0275\u0275template"](92,to,1,0,"i",49),M["\u0275\u0275elementContainerEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](93,"th",46),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().GetReceiptList("CustomerName")}),M["\u0275\u0275text"](94),M["\u0275\u0275pipe"](95,"translate"),M["\u0275\u0275template"](96,ro,4,3,"ng-container",1),M["\u0275\u0275template"](97,co,4,3,"ng-container",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](98,"th",46),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().GetReceiptList("NetValue")}),M["\u0275\u0275text"](99),M["\u0275\u0275pipe"](100,"translate"),M["\u0275\u0275elementContainerStart"](101),M["\u0275\u0275element"](102,"i",47),M["\u0275\u0275template"](103,lo,1,0,"i",48),M["\u0275\u0275template"](104,so,1,0,"i",49),M["\u0275\u0275elementContainerEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](105,"th"),M["\u0275\u0275text"](106,"\xa0"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](107,vo,2,1,"tbody",1),M["\u0275\u0275template"](108,fo,5,3,"tbody",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](109,Co,12,7,"div",50),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](6),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](7,36,"Issue Voucher"),""),M["\u0275\u0275advance"](13),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](20,38,"Branch")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i._ReceiptSearch.BranchID),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](25,40,"All")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngForOf",i.BranchList),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](31,42,"EntryNo")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i._ReceiptSearch.EntryNo),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](38,44,"Search")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](42,46,"All")," "),M["\u0275\u0275advance"](5),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(229)),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](50,48,"Print")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](54,50,"pdf")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](58,52,"Excel")," "),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](63,54,"Search")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i._ReceiptSearch.SearchValue),M["\u0275\u0275advance"](11),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](76,56,"Branch")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](81,58,"EntryNo")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("hidden","Entry_No"==i.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Entry_No"==i.sortColumn&&"asc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Entry_No"==i.sortColumn&&"desc"==i.sortDirection),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](88,60,"Date")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("hidden","Entry_Date"==i.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Entry_Date"==i.sortColumn&&"asc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Entry_Date"==i.sortColumn&&"desc"==i.sortDirection),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](95,62,"custvendor")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](100,64,"value")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("hidden","NetValue"==i.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","NetValue"==i.sortColumn&&"asc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","NetValue"==i.sortColumn&&"desc"==i.sortDirection),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngIf",i.ReceiptList.length>0),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",0==i.ReceiptList.length),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.totalCount>0)}}var bo=function(){var e=function(){function e(t,n,i,r,a,o,l,s,d,p,u,m,h,g,_){var v=this;c(this,e),this._cashsalesService=t,this.cd=n,this.toastr=i,this._router=r,this._generalService=a,this.translate=o,this._translateGlobalService=l,this.spinner=s,this._ReceiptSharedService=p,this._authService=u,this._printService=m,this._Excel=h,this._convertToPDF=g,this._VerifyReportsService=_,this.loaded=!1,this.subsidiaryID=0,this.PageSize=10,this.PageNo=1,this.ReceiptList=[],this.totalCount=0,this.BranchList=[],this.list=[],this._ReceiptSearch=new S.Wb,this.NumNotExist="",this.title="",this.timeout=null,this.sortDirection="asc",this.sortColumn="",this.SelectBranchMsg="",this.EntryNumberMsg="",this.subsidiaryID=this._generalService.SubsidiaryID,this.GetBranchList(),this.GetCurrentUserSetting(),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(function(e){v.lang=e.lang,v.dir=e.dir,v.translate.use(e.lang),v.ngTransUnsubscribe=v.translate.get("SelectBranchError").subscribe(function(e){v.SelectBranchMsg=e}),v.ngTransUnsubscribe=v.translate.get("EntryNumberMsg").subscribe(function(e){v.EntryNumberMsg=e})}),d.params.subscribe(function(e){var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t?(console.log(t.branchId),v._ReceiptSearch.BranchID="null"!=t.branchId?t.branchId:0):v._ReceiptSearch.BranchID=0}),this.ngTransUnsubscribe=this.translate.get(["Issue Voucher"]).subscribe(function(e){v.title=e["Issue Voucher"],document.title=v.title}),this.ngTransUnsubscribe=this.translate.get(["NumNotExist"]).subscribe(function(e){v.NumNotExist=e.NumNotExist}),this.ngUnsubscribe=a.proadCastSubsidiaryID.subscribe(function(e){if(0==v.subsidiaryID&&(v.subsidiaryID=v._generalService.SubsidiaryID,v.ReceiptSearch()),v.subsidiaryID!=v._generalService.SubsidiaryID&&v.subsidiaryID>0){v.subsidiaryID=v._generalService.SubsidiaryID;var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),v._ReceiptSearch.BranchID=0,localStorage.setItem("Branch",JSON.stringify({branchId:v._ReceiptSearch.BranchID})),v._ReceiptSearch.PageNo=1,v._ReceiptSearch.PageSize=10,v.GetBranchList(),v.ReceiptSearch()}})}return o(e,[{key:"ngOnInit",value:function(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this._ReceiptSearch.ReceiptCode="60",this._ReceiptSearch.sortColumn="Entry_Date.desc",0!=this.subsidiaryID&&(this.GetReceiptList(),this.GetReceiptListCount())}},{key:"GetCurrentUserSetting",value:function(){var e=this;this._ReceiptSharedService.GetCurrentUserSetting().subscribe(function(t){e.CurrentUserSetting=t})}},{key:"ReceiptSearch",value:function(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this.GetReceiptList(),this.GetReceiptListCount()}},{key:"GetBranchList",value:function(){var e=this;this._cashsalesService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(function(t){e.BranchList=t,e.cd.markForCheck()})}},{key:"ChangeBranch",value:function(e){var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),this._ReceiptSearch.BranchID="0"!=e?e:0,localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this._ReceiptSearch.PageNo=1,this._ReceiptSearch.PageSize=10,this.ReceiptSearch()}},{key:"ChangePropFinish",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.timeout=null,e.ReceiptSearch()},1e3*t)}},{key:"GetReceiptList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.sortColumn=null==t?null:t,this.sortDirection="asc"==this.sortDirection?"desc":"asc","ar"==this.lang&&("branch"!=this.sortColumn&&"accountname"!=this.sortColumn||(this.sortColumn=this.sortColumn+"ar")),null!=t&&(this.PageNo=1),null!=this.sortColumn&&""!=this.sortDirection&&(this._ReceiptSearch.sortColumn=this.sortColumn+"."+this.sortDirection),this.spinner.show(),this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._ReceiptSearch.EntryNo.toString().length>10&&(this.ReceiptList=[],this.toastr.warning(this.NumNotExist),this.spinner.hide()),this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(function(t){e.ReceiptList=[],e.list=t,1==e.list.length&&e._ReceiptSearch.EntryNo>0?e._router.navigate(["/page/inventorytransiction/issuevoucher/"+e.list[0].id]):0==e.list.length&&e._ReceiptSearch.EntryNo>0?e.toastr.warning(e.NumNotExist):e.ReceiptList=t,e.cd.markForCheck(),e.spinner.hide()})}},{key:"GetReceiptListCount",value:function(){var e=this;this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptListCount(this._ReceiptSearch).subscribe(function(t){e.totalCount=t[0].total,e.cd.markForCheck()})}},{key:"OnAdd",value:function(){this._router.navigate(["/page/inventorytransiction/issuevoucher/0"])}},{key:"OnView",value:function(e){this._router.navigate(["/page/inventorytransiction/issuevoucher/"+e.id+"/show"])}},{key:"onEdit",value:function(e){var t;t="/page/inventorytransiction/issuevoucher/".concat(e.id),this._router.navigate([t])}},{key:"ShowAll",value:function(){this._ReceiptSearch.BranchID=0,this._ReceiptSearch.EntryNo=0;var e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this.GetReceiptList(),this.GetReceiptListCount()}},{key:"SearchReceiptByEntryNo",value:function(){null!=this._ReceiptSearch.EntryNo&&null!=this._ReceiptSearch.EntryNo?(this.PageNo=1,this.PageSize=10,this.GetReceiptList(),this.GetReceiptListCount()):this.toastr.warning(this.EntryNumberMsg)}},{key:"OnPrint",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n="",i="ar"==this.lang?"rtl":"ltr",r="ar"==this.lang?"\u0627\u0644\u0641\u0631\u0639":"Branch",a="ar"==this.lang?"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":"Entry no",o="ar"==this.lang?"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":"Date",c="ar"==this.lang?"\u0645\u0648\u0631\u062f/\u0639\u0645\u064a\u0644":"Customer / Vendor",l="ar"==this.lang?"\u0627\u0644\u0642\u064a\u0645\u0629":"Total";this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(function(s){e.cd.markForCheck(),n='\n           <table class="table text-center m-0 table table-striped"  border="1px"  dir = '.concat(i,'>\n                 <thead>\n                   <tr style="background: #e9f1f5;color: cornflowerblue;">\n                     <th>').concat(r,"</th>\n                     <th>").concat(a,"</th>\n                     <th>").concat(o,"</th>\n                     <th>").concat(c,"</th>\n                     <th>").concat(l,"</th>\n\n                   </tr>\n                 </thead>\n             <tbody>\n         "),s.map(function(t){var i;n+="\n        <tr>\n         <td>".concat("ar"==e.lang?t.branchnamear:t.branchname,"</td>\n         <td>").concat(t.entry_no,"</td>\n         <td>").concat(t.entry_date,"</td>\n         <td>").concat(null!==(i="ar"==e.lang?t.customernamear:t.customername)&&void 0!==i?i:"","</td>\n         <td>").concat(t.netvalue,"</td>\n        </tr>\n        ")}),n+="</tbody></table>",1==t?e._convertToPDF.by_html2pdf(n):e._printService.OnPrintContent(n)})}},{key:"OnExcel",value:function(){var e=this,t=[];this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(function(n){n.forEach(function(n){t.push("ar"==e.lang?{"\u0627\u0644\u0641\u0631\u0639":n.branchnamear,"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":n.entry_no,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":n.entry_date,"\u0627\u0644\u0645\u0648\u0631\u062f/\u0627\u0644\u0639\u0645\u064a\u0644":n.customernamear,"\u0627\u0644\u0642\u064a\u0645\u0629":n.netvalue}:{Branch:n.branchname,"Entry No":n.entry_no,Date:n.entry_date,"Customer/Vendor":n.customernamear,Total:n.netvalue})}),e._Excel.exportAsExcelFile(t,"IssueVoucher")})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"onPageChange",value:function(e){this._ReceiptSearch.PageNo=e,this.PageNo=e,this.GetReceiptList()}},{key:"onPageSizeChange",value:function(e){this._ReceiptSearch.PageSize=e,this.PageSize=e,this.GetReceiptList()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(M["\u0275\u0275directiveInject"](b.n),M["\u0275\u0275directiveInject"](M.ChangeDetectorRef),M["\u0275\u0275directiveInject"](I._W),M["\u0275\u0275directiveInject"](m.F0),M["\u0275\u0275directiveInject"](P.m),M["\u0275\u0275directiveInject"](h.sK),M["\u0275\u0275directiveInject"](O.K),M["\u0275\u0275directiveInject"](k.t2),M["\u0275\u0275directiveInject"](m.gz),M["\u0275\u0275directiveInject"](R.t),M["\u0275\u0275directiveInject"](E.e),M["\u0275\u0275directiveInject"](w.$),M["\u0275\u0275directiveInject"](D.x),M["\u0275\u0275directiveInject"](B.z),M["\u0275\u0275directiveInject"](x.J))},e.\u0275cmp=M["\u0275\u0275defineComponent"]({type:e,selectors:[["app-issue-voucher"]],features:[M["\u0275\u0275ProvidersFeature"]([b.n,R.t,x.J])],decls:5,vars:3,consts:[["class","row",4,"ngIf"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"row"],[1,"HasNotPermission",2,"margin","auto","width","auto","margin-top","200px"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-body"],[1,"col-12"],[1,"col-lg-8","col-md-10"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"col-lg-4","col-md-4","col-sm-12"],[1,"form-group"],["for","Branch"],["name","Branch","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["Branch","ngModel"],["Value","0"],[3,"value",4,"ngFor","ngForOf"],["for","EntryNumber"],["type","number","id","ReceiptNumber","name","ReceiptNumber","min","0","PositiveNumbersOnly","","required","",1,"form-control",3,"ngModel","ngModelChange"],["ReceiptNumber","ngModel"],[1,"col-lg-4","col-sm-4","mt-3","text-center"],["type","submit",1,"btn","btn-primary","mr-2"],[1,""],["type","button",1,"btn","btn-primary","mr-2",3,"click"],[1,"col-lg-12","mt-2","col-xs-12","text-center-sm"],[1,"row","mb-2"],[1,"col-lg-6","col-md-7","col-xs-12","my-auto","text-center-sm","actionBtns"],["class","btn btn-success\n                      mb-0\n                      ng-star-inserted",3,"click",4,"ngIf"],[1,"btn","btn-warning","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-danger","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-success","mb-0","me-3","ng-star-inserted",3,"click"],[1,"col-lg-6","col-xs-12","my-auto","text-center-sm"],[1,"form-group","d-flex","justify-content-end"],["for","SearchValue",1,"pt-1","pl-1","pr-1","form-label"],["type","text","id","SearchValue","name","SearchValue",1,"form-control","col-md-6",3,"ngModel","ngModelChange","keyup"],["SearchValue","ngModel"],[1,"col-12","p-0"],[1,"card","transparent-BG"],[1,"card-content"],[1,"table-responsive","card-body"],[1,"table","m-0","table-striped"],[3,"click"],[1,"fa","fa-fw","fa-sort",3,"hidden"],["class","fa fa-fw fa-sort-desc",4,"ngIf"],["class","fa fa-fw fa-sort-asc",4,"ngIf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],[3,"value"],[1,"btn","btn-success","mb-0","ng-star-inserted",3,"click"],[1,"fa","fa-fw","fa-sort-desc"],[1,"fa","fa-fw","fa-sort-asc"],[4,"ngFor","ngForOf"],[1,"gridActionsTd","text-center"],["href","javascript:;","class","btn btn-primary\n                                transparent-BG",3,"routerLink",4,"ngIf"],[1,"btn","btn-primary","transparent-BG",3,"routerLink"],["aria-hidden","true",1,"fa","fa-file-text-o","font-medium-3"],["href","javascript:;",1,"btn","btn-primary","transparent-BG",3,"routerLink"],[1,"ft-edit","font-medium-3"],[2,"background-color","#b0bed9"],["colspan","7"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(M["\u0275\u0275template"](0,Ga,4,3,"div",0),M["\u0275\u0275template"](1,yo,110,66,"div",1),M["\u0275\u0275elementStart"](2,"ngx-spinner",2),M["\u0275\u0275elementStart"](3,"p",3),M["\u0275\u0275text"](4,"Loading..."),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275property"]("ngIf",!t.checkRoleParms(228)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",t.checkRoleParms(228)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("fullScreen",!0))},directives:[l.O5,k.Ro,d._Y,d.JL,d.F,d.EJ,d.Q7,d.JJ,d.On,d.YN,d.Kr,l.sg,d.qQ,d.wV,d.Fj,L.K,m.yS,F.N9],pipes:[h.X$],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}.radio-col-green[_ngcontent-%COMP%]{margin-top:10px}.readonlyDiv[_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1;pointer-events:none}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important;text-align:center}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}.batch-input[_ngcontent-%COMP%]{border:1px solid #1b62d8!important}.isExpired[_ngcontent-%COMP%]{color:red}']}),e}(),So=["serialModel"],Ro=["RForm"];function xo(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"div",6),M["\u0275\u0275elementStart"](1,"h1",7),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function Mo(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"button",95),M["\u0275\u0275element"](1,"i",96),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275attribute"]("disabled",1==n.DuringSaveDisable||null),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](3,2,"Save")," ")}}function Io(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"button",95),M["\u0275\u0275element"](1,"i",96),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275attribute"]("disabled",n.VouchersLinkedCount>0||1==n.ShowModeReceipt||1==n.DuringSaveDisable||n.ReceiptID>0&&!n.checkRoleParms(620)||0==n.ReceiptID&&!n.checkRoleParms(229)||null),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](3,2,"Save")," ")}}function Po(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",97),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).DocumentAction()}),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,2,"Document")," ")}}function Oo(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",98),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).PrintPreview(0)}),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,2,"PrintPreview")," ")}}function ko(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",101),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).onPrint()}),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,2,"Print")," ")}}function Eo(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",101),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](4).DeleteAction()}),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](4);M["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function wo(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275template"](1,Eo,3,4,"button",99),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",0==n.ShowModeReceipt&&n.ReceiptID>0&&0==n.VouchersLinkedCount)}}function Do(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",101),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).DupilcateAction()}),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,2,"Dupilcate")," ")}}function Bo(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275template"](1,ko,3,4,"button",99),M["\u0275\u0275template"](2,wo,2,1,"div",1),M["\u0275\u0275template"](3,Do,3,4,"button",99),M["\u0275\u0275elementStart"](4,"email-popup",100),M["\u0275\u0275listener"]("_savedemailobj",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).sendEmail(e)}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(232)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(230)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(229)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("entryno",i._Receipt.entry_no)}}function Lo(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.text,"")}}function Fo(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.text_ar,"")}}function No(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",102),M["\u0275\u0275template"](1,Lo,2,1,"span",1),M["\u0275\u0275template"](2,Fo,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275property"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function Vo(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",103),M["\u0275\u0275text"](1,"choose"),M["\u0275\u0275elementEnd"]())}function qo(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",103),M["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),M["\u0275\u0275elementEnd"]())}function To(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function Ao(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function Go(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",102),M["\u0275\u0275template"](1,To,2,1,"span",1),M["\u0275\u0275template"](2,Ao,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275property"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function Uo(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.sugar)}}function jo(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.sug)}}function $o(e,t){if(1&e&&(M["\u0275\u0275template"](0,Uo,2,1,"div",1),M["\u0275\u0275template"](1,jo,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}var zo=function(e,t){return{"invalid-data":e,"valid-data":t}};function Wo(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"p-autoComplete",104,105),M["\u0275\u0275listener"]("onFocus",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275reference"](1);return M["\u0275\u0275nextContext"](2).onFocusInCustomerAccounts(e),t.show()})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Receipt.cashcustomer_vendor_code=e})("onSelect",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).CustomerAccountsSelectEvent(e)})("completeMethod",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).CustomerAccountsChangeSearch(e)})("onClear",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).onClearCustomer(e)}),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275template"](4,$o,2,2,"ng-template",106),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](2);M["\u0275\u0275nextContext"]();var r=M["\u0275\u0275reference"](3),a=M["\u0275\u0275nextContext"]();M["\u0275\u0275property"]("ngModel",a._Receipt.cashcustomer_vendor_code)("suggestions",a.CustomerAccountsList)("showEmptyMessage",!0)("emptyMessage",M["\u0275\u0275pipeBind1"](3,6,"NoResultsFound"))("forceSelection",!0)("ngClass",M["\u0275\u0275pureFunction2"](8,zo,i.invalid&&r.submitted,i.valid&&r.submitted))}}function Jo(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.sugar)}}function Qo(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.sug)}}function Yo(e,t){if(1&e&&(M["\u0275\u0275template"](0,Jo,2,1,"div",1),M["\u0275\u0275template"](1,Qo,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Ho(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"p-autoComplete",107,108),M["\u0275\u0275listener"]("onFocus",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275reference"](1);return M["\u0275\u0275nextContext"](2).onFocusInOtherAccounts(e),t.show()})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Receipt.cashcustomer_vendor_code=e})("onSelect",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).CustomerAccountsSelectEvent(e)})("completeMethod",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).OtherAccountsChangeSearch(e)})("onClear",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).onClearCustomer(e)}),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275template"](4,Yo,2,2,"ng-template",109),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](2);M["\u0275\u0275nextContext"]();var r=M["\u0275\u0275reference"](3),a=M["\u0275\u0275nextContext"]();M["\u0275\u0275property"]("ngModel",a._Receipt.cashcustomer_vendor_code)("suggestions",a.OtherAccountsList)("showEmptyMessage",!0)("emptyMessage",M["\u0275\u0275pipeBind1"](3,6,"NoResultsFound"))("forceSelection",!0)("ngClass",M["\u0275\u0275pureFunction2"](8,zo,i.invalid&&r.submitted,i.valid&&r.submitted))}}function Zo(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th",78),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Pack")," "))}function Ko(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th",78),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Price")," "))}function Xo(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th",122),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Disc%")," "))}function ec(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th",123),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Discount")," "))}function tc(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th",78),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Total")," "))}function nc(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function ic(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function rc(e,t){if(1&e&&(M["\u0275\u0275template"](0,nc,2,1,"div",1),M["\u0275\u0275template"](1,ic,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function ac(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function oc(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function cc(e,t){if(1&e&&(M["\u0275\u0275template"](0,ac,2,1,"div",1),M["\u0275\u0275template"](1,oc,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}var lc=function(e,t){return{"invalid-qty":e,"valid-qty":t}};function sc(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div",145),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275nextContext"](2);var i=M["\u0275\u0275reference"](3);M["\u0275\u0275property"]("ngClass",M["\u0275\u0275pureFunction2"](2,lc,0==n.allowqtyselectforitem&&i.submitted||0==n.allowqtyselectforitem,1==n.allowqtyselectforitem&&i.submitted||1==n.allowqtyselectforitem)),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.itemname," ")}}function dc(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div",145),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275nextContext"](2);var i=M["\u0275\u0275reference"](3);M["\u0275\u0275property"]("ngClass",M["\u0275\u0275pureFunction2"](2,lc,0==n.allowqtyselectforitem&&i.submitted||0==n.allowqtyselectforitem,1==n.allowqtyselectforitem&&i.submitted||1==n.allowqtyselectforitem)),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.itemname_ar," ")}}function pc(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",146),M["\u0275\u0275text"](1," choose "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function uc(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",146),M["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function mc(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function hc(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function gc(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",147),M["\u0275\u0275template"](1,mc,2,1,"span",1),M["\u0275\u0275template"](2,hc,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"]().$implicit,r=M["\u0275\u0275nextContext"](3);M["\u0275\u0275property"]("ngValue",null==n?null:n.id)("selected",(null==n?null:n.id)===i.unit_id&&(null==n?null:n.item_id)===(null==i?null:i.item_id)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=r.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==r.lang)}}function _c(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275elementStart"](1,"input",148,149),M["\u0275\u0275listener"]("keyup",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275nextContext"]().index;return M["\u0275\u0275nextContext"](3).ChangePackItem(e)})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().$implicit.conv=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](2),r=M["\u0275\u0275nextContext"](),a=r.index,o=r.$implicit;M["\u0275\u0275nextContext"](2);var c=M["\u0275\u0275reference"](3),l=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate"]("step",null==l.CashCustomerSetting?null:l.CashCustomerSetting.allowdecimalpack),M["\u0275\u0275propertyInterpolate1"]("name","item_conv",a,""),M["\u0275\u0275property"]("readonly",3==(null==o?null:o.item_type)&&null!=(null==o?null:o.item_id)||1==l.ComeFromIssueRequest)("Min",1e-5)("CheckMin",null!=(null==o?null:o.item_id))("stepallow",null==l.CashCustomerSetting?null:l.CashCustomerSetting.allowdecimalpack)("ngModel",o.conv)("required",null!=(null==o?null:o.item_id))("ngClass",M["\u0275\u0275pureFunction2"](9,zo,i.invalid&&c.submitted,i.valid&&c.submitted))}}var vc=function(e){return{readonlyDiv:e}};function fc(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275elementStart"](1,"div",150),M["\u0275\u0275listener"]("click",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275nextContext"]().index;return M["\u0275\u0275nextContext"](3)._generalService.onFocusControl("item_price"+e)}),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"numberFormat"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](4,"input",151,152),M["\u0275\u0275listener"]("keyup",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275nextContext"]().index;return M["\u0275\u0275nextContext"](3).CalaculteValuesItemsRow(e)})("focusout",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275nextContext"]().index;return M["\u0275\u0275nextContext"](3)._generalService.onFocusoutControl("item_price"+e)})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().$implicit.price=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](5),r=M["\u0275\u0275nextContext"](),a=r.index,o=r.$implicit;M["\u0275\u0275nextContext"](2);var c=M["\u0275\u0275reference"](3),l=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate1"]("id","Display_item_price",a,""),M["\u0275\u0275property"]("ngClass",M["\u0275\u0275pureFunction1"](13,vc,5==l._Receipt.customersalesprice||1==l.ComeFromIssueRequest)),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind2"](3,10,o.price,l._Currencyprecision)," "),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("id","item_price",a,""),M["\u0275\u0275propertyInterpolate1"]("name","item_price",a,""),M["\u0275\u0275property"]("readonly",5==l._Receipt.customersalesprice||1==l.ComeFromIssueRequest)("ngModel",o.price)("Min",0)("CheckMin",null!=(null==o?null:o.item_id))("ngClass",M["\u0275\u0275pureFunction2"](15,zo,i.invalid&&c.submitted,i.valid&&c.submitted))}}function Cc(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1,"Maximum number can be 100 % Discount"),M["\u0275\u0275elementEnd"]())}function yc(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1,"\u0623\u0643\u0628\u0631 \u0646\u0633\u0628\u0629 \u0647\u0649 100% \u062e\u0635\u0645"),M["\u0275\u0275elementEnd"]())}function bc(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div",155),M["\u0275\u0275template"](1,Cc,2,0,"span",1),M["\u0275\u0275template"](2,yc,2,0,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](5);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Sc(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275elementStart"](1,"input",153,154),M["\u0275\u0275listener"]("keyup",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275nextContext"]().index;return M["\u0275\u0275nextContext"](3).CalaculteValuesItemsRow(e)})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().$implicit.discount_percent=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](3,bc,3,2,"div",85),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](2),r=M["\u0275\u0275nextContext"](),a=r.index,o=r.$implicit;M["\u0275\u0275nextContext"](2);var c=M["\u0275\u0275reference"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate1"]("name","item_discount_percent",a,""),M["\u0275\u0275property"]("ngModel",o.discount_percent)("Min",0)("CheckMin",null!=(null==o?null:o.item_id))("readonly",!0)("ngClass",M["\u0275\u0275pureFunction2"](7,zo,i.invalid&&c.submitted||(null==i.errors?null:i.errors.customMax),i.valid&&c.submitted)),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",null==i.errors?null:i.errors.customMax)}}function Rc(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275elementStart"](1,"input",156,157),M["\u0275\u0275listener"]("keyup",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275nextContext"]().index;return M["\u0275\u0275nextContext"](3).CalaculteValuesItemsRow(e,"value")})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().$implicit.discount_value=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](2),r=M["\u0275\u0275nextContext"](),a=r.index,o=r.$implicit;M["\u0275\u0275nextContext"](2);var c=M["\u0275\u0275reference"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate1"]("name","item_discount_value",a,""),M["\u0275\u0275property"]("ngModel",o.discount_value)("readonly",!0)("Min",0)("CheckMin",null!=(null==o?null:o.item_id))("ngClass",M["\u0275\u0275pureFunction2"](6,zo,i.invalid&&c.submitted,i.valid&&c.submitted))}}function xc(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275elementStart"](1,"input",158),M["\u0275\u0275listener"]("keyup",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275nextContext"]().index;return M["\u0275\u0275nextContext"](3).ReCalaculteValuesChangeItemsRow(e)})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().$implicit.total=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](),r=i.index,a=i.$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate1"]("name","item_total",r,""),M["\u0275\u0275property"]("ngModel",a.total)("readonly",!0)}}function Mc(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"a",160),M["\u0275\u0275listener"]("click",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275nextContext"](2).index,t=M["\u0275\u0275nextContext"](3),i=M["\u0275\u0275reference"](8);return t.OnSerialItems(e,i)}),M["\u0275\u0275element"](1,"i",161),M["\u0275\u0275elementEnd"]()}}function Ic(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275template"](1,Mc,2,0,"a",159),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",1!=n.CashCustomerSetting.dispensingpolicy)}}var Pc=function(e){return{item_id:e}};function Oc(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"tr"),M["\u0275\u0275elementStart"](1,"td",124),M["\u0275\u0275text"](2),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](3,"td"),M["\u0275\u0275elementStart"](4,"p-autoComplete",125,126),M["\u0275\u0275listener"]("onFocus",function(e){var t=M["\u0275\u0275restoreView"](n).index,i=M["\u0275\u0275reference"](5),r=M["\u0275\u0275nextContext"](3);return r.onFocusInStore(e,t),i.show(),r.isType=!0})("onClick",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.storecode=e})("onSelect",function(e){var t=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).StoreSelectEvent(e,t)})("completeMethod",function(e){var t=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).StoreChangeSearch(e,t)})("onClear",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3)._Receipt.details[e].store_id=null}),M["\u0275\u0275pipe"](6,"translate"),M["\u0275\u0275template"](7,rc,2,2,"ng-template",127),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](8,"td"),M["\u0275\u0275elementStart"](9,"p-autoComplete",125,128),M["\u0275\u0275listener"]("onFocus",function(e){var t=M["\u0275\u0275restoreView"](n).index,i=M["\u0275\u0275reference"](10),r=M["\u0275\u0275nextContext"](3);return r.onFocusInItems(e,t),i.show(),r.isType=!0})("onClick",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.itemcode=e})("onSelect",function(e){var t=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).ItemsSelectEvent(e,t)})("completeMethod",function(e){var t=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).ItemsChangeSearch(e,t)})("onClear",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).onClearItems(e)}),M["\u0275\u0275pipe"](11,"translate"),M["\u0275\u0275template"](12,cc,2,2,"ng-template",129),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](13,"td",130),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n),t=e.$implicit,i=e.index,r=M["\u0275\u0275nextContext"](3);return r.OnSelectedItem(t,i,"selected",1==r.ComeFromIssueRequest)}),M["\u0275\u0275template"](14,sc,2,5,"div",131),M["\u0275\u0275template"](15,dc,2,5,"div",131),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](16,"td"),M["\u0275\u0275elementStart"](17,"select",132,133),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e})("change",function(e){var t=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).ChangeItemUnits(e.target.value,t)}),M["\u0275\u0275template"](19,pc,2,1,"option",134),M["\u0275\u0275template"](20,uc,2,1,"option",134),M["\u0275\u0275template"](21,gc,3,4,"option",135),M["\u0275\u0275pipe"](22,"filterby"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](23,_c,3,12,"td",1),M["\u0275\u0275elementStart"](24,"td"),M["\u0275\u0275elementStart"](25,"input",136,137),M["\u0275\u0275listener"]("keyup",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).ChangeQty(e)})("ngModelChange",function(e){return t.$implicit.qty=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](27,fc,6,18,"td",1),M["\u0275\u0275template"](28,Sc,4,10,"td",1),M["\u0275\u0275template"](29,Rc,3,9,"td",1),M["\u0275\u0275template"](30,xc,2,3,"td",1),M["\u0275\u0275elementStart"](31,"td",138),M["\u0275\u0275elementStart"](32,"a",139),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).index,t=M["\u0275\u0275nextContext"](3),i=M["\u0275\u0275reference"](6);return t.OnEditItemsNotes(e,i)}),M["\u0275\u0275elementStart"](33,"span",140),M["\u0275\u0275element"](34,"i",141),M["\u0275\u0275element"](35,"i",142),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](36,"a",143),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).index,t=M["\u0275\u0275nextContext"](3);return t.DeleteItems(e,1==t.ComeFromIssueRequest)}),M["\u0275\u0275element"](37,"i",144),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](38,Ic,2,1,"ng-container",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index,a=t.index,o=M["\u0275\u0275reference"](18),c=M["\u0275\u0275reference"](26);M["\u0275\u0275nextContext"](2);var l=M["\u0275\u0275reference"](3),s=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](a+1),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","storecode",r,""),M["\u0275\u0275property"]("ngModel",i.storecode)("disabled",!(null!=s.CurrentUserSetting&&s.CurrentUserSetting.canchangestore)||s.ComeFromIssueRequest)("suggestions",s.StoreList)("showEmptyMessage",!0)("emptyMessage",M["\u0275\u0275pipeBind1"](6,37,"NoResultsFound"))("forceSelection",!0),M["\u0275\u0275advance"](5),M["\u0275\u0275propertyInterpolate1"]("name","itemcode",r,""),M["\u0275\u0275property"]("ngModel",i.itemcode)("disabled",1==s.ComeFromIssueRequest)("suggestions",s.ItemsList)("showEmptyMessage",!0)("emptyMessage",M["\u0275\u0275pipeBind1"](11,39,"NoResultsFound"))("forceSelection",!0),M["\u0275\u0275advance"](5),M["\u0275\u0275property"]("ngIf","ar"!=s.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==s.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","itemunit",r,""),M["\u0275\u0275property"]("ngModel",i.unit_id)("required",null!=(null==i?null:i.item_id))("ngClass",M["\u0275\u0275pureFunction2"](44,zo,o.invalid&&l.submitted,o.valid&&l.submitted)),M["\u0275\u0275attribute"]("disabled",3==(null==i?null:i.item_type)&&null!=(null==i?null:i.item_id)||1==s.ComeFromIssueRequest||null),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=s.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==s.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",M["\u0275\u0275pipeBind2"](22,41,s.ItemUnitsList,M["\u0275\u0275pureFunction1"](47,Pc,null==i?null:i.item_id))),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",1==(null==s.CashCustomerSetting?null:s.CashCustomerSetting.allowpack)),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","item_qty",r,""),M["\u0275\u0275property"]("Min",1e-5)("readonly",1==s.ComeFromIssueRequest)("CheckMin",null!=(null==i?null:i.item_id))("ngModel",i.qty)("ngClass",M["\u0275\u0275pureFunction2"](49,zo,c.invalid&&l.submitted,c.valid&&l.submitted)),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",1==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.showcostprice)||5!=s._Receipt.customersalesprice),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",1==s.ShowDiscountCols),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",1==s.ShowDiscountCols),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",1==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.showcostprice)||5!=s._Receipt.customersalesprice),M["\u0275\u0275advance"](8),M["\u0275\u0275property"]("ngIf",2==i.isrequireserial||3==i.isrequireserial)}}function kc(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",162),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).AddItems()}),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()}2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Add")," "))}var Ec=function(e){return{"table-for-autocomplete":e}};function wc(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",110),M["\u0275\u0275elementStart"](1,"div",111),M["\u0275\u0275elementStart"](2,"div",112),M["\u0275\u0275elementStart"](3,"table",77),M["\u0275\u0275elementStart"](4,"thead"),M["\u0275\u0275elementStart"](5,"tr"),M["\u0275\u0275element"](6,"th"),M["\u0275\u0275elementStart"](7,"th",113),M["\u0275\u0275text"](8),M["\u0275\u0275pipe"](9,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](10,"th",78),M["\u0275\u0275text"](11),M["\u0275\u0275pipe"](12,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](13,"th",78),M["\u0275\u0275text"](14),M["\u0275\u0275pipe"](15,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](16,"th",114),M["\u0275\u0275text"](17),M["\u0275\u0275pipe"](18,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](19,Zo,3,3,"th",115),M["\u0275\u0275elementStart"](20,"th",78),M["\u0275\u0275text"](21),M["\u0275\u0275pipe"](22,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](23,Ko,3,3,"th",115),M["\u0275\u0275template"](24,Xo,3,3,"th",116),M["\u0275\u0275template"](25,ec,3,3,"th",117),M["\u0275\u0275template"](26,tc,3,3,"th",115),M["\u0275\u0275elementStart"](27,"th",118),M["\u0275\u0275text"](28," \xa0 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275element"](29,"tbody"),M["\u0275\u0275elementStart"](30,"tbody"),M["\u0275\u0275template"](31,Oc,39,52,"tr",119),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](32,kc,3,3,"button",120),M["\u0275\u0275elementStart"](33,"button",121),M["\u0275\u0275listener"]("click",function(){M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]();var e=M["\u0275\u0275reference"](140);return M["\u0275\u0275nextContext"]().Patch(e)}),M["\u0275\u0275text"](34),M["\u0275\u0275pipe"](35,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngClass",M["\u0275\u0275pureFunction1"](27,Ec,i.isType)),M["\u0275\u0275advance"](6),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](9,15,"Store")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](12,17,"ItemCode")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](15,19,"ItemDescription")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](18,21,"Unit")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",1==(null==i.CashCustomerSetting?null:i.CashCustomerSetting.allowpack)),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](22,23,"qty")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",1==(null==i.CurrentUserSetting?null:i.CurrentUserSetting.showcostprice)||5!=i._Receipt.customersalesprice),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",1==i.ShowDiscountCols),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",1==i.ShowDiscountCols),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",1==(null==i.CurrentUserSetting?null:i.CurrentUserSetting.showcostprice)||5!=i._Receipt.customersalesprice),M["\u0275\u0275advance"](5),M["\u0275\u0275property"]("ngForOf",i._Receipt.details)("ngForTrackBy",i._ReceiptSharedService.customTrackBy),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",!i.ComeFromIssueRequest),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](35,25,"ImportPatchItems")," ")}}function Dc(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",163),M["\u0275\u0275elementStart"](1,"h6",164),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](4,"button",165),M["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),M["\u0275\u0275elementStart"](5,"span",166),M["\u0275\u0275text"](6,"\xd7"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](7,"div",167),M["\u0275\u0275elementStart"](8,"div",168),M["\u0275\u0275elementStart"](9,"label",38),M["\u0275\u0275text"](10),M["\u0275\u0275pipe"](11,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](12,"div",169),M["\u0275\u0275elementStart"](13,"input",170,171),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).BatchNoText=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](15,"div",172),M["\u0275\u0275elementStart"](16,"button",173),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).SavePatchModal()}),M["\u0275\u0275text"](17),M["\u0275\u0275pipe"](18,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](3,4,"ImportPatchItems")),M["\u0275\u0275advance"](8),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](11,6,"PatchNumber")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngModel",i.BatchNoText),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](18,8,"ok")," ")}}function Bc(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th",78),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Pack")," "))}function Lc(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.itemname," ")}}function Fc(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.itemname_ar," ")}}function Nc(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",146),M["\u0275\u0275text"](1," choose "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function Vc(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",146),M["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function qc(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function Tc(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function Ac(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",102),M["\u0275\u0275template"](1,qc,2,1,"span",1),M["\u0275\u0275template"](2,Tc,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](5);M["\u0275\u0275property"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function Gc(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275elementStart"](1,"input",178),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().$implicit.conv=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](),r=i.index,a=i.$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate1"]("name","item_conv_c",r,""),M["\u0275\u0275property"]("readonly",!0)("ngModel",a.conv)}}function Uc(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"tr"),M["\u0275\u0275elementStart"](1,"td"),M["\u0275\u0275elementStart"](2,"input",175),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.storecode=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](3,"td"),M["\u0275\u0275elementStart"](4,"input",175),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.itemcode=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](5,"td"),M["\u0275\u0275template"](6,Lc,2,1,"div",1),M["\u0275\u0275template"](7,Fc,2,1,"div",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](8,"td"),M["\u0275\u0275elementStart"](9,"select",176),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e}),M["\u0275\u0275template"](10,Nc,2,1,"option",134),M["\u0275\u0275template"](11,Vc,2,1,"option",134),M["\u0275\u0275template"](12,Ac,3,3,"option",27),M["\u0275\u0275pipe"](13,"filterby"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](14,Gc,2,3,"td",1),M["\u0275\u0275elementStart"](15,"td"),M["\u0275\u0275elementStart"](16,"input",177),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.qty=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](17,"td"),M["\u0275\u0275elementStart"](18,"input",177),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.price=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](19,"td"),M["\u0275\u0275elementStart"](20,"input",177),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.total=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=t.index,r=M["\u0275\u0275nextContext"](4);M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","storecode_c",i,""),M["\u0275\u0275property"]("readonly",!0)("ngModel",n.storecode),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","itemcode_c",i,""),M["\u0275\u0275property"]("readonly",!0)("ngModel",n.itemcode),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=r.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==r.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","itemunit_c",i,""),M["\u0275\u0275property"]("ngModel",n.unit_id),M["\u0275\u0275attribute"]("disabled",!0),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=r.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==r.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",M["\u0275\u0275pipeBind2"](13,24,r.ItemComponentUnitsList,M["\u0275\u0275pureFunction1"](27,Pc,n.item_id))),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",1==(null==r.CashCustomerSetting?null:r.CashCustomerSetting.allowpack)),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","item_qty_c",i,""),M["\u0275\u0275property"]("ngModel",n.qty)("readonly",!0),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","item_price_c",i,""),M["\u0275\u0275property"]("ngModel",n.price)("readonly",!0),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","item_total_c",i,""),M["\u0275\u0275property"]("ngModel",n.total)("readonly",!0)}}var jc=function(e){return{finishedproductid:e}};function $c(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div",110),M["\u0275\u0275elementStart"](1,"div",111),M["\u0275\u0275elementStart"](2,"div",76),M["\u0275\u0275elementStart"](3,"table",77),M["\u0275\u0275elementStart"](4,"thead"),M["\u0275\u0275elementStart"](5,"tr"),M["\u0275\u0275elementStart"](6,"th",78),M["\u0275\u0275text"](7),M["\u0275\u0275pipe"](8,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](9,"th",78),M["\u0275\u0275text"](10),M["\u0275\u0275pipe"](11,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](12,"th",78),M["\u0275\u0275text"](13),M["\u0275\u0275pipe"](14,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](15,"th",114),M["\u0275\u0275text"](16),M["\u0275\u0275pipe"](17,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](18,Bc,3,3,"th",115),M["\u0275\u0275elementStart"](19,"th",78),M["\u0275\u0275text"](20),M["\u0275\u0275pipe"](21,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](22,"th",78),M["\u0275\u0275text"](23),M["\u0275\u0275pipe"](24,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](25,"th",78),M["\u0275\u0275text"](26),M["\u0275\u0275pipe"](27,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](28,"tbody"),M["\u0275\u0275template"](29,Uc,21,29,"tr",174),M["\u0275\u0275pipe"](30,"filterby"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](7),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](8,9,"Store")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](11,11,"ItemCode")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](14,13,"ItemDescription")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](17,15,"Unit")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",1==(null==n.CashCustomerSetting?null:n.CashCustomerSetting.allowpack)),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](21,17,"qty")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](24,19,"Price")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](27,21,"Total")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngForOf",0==n.show_all_component?M["\u0275\u0275pipeBind2"](30,23,n.ItemsComponentList,M["\u0275\u0275pureFunction1"](26,jc,null==n.SelectedItem?null:n.SelectedItem.item_id)):n.ItemsComponentList)}}function zc(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"li",69),M["\u0275\u0275elementStart"](1,"a",70),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](4,$c,31,28,"ng-template",71),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275property"]("ngbNavItem",2),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](3,2,"Components")))}function Wc(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",103),M["\u0275\u0275text"](1," choose "),M["\u0275\u0275elementEnd"]())}function Jc(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",103),M["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),M["\u0275\u0275elementEnd"]())}function Qc(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function Yc(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function Hc(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",102),M["\u0275\u0275template"](1,Qc,2,1,"span",1),M["\u0275\u0275template"](2,Yc,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function Zc(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",146),M["\u0275\u0275text"](1," choose "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function Kc(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",146),M["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function Xc(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.codename,"")}}function el(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.codenamear,"")}}function tl(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",102),M["\u0275\u0275template"](1,Xc,2,1,"span",1),M["\u0275\u0275template"](2,el,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("value",n.code),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function nl(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"tr"),M["\u0275\u0275elementStart"](1,"td"),M["\u0275\u0275elementStart"](2,"select",182),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.branch_id=e}),M["\u0275\u0275template"](3,Wc,2,0,"option",31),M["\u0275\u0275template"](4,Jc,2,0,"option",31),M["\u0275\u0275template"](5,Hc,3,3,"option",27),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](6,"td"),M["\u0275\u0275elementStart"](7,"select",182),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.code=e}),M["\u0275\u0275template"](8,Zc,2,1,"option",134),M["\u0275\u0275template"](9,Kc,2,1,"option",134),M["\u0275\u0275template"](10,tl,3,3,"option",27),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](11,"td"),M["\u0275\u0275elementStart"](12,"input",183,184),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.entry_no=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](14,"td",138),M["\u0275\u0275elementStart"](15,"a",143),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).GetLinkedReceipt(e)}),M["\u0275\u0275element"](16,"i",185),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](17,"a",143),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).OnOpenLinkedReceipt(e)}),M["\u0275\u0275element"](18,"i",186),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](19,"a",143),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).DeleteLinkedReceipt(e)}),M["\u0275\u0275element"](20,"i",144),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index,a=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsbranch",r,""),M["\u0275\u0275property"]("ngModel",i.branch_id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",a.BranchList),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptscode",r,""),M["\u0275\u0275property"]("ngModel",i.code),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",a.ReceiptCodeList),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsentry_no",r,""),M["\u0275\u0275property"]("ngModel",i.entry_no),M["\u0275\u0275advance"](3),M["\u0275\u0275attribute"]("disabled",(null==i?null:i.fire)>0||null)}}function il(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",187),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).AddLinkedReceipt()}),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()}2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Add")," "))}function rl(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",110),M["\u0275\u0275elementStart"](1,"div",179),M["\u0275\u0275elementStart"](2,"LinkedReceipt-popup",180),M["\u0275\u0275listener"]("ListSelected",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).OnCustomerLinkedReceiptSet(e)}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](3,"div",111),M["\u0275\u0275elementStart"](4,"div",76),M["\u0275\u0275elementStart"](5,"table",77),M["\u0275\u0275elementStart"](6,"thead"),M["\u0275\u0275elementStart"](7,"tr"),M["\u0275\u0275elementStart"](8,"th",78),M["\u0275\u0275text"](9),M["\u0275\u0275pipe"](10,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](11,"th",78),M["\u0275\u0275text"](12),M["\u0275\u0275pipe"](13,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](14,"th",78),M["\u0275\u0275text"](15),M["\u0275\u0275pipe"](16,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](17,"th",78),M["\u0275\u0275text"](18,"\xa0"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](19,"tbody"),M["\u0275\u0275template"](20,nl,21,13,"tr",174),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](21,il,3,3,"button",181),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("custID",null==i._Receipt?null:i._Receipt.vendor_id)("subsidiaryID",i.subsidiaryID)("LinkedListChecked",null==i._Receipt?null:i._Receipt.linkedreceipts),M["\u0275\u0275advance"](7),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](10,8,"Branch")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](13,10,"Receipttype")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](16,12,"EntryNo")," "),M["\u0275\u0275advance"](5),M["\u0275\u0275property"]("ngForOf",i._Receipt.linkedreceipts),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",!i.ComeFromIssueRequest)}}function al(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",110),M["\u0275\u0275elementStart"](1,"div",111),M["\u0275\u0275elementStart"](2,"Signature",188),M["\u0275\u0275listener"]("signatureoutput",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).OnSignatureSet(e)}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("signature",i._Receipt.signature)}}function ol(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Cost Center"),""))}function cl(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",null==n.subsaidarySetting?null:n.subsaidarySetting.costcenteralternativetext,"")}}function ll(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function sl(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function dl(e,t){if(1&e&&(M["\u0275\u0275template"](0,ll,2,1,"div",1),M["\u0275\u0275template"](1,sl,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function pl(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Class"),""))}function ul(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](5);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n.subsaidarySetting?null:n.subsaidarySetting.classalternativetextar)}}function ml(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](5);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n.subsaidarySetting?null:n.subsaidarySetting.classalternativetext)}}function hl(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275template"](1,ul,2,1,"span",1),M["\u0275\u0275template"](2,ml,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function gl(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span",28),M["\u0275\u0275text"](1,"*"),M["\u0275\u0275elementEnd"]())}function _l(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function vl(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function fl(e,t){if(1&e&&(M["\u0275\u0275template"](0,_l,2,1,"div",1),M["\u0275\u0275template"](1,vl,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Cl(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",190),M["\u0275\u0275elementStart"](1,"label",38),M["\u0275\u0275template"](2,pl,3,3,"span",1),M["\u0275\u0275template"](3,hl,3,2,"span",1),M["\u0275\u0275template"](4,gl,2,0,"span",199),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](5,"p-autoComplete",200,201),M["\u0275\u0275listener"]("onFocus",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275reference"](6);return M["\u0275\u0275nextContext"](3).onFocusInClasses(e),t.show()})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3)._Receipt.classfieldname=e})("onSelect",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).ClassesSelectEvent(e)})("completeMethod",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).ClassesChangeSearch(e)}),M["\u0275\u0275template"](8,fl,2,2,"ng-template",202),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](7);M["\u0275\u0275nextContext"](2);var r=M["\u0275\u0275reference"](3),a=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",null==(null==a.subsaidarySetting?null:a.subsaidarySetting.classalternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null!=(null==a.subsaidarySetting?null:a.subsaidarySetting.classalternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null==a.subsaidarySetting?null:a.subsaidarySetting.classmandatory4invtrans),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("required",null==a.subsaidarySetting?null:a.subsaidarySetting.classmandatory4invtrans)("ngModel",a._Receipt.classfieldname)("suggestions",a.ClassList)("ngClass",M["\u0275\u0275pureFunction2"](7,zo,i.invalid&&r.submitted,i.valid&&r.submitted))}}function yl(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Location")," "))}function bl(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](5);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n.subsaidarySetting?null:n.subsaidarySetting.locationalternativetext)}}function Sl(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](5);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n.subsaidarySetting?null:n.subsaidarySetting.locationalternativetextar)}}function Rl(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275template"](1,bl,2,1,"span",1),M["\u0275\u0275template"](2,Sl,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function xl(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span",28),M["\u0275\u0275text"](1,"*"),M["\u0275\u0275elementEnd"]())}function Ml(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function Il(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function Pl(e,t){if(1&e&&(M["\u0275\u0275template"](0,Ml,2,1,"div",1),M["\u0275\u0275template"](1,Il,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Ol(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",190),M["\u0275\u0275elementStart"](1,"label",38),M["\u0275\u0275template"](2,yl,3,3,"span",1),M["\u0275\u0275template"](3,Rl,3,2,"span",1),M["\u0275\u0275template"](4,xl,2,0,"span",199),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](5,"p-autoComplete",203,204),M["\u0275\u0275listener"]("onFocus",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275reference"](6);return M["\u0275\u0275nextContext"](3).onFocusInLocations(e),t.show()})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3)._Receipt.locationfieldname=e})("onSelect",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).LocationsSelectEvent(e)})("completeMethod",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).LocationsChangeSearch(e)}),M["\u0275\u0275template"](8,Pl,2,2,"ng-template",205),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](7);M["\u0275\u0275nextContext"](2);var r=M["\u0275\u0275reference"](3),a=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",null==(null==a.subsaidarySetting?null:a.subsaidarySetting.locationalternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null!=(null==a.subsaidarySetting?null:a.subsaidarySetting.locationalternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null==a.subsaidarySetting?null:a.subsaidarySetting.locationmandatory4invtrans),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("required",null==a.subsaidarySetting?null:a.subsaidarySetting.locationmandatory4invtrans)("ngModel",a._Receipt.locationfieldname)("suggestions",a.LocationList)("ngClass",M["\u0275\u0275pureFunction2"](7,zo,i.invalid&&r.submitted,i.valid&&r.submitted))}}function kl(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Department")," "))}function El(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](5);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n.subsaidarySetting?null:n.subsaidarySetting.departmentalternativetextar)}}function wl(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](5);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n.subsaidarySetting?null:n.subsaidarySetting.departmentalternativetext)}}function Dl(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275template"](1,El,2,1,"span",1),M["\u0275\u0275template"](2,wl,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Bl(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span",28),M["\u0275\u0275text"](1,"*"),M["\u0275\u0275elementEnd"]())}function Ll(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function Fl(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function Nl(e,t){if(1&e&&(M["\u0275\u0275template"](0,Ll,2,1,"div",1),M["\u0275\u0275template"](1,Fl,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Vl(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",190),M["\u0275\u0275elementStart"](1,"label",38),M["\u0275\u0275template"](2,kl,3,3,"span",1),M["\u0275\u0275template"](3,Dl,3,2,"span",1),M["\u0275\u0275template"](4,Bl,2,0,"span",199),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](5,"p-autoComplete",206,207),M["\u0275\u0275listener"]("onFocus",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275reference"](6);return M["\u0275\u0275nextContext"](3).onFocusInDepartment(e),t.show()})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3)._Receipt.departmentfieldname=e})("onSelect",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).DepartmentSelectEvent(e)})("completeMethod",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).DepartmentChangeSearch(e)}),M["\u0275\u0275template"](8,Nl,2,2,"ng-template",208),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](7);M["\u0275\u0275nextContext"](2);var r=M["\u0275\u0275reference"](3),a=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",null==(null==a.subsaidarySetting?null:a.subsaidarySetting.departmentalternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null!=(null==a.subsaidarySetting?null:a.subsaidarySetting.departmentalternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null==a.subsaidarySetting?null:a.subsaidarySetting.departmentmandatory4invtrans),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("required",null==a.subsaidarySetting?null:a.subsaidarySetting.departmentmandatory4invtrans)("ngModel",a._Receipt.departmentfieldname)("suggestions",a.DepartmentList)("ngClass",M["\u0275\u0275pureFunction2"](7,zo,i.invalid&&r.submitted,i.valid&&r.submitted))}}function ql(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Devission")," "))}function Tl(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](5);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n.subsaidarySetting?null:n.subsaidarySetting.divisionalternativetextar)}}function Al(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](5);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n.subsaidarySetting?null:n.subsaidarySetting.divisionalternativetext)}}function Gl(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275template"](1,Tl,2,1,"span",1),M["\u0275\u0275template"](2,Al,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Ul(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span",28),M["\u0275\u0275text"](1,"*"),M["\u0275\u0275elementEnd"]())}function jl(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function $l(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function zl(e,t){if(1&e&&(M["\u0275\u0275template"](0,jl,2,1,"div",1),M["\u0275\u0275template"](1,$l,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Wl(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",190),M["\u0275\u0275elementStart"](1,"label",38),M["\u0275\u0275template"](2,ql,3,3,"span",1),M["\u0275\u0275template"](3,Gl,3,2,"span",1),M["\u0275\u0275template"](4,Ul,2,0,"span",199),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](5,"p-autoComplete",209,210),M["\u0275\u0275listener"]("onFocus",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275reference"](6);return M["\u0275\u0275nextContext"](3).onFocusInDivision(e),t.show()})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3)._Receipt.divisionfieldname=e})("onSelect",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).DivisionSelectEvent(e)})("completeMethod",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).DivisionChangeSearch(e)}),M["\u0275\u0275template"](8,zl,2,2,"ng-template",211),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](7);M["\u0275\u0275nextContext"](2);var r=M["\u0275\u0275reference"](3),a=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",null==(null==a.subsaidarySetting?null:a.subsaidarySetting.divisionalternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null!=(null==a.subsaidarySetting?null:a.subsaidarySetting.divisionalternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null==a.subsaidarySetting?null:a.subsaidarySetting.divisionmandatory4invtrans),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("required",null==a.subsaidarySetting?null:a.subsaidarySetting.divisionmandatory4invtrans)("ngModel",a._Receipt.divisionfieldname)("suggestions",a.DivisionList)("ngClass",M["\u0275\u0275pureFunction2"](7,zo,i.invalid&&r.submitted,i.valid&&r.submitted))}}function Jl(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",146),M["\u0275\u0275text"](1," choose "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function Ql(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",146),M["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function Yl(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function Hl(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function Zl(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",102),M["\u0275\u0275template"](1,Yl,2,1,"span",1),M["\u0275\u0275template"](2,Hl,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275property"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function Kl(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",146),M["\u0275\u0275text"](1," choose "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function Xl(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",146),M["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function es(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function ts(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function ns(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",102),M["\u0275\u0275template"](1,es,2,1,"span",1),M["\u0275\u0275template"](2,ts,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275property"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function is(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",6),M["\u0275\u0275elementStart"](1,"div",189),M["\u0275\u0275elementStart"](2,"div",190),M["\u0275\u0275elementStart"](3,"label",38),M["\u0275\u0275template"](4,ol,3,3,"span",1),M["\u0275\u0275template"](5,cl,2,1,"span",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](6,"p-autoComplete",191,192),M["\u0275\u0275listener"]("onFocus",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275reference"](7);return M["\u0275\u0275nextContext"](2).onFocusInCostCenter(e),t.show()})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Receipt.costcenterfieldname=e})("onSelect",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).CostCenterSelectEvent(e)})("completeMethod",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).CostCenterChangeSearch(e)}),M["\u0275\u0275template"](9,dl,2,2,"ng-template",193),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](10,Cl,9,10,"div",194),M["\u0275\u0275template"](11,Ol,9,10,"div",194),M["\u0275\u0275template"](12,Vl,9,10,"div",194),M["\u0275\u0275template"](13,Wl,9,10,"div",194),M["\u0275\u0275elementStart"](14,"div",190),M["\u0275\u0275elementStart"](15,"label",195),M["\u0275\u0275text"](16),M["\u0275\u0275pipe"](17,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](18,"select",196),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Receipt.carid=e})("change",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).ChangeCar()}),M["\u0275\u0275template"](19,Jl,2,1,"option",134),M["\u0275\u0275template"](20,Ql,2,1,"option",134),M["\u0275\u0275template"](21,Zl,3,3,"option",27),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](22,"div",190),M["\u0275\u0275elementStart"](23,"label",197),M["\u0275\u0275text"](24),M["\u0275\u0275pipe"](25,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](26,"select",198),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Receipt.driverid=e})("change",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).ChangeDriver()}),M["\u0275\u0275template"](27,Kl,2,1,"option",134),M["\u0275\u0275template"](28,Xl,2,1,"option",134),M["\u0275\u0275template"](29,ns,3,3,"option",27),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](8);M["\u0275\u0275nextContext"]();var r=M["\u0275\u0275reference"](3),a=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("ngIf",null==(null==a.subsaidarySetting?null:a.subsaidarySetting.costcenteralternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null!=(null==a.subsaidarySetting?null:a.subsaidarySetting.costcenteralternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("required",null==a.subsaidarySetting?null:a.subsaidarySetting.costcentermandatory4invtrans)("ngModel",a._Receipt.costcenterfieldname)("suggestions",a.CostCenterList)("ngClass",M["\u0275\u0275pureFunction2"](24,zo,i.invalid&&r.submitted,i.valid&&r.submitted)),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("ngIf",null==a.subsaidarySetting?null:a.subsaidarySetting.classisactive),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null==a.subsaidarySetting?null:a.subsaidarySetting.locationisactive),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null==a.subsaidarySetting?null:a.subsaidarySetting.departmentisactive),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null==a.subsaidarySetting?null:a.subsaidarySetting.divisionisactive),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](17,20,"Cars")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",a._Receipt.carid),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",a.CarsList),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](25,22,"Drivers")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",a._Receipt.driverid),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",a.DriversList)}}function rs(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",146),M["\u0275\u0275text"](1," choose "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function as(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",146),M["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function os(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.codename,"")}}function cs(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.codenamear,"")}}function ls(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",102),M["\u0275\u0275template"](1,os,2,1,"span",1),M["\u0275\u0275template"](2,cs,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("value",n.code),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function ss(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"tr"),M["\u0275\u0275elementStart"](1,"td"),M["\u0275\u0275elementStart"](2,"select",215),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.code=e}),M["\u0275\u0275template"](3,rs,2,1,"option",134),M["\u0275\u0275template"](4,as,2,1,"option",134),M["\u0275\u0275template"](5,ls,3,3,"option",27),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](6,"td"),M["\u0275\u0275elementStart"](7,"input",216,217),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.entry_no=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](9,"td",138),M["\u0275\u0275elementStart"](10,"a",143),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).OnOpenReceiptHistory(e)}),M["\u0275\u0275element"](11,"i",218),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index,a=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","historyReceiptscode",r,""),M["\u0275\u0275property"]("ngModel",i.code),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",a.ReceiptCodeList),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","historyReceiptsentry_no",r,""),M["\u0275\u0275property"]("ngModel",i.entry_no)}}function ds(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div",212),M["\u0275\u0275elementStart"](1,"div",213),M["\u0275\u0275elementStart"](2,"div",214),M["\u0275\u0275elementStart"](3,"table",77),M["\u0275\u0275elementStart"](4,"thead"),M["\u0275\u0275elementStart"](5,"tr"),M["\u0275\u0275elementStart"](6,"th",78),M["\u0275\u0275text"](7),M["\u0275\u0275pipe"](8,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](9,"th",78),M["\u0275\u0275text"](10),M["\u0275\u0275pipe"](11,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](12,"th",78),M["\u0275\u0275text"](13,"\xa0"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](14,"tbody"),M["\u0275\u0275template"](15,ss,12,7,"tr",174),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](7),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](8,3,"Receipttype")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](11,5,"EntryNo")," "),M["\u0275\u0275advance"](5),M["\u0275\u0275property"]("ngForOf",n.ReceiptHistoryList)}}function ps(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"]("Maximum number can be ",null==n.CurrentUserSetting?null:n.CurrentUserSetting.maxreceiptdiscountperc," % Discount")}}function us(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"]("\u0623\u0643\u0628\u0631 \u0631\u0642\u0645 \u0647\u0648 ",null==n.CurrentUserSetting?null:n.CurrentUserSetting.maxreceiptdiscountperc," % \u062e\u0635\u0645 ")}}function ms(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div",155),M["\u0275\u0275template"](1,ps,2,1,"span",1),M["\u0275\u0275template"](2,us,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function hs(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"]("Maximum number can be ",null==n.CurrentUserSetting?null:n.CurrentUserSetting.maxreceiptdiscountperc," % Discount")}}function gs(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"]("\u0623\u0643\u0628\u0631 \u0631\u0642\u0645 \u0647\u0648 ",null==n.CurrentUserSetting?null:n.CurrentUserSetting.maxreceiptdiscountperc," % \u062e\u0635\u0645 ")}}function _s(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div",155),M["\u0275\u0275template"](1,hs,2,1,"span",1),M["\u0275\u0275template"](2,gs,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function vs(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275element"](1,"Item-StoreQty",219,220),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("wrappe",n._itemstoreqtyobj)}}function fs(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275elementStart"](1,"section"),M["\u0275\u0275elementStart"](2,"form",8,9),M["\u0275\u0275listener"]("ngSubmit",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275reference"](3);return M["\u0275\u0275nextContext"]().CheckPre_SaveReceipt(e)}),M["\u0275\u0275elementStart"](4,"div",10),M["\u0275\u0275elementStart"](5,"div",11),M["\u0275\u0275elementStart"](6,"div",12),M["\u0275\u0275elementStart"](7,"h6",13),M["\u0275\u0275text"](8),M["\u0275\u0275pipe"](9,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](10,"div",6),M["\u0275\u0275elementStart"](11,"div",14),M["\u0275\u0275template"](12,Mo,4,4,"button",15),M["\u0275\u0275template"](13,Io,4,4,"button",15),M["\u0275\u0275elementStart"](14,"button",16),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().CreateNewAction()}),M["\u0275\u0275text"](15),M["\u0275\u0275pipe"](16,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](17,Po,3,4,"button",17),M["\u0275\u0275template"](18,Oo,3,4,"button",18),M["\u0275\u0275elementStart"](19,"button",19),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().BackAction()}),M["\u0275\u0275text"](20),M["\u0275\u0275pipe"](21,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](22,"div",20),M["\u0275\u0275elementStart"](23,"button",21),M["\u0275\u0275text"](24),M["\u0275\u0275pipe"](25,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](26,"div",22),M["\u0275\u0275template"](27,Bo,5,4,"ng-container",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](28,"div",6),M["\u0275\u0275elementStart"](29,"div",23),M["\u0275\u0275elementStart"](30,"div",24),M["\u0275\u0275elementStart"](31,"label",25),M["\u0275\u0275text"](32),M["\u0275\u0275pipe"](33,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](34,"select",26),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.customersalesprice=e})("change",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().changesalesprice(e)}),M["\u0275\u0275template"](35,No,3,3,"option",27),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](36,"div",23),M["\u0275\u0275elementStart"](37,"div",24),M["\u0275\u0275elementStart"](38,"label",25),M["\u0275\u0275text"](39),M["\u0275\u0275pipe"](40,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](41,"span",28),M["\u0275\u0275text"](42,"*"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](43,"select",29,30),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.branch_id=e})("change",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().changeBranch(e)}),M["\u0275\u0275template"](45,Vo,2,0,"option",31),M["\u0275\u0275template"](46,qo,2,0,"option",31),M["\u0275\u0275template"](47,Go,3,3,"option",32),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](48,"div",6),M["\u0275\u0275elementStart"](49,"div",33),M["\u0275\u0275elementStart"](50,"div",24),M["\u0275\u0275elementStart"](51,"label",34),M["\u0275\u0275text"](52),M["\u0275\u0275pipe"](53,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](54,"span",28),M["\u0275\u0275text"](55,"*"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](56,"input",35,36),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.entry_no=e})("ngModelChange",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().ChangePropFinish("EntryCode",2)})("keydown.space",function(e){return e.preventDefault()}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](58,"div",33),M["\u0275\u0275elementStart"](59,"div",24),M["\u0275\u0275elementStart"](60,"label"),M["\u0275\u0275elementStart"](61,"input",37),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().onMainAccountRadioClick()})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.accounttype=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](62,"span",28),M["\u0275\u0275text"](63,"*"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](64,"span",38),M["\u0275\u0275text"](65),M["\u0275\u0275pipe"](66,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](67,"label",39),M["\u0275\u0275elementStart"](68,"input",37),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().onMainAccountRadioClick()})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.accounttype=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](69,"span",28),M["\u0275\u0275text"](70,"*"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](71,"span",38),M["\u0275\u0275text"](72),M["\u0275\u0275pipe"](73,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](74,Wo,5,11,"p-autoComplete",40),M["\u0275\u0275template"](75,Ho,5,11,"p-autoComplete",41),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](76,"div",42),M["\u0275\u0275elementStart"](77,"div",24),M["\u0275\u0275elementStart"](78,"label",43),M["\u0275\u0275text"](79),M["\u0275\u0275pipe"](80,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](81,"input",44,45),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.cashcustomer_vendor_name=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](83,"div",6),M["\u0275\u0275elementStart"](84,"div",33),M["\u0275\u0275elementStart"](85,"div",24),M["\u0275\u0275elementStart"](86,"label",46),M["\u0275\u0275text"](87),M["\u0275\u0275pipe"](88,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](89,"input",47,48),M["\u0275\u0275listener"]("ngModelChange",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275nextContext"]();return t._Receipt.entry_date=e,t.ChangePropFinish("EntryDate",2)}),M["\u0275\u0275pipe"](91,"date"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](92,"div",33),M["\u0275\u0275elementStart"](93,"div",24),M["\u0275\u0275elementStart"](94,"label",49),M["\u0275\u0275text"](95),M["\u0275\u0275pipe"](96,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](97,"input",50,51),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.entry_time=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](99,"div",33),M["\u0275\u0275elementStart"](100,"div",24),M["\u0275\u0275elementStart"](101,"label",52),M["\u0275\u0275text"](102),M["\u0275\u0275pipe"](103,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](104,"input",53,54),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.memo=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](106,"div",33),M["\u0275\u0275elementStart"](107,"div",24),M["\u0275\u0275elementStart"](108,"label",55),M["\u0275\u0275text"](109),M["\u0275\u0275pipe"](110,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](111,"input",56,57),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.reference_no=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](113,"div",6),M["\u0275\u0275elementStart"](114,"div",33),M["\u0275\u0275elementStart"](115,"div",24),M["\u0275\u0275elementStart"](116,"label",58),M["\u0275\u0275text"](117),M["\u0275\u0275pipe"](118,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](119,"input",59,60),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.inchargepersonname=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](121,"div",33),M["\u0275\u0275elementStart"](122,"div",24),M["\u0275\u0275elementStart"](123,"label",61),M["\u0275\u0275text"](124),M["\u0275\u0275pipe"](125,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](126,"input",62,63),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.inchargephoneno=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](128,"div",64),M["\u0275\u0275elementStart"](129,"div",65),M["\u0275\u0275elementStart"](130,"div",6),M["\u0275\u0275elementStart"](131,"div",66),M["\u0275\u0275elementStart"](132,"ul",67,68),M["\u0275\u0275listener"]("activeIdChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().activeNav=e}),M["\u0275\u0275elementStart"](134,"li",69),M["\u0275\u0275elementStart"](135,"a",70),M["\u0275\u0275text"](136),M["\u0275\u0275pipe"](137,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](138,wc,36,29,"ng-template",71),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](139,Dc,19,10,"ng-template",null,72,M["\u0275\u0275templateRefExtractor"]),M["\u0275\u0275template"](141,zc,5,4,"li",73),M["\u0275\u0275elementStart"](142,"li",69),M["\u0275\u0275elementStart"](143,"a",70),M["\u0275\u0275text"](144),M["\u0275\u0275pipe"](145,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](146,rl,22,14,"ng-template",71),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](147,"li",69),M["\u0275\u0275elementStart"](148,"a",70),M["\u0275\u0275text"](149),M["\u0275\u0275pipe"](150,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](151,al,3,1,"ng-template",71),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](152,"li",69),M["\u0275\u0275elementStart"](153,"a",70),M["\u0275\u0275text"](154),M["\u0275\u0275pipe"](155,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](156,is,30,27,"ng-template",71),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](157,"li",69),M["\u0275\u0275elementStart"](158,"a",70),M["\u0275\u0275text"](159),M["\u0275\u0275pipe"](160,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](161,ds,16,7,"ng-template",71),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275element"](162,"div",74),M["\u0275\u0275elementStart"](163,"div",6),M["\u0275\u0275elementStart"](164,"div",75),M["\u0275\u0275elementStart"](165,"div",76),M["\u0275\u0275elementStart"](166,"table",77),M["\u0275\u0275elementStart"](167,"thead"),M["\u0275\u0275elementStart"](168,"tr"),M["\u0275\u0275element"](169,"th",78),M["\u0275\u0275elementStart"](170,"th",79),M["\u0275\u0275text"](171),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](172,"th",78),M["\u0275\u0275text"](173),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](174,"tbody"),M["\u0275\u0275elementStart"](175,"tr"),M["\u0275\u0275elementStart"](176,"td"),M["\u0275\u0275text"](177),M["\u0275\u0275pipe"](178,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](179,"td",80),M["\u0275\u0275elementStart"](180,"input",81),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.valueforeign=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](181,"td"),M["\u0275\u0275elementStart"](182,"input",82),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.value=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](183,"tr"),M["\u0275\u0275elementStart"](184,"td"),M["\u0275\u0275text"](185),M["\u0275\u0275pipe"](186,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](187,"td",80),M["\u0275\u0275elementStart"](188,"input",83,84),M["\u0275\u0275listener"]("keyup",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().Calculate_Disc("foreign","percent")})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.discount_foreignpercent=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](190,ms,3,2,"div",85),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](191,"td"),M["\u0275\u0275elementStart"](192,"input",86,87),M["\u0275\u0275listener"]("keyup",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().Calculate_Disc("local","percent")})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.discount_percent=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](194,_s,3,2,"div",85),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](195,"tr"),M["\u0275\u0275elementStart"](196,"td"),M["\u0275\u0275text"](197),M["\u0275\u0275pipe"](198,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](199,"td",80),M["\u0275\u0275elementStart"](200,"input",88),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.discount_foreignvalue=e})("keyup",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().Calculate_Disc("foreign","value")}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](201,"td"),M["\u0275\u0275elementStart"](202,"input",89),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.discount_value=e})("keyup",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().Calculate_Disc("local","value")}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](203,"tr"),M["\u0275\u0275elementStart"](204,"td"),M["\u0275\u0275text"](205),M["\u0275\u0275pipe"](206,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](207,"td",80),M["\u0275\u0275elementStart"](208,"input",90),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.netvalueforeign=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](209,"td"),M["\u0275\u0275elementStart"](210,"input",91),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.netvalue=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](211,"tr"),M["\u0275\u0275elementStart"](212,"td"),M["\u0275\u0275text"](213),M["\u0275\u0275pipe"](214,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](215,"td"),M["\u0275\u0275elementStart"](216,"input",92),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.qtotal=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](217,"tr"),M["\u0275\u0275elementStart"](218,"td"),M["\u0275\u0275text"](219),M["\u0275\u0275pipe"](220,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](221,"td"),M["\u0275\u0275elementStart"](222,"input",93),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.totalitem=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](223,"div",94),M["\u0275\u0275template"](224,vs,3,1,"div",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](3),r=M["\u0275\u0275reference"](44),a=M["\u0275\u0275reference"](57),o=M["\u0275\u0275reference"](90),c=M["\u0275\u0275reference"](133),l=M["\u0275\u0275reference"](189),s=M["\u0275\u0275reference"](193),d=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](8),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](9,109,"Issue Voucher"),""),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("ngIf",d.ComeFromIssueRequest),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",!d.ComeFromIssueRequest),M["\u0275\u0275advance"](1),M["\u0275\u0275attribute"]("disabled",!d.checkRoleParms(229)||1==d.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](16,111,"CreateNew")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",d.ReceiptID>0&&0==d.VouchersLinkedCount),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",d.ReceiptID>0&&d.checkRoleParms(232)),M["\u0275\u0275advance"](1),M["\u0275\u0275attribute"]("disabled",1==d.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](21,113,"Exit")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](25,115,"Action Menu")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngIf",d.ReceiptID>0),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](33,117,"CostPrice")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",d._Receipt.customersalesprice),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",d.CustomerSalesPriceList),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](40,119,"Branch")),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("ngModel",d._Receipt.branch_id)("ngClass",M["\u0275\u0275pureFunction2"](166,zo,r.invalid&&i.submitted,r.valid&&i.submitted)),M["\u0275\u0275attribute"]("disabled",d.ReceiptID>0||null),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=d.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==d.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",d.BranchList)("ngForTrackBy",d.customTrackBy),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](53,121,"Entry#")),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("stepallow",1)("ngModel",d._Receipt.entry_no)("Min",1)("CheckMin",!0)("readonly",0==(null==d.CurrentUserSetting?null:d.CurrentUserSetting.controlvouchernumanddate)||d.VouchersLinkedCount>0||1==d.LockedRecepit)("ngClass",M["\u0275\u0275pureFunction2"](169,zo,a.invalid&&i.submitted,a.valid&&i.submitted)),M["\u0275\u0275advance"](5),M["\u0275\u0275property"]("ngModel",d._Receipt.accounttype)("value",!1),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](66,123,"Customer#")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngModel",d._Receipt.accounttype)("value",!0),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](73,125,"OtherAccount")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",0==d._Receipt.accounttype),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",1==d._Receipt.accounttype),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](80,127,"CustomerName")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",d._Receipt.cashcustomer_vendor_name)("readonly",!0),M["\u0275\u0275advance"](6),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](88,129,"Date")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",M["\u0275\u0275pipeBind2"](91,131,d._Receipt.entry_date,"yyyy-MM-dd"))("readonly",0==(null==d.CurrentUserSetting?null:d.CurrentUserSetting.controlvouchernumanddate)||d.VouchersLinkedCount>0||1==d.LockedRecepit)("ngClass",M["\u0275\u0275pureFunction2"](172,zo,o.invalid&&i.submitted||0==d.ValidPeriod,o.valid&&i.submitted)),M["\u0275\u0275advance"](6),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](96,134,"time")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("readonly",0==(null==d.CurrentUserSetting?null:d.CurrentUserSetting.controlvouchernumanddate)||d.VouchersLinkedCount>0||1==d.LockedRecepit)("ngModel",d._Receipt.entry_time),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](103,136,"Memo")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",d._Receipt.memo),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](110,138,"ReferenceNo")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",d._Receipt.reference_no),M["\u0275\u0275advance"](6),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](118,140,"InchargePersonName")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",d._Receipt.inchargepersonname),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](125,142,"inchargephoneno")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",d._Receipt.inchargephoneno),M["\u0275\u0275advance"](6),M["\u0275\u0275property"]("destroyOnHide",!1)("activeId",d.activeNav),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngbNavItem",1),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](137,144,"Items")),M["\u0275\u0275advance"](5),M["\u0275\u0275property"]("ngIf",null==d.CurrentUserSetting?null:d.CurrentUserSetting.showreceiptitemcomponent),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngbNavItem",3),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](145,146,"LinkedReceipt")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngbNavItem",4),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](150,148,"Signature")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngbNavItem",5),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](155,150,"AnalyticalAccount")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngbNavItem",6),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](160,152,"History")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngbNavOutlet",c),M["\u0275\u0275advance"](8),M["\u0275\u0275property"]("hidden",!d.ForeignCurrencyShow),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" Total - ",null==d._CurrencySelected?null:d._CurrencySelected.currencysymbol," "),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" Total - ",null==d._BaseCurrency?null:d._BaseCurrency.currencysymbol," "),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](178,154,"Total")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("hidden",!d.ForeignCurrencyShow),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("readonly",!0)("ngModel",d._Receipt.valueforeign),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("readonly",!0)("ngModel",d._Receipt.value),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](186,156,"Disc%")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("hidden",!d.ForeignCurrencyShow),M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate"]("customMax",null==d.CurrentUserSetting?null:d.CurrentUserSetting.maxreceiptdiscountperc),M["\u0275\u0275property"]("readonly",!(null!=d.CurrentUserSetting&&d.CurrentUserSetting.showreceiptoveralldiscount))("ngModel",d._Receipt.discount_foreignpercent)("ngClass",M["\u0275\u0275pureFunction2"](175,zo,l.invalid&&i.submitted,l.valid&&i.submitted)),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",null==l.errors?null:l.errors.customMax),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate"]("customMax",null==d.CurrentUserSetting?null:d.CurrentUserSetting.maxreceiptdiscountperc),M["\u0275\u0275property"]("readonly",!(null!=d.CurrentUserSetting&&d.CurrentUserSetting.showreceiptoveralldiscount))("ngModel",d._Receipt.discount_percent)("ngClass",M["\u0275\u0275pureFunction2"](178,zo,s.invalid&&i.submitted,s.valid&&i.submitted)),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",null==s.errors?null:s.errors.customMax),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](198,158,"Discount")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("hidden",!d.ForeignCurrencyShow),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("readonly",!(null!=d.CurrentUserSetting&&d.CurrentUserSetting.showreceiptoveralldiscount))("ngModel",d._Receipt.discount_foreignvalue),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("readonly",!(null!=d.CurrentUserSetting&&d.CurrentUserSetting.showreceiptoveralldiscount))("ngModel",d._Receipt.discount_value),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](206,160,"Net")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("hidden",!d.ForeignCurrencyShow),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngModel",d._Receipt.netvalueforeign)("readonly",!0),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",d._Receipt.netvalue)("readonly",!0),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](214,162,"totalqty")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("readonly",!0)("ngModel",d._Receipt.qtotal),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](220,164,"totalitem")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("readonly",!0)("ngModel",d._Receipt.totalitem),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",d.itemqtyview)}}function Cs(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",146),M["\u0275\u0275text"](1,"choose"),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function ys(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",146),M["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function bs(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function Ss(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function Rs(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",102),M["\u0275\u0275template"](1,bs,2,1,"span",1),M["\u0275\u0275template"](2,Ss,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275property"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function xs(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",231),M["\u0275\u0275elementStart"](1,"label",232),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](4,"select",233),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).DescriptionItem.salesmanid=e}),M["\u0275\u0275template"](5,Cs,2,1,"option",134),M["\u0275\u0275template"](6,ys,2,1,"option",134),M["\u0275\u0275template"](7,Rs,3,3,"option",27),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](3,6,"ServiceSalesMan")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i.DescriptionItem.salesmanid)("disabled",i.ComeFromIssueRequest),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",i.SalesManlist)}}var Ms=function(){return{height:"150px"}},Is=function(){return{standalone:!0}};function Ps(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",163),M["\u0275\u0275elementStart"](1,"h6",164),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](4,"button",165),M["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),M["\u0275\u0275elementStart"](5,"span",166),M["\u0275\u0275text"](6,"\xd7"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](7,"div",221),M["\u0275\u0275elementStart"](8,"div",222),M["\u0275\u0275elementStart"](9,"label",223),M["\u0275\u0275text"](10),M["\u0275\u0275pipe"](11,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](12,"input",224,225),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().DescriptionItem.customitemname=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](14,"div",189),M["\u0275\u0275elementStart"](15,"div",222),M["\u0275\u0275elementStart"](16,"quill-editor",226),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().DescriptionItem.detailshtml=e})("onContentChanged",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().onContentChanged(e)}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](17,xs,8,8,"div",227),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](18,"div",172),M["\u0275\u0275elementStart"](19,"button",228),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().SaveNotes()}),M["\u0275\u0275text"](20),M["\u0275\u0275pipe"](21,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](22,"button",229),M["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),M["\u0275\u0275element"](23,"i",230),M["\u0275\u0275text"](24),M["\u0275\u0275pipe"](25,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](3,13,"Description")),M["\u0275\u0275advance"](8),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](11,15,"Item")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i.DescriptionItem.customitemname)("disabled",i.ComeFromIssueRequest),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("styles",M["\u0275\u0275pureFunction0"](21,Ms))("ngModel",i.DescriptionItem.detailshtml)("ngModelOptions",M["\u0275\u0275pureFunction0"](22,Is))("modules",i.quillConfig)("disabled",i.ComeFromIssueRequest),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.IsSalesManImplemented),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("disabled",i.ComeFromIssueRequest),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](21,17,"Save")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](25,19,"Cancel")," ")}}function Os(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"h6",164),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}function ks(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"h6",164),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Batches")," "))}function Es(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th"),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Date")," "))}function ws(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th"),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}function Ds(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th"),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"BatchNo")," "))}function Bs(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th",239),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Availableqty")," "))}function Ls(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th",239),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"qty")," "))}function Fs(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th"),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"PatchConfirmation")," "))}var Ns=function(e){return{isExpired:e}};function Vs(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"td",145),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"date"),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275property"]("ngClass",M["\u0275\u0275pureFunction1"](5,Ns,null==n?null:n.isexpired)),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind2"](2,2,null==n?null:n.expire_date,"yyyy-MM-dd")," ")}}function qs(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span",155),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](2,1,"QtyIsValidWithAvailableQty")))}var Ts=function(e){return{"invalid-data":e}};function As(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275elementStart"](1,"input",241),M["\u0275\u0275listener"]("change",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275nextContext"]().$implicit;return M["\u0275\u0275nextContext"](2).ChangeBatchQty(t,e.target.value)}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](2,qs,3,3,"span",85),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](),r=i.index,a=i.$implicit;M["\u0275\u0275nextContext"]();var o=M["\u0275\u0275reference"](7),c=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate1"]("name","Qty",r,""),M["\u0275\u0275property"]("value",null==a?null:a.qty)("ngClass",M["\u0275\u0275pureFunction1"](5,Ts,(null==a?null:a.qty)>(null==a?null:a.availableqty)+(null==a?null:a.oldqty)&&o.submitted))("disabled",c.ComeFromIssueRequest),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",(null==a?null:a.qty)>(null==a?null:a.availableqty)+(null==a?null:a.oldqty)&&o.submitted)}}function Gs(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275elementStart"](1,"input",242),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().$implicit.patchconfirmation=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](),r=i.index,a=i.$implicit;M["\u0275\u0275nextContext"]();var o=M["\u0275\u0275reference"](7);M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate1"]("name","Qty",r,""),M["\u0275\u0275property"]("ngModel",a.patchconfirmation)("ngClass",M["\u0275\u0275pureFunction1"](3,Ts,(null==a?null:a.patchconfirmation.trim())!=(null==a?null:a.serial)&&o.submitted&&(null==a?null:a.qty)&&(null!=(null==a?null:a.qty)||0!=(null==a?null:a.qty))))}}function Us(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"tr"),M["\u0275\u0275elementStart"](1,"td"),M["\u0275\u0275element"](2,"input",240),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](3,"td"),M["\u0275\u0275text"](4),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](5,Vs,3,7,"td",131),M["\u0275\u0275elementStart"](6,"td"),M["\u0275\u0275text"](7),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](8,"td"),M["\u0275\u0275text"](9),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](10,As,3,7,"td",1),M["\u0275\u0275template"](11,Gs,2,5,"td",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=t.index,r=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","Vaild",i,""),M["\u0275\u0275property"]("checked",null==n?null:n.valid)("disabled",r.ComeFromIssueRequest),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ","ar"!=r.lang?null==n?null:n.name:null==n?null:n.name_ar," "),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",3==r.requiredserial),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",null==n?null:n.serial," "),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](null==n?null:n.availableqty),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",3==r.requiredserial),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",1==r.CashCustomerSetting.confirmationpatchinissuevoucher)}}function js(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",163),M["\u0275\u0275template"](1,Os,3,3,"h6",234),M["\u0275\u0275template"](2,ks,3,3,"h6",234),M["\u0275\u0275elementStart"](3,"button",165),M["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),M["\u0275\u0275elementStart"](4,"span",166),M["\u0275\u0275text"](5,"\xd7"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](6,"form",8,9),M["\u0275\u0275listener"]("ngSubmit",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275reference"](7);return M["\u0275\u0275nextContext"]().saveserial(e)}),M["\u0275\u0275elementStart"](8,"div",221),M["\u0275\u0275elementStart"](9,"div",231),M["\u0275\u0275elementStart"](10,"div",6),M["\u0275\u0275elementStart"](11,"form"),M["\u0275\u0275elementStart"](12,"div",235),M["\u0275\u0275elementStart"](13,"h6",164),M["\u0275\u0275text"](14),M["\u0275\u0275pipe"](15,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](16,"table",77),M["\u0275\u0275elementStart"](17,"thead"),M["\u0275\u0275elementStart"](18,"tr"),M["\u0275\u0275elementStart"](19,"th"),M["\u0275\u0275text"](20),M["\u0275\u0275pipe"](21,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](22,"th",236),M["\u0275\u0275text"](23),M["\u0275\u0275pipe"](24,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](25,Es,3,3,"th",1),M["\u0275\u0275template"](26,ws,3,3,"th",1),M["\u0275\u0275template"](27,Ds,3,3,"th",1),M["\u0275\u0275template"](28,Bs,3,3,"th",237),M["\u0275\u0275template"](29,Ls,3,3,"th",237),M["\u0275\u0275template"](30,Fs,3,3,"th",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](31,"tbody"),M["\u0275\u0275template"](32,Us,12,9,"tr",119),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](33,"div",172),M["\u0275\u0275elementStart"](34,"button",238),M["\u0275\u0275text"](35),M["\u0275\u0275pipe"](36,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",2==i.requiredserial),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",3==i.requiredserial),M["\u0275\u0275advance"](12),M["\u0275\u0275textInterpolate2"](" ",M["\u0275\u0275pipeBind1"](15,15,"qty")," : ",i._batchqty," "),M["\u0275\u0275advance"](6),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](21,17,"Choose")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](24,19,"Store")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",3==i.requiredserial),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",2==i.requiredserial),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",3==i.requiredserial),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",3==i.requiredserial),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",3==i.requiredserial),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",1==i.CashCustomerSetting.confirmationpatchinissuevoucher),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngForOf",i.BatchesListForEatchRow)("ngForTrackBy",i.trackByFn),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](36,21,"save")," ")}}var $s=function(){return[228,229,230,232,620]},zs=function(){var e=function(){function e(t,n,i,r,a,o,l,s,d,p,u,m,h,g,_,v,f,C){var y=this;c(this,e),this._cashsalesService=t,this._CustomerService=n,this._ReceiptSharedService=i,this._VoucherService=r,this.cd=a,this.toastr=o,this._router=l,this._generalService=s,this.translate=d,this._translateGlobalService=p,this._activeRoute=u,this.modalService=m,this.spinner=h,this._authService=g,this._printService=_,this._VerifyReportsService=v,this.datepipe=f,this.location=C,this.isType=!1,this.subsidiaryID=0,this.ReceiptID=0,this.PriceListItemsOnly=!1,this.BasicCodeReceipt=60,this.Transaction_move=0,this._Receipt=new S.tY,this._ReceiptOriginal=new S.tY,this._Receipt_h_Edit=new S.Iu,this.CustomerTypeID=1,this._CashSalesDetailsReceipt=new S.hm,this.ItemsComponentList=new Array,this.DescriptionItem=new S.tH,this._LinkedReceipt=new S.Cb,this.IsSalesManImplemented=!1,this._Currencyprecision=3,this.ForeignCurrencyShow=!1,this.ValidPeriod=!0,this.deliverdateValid=!0,this.VouchersLinkedCount=0,this.BranchList=[],this.PaymentTypeList=[],this.CustomerAccountsList=[],this.OtherAccountsList=[],this.CostCenterList=[],this.ReceiptCodeList=[],this.TransactionAccountList=[],this.CarsList=[],this.DriversList=[],this.DepartmentList=[],this.LocationList=[],this.ClassList=[],this.DivisionList=[],this.CurrencyList=[],this.StoreList=[],this.ItemsList=[],this.ItemUnitsList=[],this.ItemComponentUnitsList=[],this.CustomerSalesPriceList=[],this.reporturl="",this.reportdomainUrl=ke.N.aspDomain,this._emailobj={email:"",subject:""},this.mailmsg="",this.allowDelete=!1,this.ShowModeReceipt=!1,this.LockedRecepit=!1,this.linkedreceiptid=0,this.issuerequestid=0,this.swalTitleEntry="",this.swalTextEntry="",this.swalConfirmButtonEntry="",this.Cancel="",this.WarningInfoLost="",this.warning="",this.Yes="",this.FinancialPeriodMsg="",this.Close="",this.FinancialPeriodCloseMsg="",this.CostPostingPeriodMessage="",this.StopInventoryErrorMsg="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.DeleteRelationmsg="",this.ItemsZeroErrorMsg="",this.MultiPayErrorMsg="",this.ItemsEqualZeroMsg="",this.ReceiptNotFound="",this.CustomerPricelistMsg="",this.Receiptnoitems="",this.NoUnits="",this.ItemWarrantyValidMsg="",this.DeliverDateMsg="",this.qtyErrorSaveMsg="",this.qtyErrorMsg="",this.qtyZeroErrorSaveMsg="",this.SaveMsg="",this.No="",this.swalNewActionTitle="",this.swalNewActionText="",this.NOComponents="",this.QtyIsValidWithAvailableQty="",this.InValidNumberOfBatch="",this.InValidQty="",this.RelatedwithSerialsOrBatches="",this.BatchNoText="",this.PatchConfirmationIsValidWithPatchNo="",this.UpdateReceiptItemService="",this.ShowWarrantyDateCols=!1,this.DuringSaveDisable=!1,this.show_all_component=!1,this.InValidQtyForBatch="",this.BranchApplyTax=!0,this.TaxPercentage=0,this.timeout=null,this.ShowDiscountCols=!1,this.ItemLinkedReceipt=[],this.ItemComponentsLinkedReceipt=[],this.LinkedReceiptListSelected=[],this.IxLRS=0,this.itemqtyview=!1,this._itemstoreqtyobj=new S.I$,this._itemqtyList=new Array,this._totalcost=0,this.quillConfig={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"]]},this.selectedindex=0,this.requiredserial=2,this._batchqty=0,this.BatchesListForEatchRow=[],this.ComeFromIssueRequest=!1,this.ReceiptHistoryList=[],u.params.subscribe(function(e){y.ReceiptID=e.id,y.ShowModeReceipt=null!=e.show&&"show"==e.show&&e.id>0,y.LockedRecepit=y.ShowModeReceipt,y.linkedreceiptid=e.linkedreceiptid,y.issuerequestid=e.issuerequestid,y.ComeFromIssueRequest=null!=y.issuerequestid&&y.issuerequestid>0&&0==y.ReceiptID,y.subsidiaryID=y._generalService.SubsidiaryID,y.subsidiaryID>0&&y.SetInitialMethods(),y._UserLogin=y._authService.userInfo()}),this.ngUnsubscribe=s.proadCastSubsidiaryID.subscribe(function(e){0==y.subsidiaryID&&(y.subsidiaryID=y._generalService.SubsidiaryID,y.SetInitialMethods()),y.subsidiaryID!=y._generalService.SubsidiaryID&&y.subsidiaryID>0&&(y.subsidiaryID=y._generalService.SubsidiaryID,y._router.navigate(["/page/inventorytransiction/issuevoucher/0"]).then(function(){window.location.reload()}))}),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(function(e){y.lang=e.lang,y.dir=e.dir,y.translate.use(e.lang),y.ngTransUnsubscribe=y.translate.get(["Cancel","swalTitleEntryno","swalEntrynoText","swalEntrynoConfirmButton","WarningInfoLost","warning","Yes","mailmsg","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","DeleteRelationmsg","successMsg","ItemsZeroErrorMsg","MultiPayErrorMsg","ItemsEqualZeroMsg","ReceiptNotFound","CustomerPricelistMsg","Receiptnoitems","NoUnits","ItemWarrantyValidMsg","FinancialPeriodMsg","CloseFinancialPeriodMsg","StopInventoryErrorMsg","Close","DeliverDateMsg","NOComponents","CostPostingPeriodMessage","qtyErrorSaveMsg","qtyErrorMsg","qtyZeroErrorSaveMsg","SaveMsg","Issue Voucher","No","swalNewActionTitle","swalNewActionText","QtyIsValidWithAvailableQty","InValidNumberOfBatch","InValidQty","RelatedwithSerialsOrBatches","InValidQtyForBatch","cantNotDuplicateItem","PatchConfirmationIsValidWithPatchNo","UpdateReceiptItemService"]).subscribe(function(e){document.title=e["Issue Voucher"],y.Cancel=e.Cancel,y.swalTitleEntry=e.swalTitleEntryno,y.swalTextEntry=e.swalEntrynoText,y.swalConfirmButtonEntry=e.swalEntrynoConfirmButton,y.WarningInfoLost=e.WarningInfoLost,y.warning=e.warning,y.Yes=e.Yes,y.mailmsg=e.mailmsg,y.swalDeleteTitle=e.swalDeleteTitle,y.swalDetlateText=e.swalDetlateText,y.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,y.DeleteRelationmsg=e.DeleteRelationmsg,y.toastrSuccessDelete=e.successMsg,y.ItemsZeroErrorMsg=e.ItemsZeroErrorMsg,y.MultiPayErrorMsg=e.MultiPayErrorMsg,y.ItemsEqualZeroMsg=e.ItemsEqualZeroMsg,y.ReceiptNotFound=e.ReceiptNotFound,y.CustomerPricelistMsg=e.CustomerPricelistMsg,y.NOComponents=e.NOComponents,y.Receiptnoitems=e.Receiptnoitems,y.NoUnits=e.NoUnits,y.ItemWarrantyValidMsg=e.ItemWarrantyValidMsg,y.FinancialPeriodMsg=e.FinancialPeriodMsg,y.StopInventoryErrorMsg=e.StopInventoryErrorMsg,y.FinancialPeriodCloseMsg=e.CloseFinancialPeriodMsg,y.Close=e.Close,y.DeliverDateMsg=e.DeliverDateMsg,y.qtyErrorMsg=e.qtyErrorMsg,y.qtyErrorSaveMsg=e.qtyErrorSaveMsg,y.qtyZeroErrorSaveMsg=e.qtyZeroErrorSaveMsg,y.SaveMsg=e.SaveMsg,y.No=e.No,y.swalNewActionTitle=e.swalNewActionTitle,y.swalNewActionText=e.swalNewActionText,y.CostPostingPeriodMessage=e.CostPostingPeriodMessage,y.QtyIsValidWithAvailableQty=e.QtyIsValidWithAvailableQty,y.InValidNumberOfBatch=e.InValidNumberOfBatch,y.InValidQty=e.InValidQty,y.RelatedwithSerialsOrBatches=e.RelatedwithSerialsOrBatches,y.InValidQtyForBatch=e.InValidQtyForBatch,y.cantNotDuplicateItem=e.cantNotDuplicateItem,y.PatchConfirmationIsValidWithPatchNo=e.PatchConfirmationIsValidWithPatchNo,y.UpdateReceiptItemService=e.UpdateReceiptItemService})})}return o(e,[{key:"ngOnInit",value:function(){}},{key:"GetModuleSetting",value:function(){var e=this;this._generalService.GetModuleSetting().subscribe(function(t){null!=t&&(e._ModuleList=t)})}},{key:"SetInitialMethods",value:function(){this._Receipt=new S.tY,this.GetModuleSetting(),this.GetCurrentUserSetting(),this.GetBranchList(),this.DriverUsersByCarID(),this.CarByDriverID(),this.GetCashCustomerSettings(),this.GetSubsaidarySetting(),this.GetCurrencyList(),this.GetReceipt_AfterReceiptCode_InventroySettings()}},{key:"GetReceipt_AfterReceiptCode_InventroySettings",value:function(){var e=this,t=this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID),i=this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID);(0,Ie.D)([t,i]).subscribe(function(t){var i=n(t,2),r=i[0],a=i[1];e.ReceiptCodeList=r,e.InventorySetting=a;var o=e.ReceiptCodeList.find(function(t){return t.code==e.BasicCodeReceipt});e.Transaction_move=o.items,e.GetReceipt(),e.cd.markForCheck()})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"checkRolesParms",value:function(e){var t=!0;return this._authService.isHasRole(e)||(t=!1),t}},{key:"GetReceipt",value:function(){var e=this;if(this._Receipt.subsidiaryid=this.subsidiaryID,0==this.ReceiptID){this._Receipt.code=this.BasicCodeReceipt,this._Receipt.accounttype=!1,this._Receipt.entry_date=this.datepipe.transform(new Date,"yyyy-MM-dd"),console.log(this._Receipt.entry_date),this.CheckValidDateBySubsidaryID(),this._Receipt.entry_time=this.SetTimeNow();var n=JSON.parse(localStorage.getItem("Branch"));if(null!=n&&null!=n&&(this._Receipt.branch_id="null"==n.branchId||0==n.branchId?null:n.branchId,null==this._Receipt.branch_id||null!=this.issuerequestid&&0!=this.issuerequestid&&null!=this.issuerequestid||(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch())),null!=this.linkedreceiptid&&0!=this.linkedreceiptid&&null!=this.linkedreceiptid||null!=this.issuerequestid&&0!=this.issuerequestid&&null!=this.issuerequestid){var i=0;null!=this.linkedreceiptid&&0!=this.linkedreceiptid&&null!=this.linkedreceiptid&&(i=this.linkedreceiptid),null!=this.issuerequestid&&0!=this.issuerequestid&&null!=this.issuerequestid&&(i=this.issuerequestid),this._ReceiptSharedService.GetReceiptAndDetailsByID(i).subscribe(function(n){null!=n.receipt&&(e._Receipt.id=0,e._Receipt.subsidiaryid=n.receipt.subsidiaryid,e._Receipt.code=e.BasicCodeReceipt,e._Receipt.branch_id=n.receipt.branch_id,null!=e._Receipt.branch_id&&e.GetReceiptEntryCode(),e.BranchApplyTax=n.receipt.applytax,e._Receipt.customersalesprice=n.receipt.customersalesprice,e._Receipt.qtotal=n.items.qty,e._Receipt.totalitem=n.items.length,e._Receipt.entry_date=e.datepipe.transform(n.receipt.entry_date,"yyyy-MM-dd"),e._Receipt.entry_time=n.receipt.entry_time,e._Receipt.reservedflag=n.receipt.reservedflag,e._Receipt.payment_type=n.receipt.payment_type,e._Receipt.vendor_id=n.receipt.vendor_id,e._Receipt.cashcustomerid=n.receipt.cashcustomerid,null!=e._Receipt.vendor_id&&(e._Receipt.cashcustomer_vendor_code={code:n.receipt.vendorcode},e._Receipt.cashcustomer_vendor_name="ar"==e.lang?n.receipt.vendornamear:n.receipt.vendorname,e.PriceListItemsOnly=n.receipt.pricelistitemsonly),e._Receipt.currency_id=n.receipt.currency_id,e._Receipt.currency_rate=n.receipt.currency_rate,e._Receipt.customerdeliverdate=e.datepipe.transform(n.receipt.customerdeliverdate,"yyyy-MM-dd"),e._Receipt.customerdeliverdate_time=n.receipt.customerdeliverdate_time,e._Receipt.ordertype=n.receipt.ordertype,e._Receipt.empoyee_id=n.receipt.empoyee_id,e._Receipt.memo=n.receipt.memo,e._Receipt.reference_no=n.receipt.reference_no,e._Receipt.salestypeid=n.receipt.salestypeid,e._Receipt.commisionaccountid=n.receipt.commisionaccountid,e._Receipt.commisionaccountfieldname="ar"==e.lang?{commisionaccountfieldname:n.receipt.commisionaccount_sug_ar}:{commisionaccountfieldname:n.receipt.commisionaccount_sug},e._Receipt.commissiontype=n.receipt.commissiontype,e._Receipt.commission=n.receipt.commission,e._Receipt.commissionnet=n.receipt.commissionnet,e._Receipt.commisionaccountid1=n.receipt.commisionaccountid1,e._Receipt.commisionaccountfieldname1="ar"==e.lang?{commisionaccountfieldname1:n.receipt.commisionaccount1_sug_ar}:{commisionaccountfieldname1:n.receipt.commisionaccount1_sug},e._Receipt.commissiontype1=n.receipt.commissiontype1,e._Receipt.commission1=n.receipt.commission1,e._Receipt.commissionnet1=n.receipt.commissionnet1,e._Receipt.costcenterid=n.receipt.costcenterid,e._Receipt.costcenterfieldname=null!=e._Receipt.costcenterid?"ar"==e.lang?{costcenterfieldname:n.receipt.costcenter_sug_ar}:{costcenterfieldname:n.receipt.costcenter_sug}:null,e._Receipt.classid=n.receipt.classid,e._Receipt.classfieldname=null!=e._Receipt.classid?"ar"==e.lang?{classfieldname:n.receipt.classes_sug_ar}:{classfieldname:n.receipt.classes_sug}:null,e._Receipt.locationid=n.receipt.locationid,e._Receipt.locationfieldname=null!=e._Receipt.locationid?"ar"==e.lang?{locationfieldname:n.receipt.location_sug_ar}:{locationfieldname:n.receipt.location_sug}:null,e._Receipt.departmentid=n.receipt.departmentid,e._Receipt.departmentfieldname=null!=e._Receipt.departmentid?"ar"==e.lang?{departmentfieldname:n.receipt.department_sug_ar}:{departmentfieldname:n.receipt.department_sug}:null,e._Receipt.divisionid=n.receipt.divisionid,e._Receipt.divisionfieldname="ar"==e.lang?{divisionfieldname:n.receipt.division_sug_ar}:{divisionfieldname:n.receipt.division_sug},e._Receipt.carid=n.receipt.carid,e._Receipt.driverid=n.receipt.driverid,e._Receipt.valueforeign=n.receipt.valueforeign,e._Receipt.value=n.receipt.value,e._Receipt.discount_foreignpercent=n.receipt.discount_foreignpercent,e._Receipt.discount_percent=n.receipt.discount_percent,e._Receipt.discount_foreignvalue=n.receipt.discount_foreignvalue,e._Receipt.discount_value=n.receipt.discount_value,e._Receipt.deliveryfeesforeign=n.receipt.deliveryfeesforeign,e._Receipt.deliveryfees=n.receipt.deliveryfees,e._Receipt.surchargevalueforeign=n.receipt.surchargevalueforeign,e._Receipt.surchargevalue=n.receipt.surchargevalue,e._Receipt.surchargepercent=n.receipt.surchargepercent,e._Receipt.netvalueforeign=n.receipt.netvalueforeign,e._Receipt.netvalue=n.receipt.netvalue,e._Receipt.signature=n.receipt.signature,e._Receipt.related_voucher_type=n.receipt.related_voucher_type,e._Receipt.related_voucher_code=n.receipt.related_voucher_code,e._Receipt.status_id=n.receipt.status_id,e._Receipt.approvalstatus_id=n.receipt.approvalstatus_id,e._Receipt.costing_rate=n.receipt.costing_rate,e._Receipt.approvedby_id=n.receipt.approvedby_id,e._Receipt.shipmentterm_id=n.receipt.shipmentterm_id,e._Receipt.paymentterm_id=n.receipt.paymentterm_id,e._Receipt.supplieraccount_id=n.receipt.supplieraccount_id,e._Receipt.supplier_name=null!=e._Receipt.supplieraccount_id?"ar"==e.lang?{supplier_name:n.receipt.supplier_namear}:{supplier_name:n.receipt.supplier_name}:null,e._Receipt.planneddeliverydate=n.receipt.planneddeliverydate,e._Receipt.actualdeliverydate=n.receipt.actualdeliverydate,e._Receipt.deliverylocation=n.receipt.deliverylocation,e._Receipt.contactedperson=n.receipt.contactedperson,e._Receipt.othernotes=n.receipt.othernotes,e._Receipt.cashdrawerid=n.receipt.cashdrawerid,e._Receipt.leadid=n.receipt.leadid,e._Receipt.deliverynotes=n.receipt.deliverynotes,e._Receipt.cashcustomerdetailid=n.receipt.cashcustomerdetailid,e._Receipt.is_canceled=n.receipt.is_canceled,e._Receipt.fromstoreid=n.receipt.fromstoreid,e._Receipt.tostoreid=n.receipt.tostoreid,e._Receipt.isdeliveryprint=n.receipt.isdeliveryprint,e._Receipt.printcount=n.receipt.printcount,e._Receipt.iskitchendone=n.receipt.iskitchendone,e._Receipt.paidamount=n.receipt.paidamount,e._Receipt.isholded=n.receipt.isholded,e._Receipt.branchtableid=n.receipt.branchtableid,e._Receipt.customeractualdeliverdate=n.receipt.customeractualdeliverdate,e._Receipt.deliverystatusid=n.receipt.deliverystatusid,e._Receipt.deposite=n.receipt.deposite,e._Receipt.paymentandconditions=n.receipt.paymentandconditions,e._Receipt.notes=n.receipt.notes,e._Receipt.chefid=n.receipt.chefid,e._Receipt.changeamount=n.receipt.changeamount,e._Receipt.divisionid=n.receipt.divisionid,e._Receipt.courierid=n.receipt.courierid,e._Receipt.depositepaymenttypeid=n.receipt.depositepaymenttypeid,e._Receipt.creationdate=n.receipt.creationdate,e._Receipt.lastupdatedate=n.receipt.lastupdatedate,e._Receipt.createdbyid=n.receipt.createdbyid,e._Receipt.updatedbyid=n.receipt.updatedbyid,e._Receipt.receiptattributeid=n.receipt.receiptattributeid,e._Receipt.costposted=n.receipt.costposted,e._Receipt.lcaccountid=n.receipt.lcaccountid,e._Receipt.lcaccountcode=n.receipt.lcaccountcode,e._Receipt.lcaccountname=null!=e._Receipt.lcaccountid?"ar"==e.lang?{lcaccountname:n.receipt.lcaccountnamear}:{lcaccountname:n.receipt.lcaccountname}:null,e._Receipt.lcno=n.receipt.lcno,e._Receipt.lcbank=n.receipt.lcbank,e._Receipt.lcstartdate=n.receipt.lcstartdate,e._Receipt.lcenddate=n.receipt.lcenddate,e._Receipt.lcrenewdate=n.receipt.lcrenewdate,e._Receipt.lcrenewenddate=n.receipt.lcrenewenddate,e._Receipt.lcinsurancecompany=n.receipt.lcinsurancecompany,e._Receipt.lcpolicyno=n.receipt.lcpolicyno,e._Receipt.insurancedate=n.receipt.insurancedate,e._Receipt.gooddeliverydate=n.receipt.gooddeliverydate,e._Receipt.lccondition=n.receipt.lccondition,e._Receipt.shippingmethod=n.receipt.shippingmethod,e._Receipt.exportport=n.receipt.exportport,e._Receipt.shipname=n.receipt.shipname,e._Receipt.lcnotes=n.receipt.lcnotes,e._Receipt.quotationcustomername=n.receipt.quotationcustomername,e._Receipt.duedate=n.receipt.duedate,e._Receipt.schedule_date=n.receipt.schedule_date,e._Receipt.storetype=n.receipt.storetype,e._Receipt.quotationenddate=n.receipt.quotationenddate,e._Receipt.wostatusid=n.receipt.wostatusid,e._Receipt.parentreceiptid=n.receipt.parentreceiptid,e._Receipt.isapproved=n.receipt.isapproved,e._Receipt.replenshimenttype=n.receipt.replenshimenttype,e._Receipt.reference=n.receipt.reference,e._Receipt.replenshimentfromdate=n.receipt.replenshimentfromdate,e._Receipt.replenshimenttodate=n.receipt.replenshimenttodate,e._Receipt.cancelreasonid=n.receipt.cancelreasonid,e._Receipt.contractstartdate=n.receipt.contractstartdate,e._Receipt.contractenddate=n.receipt.contractenddate,e._Receipt.previouscontractid=n.receipt.previouscontractid,e._Receipt.erpstatus=n.receipt.erpstatus,e._Receipt.loyalitybalance=n.receipt.loyalitybalance,e._Receipt.cpno=n.receipt.cpno,e._Receipt.accounttype=n.receipt.accounttype,e._Receipt.printing=n.receipt.printing,e._Receipt.storedelivery=n.receipt.storedelivery,e._Receipt.customerrecieve=n.receipt.customerrecieve,e._Receipt.promotionid=n.receipt.promotionid,e._Receipt.promotionpercent=n.receipt.promotionpercent,e._Receipt.promotionvalue=n.receipt.promotionvalue,e._Receipt.purchaserequeststatusid=n.receipt.purchaserequeststatusid,e._Receipt.urgent=n.receipt.urgent,e._Receipt.quotationstatusid=n.receipt.quotationstatusid,e._Receipt.salesorderstatusid=n.receipt.salesorderstatusid,e._Receipt.purchaseorderstatusid=n.receipt.purchaseorderstatusid,e._Receipt.expensesdistributionvoucherno=n.receipt.expensesdistributionvoucherno,e._Receipt.totalproductioncost=n.receipt.totalproductioncost,e._Receipt.totalvouchercost=n.receipt.totalvouchercost,e._Receipt.totalproductioncostforeign=n.receipt.totalproductioncostforeign,e._Receipt.totalvouchercostforeign=n.receipt.totalvouchercostforeign,e._Receipt.taxvalue=n.receipt.taxvalue,e._Receipt.sourceid=n.receipt.sourceid,e._Receipt.contractid=n.receipt.contractid,e._Receipt.type_id=n.receipt.type_id,e._Receipt.productionlineid=n.receipt.productionlineid,e._Receipt.linescheduleddate=n.receipt.linescheduleddate,e._Receipt.inchargepersonname=n.receipt.inchargepersonname,e._Receipt.inchargephoneno=n.receipt.inchargephoneno,e._Receipt.details=n.items,e._Receipt.details.forEach(function(t){t.storecode={code:t.storecode},t.itemcode={code:t.itemcode},t.allowqtyselectforitem=!0,t.rowno=0,t.parentrowno=0,t.transaction_move=e.Transaction_move}),e._Receipt.itemscomponent=n.itemcomponents,e._Receipt.itemscomponent.forEach(function(t){t.allowqtyselectforitem=!0,t.rowno=0,t.parentrowno=0,t.transaction_move=e.Transaction_move}),e.ItemUnitsList=n.itemunits,e.ItemComponentUnitsList=n.componentsunits,1!=e.CashCustomerSetting.dispensingpolicy&&1==e.CashCustomerSetting.confirmationpatchinissuevoucher&&n.batches.forEach(function(e){e.patchconfirmation=""}),e._Receipt.details.map(function(e){e.batcheslist=new Array;var i=n.batches.filter(function(t){return t.inv_receipt_d_id==e.id});e.batcheslist=t(i)}),e._LinkedReceipt=new S.Cb,e._LinkedReceipt.receiptid=n.receipt.id,e._LinkedReceipt.code=n.receipt.code,e._LinkedReceipt.branch_id=n.receipt.branch_id,e._LinkedReceipt.entry_no=n.receipt.entry_no,e._LinkedReceipt.subsidiaryid=e.subsidiaryID,e._LinkedReceipt.fire=1,e._Receipt.linkedreceipts.push(e._LinkedReceipt),e.GetLinkedReceipt(e._Receipt.linkedreceipts.length-1),null==e._Receipt.cashcustomerid&&null==e._Receipt.vendor_id||null!=e._Receipt.cashcustomerid?e.CustomerTypeID=1:null!=e._Receipt.vendor_id&&(e.CustomerTypeID=2),e.PaymentTypeList.find(function(t){return t.id==e._Receipt.payment_type}),e.entry_no=e._Receipt.entry_no,e.originalSalesPrice=e._Receipt.customersalesprice,e._ReceiptOriginal=JSON.parse(JSON.stringify(e._Receipt)),1==!e.ShowModeReceipt&&e.CheckValidDateBySubsidaryID(),e.OnSelectedItem(e._Receipt.details[0],0,"selected",!1,!0),e.cd.markForCheck());var i=0;e._Receipt.details.forEach(function(e){i+=e.qty}),e._Receipt.qtotal=i,e._Receipt.totalitem=n.items.length})}setTimeout(function(){e._ReceiptOriginal=JSON.parse(JSON.stringify(e._Receipt)),console.log(e._Receipt)},1e3)}else this._ReceiptSharedService.GetReceiptAndDetailsByID(this.ReceiptID).subscribe(function(n){if(null!=n.receipt){if(e.VouchersLinkedCount=n.voucherslinkedcount.voucherslinkedcount,e._Receipt.id=n.receipt.id,e._Receipt.subsidiaryid=n.receipt.subsidiaryid,e._Receipt.code=n.receipt.code,e._Receipt.entry_no=n.receipt.entry_no,e._Receipt.branch_id=n.receipt.branch_id,e.BranchApplyTax=n.receipt.applytax,e._Receipt.transaction_code=n.receipt.transaction_code,e._Receipt.customersalesprice=n.receipt.customersalesprice,e._Receipt.qtotal=n.items.qty,e._Receipt.totalitem=n.items.length,e._Receipt.entry_date=e.datepipe.transform(n.receipt.entry_date,"yyyy-MM-dd"),e._Receipt.entry_time=n.receipt.entry_time,e._Receipt.reservedflag=n.receipt.reservedflag,e._Receipt.payment_type=n.receipt.payment_type,e._Receipt.accounttype=n.receipt.accounttype,e._Receipt.vendor_id=n.receipt.vendor_id,e._Receipt.cashcustomerid=n.receipt.cashcustomerid,null!=e._Receipt.vendor_id&&(e._Receipt.cashcustomer_vendor_code=1==e._Receipt.accounttype?{code:n.receipt.othercode}:{code:n.receipt.vendorcode},e._Receipt.cashcustomer_vendor_name="ar"==e.lang?n.receipt.vendornamear:n.receipt.vendorname,e.PriceListItemsOnly=n.receipt.pricelistitemsonly),null!=e._Receipt.cashcustomerid&&(e._Receipt.cashcustomer_vendor_code={phonenumber:n.receipt.phonenumber},e._Receipt.cashcustomer_vendor_name="ar"==e.lang?n.receipt.cashcustomername_ar:n.receipt.cashcustomername,e.PriceListItemsOnly=!1),e._Receipt.currency_id=n.receipt.currency_id,e._Receipt.currency_rate=n.receipt.currency_rate,e._Receipt.customerdeliverdate=e.datepipe.transform(n.receipt.customerdeliverdate,"yyyy-MM-dd"),e._Receipt.customerdeliverdate_time=n.receipt.customerdeliverdate_time,e._Receipt.ordertype=n.receipt.ordertype,e._Receipt.empoyee_id=n.receipt.empoyee_id,e._Receipt.memo=n.receipt.memo,e._Receipt.reference_no=n.receipt.reference_no,e._Receipt.salestypeid=n.receipt.salestypeid,e._Receipt.commisionaccountid=n.receipt.commisionaccountid,e._Receipt.commisionaccountfieldname="ar"==e.lang?{commisionaccountfieldname:n.receipt.commisionaccount_sug_ar}:{commisionaccountfieldname:n.receipt.commisionaccount_sug},e._Receipt.commissiontype=n.receipt.commissiontype,e._Receipt.commission=n.receipt.commission,e._Receipt.commissionnet=n.receipt.commissionnet,e._Receipt.commisionaccountid1=n.receipt.commisionaccountid1,e._Receipt.commisionaccountfieldname1="ar"==e.lang?{commisionaccountfieldname1:n.receipt.commisionaccount1_sug_ar}:{commisionaccountfieldname1:n.receipt.commisionaccount1_sug},e._Receipt.commissiontype1=n.receipt.commissiontype1,e._Receipt.commission1=n.receipt.commission1,e._Receipt.commissionnet1=n.receipt.commissionnet1,e._Receipt.costcenterid=n.receipt.costcenterid,e._Receipt.costcenterfieldname=null!=e._Receipt.costcenterid?"ar"==e.lang?{costcenterfieldname:n.receipt.costcenter_sug_ar}:{costcenterfieldname:n.receipt.costcenter_sug}:null,e._Receipt.classid=n.receipt.classid,e._Receipt.classfieldname=null!=e._Receipt.classid?"ar"==e.lang?{classfieldname:n.receipt.classes_sug_ar}:{classfieldname:n.receipt.classes_sug}:null,e._Receipt.locationid=n.receipt.locationid,e._Receipt.locationfieldname=null!=e._Receipt.locationid?"ar"==e.lang?{locationfieldname:n.receipt.location_sug_ar}:{locationfieldname:n.receipt.location_sug}:null,e._Receipt.departmentid=n.receipt.departmentid,e._Receipt.departmentfieldname=null!=e._Receipt.departmentid?"ar"==e.lang?{departmentfieldname:n.receipt.department_sug_ar}:{departmentfieldname:n.receipt.department_sug}:null,e._Receipt.carid=n.receipt.carid,e._Receipt.driverid=n.receipt.driverid,e._Receipt.valueforeign=n.receipt.valueforeign,e._Receipt.value=n.receipt.value,e._Receipt.discount_foreignpercent=n.receipt.discount_foreignpercent,e._Receipt.discount_percent=n.receipt.discount_percent,e._Receipt.discount_foreignvalue=n.receipt.discount_foreignvalue,e._Receipt.discount_value=n.receipt.discount_value,e._Receipt.deliveryfeesforeign=n.receipt.deliveryfeesforeign,e._Receipt.deliveryfees=n.receipt.deliveryfees,e._Receipt.surchargevalueforeign=n.receipt.surchargevalueforeign,e._Receipt.surchargevalue=n.receipt.surchargevalue,e._Receipt.surchargepercent=n.receipt.surchargepercent,e._Receipt.netvalueforeign=n.receipt.netvalueforeign,e._Receipt.netvalue=n.receipt.netvalue,e._Receipt.signature=n.receipt.signature,e._Receipt.related_voucher_type=n.receipt.related_voucher_type,e._Receipt.related_voucher_code=n.receipt.related_voucher_code,e._Receipt.status_id=n.receipt.status_id,e._Receipt.approvalstatus_id=n.receipt.approvalstatus_id,e._Receipt.costing_rate=n.receipt.costing_rate,e._Receipt.approvedby_id=n.receipt.approvedby_id,e._Receipt.shipmentterm_id=n.receipt.shipmentterm_id,e._Receipt.paymentterm_id=n.receipt.paymentterm_id,e._Receipt.supplieraccount_id=n.receipt.supplieraccount_id,e._Receipt.planneddeliverydate=n.receipt.planneddeliverydate,e._Receipt.actualdeliverydate=n.receipt.actualdeliverydate,e._Receipt.deliverylocation=n.receipt.deliverylocation,e._Receipt.contactedperson=n.receipt.contactedperson,e._Receipt.othernotes=n.receipt.othernotes,e._Receipt.cashdrawerid=n.receipt.cashdrawerid,e._Receipt.leadid=n.receipt.leadid,e._Receipt.deliverynotes=n.receipt.deliverynotes,e._Receipt.cashcustomerdetailid=n.receipt.cashcustomerdetailid,e._Receipt.is_canceled=n.receipt.is_canceled,e._Receipt.fromstoreid=n.receipt.fromstoreid,e._Receipt.tostoreid=n.receipt.tostoreid,e._Receipt.isdeliveryprint=n.receipt.isdeliveryprint,e._Receipt.printcount=n.receipt.printcount,e._Receipt.iskitchendone=n.receipt.iskitchendone,e._Receipt.paidamount=n.receipt.paidamount,e._Receipt.isholded=n.receipt.isholded,e._Receipt.branchtableid=n.receipt.branchtableid,e._Receipt.customeractualdeliverdate=n.receipt.customeractualdeliverdate,e._Receipt.deliverystatusid=n.receipt.deliverystatusid,e._Receipt.deposite=n.receipt.deposite,e._Receipt.paymentandconditions=n.receipt.paymentandconditions,e._Receipt.notes=n.receipt.notes,e._Receipt.chefid=n.receipt.chefid,e._Receipt.changeamount=n.receipt.changeamount,e._Receipt.divisionid=n.receipt.divisionid,e._Receipt.divisionfieldname="ar"==e.lang?{divisionfieldname:n.receipt.division_sug_ar}:{divisionfieldname:n.receipt.division_sug},e._Receipt.courierid=n.receipt.courierid,e._Receipt.depositepaymenttypeid=n.receipt.depositepaymenttypeid,e._Receipt.creationdate=n.receipt.creationdate,e._Receipt.lastupdatedate=n.receipt.lastupdatedate,e._Receipt.createdbyid=n.receipt.createdbyid,e._Receipt.updatedbyid=n.receipt.updatedbyid,e._Receipt.receiptattributeid=n.receipt.receiptattributeid,e._Receipt.costposted=n.receipt.costposted,e._Receipt.lcaccountid=n.receipt.lcaccountid,e._Receipt.lcno=n.receipt.lcno,e._Receipt.lcbank=n.receipt.lcbank,e._Receipt.lcstartdate=n.receipt.lcstartdate,e._Receipt.lcenddate=n.receipt.lcenddate,e._Receipt.lcrenewdate=n.receipt.lcrenewdate,e._Receipt.lcrenewenddate=n.receipt.lcrenewenddate,e._Receipt.lcinsurancecompany=n.receipt.lcinsurancecompany,e._Receipt.lcpolicyno=n.receipt.lcpolicyno,e._Receipt.insurancedate=n.receipt.insurancedate,e._Receipt.gooddeliverydate=n.receipt.gooddeliverydate,e._Receipt.lccondition=n.receipt.lccondition,e._Receipt.shippingmethod=n.receipt.shippingmethod,e._Receipt.exportport=n.receipt.exportport,e._Receipt.shipname=n.receipt.shipname,e._Receipt.lcnotes=n.receipt.lcnotes,e._Receipt.quotationcustomername=n.receipt.quotationcustomername,e._Receipt.duedate=n.receipt.duedate,e._Receipt.schedule_date=n.receipt.schedule_date,e._Receipt.storetype=n.receipt.storetype,e._Receipt.quotationenddate=n.receipt.quotationenddate,e._Receipt.wostatusid=n.receipt.wostatusid,e._Receipt.parentreceiptid=n.receipt.parentreceiptid,e._Receipt.isapproved=n.receipt.isapproved,e._Receipt.replenshimenttype=n.receipt.replenshimenttype,e._Receipt.reference=n.receipt.reference,e._Receipt.replenshimentfromdate=n.receipt.replenshimentfromdate,e._Receipt.replenshimenttodate=n.receipt.replenshimenttodate,e._Receipt.cancelreasonid=n.receipt.cancelreasonid,e._Receipt.contractstartdate=n.receipt.contractstartdate,e._Receipt.contractenddate=n.receipt.contractenddate,e._Receipt.previouscontractid=n.receipt.previouscontractid,e._Receipt.erpstatus=n.receipt.erpstatus,e._Receipt.loyalitybalance=n.receipt.loyalitybalance,e._Receipt.cpno=n.receipt.cpno,e._Receipt.printing=n.receipt.printing,e._Receipt.storedelivery=n.receipt.storedelivery,e._Receipt.customerrecieve=n.receipt.customerrecieve,e._Receipt.promotionid=n.receipt.promotionid,e._Receipt.promotionpercent=n.receipt.promotionpercent,e._Receipt.promotionvalue=n.receipt.promotionvalue,e._Receipt.purchaserequeststatusid=n.receipt.purchaserequeststatusid,e._Receipt.urgent=n.receipt.urgent,e._Receipt.quotationstatusid=n.receipt.quotationstatusid,e._Receipt.salesorderstatusid=n.receipt.salesorderstatusid,e._Receipt.purchaseorderstatusid=n.receipt.purchaseorderstatusid,e._Receipt.expensesdistributionvoucherno=n.receipt.expensesdistributionvoucherno,e._Receipt.totalproductioncost=n.receipt.totalproductioncost,e._Receipt.totalvouchercost=n.receipt.totalvouchercost,e._Receipt.totalproductioncostforeign=n.receipt.totalproductioncostforeign,e._Receipt.totalvouchercostforeign=n.receipt.totalvouchercostforeign,e._Receipt.taxvalue=n.receipt.taxvalue,e._Receipt.sourceid=n.receipt.sourceid,e._Receipt.contractid=n.receipt.contractid,e._Receipt.type_id=n.receipt.type_id,e._Receipt.productionlineid=n.receipt.productionlineid,e._Receipt.linescheduleddate=n.receipt.linescheduleddate,e._Receipt.inchargepersonname=n.receipt.inchargepersonname,e._Receipt.inchargephoneno=n.receipt.inchargephoneno,e._Receipt.details=n.items,e._Receipt.details.forEach(function(e){e.storecode={code:e.storecode},e.itemcode={code:e.itemcode},e.allowqtyselectforitem=!0,e.rowno=0,e.parentrowno=0}),e._Receipt.itemscomponent=n.itemcomponents,e._Receipt.itemscomponent.forEach(function(e){e.allowqtyselectforitem=!0,e.rowno=0,e.parentrowno=0}),e.ItemUnitsList=n.itemunits,e.ItemComponentUnitsList=n.componentsunits,e._Receipt.linkedreceipts=n.linkedreceipts,e._Receipt.receiptmultipayment=n.receiptmultipayment,e.ItemsComponentList=JSON.parse(JSON.stringify(e._Receipt.itemscomponent)),1!=e.CashCustomerSetting.dispensingpolicy&&1==e.CashCustomerSetting.confirmationpatchinissuevoucher&&n.batches.forEach(function(e){e.patchconfirmation=e.batchno.trim()}),e._Receipt.details.map(function(e){e.batcheslist=new Array;var i=n.batches.filter(function(t){return t.inv_receipt_d_id==e.id});e.batcheslist=t(i)}),e.ReceiptHistoryList=n.receipthistory,null==e._Receipt.qtotal||null==e._Receipt.totalitem){var i=0;e._Receipt.details.forEach(function(e){i+=e.qty}),e._Receipt.qtotal=i,e._Receipt.totalitem=n.items.length}e._ReceiptOriginal=JSON.parse(JSON.stringify(e._Receipt)),e.CheckShowDiscountCols(),console.log(e._ReceiptOriginal),console.log(e._Receipt),e.entry_no=e._Receipt.entry_no,e.originalSalesPrice=e._Receipt.customersalesprice,e._CurrencySelected=e.CurrencyList.find(function(t){return t.id==e._Receipt.currency_id}),e.ForeignCurrencyShow=1!=e._CurrencySelected.basecurrency,1==!e.ShowModeReceipt&&e.CheckValidDateBySubsidaryID(),e.OnSelectedItem(e._Receipt.details[0],0,"selected",!1,!0),e.cd.markForCheck()}})}},{key:"CheckPre_SaveReceipt",value:function(e){var t=this;if(e.form.valid)if(0!=this.ValidPeriod){if(this.ComeFromIssueRequest&&(console.log(this._Receipt.details),this._ReceiptOriginal.details=this._Receipt.details,this._Receipt=JSON.parse(JSON.stringify(this._ReceiptOriginal))),1==this._Receipt.details.length&&null==this._Receipt.details[0].item_id)return this.toastr.error(this.ItemsZeroErrorMsg),this._Receipt.details.splice(0,1),void this.AddItems();for(var n=function(e){if(null==t._Receipt.details[e].item_id)t._Receipt.details.splice(e,1),e--;else{if(!(t._Receipt.details[e].qty>0))return i=e,{v:void t.toastr.error(t.qtyZeroErrorSaveMsg)};0!=t._Receipt.value?(t._Receipt.details[e].h_discount_value=t._Receipt.discount_percent/100*t._Receipt.details[e].total/t._Receipt.details[e].qty%(1/0)||0,t._Receipt.details[e].h_discount_percentage=100*(t._Receipt.details[e].h_discount_value/(t._Receipt.details[e].total/t._Receipt.details[e].qty)%(1/0)||0)):(t._Receipt.details[e].h_discount_value=0,t._Receipt.details[e].h_discount_percentage=0);var n=t.ItemUnitsList.find(function(n){return n.item_id==t._Receipt.details[e].item_id&&n.id==t._Receipt.details[e].unit_id});t._Receipt.details[e].final_conv=null!=n?(null!=n.finalconv?n.finalconv:1)*(t._Receipt.details[e].conv/n.conv):t._Receipt.details[e].conv,t._Receipt.details[e].final_conv=0==t._Receipt.details[e].final_conv?1:t._Receipt.details[e].final_conv,t._ModuleList[0].allowrecalculate&&t.CalaculteValuesItemsRow(e,"percent",!1)}i=e},i=0;i<this._Receipt.details.length;i++){var r=n(i);if("object"==typeof r)return r.v}if(0==this._Receipt.details.length)return this.toastr.error(this.ItemsZeroErrorMsg),void this.AddItems();for(var a=function(e){if(t._Receipt.itemscomponent[e].qty>0){0!=t._Receipt.value?(t._Receipt.itemscomponent[e].h_discount_value=t._Receipt.discount_percent/100*t._Receipt.itemscomponent[e].total/t._Receipt.itemscomponent[e].qty%(1/0)||0,t._Receipt.itemscomponent[e].h_discount_percentage=100*(t._Receipt.itemscomponent[e].h_discount_value/(t._Receipt.itemscomponent[e].total/t._Receipt.itemscomponent[e].qty)%(1/0)||0)):(t._Receipt.itemscomponent[e].h_discount_value=0,t._Receipt.itemscomponent[e].h_discount_percentage=0);var n=t.ItemComponentUnitsList.find(function(n){return n.item_id==t._Receipt.itemscomponent[e].item_id&&n.id==t._Receipt.itemscomponent[e].unit_id});t._Receipt.itemscomponent[e].final_conv=null!=n?(null!=n.finalconv?n.finalconv:1)*(t._Receipt.itemscomponent[e].conv/n.conv):t._Receipt.itemscomponent[e].conv,t._Receipt.itemscomponent[e].final_conv=0==t._Receipt.itemscomponent[e].final_conv?1:t._Receipt.itemscomponent[e].final_conv}},o=0;o<this._Receipt.itemscomponent.length;o++)a(o);this.Calculate_Total_Tax_Net(),this.CheckBalanceForItemInStore(0,!0,!0)}else this.ShowPopUpFinancialPeriod();else this.activeNav="INVALID"==e.form.controls.CostCenter.status||"INVALID"==e.form.controls.Department.status||"INVALID"==e.form.controls.Classes.status||"INVALID"==e.form.controls.Location.status||"INVALID"==e.form.controls.Division.status?5:1}},{key:"SaveReceipt",value:function(){var e=this;this._Receipt.lang=this.lang,"ar"!=this._Receipt.lang&&(this._Receipt.lang="en-US");var t=[];if(1!=this.CashCustomerSetting.dispensingpolicy&&1==this.CashCustomerSetting.confirmationpatchinissuevoucher&&(t=[],this._Receipt.details.forEach(function(e){e.batcheslist||(e.batcheslist=[]),3==e.isrequireserial&&(0==e.batcheslist.length||e.batcheslist.some(function(e){return e.patchconfirmation.trim()!=e.batchno&&e.qty&&(null!=e.qty||0!=e.qty)}))&&t.push(!1)}),t.length>0))return t.includes(!1)&&(this.toastr.error(this.PatchConfirmationIsValidWithPatchNo),this.cd.markForCheck()),void(this.DuringSaveDisable=!1);if(this.ComeFromIssueRequest&&(t=[],this._Receipt.details.forEach(function(e){e.batcheslist||(e.batcheslist=[]),3==e.isrequireserial&&(0==e.batcheslist.length?t.push(!1):e.batcheslist.forEach(function(e){e.readonlyavailableqtywithfinal_conv&&e.readonlyavailableqtywithfinal_conv-e.qty<0&&t.push(!0)}))}),t.length>0))return t.includes(!1)&&(this.toastr.error(this.InValidNumberOfBatch),this.cd.markForCheck()),t.includes(!0)&&(this.toastr.error(this.QtyIsValidWithAvailableQty),this.cd.markForCheck()),void(this.DuringSaveDisable=!1);if(this._Receipt.details.forEach(function(n){if(n.batcheslist||(n.batcheslist=[]),3==n.isrequireserial){0==n.batcheslist.length?t.push(!1):0==n.validrow&&t.push(!0);var i=[],r=[],a=e._Receipt.details.filter(function(e){return e.item_id==n.item_id});if(null!=a&&a.length>1){a.forEach(function(e){var t=e.final_conv;e.batcheslist.forEach(function(e){var n=new Ee.WB;n.availableqty=e.availableqty*t,n.qty=e.qty*t,n.serial=e.serial,n.batchno=e.batchno,i.push(n)})}),console.log("serialdata:",i),i.forEach(function(e){var t=i.filter(function(t){return t.batchno==e.batchno&&t.serial==e.serial}).map(function(e){return e.qty}).reduce(function(e,t){return e+t});r.push({serial:e.batchno,qty:t,availableqty:e.availableqty})}),console.log("sum:",r);var o=r.filter(function(e){return e.qty>e.availableqty});null!=o&&o.length>0&&(n.validrow=!1,t.push(!1))}console.log("end:",n.validrow)}}),console.log("_isValidArr:",t),t.length>0)return t.includes(!1)&&(this.toastr.error(this.InValidNumberOfBatch),this.cd.markForCheck()),t.includes(!0)&&(this.toastr.error(this.QtyIsValidWithAvailableQty),this.cd.markForCheck()),void(this.DuringSaveDisable=!1);if(t=[],this._Receipt.details.forEach(function(e){if(e.batcheslist||(e.batcheslist=[]),3==e.isrequireserial)if(0==e.batcheslist.length)t.push(!1);else{var n=0;e.batcheslist.forEach(function(e){var t;n+=null!==(t=+e.qty)&&void 0!==t?t:0}),n!=e.qty&&t.push(!1)}}),t.length>0)return t.includes(!1)&&(this.toastr.error(this.InValidNumberOfBatch),this.cd.markForCheck()),void(this.DuringSaveDisable=!1);if(this._Receipt.details.filter(function(e){return 0==e.allowqtyselectforitem}).length>0)return this.toastr.error(this.qtyErrorSaveMsg),this.DuringSaveDisable=!1,void this.cd.markForCheck();console.log("con..."),this.DuringSaveDisable=!0;for(var n=0;n<this._Receipt.linkedreceipts.length;n++)0==this._Receipt.linkedreceipts[n].fire&&(this._Receipt.linkedreceipts.splice(n,1),n--);null==this._Receipt.id||0==this._Receipt.id?(this._Receipt.totalitem=this._Receipt.details.length,this._ReceiptSharedService.ReceiptCreate(this._Receipt).subscribe(function(t){e.DuringSaveDisable=!1,e.toastr.success(e.SaveMsg),e.ReceiptID=t.id,null!=e.issuerequestid&&0!=e.issuerequestid&&null!=e.issuerequestid&&e._ReceiptSharedService.UpdateSalesState(e.issuerequestid,64).subscribe(function(e){console.log(e,"state")}),e._router.navigate(["/page/inventorytransiction/issuevoucher/"+e.ReceiptID]).then(function(){window.location.reload()})})):(this._Receipt_h_Edit=new S.Iu,this._Receipt_h_Edit.Receipt_h=this._Receipt,this._Receipt_h_Edit.ReceiptOriginal=this._ReceiptOriginal,this._ReceiptSharedService.ReceiptUpdate(this._Receipt_h_Edit).subscribe(function(t){e.DuringSaveDisable=!1,e.toastr.success(e.SaveMsg),e._router.navigate(["/page/inventorytransiction/issuevoucher/"+e.ReceiptID]).then(function(){window.location.reload()})}))}},{key:"ChangePropFinish",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.DuringSaveDisable=!0,this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.timeout=null,"EntryCode"==t?e.CheckEntryCode():"EntryDate"==t&&e.ChangeEntryDate()},1e3*n)}},{key:"CheckEntryCode",value:function(){var e=this;this._ReceiptSharedService.CheckEntryNo(this._Receipt.id,this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.entry_no,this._Receipt.branch_id).subscribe(function(t){e.DuringSaveDisable=!1,e.cd.markForCheck(),null!=t&&Me().fire({title:e.swalTitleEntry,text:e.swalTextEntry,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:e.swalConfirmButtonEntry,cancelButtonText:e.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.value?e._router.navigate(["/page/inventorytransiction/issuevoucher/"+t.id]).then(function(){}):(e._Receipt.entry_no=e.entry_no,e.cd.markForCheck())})})}},{key:"GetReceiptEntryCode",value:function(){var e=this;this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(function(t){e._Receipt.entry_no=0==t.length?1:t[0].entry_no+1,e.entry_no=e._Receipt.entry_no,e.cd.markForCheck()})}},{key:"changesalesprice",value:function(e){var t=this,n=JSON.parse(localStorage.getItem("IssuePricePolicy "));null!=n&&null!=n&&localStorage.removeItem("IssuePricePolicy "),this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id||null!=this._Receipt.vendor_id?Me().fire({title:this.warning,text:this.WarningInfoLost,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(e){e.value?(t._Receipt.details=new Array,t._Receipt.itemscomponent=new Array,t._Receipt.linkedreceipts=new Array,t.ItemUnitsList=[],t.ItemComponentUnitsList=[],t.GetDefaultStoreCostCenterByBranch(!0)):t._Receipt.customersalesprice=t.originalSalesPrice,localStorage.setItem("IssuePricePolicy ",JSON.stringify({IssuePricePolicy:t._Receipt.customersalesprice}))}):(this.originalSalesPrice=this._Receipt.customersalesprice,localStorage.setItem("IssuePricePolicy ",JSON.stringify({IssuePricePolicy:this._Receipt.customersalesprice})))}},{key:"GetBranchList",value:function(){var e=this;this._ReceiptSharedService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(function(t){e.BranchList=t,e.cd.markForCheck()})}},{key:"changeBranch",value:function(e){var t=this;if(this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id||null!=this._Receipt.vendor_id)Me().fire({title:this.warning,text:this.WarningInfoLost,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){if(n.value){t._Receipt.details=new Array,t._Receipt.itemscomponent=new Array,t._Receipt.linkedreceipts=new Array,t.ItemUnitsList=[],t.ItemComponentUnitsList=[],t._Receipt.branch_id="null"==e.target.value?null:e.target.value;var i=JSON.parse(localStorage.getItem("Branch"));null!=i&&null!=i&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:t._Receipt.branch_id})),null!=t._Receipt.branch_id?(t.GetReceiptEntryCode(),t.GetDefaultStoreCostCenterByBranch(!0)):t._Receipt.entry_no=null}else{var r=JSON.parse(localStorage.getItem("Branch"));null!=r&&null!=r&&(t._Receipt.branch_id="null"==r.branchId||0==r.branchId?null:r.branchId)}});else{this._Receipt.branch_id="null"==e.target.value?null:e.target.value;var n=JSON.parse(localStorage.getItem("Branch"));null!=n&&null!=n&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._Receipt.branch_id})),null!=this._Receipt.branch_id?(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch()):this._Receipt.entry_no=null}}},{key:"GetDefaultStoreCostCenterByBranch",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];1==i&&(this._Receipt.vendor_id=null,this._Receipt.cashcustomerid=null,this._Receipt.cashcustomer_vendor_code=null,this._Receipt.cashcustomer_vendor_name=null,this._Receipt.costcenterid=null,this._Receipt.costcenterfieldname=null),1==n&&this.Calculate_Total_Tax_Net(),this._ReceiptSharedService.DefaultStoreCostCenterByBranch(this._Receipt.branch_id).subscribe(function(n){if(n.length>0?(e.StoreCostCenterSetting=n[0],e.BranchApplyTax=n[0].applytax):e.StoreCostCenterSetting={storeid:null,storecode:null,costcenterid:null,costcentername:null,costcentername_ar:null},null!=e.StoreCostCenterSetting.storeid){if(0==e._Receipt.details.length){e._CashSalesDetailsReceipt=new S.hm,e._CashSalesDetailsReceipt.transaction_move=e.Transaction_move;var r=Math.max.apply(Math,t(e._Receipt.details.map(function(e){return e.rowno})).concat([0]));e._CashSalesDetailsReceipt.rowno=r+1,e._Receipt.details.push(e._CashSalesDetailsReceipt),e._Receipt.details[0].store_id=e.StoreCostCenterSetting.storeid,e._Receipt.details[0].storecode={code:e.StoreCostCenterSetting.storecode}}1==i&&e._Receipt.details.length>0&&(e._Receipt.details.forEach(function(t){t.store_id=e.StoreCostCenterSetting.storeid,t.storecode={code:e.StoreCostCenterSetting.storecode}}),e._Receipt.itemscomponent.forEach(function(t){t.store_id=e.StoreCostCenterSetting.storeid,t.storecode={code:e.StoreCostCenterSetting.storecode}}),e.CheckBalanceForItemInStore(0,!0))}null!=e.StoreCostCenterSetting.costcenterid&&(e._Receipt.costcenterid=e.StoreCostCenterSetting.costcenterid,e._Receipt.costcenterfieldname={costcenterfieldname:"ar"==e.lang?e.StoreCostCenterSetting.costcentername_ar:e.StoreCostCenterSetting.costcentername}),e.cd.markForCheck()})}},{key:"GetCurrentUserSetting",value:function(){var e=this;this._ReceiptSharedService.GetCurrentUserSetting().subscribe(function(t){e.CurrentUserSetting=t,e.SetCustomerSalesPriceList()})}},{key:"SetCustomerSalesPriceList",value:function(){var e=this.CurrentUserSetting.issuepricepolicy;if(null==e||0==e){this.CustomerSalesPriceList=[{id:0,text:"Customer Price",text_ar:"\u0633\u0639\u0631 \u0627\u0644\u0639\u0645\u064a\u0644"},{id:1,text:"Price 1",text_ar:"\u0633\u0639\u0631 1"},{id:2,text:"Price 2",text_ar:"\u0633\u0639\u0631 2"},{id:3,text:"Price 3",text_ar:"\u0633\u0639\u0631 3"},{id:4,text:"Price 4",text_ar:"\u0633\u0639\u0631 4"},{id:5,text:"Cost Price",text_ar:"\u0633\u0639\u0631 \u0627\u0644\u062a\u0643\u0644\u0641\u0629"}];var t=JSON.parse(localStorage.getItem("IssuePricePolicy "));this._Receipt.customersalesprice=null!=t&&null!=t?parseInt(t.IssuePricePolicy):this.CustomerSalesPriceList[6].id}else 1==e?this.CustomerSalesPriceList=[{id:0,text:"Customer Price",text_ar:"\u0633\u0639\u0631 \u0627\u0644\u0639\u0645\u064a\u0644"}]:2==e?this.CustomerSalesPriceList=[{id:1,text:"Price 1",text_ar:"\u0633\u0639\u0631 1"}]:3==e?this.CustomerSalesPriceList=[{id:2,text:"Price 2",text_ar:"\u0633\u0639\u0631 2"}]:4==e?this.CustomerSalesPriceList=[{id:3,text:"Price 3",text_ar:"\u0633\u0639\u0631 3"}]:5==e?this.CustomerSalesPriceList=[{id:4,text:"Price 4",text_ar:"\u0633\u0639\u0631 4"}]:6==e&&(this.CustomerSalesPriceList=[{id:5,text:"Cost Price",text_ar:"\u0633\u0639\u0631 \u0627\u0644\u062a\u0643\u0644\u0641\u0629"}]),this._Receipt.customersalesprice=this.CustomerSalesPriceList[0].id;this.originalSalesPrice=this._Receipt.customersalesprice}},{key:"GetCashCustomerSettings",value:function(){var e=this;this._ReceiptSharedService.GetCashCustomerSettings(this.subsidiaryID).subscribe(function(t){null!=t||null!=t?(e.CashCustomerSetting=t,console.log(e.CashCustomerSetting,"this.CashCustomerSetting"),e.CashCustomerSetting.allowdecimalpack=1==e.CashCustomerSetting.allowdecimalpack?".01":"1"):e.CashCustomerSetting={allowdecimalpack:"1",enablecashcustomer:!1,salesreturneffect:1,allowpack:!1,dispensingpolicy:1,confirmationpatchinissuevoucher:!1},e.cd.markForCheck()})}},{key:"GetAllInventroySettingsBySubSidary",value:function(){var e=this;this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID).subscribe(function(t){e.InventorySetting=t,e.cd.markForCheck()})}},{key:"GetSubsaidarySetting",value:function(){var e=this;this._ReceiptSharedService.GetSubsaidarySetting(this.subsidiaryID).subscribe(function(t){null!=t&&(e.subsaidarySetting=t[0],e.cd.markForCheck())})}},{key:"GetCurrencyList",value:function(){var e=this;this._VoucherService.GetSubsidaryCurrencyList(this.subsidiaryID).subscribe(function(t){var n;t.length>0&&(e.CurrencyList=t,e._BaseCurrency=e.CurrencyList.find(function(e){return 1==e.basecurrency}),e._CurrencySelected=e._BaseCurrency,e._Currencyprecision=null!==(n=e._BaseCurrency.currencyprecision)&&void 0!==n?n:3,e._Receipt.currency_id=e._CurrencySelected.id,e._Receipt.currency_rate=Number(1..toFixed(9)),e.cd.markForCheck())})}},{key:"changeCurrency",value:function(e){var t,n=this;(console.log(e.target.value),this._CurrencySelected=this.CurrencyList.find(function(t){return t.id==e.target.value}),null!=this._CurrencySelected)?(t=""!=this._Receipt.entry_time&&null!=this._Receipt.entry_time&&null!=this._Receipt.entry_time?this._Receipt.entry_date+" "+this._Receipt.entry_time:this._Receipt.entry_date+" 23:59",this._VoucherService.GetSubsidaryCurrenciesRate(this.subsidiaryID,this._CurrencySelected.id,t,0).subscribe(function(e){n._Receipt.currency_rate=e&&e.length>0?e[0].rate.toFixed(9):Number(1..toFixed(9)),n.ForeignCurrencyShow=1!=n._CurrencySelected.basecurrency,n.Calculate_Total_Tax_Net(),n.cd.markForCheck()})):(this._CurrencySelected=null,this._Currencyprecision=3,this._Receipt.currency_rate=null,this.cd.markForCheck())}},{key:"ChangeEntryDate",value:function(){if(null!=this._Receipt.entry_date&&""!=this._Receipt.entry_date&&null!=this._Receipt.entry_date){this.CheckValidDateBySubsidaryID();for(var e=0;e<this._Receipt.details.length;e++)1==this._Receipt.details[e].haswarrenty&&null!=this._Receipt.details[e].warrantydate&&null!=this._Receipt.details[e].warrantydate&&Date.parse(this._Receipt.details[e].warrantydate.toString())<Date.parse(this._Receipt.entry_date.toString())&&(this._Receipt.details[e].warrantydate=null)}}},{key:"CheckValidDateBySubsidaryID",value:function(){var e=this;this._ReceiptSharedService.ValidDateBySubsidaryID(this._Receipt.entry_date,this.subsidiaryID).subscribe(function(t){if(e.DuringSaveDisable=!1,e.cd.markForCheck(),null!=t||null!=t){if(null!=t||null!=t){var n=Date.parse(t.subsidarystart.toString()),i=Date.parse(e._Receipt.entry_date.toString());0==t.openperiod?(e.ValidPeriod=!1,e.ShowModeReceipt=!0,e.ShowPopUpFinancialPeriod("close")):1==t.openperiod&&n<i?(e.ValidPeriod=!0,e.ShowModeReceipt=!1,e.GetMaxCostPostedSerDate()):(e.ValidPeriod=!1,e.ShowModeReceipt=!0,e.ShowPopUpFinancialPeriod())}}else e.ValidPeriod=!1,e.ShowModeReceipt=!0,e.ShowPopUpFinancialPeriod()})}},{key:"ShowPopUpFinancialPeriod",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="close"==e?this.FinancialPeriodCloseMsg:this.FinancialPeriodMsg;Me().fire({title:this.warning,text:t,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(function(e){})}},{key:"ShowPopUpCostPostedSerDate",value:function(){Me().fire({title:this.warning,text:this.CostPostingPeriodMessage,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(function(e){})}},{key:"onFocusInCustomerAccounts",value:function(e){this.GetCustomerAccountsList("")}},{key:"CustomerAccountsChangeSearch",value:function(e){this.GetCustomerAccountsList(e.query.trim())}},{key:"CustomerAccountsSelectEvent",value:function(e){var t=this;1==e.pricelistitemsonly&&(this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id)?Me().fire({title:this.warning,text:this.CustomerPricelistMsg,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.value?(t._Receipt.details=new Array,t._Receipt.itemscomponent=new Array,t._Receipt.linkedreceipts=new Array,t.ItemUnitsList=[],t.ItemComponentUnitsList=[],t._Receipt.vendor_id=e.accountid,t._Receipt.cashcustomer_vendor_name="ar"!=t.lang?e.name:e.name_ar,t._Receipt.vendor_balance=e.balance,t.PriceListItemsOnly=e.pricelistitemsonly,null!=e.salesmanid&&0!=e.salesmanid&&""!=e.salesmanid&&(t._Receipt.empoyee_id=e.salesmanid),null!=e.cutomerdiscount&&null!=e.cutomerdiscount&&(t._Receipt.discount_percent=e.cutomerdiscount),null!=e.internalreferencenum&&""!=e.internalreferencenum&&null!=e.cutomerdiscount&&(t._Receipt.reference_no=e.internalreferencenum),t.GetDefaultStoreCostCenterByBranch(!0,!1)):t.GetDefaultStoreCostCenterByBranch(!1)}):(this._Receipt.vendor_id=e.accountid,this._Receipt.cashcustomer_vendor_name="ar"!=this.lang?e.name:e.name_ar,this._Receipt.vendor_balance=e.balance,this.PriceListItemsOnly=e.pricelistitemsonly,null!=e.salesmanid&&0!=e.salesmanid&&""!=e.salesmanid&&(this._Receipt.empoyee_id=e.salesmanid),null!=e.cutomerdiscount&&null!=e.cutomerdiscount&&(this._Receipt.discount_percent=e.cutomerdiscount),null!=e.internalreferencenum&&""!=e.internalreferencenum&&null!=e.cutomerdiscount&&(this._Receipt.reference_no=e.internalreferencenum),this.GetDefaultStoreCostCenterByBranch(!0,!1))}},{key:"GetCustomerAccountsList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._CustomerService.CustomerAccountsList(this.subsidiaryID,t).subscribe(function(t){e.CustomerAccountsList=[],e.CustomerAccountsList=t,e.cd.markForCheck()})}},{key:"onFocusInOtherAccounts",value:function(e){this.GetOtherAccountsList("")}},{key:"OtherAccountsChangeSearch",value:function(e){this.GetOtherAccountsList(e.query.trim())}},{key:"GetOtherAccountsList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetTransactionAccountList(this.subsidiaryID,t).subscribe(function(t){e.OtherAccountsList=[],e.OtherAccountsList=t,e.cd.markForCheck()})}},{key:"onClearCustomer",value:function(e){this._Receipt.cashcustomer_vendor_name=null,this._Receipt.vendor_balance=null,this._Receipt.vendor_id=null}},{key:"onFocusInStore",value:function(e,t){t==this._Receipt.details.length-1&&this.AddItems(),this.GetStoreList("")}},{key:"StoreChangeSearch",value:function(e,t){this.GetStoreList(e.query.trim())}},{key:"StoreSelectEvent",value:function(e,t){this._Receipt.details[t].store_id=e.id,this._Receipt.details.forEach(function(t){t.store_id=e.id,t.storecode=e}),this._Receipt.itemscomponent.forEach(function(t){t.store_id=e.id,t.storecode=e.code}),this.CheckBalanceForItemInStore(0,!0)}},{key:"GetStoreList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetStoreList(this.subsidiaryID,t).subscribe(function(t){e.StoreList=[],e.StoreList=t,e.cd.markForCheck()})}},{key:"onClearItems",value:function(e){var n=this._Receipt.details[e];if(3==n.item_type&&this._Receipt.itemscomponent.length>0&&this._Receipt.itemscomponent.filter(function(e){return e.finishedproductid==n.item_id}).length>0)if(null!=n.id)for(var i=0;i<this._Receipt.itemscomponent.length;i++)this._Receipt.itemscomponent[i].finishedproductid==n.item_id&&this._Receipt.itemscomponent[i].finishedreceipt_did==n.id&&(this._Receipt.itemscomponent.splice(i,1),i--);else null==n.id&&(this._Receipt.itemscomponent=this._Receipt.itemscomponent.filter(function(e){return e.parentrowno!=n.rowno}));if(null!=this._Receipt.details[e].id){var r=Math.max.apply(Math,t(this._Receipt.details.map(function(e){return e.rowno})).concat([0]));this._Receipt.details[e].rowno=r+1}this._Receipt.details[e].id=null,this._Receipt.details[e].finishedproductid=null,this._Receipt.details[e].finishedreceipt_did=null,this._Receipt.details[e].item_id=null,this._Receipt.details[e].itemname=null,this._Receipt.details[e].itemname_ar=null}},{key:"onFocusInItems",value:function(e,t){this.GetItemsList("")}},{key:"ItemsChangeSearch",value:function(e,t){var n=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){n.timeout=null,n.GetItemsList(e.query.trim())},300)}},{key:"ItemsSelectEvent",value:function(e,t){null!=this._Receipt.details[t].item_id&&this.onClearItems(t),0==e.stopinventorytransactions?(t==this._Receipt.details.length-1&&(this.InventorySetting?this.InventorySetting[0].permissiontorepeatiteminvoucher&&null!=this.InventorySetting[0].permissiontorepeatiteminvoucher&&null!=this.InventorySetting[0].permissiontorepeatiteminvoucher?this.AddItems():this._Receipt.details.some(function(t){return t.item_id==e.id})?this.duplicateItemSwalPopUp(t):this.AddItems():this.AddItems()),this._Receipt.details[t].item_id=e.id,this._Receipt.details[t].itemname=e.name,this._Receipt.details[t].itemname_ar=e.name_ar,this.GetItemDataDetailsLists(e,t)):(this._Receipt.details[t]=new S.hm,0==this._Receipt.id?(this._Receipt.details[t].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[t].storecode={code:this.StoreCostCenterSetting.storecode}):(this._Receipt.details[t].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.details[t].storecode=this._ReceiptOriginal.details[0].storecode),1!=this.CashCustomerSetting.dispensingpolicy||2!=this._Receipt.details[t].isrequireserial&&3!=this._Receipt.details[t].isrequireserial||this.OnSerialItems(t,this.serialModel),this.cd.markForCheck(),this.toastr.error(this.StopInventoryErrorMsg))}},{key:"duplicateItemSwalPopUp",value:function(e){var t=this;Me().fire({title:this.warning,text:this.cantNotDuplicateItem,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(function(n){t.onClearItems(e),t._Receipt.details[e].itemcode=null,t.cd.markForCheck()})}},{key:"DispensingPolicy",value:function(e){}},{key:"GetItemsList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";0==this.PriceListItemsOnly?this._ReceiptSharedService.GetItemsDataList(this.subsidiaryID,t).subscribe(function(t){e.ItemsList=[],e.ItemsList=t,e.cd.markForCheck()}):1==this.PriceListItemsOnly&&this._ReceiptSharedService.GetItemsDataFromCustomerPriceList(this.subsidiaryID,this._Receipt.vendor_id,t).subscribe(function(t){e.ItemsList=[],e.ItemsList=t,e.cd.markForCheck()})}},{key:"GetItemDataDetailsLists",value:function(e,t){var n=this;this._Receipt.details[t].id=null,this._Receipt.details[t].finishedproductid=null,this._Receipt.details[t].finishedreceipt_did=null,this._Receipt.details[t].conv=1,this._Receipt.details[t].final_conv=1,this._Receipt.details[t].qty=1,this._Receipt.details[t].price=0,this._Receipt.details[t].discount_percent=0,this._Receipt.details[t].discount_value=0,this._Receipt.details[t].total=0,this._Receipt.details[t].notes="",this._Receipt.details[t].unit_id=null,this._ReceiptSharedService.GetItemDataDetailsLists(this.subsidiaryID,e.id).subscribe(function(i){0==i.itemunits.length?(n._Receipt.details[t]=new S.hm,n._Receipt.details[t].isrequireserial=i.item.isrequireserial,n._Receipt.details[t].allowtax=i.item.allowtax,0==n._Receipt.id?(n._Receipt.details[t].store_id=n.StoreCostCenterSetting.storeid,n._Receipt.details[t].storecode={code:n.StoreCostCenterSetting.storecode}):(n._Receipt.details[t].store_id=n._ReceiptOriginal.details[0].store_id,n._Receipt.details[t].storecode=n._ReceiptOriginal.details[0].storecode),n.toastr.error(n.NoUnits)):3==e.item_type&&0==i.itemcomponents.length?(n._Receipt.details[t]=new S.hm,n._Receipt.details[t].isrequireserial=i.item.isrequireserial,n._Receipt.details[t].allowtax=i.item.allowtax,0==n._Receipt.id?(n._Receipt.details[t].store_id=n.StoreCostCenterSetting.storeid,n._Receipt.details[t].storecode={code:n.StoreCostCenterSetting.storecode}):(n._Receipt.details[t].store_id=n._ReceiptOriginal.details[0].store_id,n._Receipt.details[t].storecode=n._ReceiptOriginal.details[0].storecode),n.toastr.error(n.NOComponents)):(n._Receipt.details[t].isrequireserial=i.item.isrequireserial,n._Receipt.details[t].allowtax=i.item.allowtax,n._Receipt.details[t].notes=i.item.notes,n._Receipt.details[t].item_type=i.item.item_type,n._Receipt.details[t].qty=1,n._Receipt.details[t].haswarrenty=i.item.haswarrenty,n._Receipt.details[t].warrantydate=i.item.haswarrenty?n.getwarrantydateDate():null,n.ItemUnitsList.length>0?0==n.ItemUnitsList.filter(function(t){return t.item_id==e.id}).length&&(n.ItemUnitsList=n.ItemUnitsList.concat(i.itemunits)):n.ItemUnitsList=n.ItemUnitsList.concat(i.itemunits),n._Receipt.details[t].unit_id=e.inventory_unitid,i.componentsunits.length>0&&(n.ItemComponentUnitsList=n.ItemComponentUnitsList.concat(i.componentsunits)),i.itemcomponents.length>0&&i.itemcomponents.forEach(function(e){var i=new S.hm;i.item_id=e.itemcomponentid,i.finishedproductid=e.item_id,i.itemname=e.itemname,i.itemname_ar=e.itemname_ar,i.itemcode=e.itemcode,i.unit_id=e.itemcomponentunitid,i.qty=e.itemcomponentqty,i.basicqtycomponent=e.itemcomponentqty,i.conv=e.itemcomponentconv,i.itemcode=e.itemcode,i.price=0,i.total=i.price*i.qty,i.store_id=n._Receipt.details[t].store_id,i.transaction_move=n.Transaction_move,i.item_type=e.item_type,i.storecode=null!=n._Receipt.details[t].storecode?n._Receipt.details[t].storecode.code:null,i.parentrowno=n._Receipt.details[t].rowno,n._Receipt.itemscomponent.push(i)}),n.ChangeItemUnits(e.inventory_unitid,t)),n.CheckShowDiscountCols(),n.cd.markForCheck()})}},{key:"ChangeItemUnits",value:function(e,t){var n=this;e.toString().includes(":")&&(e=e.split(":")[1].trim());var i=this._Receipt.details[t].item_id,r=this.ItemUnitsList.filter(function(t){return t.item_id==i&&t.id==e});5==this._Receipt.customersalesprice?null!=this._Receipt.details[t].item_id&&null!=this._Receipt.details[t].unit_id&&this._ReceiptSharedService.GetItemCostAtDateStore(this._Receipt.details[t].item_id,this._Receipt.details[t].unit_id,0,this._Receipt.entry_date+" "+this._Receipt.entry_time).subscribe(function(e){console.log(e),e.length>0?(n._Receipt.details[t].price=Number((e[0].avgcost||0).toFixed(n._Currencyprecision)),n._Receipt.details[t].conv=r[0].conv,n._Receipt.details[t].final_conv=r[0].finalconv,n.OnSelectedItem(n._Receipt.details[t],t),n.CalaculteValuesItemsRow(t)):(n._Receipt.details[t].price=Number((0).toFixed(n._Currencyprecision)),n._Receipt.details[t].conv=r[0].conv,n._Receipt.details[t].final_conv=r[0].finalconv,n.OnSelectedItem(n._Receipt.details[t],t),n.CalaculteValuesItemsRow(t)),n.CheckShowDiscountCols(),1!=n.CashCustomerSetting.dispensingpolicy||2!=n._Receipt.details[t].isrequireserial&&3!=n._Receipt.details[t].isrequireserial||n.OnSerialItems(t,n.serialModel)}):this._ReceiptSharedService.GetItemSalesPrice(this._Receipt.vendor_id,i,e,this._Receipt.customersalesprice).subscribe(function(e){e.customerprice.length>0&&(n._Receipt.details[t].price=e.customerprice[0].saleprice,5==e.customerdiscount.customersalesprice?(n._Receipt.details[t].conv=e.customerprice[0].itemconv,n._Receipt.details[t].discount_value=e.customerprice[0].discountvalue,n._Receipt.details[t].discount_percent=e.customerprice[0].discountpercentage,n._Receipt.details[t].unit_id=e.customerprice[0].itemunitid):(n._Receipt.details[t].conv=r[0].conv,n._Receipt.details[t].final_conv=r[0].finalconv),n.OnSelectedItem(n._Receipt.details[t],t),n.CalaculteValuesItemsRow(t)),n.CheckShowDiscountCols(),1!=n.CashCustomerSetting.dispensingpolicy||2!=n._Receipt.details[t].isrequireserial&&3!=n._Receipt.details[t].isrequireserial||n.OnSerialItems(t,n.serialModel)}),this.cd.markForCheck()}},{key:"ChangePackItem",value:function(e){var t=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.timeout=null;var n=0,i=0,r=t.ItemUnitsList.filter(function(n){return n.item_id==t._Receipt.details[e].item_id&&n.id==t._Receipt.details[e].unit_id});i=r[0].conv,5==t._Receipt.customersalesprice?t._ReceiptSharedService.GetItemCostAtDateStore(t._Receipt.details[e].item_id,t._Receipt.details[e].unit_id,0,t._Receipt.entry_date+" "+t._Receipt.entry_time).subscribe(function(r){console.log(r),r.length>0?(n=Number((r[0].avgcost||0).toFixed(t._Currencyprecision)),t._Receipt.details[e].price=n*t._Receipt.details[e].conv/i,t.OnSelectedItem(t._Receipt.details[e],e),t.CalaculteValuesItemsRow(e)):(n=0,t._Receipt.details[e].price=n*t._Receipt.details[e].conv/i,t.OnSelectedItem(t._Receipt.details[e],e),t.CalaculteValuesItemsRow(e)),1!=t.CashCustomerSetting.dispensingpolicy||2!=t._Receipt.details[e].isrequireserial&&3!=t._Receipt.details[e].isrequireserial||t.OnSerialItems(e,t.serialModel)}):t._ReceiptSharedService.GetItemSalesPrice(t._Receipt.vendor_id,t._Receipt.details[e].item_id,t._Receipt.details[e].unit_id,t._Receipt.customersalesprice).subscribe(function(r){r.customerprice.length>0&&(n=r.customerprice[0].saleprice,5==r.customerdiscount.customersalesprice&&(i=r.customerprice[0].itemconv),t._Receipt.details[e].price=n*t._Receipt.details[e].conv/i,t.OnSelectedItem(t._Receipt.details[e],e),t.CalaculteValuesItemsRow(e),1!=t.CashCustomerSetting.dispensingpolicy||2!=t._Receipt.details[e].isrequireserial&&3!=t._Receipt.details[e].isrequireserial||t.OnSerialItems(e,t.serialModel))}),t.cd.markForCheck()},1e3)}},{key:"ChangeQty",value:function(e){var t=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){if(t.timeout=null,3==t._Receipt.details[e].item_type)if(t.ItemsComponentList=new Array,null!=t._Receipt.details[e].id)!function(){for(var n=t._Receipt.details[e],i=function(e){if(t._Receipt.itemscomponent[e].finishedproductid==n.item_id&&t._Receipt.itemscomponent[e].finishedreceipt_did==n.id){var i=t._ReceiptOriginal.details.find(function(e){return e.id==n.id}).qty,r=t._ReceiptOriginal.itemscomponent.find(function(i){return i.finishedreceipt_did==n.id&&i.id==t._Receipt.itemscomponent[e].id}).qty;t._Receipt.itemscomponent[e].basicqtycomponent=r/i,t._Receipt.itemscomponent[e].qty=t._Receipt.itemscomponent[e].basicqtycomponent*n.qty,t.ItemsComponentList.push(t._Receipt.itemscomponent[e])}},r=0;r<t._Receipt.itemscomponent.length;r++)i(r)}();else if(null==t._Receipt.details[e].id)for(var n=t._Receipt.details[e],i=0;i<t._Receipt.itemscomponent.length;i++)t._Receipt.itemscomponent[i].finishedproductid==n.item_id&&null==t._Receipt.itemscomponent[i].id&&t._Receipt.itemscomponent[i].parentrowno==n.rowno&&(t._Receipt.itemscomponent[i].qty=t._Receipt.itemscomponent[i].basicqtycomponent*n.qty,t.ItemsComponentList.push(t._Receipt.itemscomponent[i]));t.StockBalances(e),t.CheckBalanceForItemInStore(e),t.CalaculteValuesItemsRow(e),1!=t.CashCustomerSetting.dispensingpolicy||2!=t._Receipt.details[e].isrequireserial&&3!=t._Receipt.details[e].isrequireserial||t.OnSerialItems(e,t.serialModel)},1e3)}},{key:"OnSelectedItem",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!i){if(this.show_all_component=r,0==this.show_all_component)if(this.ItemsComponentList=new Array,this.SelectedItem=e,null!=e&&3==e.item_type){var a=e;if(null!=a.id)for(var o=0;o<this._Receipt.itemscomponent.length;o++)this._Receipt.itemscomponent[o].finishedproductid==a.item_id&&this._Receipt.itemscomponent[o].finishedreceipt_did==a.id&&this.ItemsComponentList.push(this._Receipt.itemscomponent[o]);else null==a.id&&(this.ItemsComponentList=this._Receipt.itemscomponent.filter(function(e){return e.finishedproductid==a.item_id&&null==e.id&&e.parentrowno==a.rowno}))}else this.ItemsComponentList=[];else this.show_all_component=!0,this.cd.markForCheck();this.itemqtyview=!1,null!=t&&this.StockBalances(t),""==n&&null!=t&&this.CheckBalanceForItemInStore(t)}}},{key:"AddItems",value:function(){if(this._CashSalesDetailsReceipt=new S.hm,this._Receipt.details.length>0){this._CashSalesDetailsReceipt.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,this._CashSalesDetailsReceipt.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode;var e=0;this._Receipt.details.forEach(function(t){e+=t.qty}),this._Receipt.qtotal=e,this._Receipt.totalitem=this._Receipt.details.length}else{0==this._Receipt.id?(this._CashSalesDetailsReceipt.store_id=this.StoreCostCenterSetting.storeid,this._CashSalesDetailsReceipt.storecode={code:this.StoreCostCenterSetting.storecode}):(this._CashSalesDetailsReceipt.store_id=this._ReceiptOriginal.details[0].store_id,this._CashSalesDetailsReceipt.storecode=this._ReceiptOriginal.details[0].storecode);var n=0;this._Receipt.details.forEach(function(e){n+=e.qty}),this._Receipt.qtotal=n,this._Receipt.totalitem=this._Receipt.details.length}this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move;var i=Math.max.apply(Math,t(this._Receipt.details.map(function(e){return e.rowno})).concat([0]));this._CashSalesDetailsReceipt.rowno=i+1,this._Receipt.details.push(this._CashSalesDetailsReceipt),this.cd.markForCheck()}},{key:"DeleteItems",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t){var n=this._Receipt.details[e];if(this._Receipt.itemscomponent.length>0&&this._Receipt.itemscomponent.filter(function(e){return e.finishedproductid==n.item_id}).length>0)if(null!=n.id)for(var i=0;i<this._Receipt.itemscomponent.length;i++)this._Receipt.itemscomponent[i].finishedproductid==n.item_id&&this._Receipt.itemscomponent[i].finishedreceipt_did==n.id&&(this._Receipt.itemscomponent.splice(i,1),i--);else null==n.id&&(this._Receipt.itemscomponent=this._Receipt.itemscomponent.filter(function(e){return e.parentrowno!=n.rowno}));1==this._Receipt.details.filter(function(e){return e.item_id==n.item_id}).length&&(this.ItemUnitsList=this.ItemUnitsList.filter(function(e){return e.item_id!=n.item_id})),this._Receipt.details.splice(e,1),0==this._Receipt.details.length&&(this._Receipt.discount_percent=0,this._Receipt.discount_foreignpercent=0,this._Receipt.deliveryfees=0,this._Receipt.deliveryfeesforeign=0,this._Receipt.discount_value=0,this._Receipt.discount_foreignvalue=0,this._Receipt.value=0,this._Receipt.valueforeign=0,this._Receipt.surchargevalueforeign=0,this._Receipt.surchargevalue=0),this.Calculate_Total_Tax_Net(),this._Receipt.totalitem=this._Receipt.details.length,this.CheckShowDiscountCols(),this.OnSelectedItem(null),this.cd.markForCheck()}}},{key:"OnEditItemsNotes",value:function(e,t){this.DescriptionItem=new S.tH,this.DescriptionItem.index=e,this.DescriptionItem.detailshtml=this._Receipt.details[e].detailshtml,this.DescriptionItem.customitemname=this._Receipt.details[e].customitemname,this.OpenModal(t)}},{key:"onContentChanged",value:function(e){this._Receipt.details[this.DescriptionItem.index].notes=e.text}},{key:"SaveNotes",value:function(){this._Receipt.details[this.DescriptionItem.index].customitemname=this.DescriptionItem.customitemname,this._Receipt.details[this.DescriptionItem.index].detailshtml=this.DescriptionItem.detailshtml,this._Receipt.details[this.DescriptionItem.index].salesmanid=this.DescriptionItem.salesmanid,this.CloseModal()}},{key:"CheckShowDiscountCols",value:function(){var e=this._Receipt.details.filter(function(e){return e.discount_percent>0||e.discount_value>0});this.ShowDiscountCols=e.length>0,this.cd.markForCheck()}},{key:"CalaculteValuesItemsRow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"percent",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this._Receipt.details[e].qty=this._Receipt.details[e].qty||0,this._Receipt.details[e].price=this._Receipt.details[e].price||0,this._Receipt.details[e].discount_value=this._Receipt.details[e].discount_value||0,this._Receipt.details[e].discount_percent=this._Receipt.details[e].discount_percent||0;var i=Number((this._Receipt.details[e].price*this._Receipt.details[e].qty).toFixed(this._Currencyprecision));"percent"==t&&(this._Receipt.details[e].discount_value=Number(((i*this._Receipt.details[e].discount_percent||0)/100).toFixed(this._Currencyprecision))),"value"==t&&(this._Receipt.details[e].discount_percent=100*(this._Receipt.details[e].discount_value/i%(1/0)||0)),this._Receipt.details[e].total=Number((i-this._Receipt.details[e].discount_value).toFixed(this._Currencyprecision)),1==n&&this.Calculate_Total_Tax_Net(),this.cd.markForCheck()}},{key:"ReCalaculteValuesChangeItemsRow",value:function(e){this._Receipt.details[e].qty=this._Receipt.details[e].qty||1,this._Receipt.details[e].price=this._Receipt.details[e].price||0,this._Receipt.details[e].discount_value=this._Receipt.details[e].discount_value||0,this._Receipt.details[e].discount_percent=this._Receipt.details[e].discount_percent||0,this._Receipt.details[e].total=Number((this._Receipt.details[e].total||0).toFixed(this._Currencyprecision)),0==this._Receipt.details[e].discount_value?this._Receipt.details[e].price=Number((this._Receipt.details[e].total/this._Receipt.details[e].qty%(1/0)||0).toFixed(this._Currencyprecision)):0!=this._Receipt.details[e].discount_value&&(this._Receipt.details[e].price=Number(((this._Receipt.details[e].total+this._Receipt.details[e].discount_value)/this._Receipt.details[e].qty%(1/0)||0).toFixed(this._Currencyprecision)),this._Receipt.details[e].discount_percent=100*(this._Receipt.details[e].discount_value/(this._Receipt.details[e].price*this._Receipt.details[e].qty)%(1/0)||0)),this.Calculate_Total_Tax_Net(),this.cd.markForCheck()}},{key:"onFocusInCostCenter",value:function(e){this.GetCostCenterList("")}},{key:"CostCenterChangeSearch",value:function(e,t){this.GetCostCenterList(e.query.trim())}},{key:"CostCenterSelectEvent",value:function(e){this._Receipt.costcenterid=e.id}},{key:"GetCostCenterList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetCostcenterTransactionsbycertainIDS(this.subsidiaryID,t,this._Receipt.vendor_id).subscribe(function(t){e.CostCenterList=[],e.CostCenterList=t,e.CostCenterList.length>0&&e.setFieldNameForArray(e.CostCenterList,"costcenter"),e.cd.markForCheck()})}},{key:"onFocusInLocations",value:function(e){this.GetLocationsList("")}},{key:"LocationsChangeSearch",value:function(e,t){this.GetLocationsList(e.query.trim())}},{key:"LocationsSelectEvent",value:function(e){this._Receipt.locationid=e.id}},{key:"GetLocationsList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetSubsidaryLocations(this.subsidiaryID,t).subscribe(function(t){e.CostCenterList=[],e.LocationList=[],e.LocationList=t,e.LocationList.length>0&&e.setFieldNameForArray(e.LocationList,"location"),e.cd.markForCheck()})}},{key:"onFocusInClasses",value:function(e){this.GetClassesList("")}},{key:"ClassesChangeSearch",value:function(e,t){this.GetClassesList(e.query.trim())}},{key:"ClassesSelectEvent",value:function(e){this._Receipt.classid=e.id}},{key:"GetClassesList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetSubsidaryClasses(this.subsidiaryID,t).subscribe(function(t){e.CostCenterList=[],e.ClassList=[],e.ClassList=t,e.ClassList.length>0&&e.setFieldNameForArray(e.ClassList,"class"),e.cd.markForCheck()})}},{key:"onFocusInDepartment",value:function(e){this.GetDepartmentList("")}},{key:"DepartmentChangeSearch",value:function(e,t){this.GetDepartmentList(e.query.trim())}},{key:"DepartmentSelectEvent",value:function(e){this._Receipt.departmentid=e.id}},{key:"GetDepartmentList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetSubsidaryDepartments(this.subsidiaryID,t).subscribe(function(t){e.CostCenterList=[],e.DepartmentList=[],e.DepartmentList=t,e.DepartmentList.length>0&&e.setFieldNameForArray(e.DepartmentList,"department"),e.cd.markForCheck()})}},{key:"onFocusInDivision",value:function(e){this.GetDivisionList("")}},{key:"DivisionChangeSearch",value:function(e,t){this.GetDivisionList(e.query.trim())}},{key:"DivisionSelectEvent",value:function(e){this._Receipt.divisionid=e.id}},{key:"GetDivisionList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetSubsidaryDivisions(this.subsidiaryID,t).subscribe(function(t){e.CostCenterList=[],e.DivisionList=[],e.DivisionList=t,console.log(t),e.DivisionList.length>0&&e.setFieldNameForArray(e.DivisionList,"division"),e.cd.markForCheck()})}},{key:"setFieldNameForArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=0;n<e.length;n++){var i=e[n];"costcenter"==t?i.costcenterfieldname="ar"==this.lang?i.sugar:i.sug:"location"==t?i.locationfieldname="ar"==this.lang?i.sugar:i.sug:"class"==t?i.classfieldname="ar"==this.lang?i.sugar:i.sug:"department"==t?i.departmentfieldname="ar"==this.lang?i.sugar:i.sug:"division"==t&&(i.divisionfieldname="ar"==this.lang?i.sugar:i.sug)}}},{key:"CarByDriverID",value:function(){var e=this;this._ReceiptSharedService.CarByDriverID(this.subsidiaryID,this._Receipt.driverid).subscribe(function(t){e.CarsList=t,e.CarsList.length>0&&null!=e._Receipt.driverid&&(e._Receipt.carid=e.CarsList[0].id),e.cd.markForCheck()})}},{key:"DriverUsersByCarID",value:function(){var e=this;this._ReceiptSharedService.DriverUsersByCarID(this.subsidiaryID,this._Receipt.carid).subscribe(function(t){e.DriversList=t,e.DriversList.length>0&&null!=e._Receipt.carid&&(e._Receipt.driverid=e.DriversList[0].id),e.cd.markForCheck()})}},{key:"ChangeDriver",value:function(){this.CarByDriverID(),null==this._Receipt.driverid&&(this._Receipt.carid=null,this.DriverUsersByCarID())}},{key:"ChangeCar",value:function(){this.DriverUsersByCarID(),null==this._Receipt.carid&&(this._Receipt.driverid=null,this.DriverUsersByCarID())}},{key:"GetReceiptCodeList",value:function(){var e=this;this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID).subscribe(function(t){e.ReceiptCodeList=t;var n=e.ReceiptCodeList.find(function(t){return t.code==e.BasicCodeReceipt});e.Transaction_move=n.items,e.cd.markForCheck()})}},{key:"AddLinkedReceipt",value:function(){this._LinkedReceipt=new S.Cb,this._LinkedReceipt.code=this.BasicCodeReceipt,this._LinkedReceipt.branch_id=this._Receipt.branch_id,this._Receipt.linkedreceipts.push(this._LinkedReceipt),this.cd.markForCheck()}},{key:"GetLinkedReceipt",value:function(e){var t=this,n=this._Receipt.linkedreceipts[e];this.ItemLinkedReceipt=[],this.ItemComponentsLinkedReceipt=[],null!=n.branch_id&&null!=n.code&&null!=n.entry_no&&n.entry_no>0&&0==n.fire&&(this._Receipt.linkedreceipts[e].fire=1,this.spinner.show(),this._ReceiptSharedService.GetReceiptForLinkedReceipt(n.branch_id,n.code,n.entry_no).subscribe(function(n){if(t.spinner.hide(),null==n.receipt.id)t._Receipt.linkedreceipts[e].fire=0,t.toastr.error(t.ReceiptNotFound);else if(n.items.length>0)if(1==t._Receipt.linkedreceipts.length&&(t._Receipt.subsidiaryid=n.receipt.subsidiaryid,t._Receipt.customersalesprice=null!=n.receipt.customersalesprice?n.receipt.customersalesprice:t._Receipt.customersalesprice,t._Receipt.payment_type=null!=n.receipt.payment_type?n.receipt.payment_type:t._Receipt.payment_type,t._Receipt.vendor_id=null!=n.receipt.vendor_id?n.receipt.vendor_id:t._Receipt.vendor_id,t._Receipt.cashcustomerid=null!=n.receipt.cashcustomerid?n.receipt.cashcustomerid:t._Receipt.cashcustomerid,t._Receipt.discount_foreignpercent=n.receipt.discount_foreignpercent,t._Receipt.discount_percent=n.receipt.discount_percent,t._Receipt.discount_foreignvalue=n.receipt.discount_foreignvalue,t._Receipt.discount_value=n.receipt.discount_value,null!=t._Receipt.vendor_id&&(t._Receipt.cashcustomer_vendor_code={code:n.receipt.vendorcode},t._Receipt.cashcustomer_vendor_name="ar"==t.lang?n.receipt.vendornamear:n.receipt.vendorname,t._Receipt.vendor_balance=null!=n.receipt.vendor_balance?n.receipt.vendor_balance:t._Receipt.vendor_balance,t.PriceListItemsOnly=n.receipt.pricelistitemsonly),null!=t._Receipt.cashcustomerid&&(t._Receipt.cashcustomer_vendor_code={phonenumber:n.receipt.phonenumber},t._Receipt.cashcustomer_vendor_name="ar"==t.lang?n.receipt.cashcustomername_ar:n.receipt.cashcustomername,t.PriceListItemsOnly=!1),t._Receipt.currency_id=n.receipt.currency_id,t._Receipt.currency_rate=n.receipt.currency_rate,t._Receipt.empoyee_id=null!=n.receipt.empoyee_id?n.receipt.empoyee_id:t._Receipt.empoyee_id,t._Receipt.memo=n.receipt.memo,t._Receipt.reference_no=n.receipt.reference_no,t._Receipt.inchargepersonname=n.receipt.inchargepersonname,t._Receipt.inchargephoneno=n.receipt.inchargephoneno,t._CurrencySelected=t.CurrencyList.find(function(e){return e.id==t._Receipt.currency_id}),t.ForeignCurrencyShow=1!=t._CurrencySelected.basecurrency),0==t.PriceListItemsOnly||n.receipt.vendor_id==t._Receipt.vendor_id){t._Receipt.linkedreceipts[e].fire=1,t._Receipt.linkedreceipts[e].receiptid=n.receipt.id,t._Receipt.linkedreceipts[e].subsidiaryid=t.subsidiaryID,t._Receipt.linkedreceipts[e].parentreceiptid=t._Receipt.id;for(var i=0;i<t._Receipt.details.length;i++)null==t._Receipt.details[i].item_id&&(t._Receipt.details.splice(i,1),i--);n.itemunits.forEach(function(e){0==t.ItemUnitsList.filter(function(t){return t.item_id==e.item_id&&t.id==e.unit_id}).length&&t.ItemUnitsList.push(e)}),n.itemcomponents.length>0&&(t.ItemComponentsLinkedReceipt=n.itemcomponents,81==n.receipt.code&&(t.ItemComponentsLinkedReceipt=t.ItemComponentsLinkedReceipt.filter(function(e){return-1==e.transaction_move})),t.ItemComponentUnitsList=t.ItemComponentUnitsList.concat(n.componentsunits)),t.ItemLinkedReceipt=n.items,81==n.receipt.code&&(t.ItemLinkedReceipt=t.ItemLinkedReceipt.filter(function(e){return-1==e.transaction_move})),t.SetLinkReceiptItemRow(0,t.ItemLinkedReceipt[0])}else t._Receipt.linkedreceipts[e].fire=0,t.spinner.hide(),t.toastr.info(t.CustomerPricelistMsg);else t.spinner.hide(),t._Receipt.linkedreceipts[e].fire=0,t.toastr.error(t.Receiptnoitems),t._Receipt.linkedreceipts[e].entry_no=null,t.cd.markForCheck()}))}},{key:"SetLinkReceiptItemRow",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1?arguments[1]:void 0;this._CashSalesDetailsReceipt=new S.hm;var r=this._Receipt.details.findIndex(function(e){return e.item_id==i.item_id&&e.unit_id==i.unit_id&&e.conv==i.conv});if(-1==r){this._Receipt.details.length>0?(this._CashSalesDetailsReceipt.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,this._CashSalesDetailsReceipt.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode):(this._CashSalesDetailsReceipt.store_id=i.store_id,this._CashSalesDetailsReceipt.storecode={code:i.storecode}),this._CashSalesDetailsReceipt.item_id=i.item_id,this._CashSalesDetailsReceipt.itemcode={code:i.itemcode},this._CashSalesDetailsReceipt.itemname=i.itemname,this._CashSalesDetailsReceipt.itemname_ar=i.itemname_ar,this._CashSalesDetailsReceipt.unit_id=i.unit_id,this._CashSalesDetailsReceipt.conv=i.conv,this._CashSalesDetailsReceipt.qty=i.qty,this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move,this._CashSalesDetailsReceipt.isrequireserial=i.isrequireserial,this._CashSalesDetailsReceipt.item_type=i.item_type,this._CashSalesDetailsReceipt.notes=i.notes,this._CashSalesDetailsReceipt.haswarrenty=i.haswarrenty,this._CashSalesDetailsReceipt.warrantydate=i.warrantydate,this._CashSalesDetailsReceipt.detailshtml=i.detailshtml,this._CashSalesDetailsReceipt.customitemname=i.customitemname,this._CashSalesDetailsReceipt.salesmanid=i.salesmanid,this._CashSalesDetailsReceipt.price=0!=i.priceafterincrease&&null!=i.priceafterincrease?i.priceafterincrease:i.price,this._CashSalesDetailsReceipt.discount_percent=i.discount_percent,this._CashSalesDetailsReceipt.discount_value=i.discount_value,this._CashSalesDetailsReceipt.total=i.total;var a=Math.max.apply(Math,t(this._Receipt.details.map(function(e){return e.rowno})).concat([0]));this._CashSalesDetailsReceipt.rowno=a+1,3==i.item_type&&this.ItemComponentsLinkedReceipt.filter(function(e){return e.finishedproductid==i.item_id&&e.finishedreceipt_did==i.id}).forEach(function(t){var n=new S.hm;n.store_id=e._CashSalesDetailsReceipt.store_id,n.storecode=e._CashSalesDetailsReceipt.storecode.code,n.item_id=t.item_id,n.itemcode=t.itemcode,n.itemname=t.itemname,n.itemname_ar=t.itemname_ar,n.unit_id=t.unit_id,n.conv=t.conv,n.qty=t.qty,n.basicqtycomponent=t.qty/e._CashSalesDetailsReceipt.qty||0,n.price=t.price,n.discount_value=t.discount_value,n.discount_percent=t.discount_percent,n.total=t.total,n.transaction_move=e.Transaction_move,n.finishedproductid=t.finishedproductid,n.item_type=t.item_type,n.notes=t.notes,n.haswarrenty=t.haswarrenty,n.warrantydate=t.warrantydate,n.detailshtml=t.detailshtml,n.customitemname=t.customitemname,n.salesmanid=t.salesmanid,n.parentrowno=e._CashSalesDetailsReceipt.rowno,e._Receipt.itemscomponent.push(n)}),this.ItemUnitsList.filter(function(e){return e.item_id==i.item_id&&e.id==i.unit_id}),this._Receipt.details.push(this._CashSalesDetailsReceipt),this.CalaculteValuesItemsRow(this._Receipt.details.length-1),n+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(n+1,this.ItemLinkedReceipt[n+1]):this.SetLinkReceiptItemFinished(),this.CheckShowDiscountCols()}else{if(this._Receipt.details[r].qty=this._Receipt.details[r].qty+parseFloat(i.qty),3==i.item_type){var o=this.ItemComponentsLinkedReceipt.filter(function(e){return e.finishedproductid==i.item_id&&e.finishedreceipt_did==i.id});if(null!=this._Receipt.details[r].id)for(var c=this._Receipt.details[r],l=function(t){e._Receipt.itemscomponent[t].finishedproductid==c.item_id&&e._Receipt.itemscomponent[t].finishedreceipt_did==c.id&&(d=o.find(function(n){return n.item_id==e._Receipt.itemscomponent[t].item_id}),e._Receipt.itemscomponent[t].qty=e._Receipt.itemscomponent[t].qty+parseFloat(d.qty))},s=0;s<this._Receipt.itemscomponent.length;s++){var d;l(s)}else if(null==this._Receipt.details[r].id)for(var p=this._Receipt.details[r],u=function(t){e._Receipt.itemscomponent[t].finishedproductid==p.item_id&&null==e._Receipt.itemscomponent[t].id&&e._Receipt.itemscomponent[t].parentrowno==p.rowno&&(d=o.find(function(n){return n.item_id==e._Receipt.itemscomponent[t].item_id}),e._Receipt.itemscomponent[t].qty=e._Receipt.itemscomponent[t].qty+parseFloat(d.qty))},m=0;m<this._Receipt.itemscomponent.length;m++)u(m)}this.CalaculteValuesItemsRow(r),n+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(n+1,this.ItemLinkedReceipt[n+1]):this.SetLinkReceiptItemFinished(),this.CheckShowDiscountCols()}}},{key:"SetLinkReceiptItemFinished",value:function(){if(this.spinner.hide(),this.IxLRS+1<this.LinkedReceiptListSelected.length){this.IxLRS=this.IxLRS+1;var e=this._Receipt.linkedreceipts.length-(this.IxLRS+1);1!=this._Receipt.linkedreceipts[e].fire&&(this.GetLinkedReceipt(e),console.log("(this._Receipt.linkedreceipts.length)-(this.IxLRS+1)"),console.log(e))}else this.CheckBalanceForItemInStore(0,!0),this.StockBalances(0)}},{key:"OnCustomerLinkedReceiptSet",value:function(e){this.LinkedReceiptListSelected=[],this.IxLRS=0,this.LinkedReceiptListSelected=e.list;for(var t=0;t<this.LinkedReceiptListSelected.length;t++)this._LinkedReceipt=new S.Cb,this._LinkedReceipt.code=this.LinkedReceiptListSelected[t].code,this._LinkedReceipt.entry_no=this.LinkedReceiptListSelected[t].entry_no,this._LinkedReceipt.subsidiaryid=this.subsidiaryID,this._LinkedReceipt.branch_id=this.LinkedReceiptListSelected[t].branch_id,this._LinkedReceipt.receiptid=this.LinkedReceiptListSelected[t].id,this._LinkedReceipt.parentreceiptid=this._Receipt.id,this._Receipt.linkedreceipts.push(this._LinkedReceipt);this.GetLinkedReceipt(this._Receipt.linkedreceipts.length-(this.IxLRS+1))}},{key:"OnOpenLinkedReceipt",value:function(e){var t=this,n=this._Receipt.linkedreceipts[e],i=this._ReceiptSharedService.ReceiptsLinked_Url_Codes.find(function(e){return e.Code==n.code});null!=this._Receipt.linkedreceipts[e].receiptid?""!=i.Url&&window.open(i.Url+this._Receipt.linkedreceipts[e].receiptid+"/show","_blank"):null!=n.branch_id&&null!=n.code&&null!=n.entry_no&&n.entry_no>0&&this._ReceiptSharedService.GetLinkedReceiptID(n.branch_id,n.code,n.entry_no).subscribe(function(e){""!=i.Url&&null!=e?window.open(i.Url+e.id+"/show","_blank"):t.toastr.error(t.ReceiptNotFound)})}},{key:"DeleteLinkedReceipt",value:function(e){this._Receipt.linkedreceipts.splice(e,1),this.cd.markForCheck()}},{key:"OnSignatureSet",value:function(e){this._Receipt.signature=e.signature}},{key:"OnOpenReceiptHistory",value:function(e){var t=this.ReceiptHistoryList[e],n=this._ReceiptSharedService.ReceiptsLinked_Url_Codes.find(function(e){return e.Code==t.code});""!=n.Url&&window.open(n.Url+this.ReceiptHistoryList[e].receiptid+"/show","_blank")}},{key:"Calculate_Total_Tax_Net",value:function(){var e=0;this._Receipt.details.forEach(function(t){e+=t.total}),1==this._Receipt.currency_rate?(this._Receipt.value=Number(e.toFixed(this._Currencyprecision)),this._Receipt.valueforeign=Number(e.toFixed(this._Currencyprecision))):(this._Receipt.valueforeign=Number(e.toFixed(this._Currencyprecision)),this._Receipt.value=Number((e/this._Receipt.currency_rate).toFixed(this._Currencyprecision))),this._Receipt.deliveryfees=this._Receipt.deliveryfees||0,this._Receipt.deliveryfeesforeign=this._Receipt.deliveryfeesforeign||0,this._Receipt.surchargepercent=this._Receipt.surchargepercent||0,this._Receipt.surchargevalue=this._Receipt.surchargevalue||0,this._Receipt.discount_percent>0?this.Calculate_Disc("local","percent"):this._Receipt.discount_value>0?this.Calculate_Disc("local","value"):this._Receipt.discount_foreignvalue>0?this.Calculate_Disc("foreign","value"):this.CalculateTax_Net(e);var t=0;this._Receipt.details.forEach(function(e){t+=e.qty}),this._Receipt.qtotal=t}},{key:"CalculateTax_Net",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;1==this._Receipt.currency_rate?(this._Receipt.netvalue=Number((e-this._Receipt.discount_value).toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0,this._Receipt.netvalueforeign=this._Receipt.netvalue):(this._Receipt.netvalueforeign=Number((e-this._Receipt.discount_foreignvalue).toFixed(this._Currencyprecision)),this._Receipt.netvalueforeign=this._Receipt.netvalueforeign>=0?this._Receipt.netvalueforeign:0,this._Receipt.netvalue=Number((this._Receipt.netvalueforeign/this._Receipt.currency_rate).toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0)}},{key:"Calculate_Disc",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"local",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"percent";this._Receipt.discount_percent=this._Receipt.discount_percent||0,this._Receipt.discount_foreignpercent=this._Receipt.discount_foreignpercent||0,this._Receipt.discount_value=this._Receipt.discount_value||0,this._Receipt.discount_foreignvalue=this._Receipt.discount_foreignvalue||0,"local"==e?("percent"==t&&(this._Receipt.discount_foreignpercent=this._Receipt.discount_percent,this._Receipt.discount_value=Number(((this._Receipt.value*this._Receipt.discount_percent||0)/100).toFixed(this._Currencyprecision)),this._Receipt.discount_foreignvalue=Number(((this._Receipt.valueforeign*this._Receipt.discount_foreignpercent||0)/100).toFixed(this._Currencyprecision))),"value"==t&&(this._Receipt.discount_percent=Number((100*(this._Receipt.discount_value/this._Receipt.value%(1/0)||0)).toFixed(8)),this._Receipt.discount_foreignpercent=this._Receipt.discount_percent,this._Receipt.discount_foreignvalue=Number(((this._Receipt.valueforeign*this._Receipt.discount_foreignpercent||0)/100).toFixed(this._Currencyprecision)))):"foreign"==e&&("percent"==t&&(this._Receipt.discount_percent=this._Receipt.discount_foreignpercent,this._Receipt.discount_value=Number(((this._Receipt.value*this._Receipt.discount_percent||0)/100).toFixed(this._Currencyprecision)),this._Receipt.discount_foreignvalue=Number(((this._Receipt.valueforeign*this._Receipt.discount_foreignpercent||0)/100).toFixed(this._Currencyprecision))),"value"==t&&(this._Receipt.discount_foreignpercent=Number((100*(this._Receipt.discount_foreignvalue/this._Receipt.valueforeign%(1/0)||0)).toFixed(8)),this._Receipt.discount_percent=this._Receipt.discount_foreignpercent,this._Receipt.discount_value=Number(((this._Receipt.value*this._Receipt.discount_percent||0)/100).toFixed(this._Currencyprecision)))),1==this._Receipt.currency_rate?(this._Receipt.surchargevalue=0,this._Receipt.surchargevalueforeign=0,this._Receipt.netvalue=Number((this._Receipt.value-this._Receipt.discount_value).toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0,this._Receipt.netvalueforeign=this._Receipt.netvalue):(this._Receipt.surchargevalue=0,this._Receipt.surchargevalueforeign=0,this._Receipt.netvalueforeign=Number((this._Receipt.valueforeign-this._Receipt.discount_foreignvalue).toFixed(this._Currencyprecision)),this._Receipt.netvalueforeign=this._Receipt.netvalueforeign>=0?this._Receipt.netvalueforeign:0,this._Receipt.netvalue=Number((this._Receipt.value-this._Receipt.discount_value).toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0)}},{key:"StockBalances",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!=e&&3!=this._Receipt.details[e].item_type?(this.itemqtyview=!1,this._itemstoreqtyobj=new S.I$,this._itemstoreqtyobj.subsidairyid=this.subsidiaryID,this._itemstoreqtyobj.ReceiptCode=this.BasicCodeReceipt,this._itemstoreqtyobj.BranchID=this._Receipt.branch_id,this._itemstoreqtyobj.Entrydate=this._Receipt.entry_date,this._itemstoreqtyobj.Unit_ID=this._Receipt.details[e].unit_id,this._itemstoreqtyobj.conv=this._Receipt.details[e].conv,this._itemstoreqtyobj.itemid=this._Receipt.details[e].item_id,this.itemqtyview=!0):(this.itemqtyview=!1,this._itemstoreqtyobj=new S.I$)}},{key:"CheckBalanceForItemInStore",value:function(e){var t,n=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];1==r&&(this.DuringSaveDisable=!0,this.cd.markForCheck());var a=!0,o=new S.I$;if(null!=this._Receipt.details[e].item_id){o.ReceiptCode=this.BasicCodeReceipt,o.BranchID=this._Receipt.branch_id,o.Entrydate=this._Receipt.entry_date+" "+this._Receipt.entry_time,o.Unit_ID=this._Receipt.details[e].unit_id,o.conv=this._Receipt.details[e].conv,o.Qty=0,o.itemid=this._Receipt.details[e].item_id,o.StoreID=this._Receipt.details[e].store_id,o.subsidairyid=this.subsidiaryID,o.ReceiptID=this._Receipt.id,console.log(o);var c=null!==(t=this.ReceiptCodeList.filter(function(e){return e.code==n.BasicCodeReceipt})[0].items)&&void 0!==t?t:-1,l=this.InventorySetting[0].physicalnegativeinventoryid;console.log(this._Receipt.details[e].item_type),2!=this._Receipt.details[e].item_type&&(-1==c||1==c&&this._Receipt.details[e].id>0)&&1==l?this._ReceiptSharedService.CheckBalanceForItemInStore(o).subscribe(function(t){var o=0,l=0,s=0,d=[],p=!0;if(0==t.consignment.consignment){if(null!=t.totalqty.totalqty){if(o=t.totalqty.totalqty,d=t.itemcomponent,n._Receipt.details.filter(function(t){return t.item_id==n._Receipt.details[e].item_id}).forEach(function(e){var t=n.ItemUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=t){var i=null!=t.finalconv?t.finalconv:1,r=null!=t.conv?t.conv:1,a=e.conv;l=parseFloat(l.toString())+i*(a/r)*parseFloat(e.qty.toString())}}),3!=n._Receipt.details[e].item_type&&function(){n._Receipt.itemscomponent.filter(function(t){return t.item_id==n._Receipt.details[e].item_id&&null!=t.id}).forEach(function(e){var t=n.ItemComponentUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=t){var i=(null!=t.finalconv?t.finalconv:1)*(e.conv/(null!=t.conv?t.conv:1))*parseFloat(e.qty.toString());l=parseFloat(l.toString())+i}});for(var t=[],i=n._Receipt.details.filter(function(e){return 3==e.item_type&&null==e.id}),r=function(r){t=[],t=n._Receipt.itemscomponent.filter(function(t){return t.parentrowno==i[r].rowno&&t.finishedproductid==i[r].item_id&&null==t.id&&t.item_id==n._Receipt.details[e].item_id});for(var a=function(e){var i=t[e].qty,r=n.ItemComponentUnitsList.find(function(n){return n.item_id==t[e].item_id&&n.id==t[e].unit_id});if(null!=r){var a=(null!=r.finalconv?r.finalconv:1)*(t[e].conv/(null!=r.conv?r.conv:1))*parseFloat(i.toString());l=parseFloat(l.toString())+a}},o=0;o<t.length;o++)a(o)},a=0;a<i.length;a++)r(a)}(),-1==c?s=o-l:1==c&&(s=o+l),3==n._Receipt.details[e].item_type)for(var u=function(e){if(2!=d[e].item_type){var t=function(){var t=n._Receipt.details.filter(function(t){return t.item_id==d[e].item_id}),i=0;t.forEach(function(e){var t=n.ItemUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=t){var r=null!=t.finalconv?t.finalconv:1,a=null!=t.conv?t.conv:1,o=e.conv;i=parseFloat(i.toString())+r*(o/a)*parseFloat(e.qty.toString())}}),n._Receipt.itemscomponent.filter(function(t){return t.item_id==d[e].item_id&&null!=t.id}).forEach(function(e){var t=n.ItemComponentUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=t){var r=(null!=t.finalconv?t.finalconv:1)*(e.conv/(null!=t.conv?t.conv:1))*parseFloat(e.qty.toString());i=parseFloat(i.toString())+r}});for(var r=[],a=n._Receipt.details.filter(function(e){return 3==e.item_type&&null==e.id}),o=function(t){r=[],r=n._Receipt.itemscomponent.filter(function(n){return n.parentrowno==a[t].rowno&&n.finishedproductid==a[t].item_id&&null==n.id&&n.item_id==d[e].item_id});for(var o=function(e){var t=r[e].qty,a=n.ItemComponentUnitsList.find(function(t){return t.item_id==r[e].item_id&&t.id==r[e].unit_id});if(null!=a){var o=(null!=a.finalconv?a.finalconv:1)*(r[e].conv/(null!=a.conv?a.conv:1))*parseFloat(t.toString());i=parseFloat(i.toString())+o}},c=0;c<r.length;c++)o(c)},c=0;c<a.length;c++)o(c);if(!(i<=d[e].totalqty))return p=!1,{v:"break"};p=!0}();if("object"==typeof t)return t.v}},m=0;m<d.length;m++){if("break"===u(m))break}a=s>=0&&1==p}else a=!1;0==a?(n._Receipt.details[e].allowqtyselectforitem=!1,n.cd.markForCheck(),n.toastr.warning(n.qtyErrorMsg+o)):(n._Receipt.details[e].allowqtyselectforitem=!0,n.cd.markForCheck())}1==i&&e+1<n._Receipt.details.length?n.CheckBalanceForItemInStore(e+1,!0,r):1==r&&n.SaveReceipt()}):1==i&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,r):1==r&&this.SaveReceipt()}else 1==i&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,r):1==r&&this.SaveReceipt()}},{key:"CreateNewAction",value:function(){var e=this;JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||1==this.ShowModeReceipt||this.ReceiptID>0&&!this.checkRoleParms(620)?this._router.navigate(["/page/inventorytransiction/issuevoucher/0"]).then(function(){window.location.reload()}):Me().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(t){t.value?e.CheckPre_SaveReceipt(e.RForm):t.dismiss===Me().DismissReason.cancel&&e._router.navigate(["/page/inventorytransiction/issuevoucher/0"]).then(function(){window.location.reload()})})}},{key:"DeleteAction",value:function(){var e=this;Me().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(t){t.isConfirmed&&1==t.isConfirmed&&e._ReceiptSharedService.DeleteReceipts(e._Receipt.id).subscribe(function(t){0==t.bcount?(e.toastr.success(e.toastrSuccessDelete),e._router.navigate(["/page/inventorytransiction/issuevoucher"])):-1==t.bcount?(t.usedserials.forEach(function(t){var n=e._Receipt.details.findIndex(function(e){return e.item_id==t.itemid&&e.batcheslist[0].id==t.id});-1!=n&&(e._Receipt.details[n].allowqtyselectforitem=!1)}),e.toastr.error(e.RelatedwithSerialsOrBatches)):e.toastr.error(e.DeleteRelationmsg)})})}},{key:"CheckServiceItemComponentsInUpdate",value:function(){var e=this;this._ReceiptSharedService.CheckServiceItemComponentsInUpdate(this._Receipt.id).subscribe(function(t){t[0].exist?(e.ShowModeReceipt=!0,e.toastr.warning(e.UpdateReceiptItemService)):e.ShowModeReceipt=!1,e.cd.markForCheck()})}},{key:"GetMaxCostPostedSerDate",value:function(){var e=this;this._ReceiptSharedService.GetMaxCostPostedSerDate(this._Receipt.entry_date,this.subsidiaryID).subscribe(function(t){var n=e.datepipe.transform(t[0].maxpostingdate,"yyyy-MM-dd");Date.parse(n.toString())<Date.parse(e._Receipt.entry_date.toString())?(e.ShowModeReceipt=!1,e.ValidPeriod=!0,e.CheckServiceItemComponentsInUpdate()):(e.ShowModeReceipt=!0,e.ValidPeriod=!1,e.ShowPopUpCostPostedSerDate()),e.cd.markForCheck()})}},{key:"DupilcateAction",value:function(){var e=this;this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(function(t){e._Receipt.entry_no=0==t.length?1:t[0].entry_no+1,e.entry_no=e._Receipt.entry_no,e.location.replaceState("/page/inventorytransiction/issuevoucher/0"),e.ReceiptID=0,e._Receipt.id=null,e.CheckBalanceForItemInStore(0,!0),e.cd.markForCheck()})}},{key:"DocumentAction",value:function(){this._router.navigate(["/page/setupsettings/documents/3/"+this._Receipt.id+"/issuevoucher"],{relativeTo:this._activeRoute,queryParams:{show:this.LockedRecepit}})}},{key:"PrintPreview",value:function(e){var t=this,n=this.getReportfilter(0==e?1:0);this.spinner.show(),this._ReceiptSharedService.GetReport(n).subscribe(function(n){t.spinner.hide(),1==e?t._authService.showPdfInNewTab(n.bytes,""):t._authService.printJS(n.bytes)}),this.cd.markForCheck()}},{key:"onPrint",value:function(){var e=this,t=this.getReportfilter(0);this._VerifyReportsService.SaveVerifyReports(this.subsidiaryID,this.lang).subscribe(function(n){e.reporturl="".concat(e.reportdomainUrl,"?q=").concat(t.reportName,"&ID=").concat(t.ReceiptID),""!=t.lang&&(e.reporturl=e.reporturl+"&Lang=".concat(t.lang)),""!=t.DomainName&&(e.reporturl=e.reporturl+"&DomainName=".concat(t.DomainName)),""!=t.toEmail&&(e.reporturl=e.reporturl+"&email=".concat(t.toEmail,"+&Subject=").concat(t.Subject,"+&boby=").concat(t.boby)),e.reporturl=e.reporturl+"&Info=".concat(n),e._authService.showReportInNextTab(e.reporturl),e.cd.markForCheck()})}},{key:"sendEmail",value:function(e){var t=this;this._emailobj=e.list;var n=this.getReportfilter(0);this.spinner.show(),this._ReceiptSharedService.GetReport(n).subscribe(function(e){t.spinner.hide(),alert(t.mailmsg)}),this.cd.markForCheck()}},{key:"getReportfilter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this._authService.userInfo().clientdatabase,n="",i="";"ar"==this.lang&&(i="_ar");var r={reportName:n=1==e?"P_I_60_IssueVoucher_GL_WEB_alromaih"+i:"P_I_60_IssueVoucher"+i,SubsidaryID:this.subsidiaryID,ReceiptID:this._Receipt.id,lang:"",DomainName:"",toEmail:"",Subject:"",boby:""};return t.indexOf("alshaima")>-1?n="P_I_60_63_GL_WEB_alshaimaa"+i:t.indexOf("192.168.1.90")>-1||t.indexOf("rafc.matixerp.com")>-1?r={reportName:n="P_S_52_CashSales_rahtElKhalig",SubsidaryID:this.subsidiaryID,ReceiptID:this._Receipt.id,lang:i,DomainName:window.location.origin,toEmail:"",Subject:"",boby:""}:t.indexOf("alromaih")>-1?n="P_I_60_IssueVoucher_GL_WEB_alromaih":t.indexOf("darshgf")>-1?n="P_I_60_IssueVoucher_GL_WEB_darshgf":t.indexOf("istones")>-1&&1==e?n="P_S_52_Issue_GL_WEB_istones":t.indexOf("istones")>-1&&0==e&&(n="P_I_60_IssueVoucher_GL_WEB_istones"+i),r.ReceiptID=this.ReceiptID,r.reportName=n,r.toEmail=this._emailobj.email,r.Subject=this._emailobj.subject,r}},{key:"BackAction",value:function(){var e=this;JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||this.ReceiptID>0&&!this.checkRoleParms(620)||0==this.ReceiptID&&!this.checkRoleParms(229)||1==this.ShowModeReceipt?this._router.navigate(["/page/inventorytransiction/issuevoucher"]):Me().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(t){t.value?e.CheckPre_SaveReceipt(e.RForm):t.dismiss===Me().DismissReason.cancel&&e._router.navigate(["/page/inventorytransiction/issuevoucher"])})}},{key:"getCurrentDate",value:function(){var e=new Date,t=e.getFullYear();return e.getMonth()+1+"/"+e.getDate()+"/"+t}},{key:"getwarrantydateDate",value:function(){var e=new Date,t=e.getFullYear()+1;return e.getMonth()+1+"/"+e.getDate()+"/"+t}},{key:"SetTimeNow",value:function(){var e=new Date;return("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)}},{key:"OpenModal",value:function(e){this.modalReference=this.modalService.open(e,{size:"xl",backdrop:"static"})}},{key:"CloseModal",value:function(){this.modalReference.close()}},{key:"formateDecimal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return e.toFixed(t)}},{key:"OnSerialItems",value:function(e,n){var i,r=this;if(1==this.CashCustomerSetting.dispensingpolicy&&0==this.ReceiptID&&(this._Receipt.details[this.selectedindex].batcheslist=[]),this.SelectedItem=this._Receipt.details[e],this.selectedindex=e,this._Receipt.details[e].qty<=0)this.toastr.error(this.InValidQty);else{this.requiredserial=this._Receipt.details[e].isrequireserial;var a=this.ItemUnitsList.filter(function(t){return t.item_id==r._Receipt.details[e].item_id&&t.id==r._Receipt.details[e].unit_id}),o=this._Receipt.details[e].conv*a[0].finalconv/a[0].conv;this._batchqty=this._Receipt.details[e].qty,this._ReceiptSharedService.GetReceiptItemSerial(this._Receipt.details[e].item_id,this._Receipt.details[e].store_id,null!==(i=this._Receipt.id)&&void 0!==i?i:0,this._Receipt.entry_date+" "+this._Receipt.entry_time,this.subsidiaryID).subscribe(function(i){r.BatchesListForEatchRow=[],i.seriallist.forEach(function(t){t.formIssueVoucher=!1,null!=r._Receipt.id&&0!=r._Receipt.id&&null!=r._ReceiptOriginal.details[r.selectedindex]&&r._ReceiptOriginal.details[r.selectedindex].unit_id!=r._Receipt.details[r.selectedindex].unit_id&&(t.availableqty=t.availableqty+r._ReceiptOriginal.details[e].qty*r._ReceiptOriginal.details[e].final_conv-r._Receipt.details[e].qty*r._Receipt.details[e].final_conv),t.availableqtywithsmallestunit=t.availableqty,t.availableqty=parseFloat((t.availableqty/o).toFixed(4))});var a=[];if(a=i.seriallist,console.log(i.seriallist,"d.seriallist"),r._Receipt.details[r.selectedindex].batcheslist||(r._Receipt.details[r.selectedindex].batcheslist=[]),r._Receipt.details[r.selectedindex].batcheslist.forEach(function(e){var t,n=a.findIndex(function(t){return t.id==e.previtemserialid});-1!=n&&(a[n].patchconfirmation=null!==(t=e.patchconfirmation)&&void 0!==t?t:"",e.inv_receipt_d_id>0?null==r._Receipt.details[r.selectedindex].validrow||1==r._Receipt.details[r.selectedindex].validrow?(a[n].qty=e.qty,a[n].oldqty=a[n].qty,a[n].availableqty=r.dealWith(r.ComeFromIssueRequest?a[n].availableqty-e.qty:a[n].availableqty),r._Receipt.details[r.selectedindex].validrow=!0):a[n].availableqty=a[n].availableqty+e.qty:1==r._Receipt.details[r.selectedindex].validrow&&(a[n].qty=e.qty,a[n].oldqty=a[n].qty,a[n].availableqty=r.dealWith(a[n].availableqty-e.qty),r._Receipt.details[r.selectedindex].validrow=!0))}),r._Receipt.id>0)for(var c=0;c<a.length;c++)null==a[c].qty&&0==a[c].availableqty||r.BatchesListForEatchRow.push(a[c]);else r.BatchesListForEatchRow=t(a);if(1==r.CashCustomerSetting.dispensingpolicy){if(r._Receipt.details[r.selectedindex].id>0&&r.ReceiptID>0){console.log(r.BatchesListForEatchRow);for(var l=0;l<r.BatchesListForEatchRow.length;l++)r.BatchesListForEatchRow[l].availableqty+=r.BatchesListForEatchRow[l].oldqty,r.BatchesListForEatchRow[l].qty=0,r.BatchesListForEatchRow[l].solidquantity=0}var s=0;if(r.BatchesListForEatchRow.forEach(function(e){s+=e.availableqty}),console.log(s,r._Receipt.details[e].qty),r._Receipt.details[e].qty>s)return void r.toastr.error(r.InValidQtyForBatch);if(r._Receipt.details[e].qty==s)r.BatchesListForEatchRow.forEach(function(e){e.qty=e.availableqty,e.oldqty=e.availableqty,e.availableqty=0}),r.saveSerialOnSalesReturnEffectDispensingPolicy();else{var d=r._Receipt.details[e].qty;r.BatchesListForEatchRow.forEach(function(e){0!=d&&(e.availableqty>=d?(e.qty=d,e.oldqty=d,e.availableqty=e.availableqty-d,d=0):(e.qty=e.availableqty,e.oldqty=e.availableqty,d-=e.availableqty,e.availableqty=0))}),r.saveSerialOnSalesReturnEffectDispensingPolicy()}}else r.OpenModal(n);1==r.CashCustomerSetting.dispensingpolicy&&r.OpenModal(n)})}}},{key:"saveSerialOnSalesReturnEffectDispensingPolicy",value:function(){var e=this;if(this.BatchesListForEatchRow.some(function(e){return e.qty>e.availableqty+e.oldqty}))return this.toastr.error(this.QtyIsValidWithAvailableQty),void(this._Receipt.details[this.selectedindex].validrow=!1);var t,n=0;if(this.BatchesListForEatchRow.forEach(function(e){var t;n+=null!==(t=+e.qty)&&void 0!==t?t:0}),n!=this._batchqty)return this.toastr.error(this.InValidNumberOfBatch),void(this._Receipt.details[this.selectedindex].validrow=!1);var i=1;this.BatchesListForEatchRow.map(function(n){if(i++,n.qty>0){var r=e._Receipt.details[e.selectedindex].batcheslist.findIndex(function(e){return e.previtemserialid==n.id});-1!=r?e._Receipt.details[e.selectedindex].batcheslist[r].qty=+n.qty.toString():((t=new Ee.WB).id=0,t.qty=+n.qty,t.storeid=n.storeid,t.storename=n.name,t.storename_ar=n.name_ar,t.batchno=n.serial,t.date=n.expire_date,t.previtemserialid=n.id,t.serial=i,t.valid=!1,t.isdublicatebatch=!1,t.isused=!1,t.inv_receipt_d_id=null,t.availableqty=n.availableqty+n.qty,t.solidquantity=null,e._Receipt.details[e.selectedindex].batcheslist.push(t)),e._Receipt.details[e.selectedindex].validrow=!0}else{var a=e._Receipt.details[e.selectedindex].batcheslist.findIndex(function(e){return e.previtemserialid==n.id});-1!=a&&e._Receipt.details[e.selectedindex].batcheslist.splice(a,1)}}),console.log(this._Receipt.details,"this._Receipt.details")}},{key:"saveserial",value:function(e){var t=this;if(e.valid){if(this.BatchesListForEatchRow.some(function(e){return e.qty>e.availableqty+e.oldqty}))return this.toastr.error(this.QtyIsValidWithAvailableQty),void(this._Receipt.details[this.selectedindex].validrow=!1);var n,i=0;if(this.BatchesListForEatchRow.forEach(function(e){var t;i+=null!==(t=+e.qty)&&void 0!==t?t:0}),i!=this._batchqty)return this.toastr.error(this.InValidNumberOfBatch),void(this._Receipt.details[this.selectedindex].validrow=!1);if(1==this.CashCustomerSetting.confirmationpatchinissuevoucher&&this.BatchesListForEatchRow.some(function(e){return e.patchconfirmation.trim()!=e.serial&&e.qty&&(null!=e.qty||0!=e.qty)}))return this.toastr.error(this.PatchConfirmationIsValidWithPatchNo),void(this._Receipt.details[this.selectedindex].validrow=!1);var r=1;this.BatchesListForEatchRow.map(function(e){if(r++,e.qty>0){var i=t._Receipt.details[t.selectedindex].batcheslist.findIndex(function(t){return t.previtemserialid==e.id});-1!=i?(t._Receipt.details[t.selectedindex].batcheslist[i].qty=+e.qty.toString(),t._Receipt.details[t.selectedindex].batcheslist[i].patchconfirmation=e.patchconfirmation?e.patchconfirmation.trim():""):((n=new Ee.WB).id=0,n.qty=+e.qty,n.storeid=e.storeid,n.storename=e.name,n.storename_ar=e.name_ar,n.batchno=e.serial,n.date=e.expire_date,n.previtemserialid=e.id,n.serial=r,n.valid=!1,n.isdublicatebatch=!1,n.isused=!1,n.inv_receipt_d_id=null,n.availableqty=e.availableqty+e.qty,n.patchconfirmation=e.patchconfirmation?e.patchconfirmation.trim():"",n.solidquantity=null,t._Receipt.details[t.selectedindex].batcheslist.push(n)),t._Receipt.details[t.selectedindex].validrow=!0}else{var a=t._Receipt.details[t.selectedindex].batcheslist.findIndex(function(t){return t.previtemserialid==e.id});-1!=a&&t._Receipt.details[t.selectedindex].batcheslist.splice(a,1)}}),this.CloseModal()}console.log(this._Receipt.details,"this._Receipt.details")}},{key:"ChangeBatchQty",value:function(e,t){if(+t>(null==e?void 0:e.availableqty)+(null==e?void 0:e.oldqty))return this.toastr.error(this.QtyIsValidWithAvailableQty),this._Receipt.details[this.selectedindex].validrow=!1,e.qty=null,e.availableqty=e.availableqty+e.oldqty,void(e.oldqty=0);e.qty=+t,e.availableqty=this.dealWith(e.availableqty+e.oldqty-+t),e.oldqty=+t}},{key:"dealWith",value:function(e){return e%1==0?e:e.toString().split(".")[1].length>4?+e.toFixed(4):e}},{key:"onMainAccountRadioClick",value:function(){this._Receipt.vendor_id=null,this._Receipt.cashcustomer_vendor_code=null,this._Receipt.cashcustomer_vendor_name=null,this.cd.markForCheck()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}},{key:"customTrackBy",value:function(e,t){return e}},{key:"Patch",value:function(e){this.modalReference=this.modalService.open(e,{size:"md",backdrop:"static"})}},{key:"ClosePatchModal",value:function(){this.modalReference.close()}},{key:"CheckShowWarrantyDateCols",value:function(){var e=this._Receipt.details.filter(function(e){return 1==e.haswarrenty});this.ShowWarrantyDateCols=e.length>0,this.cd.markForCheck()}},{key:"SavePatchModal",value:function(){var e,t=this;this._ReceiptSharedService.GetItemBatchDetailsLists(this.subsidiaryID,this.BatchNoText,this._Receipt.entry_date+" "+this._Receipt.entry_time,this._Receipt.details[0].store_id,null!==(e=this._Receipt.id)&&void 0!==e?e:0).subscribe(function(e){e.item.forEach(function(n){var i=new S.hm;if(i.item_id=n.id,i.itemcode={code:n.code},i.itemname=n.name,i.itemname_ar=n.name_ar,0==e.itemunits.length)i.isrequireserial=n.isrequireserial,i.allowtax=n.allowtax,null==t._Receipt.id||0==t._Receipt.id?(i.store_id=t.StoreCostCenterSetting.storeid,i.storecode={code:t.StoreCostCenterSetting.storecode}):(i.store_id=t._ReceiptOriginal.details[0].store_id,i.storecode=t._ReceiptOriginal.details[0].storecode),t.toastr.error(t.NoUnits);else if(3==n.item_type&&0==e.itemcomponents.length)i.isrequireserial=e.item.isrequireserial,i.allowtax=e.item.allowtax,null==t._Receipt.id||0==t._Receipt.id?(i.store_id=t.StoreCostCenterSetting.storeid,i.storecode={code:t.StoreCostCenterSetting.storecode}):(i.store_id=t._ReceiptOriginal.details[0].store_id,i.storecode=t._ReceiptOriginal.details[0].storecode),t.toastr.error(t.NOComponents);else{i.isrequireserial=n.isrequireserial,i.allowtax=n.allowtax,i.notes=n.notes,i.item_type=n.item_type,i.qty=1,i.haswarrenty=n.haswarrenty,i.warrantydate=n.haswarrenty?t.getwarrantydateDate():null,null==t._Receipt.id||0==t._Receipt.id?(i.store_id=t.StoreCostCenterSetting.storeid,i.storecode={code:t.StoreCostCenterSetting.storecode}):(i.store_id=t._ReceiptOriginal.details[0].store_id,i.storecode=t._ReceiptOriginal.details[0].storecode),t.ItemUnitsList.length>0?0==t.ItemUnitsList.filter(function(e){return e.item_id==n.id}).length&&(t.ItemUnitsList=t.ItemUnitsList.concat(e.itemunits.filter(function(e){return e.item_id==n.id}))):t.ItemUnitsList=t.ItemUnitsList.concat(e.itemunits.filter(function(e){return e.item_id==n.id})),i.unit_id=n.selling_unitid,t.CheckShowWarrantyDateCols(),e.componentsunits.filter(function(e){return e.item_id==n.id}).length>0&&(t.ItemComponentUnitsList=t.ItemComponentUnitsList.concat(e.componentsunits.filter(function(e){return e.item_id==n.id}))),e.itemcomponents.filter(function(e){return e.item_id==n.id}).length>0&&e.itemcomponents.filter(function(e){return e.item_id==n.id}).forEach(function(e){var n=new S.hm;n.item_id=e.itemcomponentid,n.finishedproductid=e.item_id,n.itemname=e.itemname,n.itemname_ar=e.itemname_ar,n.itemcode=e.itemcode,n.unit_id=e.itemcomponentunitid,n.qty=e.itemcomponentqty,n.basicqtycomponent=e.itemcomponentqty,n.conv=e.itemcomponentconv,n.itemcode=e.itemcode,n.price=0,n.total=n.price*n.qty,n.store_id=i.store_id,n.transaction_move=t.Transaction_move,n.item_type=e.item_type,n.storecode=null!=i.storecode?i.storecode.code:null,n.parentrowno=i.rowno,t._Receipt.itemscomponent.push(n)});for(var r=0;r<t._Receipt.details.length;r++)null==t._Receipt.details[r].item_id&&(t._Receipt.details.splice(r,1),r--);t._Receipt.details.push(i),t.ClosePatchModal(),t.ChangeItemUnits(n.selling_unitid,t._Receipt.details.length-1);var a=e.itemunits.filter(function(e){return e.item_id==n.id&&e.id==n.selling_unitid});null!=a&&a.length>0&&(t._Receipt.details[t._Receipt.details.length-1].conv=a[0].conv,t._Receipt.details[t._Receipt.details.length-1].final_conv=a[0].final_conv);var o=e.seriallist.filter(function(e){return e.itemid==n.id});t.OnSerialItemsImported(t._Receipt.details.length-1,o),t.CloseModal()}}),t.cd.markForCheck(),t.CloseModal()})}},{key:"OnSerialItemsImported",value:function(e,n){var i=this;if(this._Receipt.details[e].batcheslist=[],this._Receipt.details.filter(function(t){return t.item_id==i._Receipt.details[e].item_id}),this.SelectedItem=this._Receipt.details[e],this.selectedindex=e,this._Receipt.details[e].qty<=0)this.toastr.error(this.InValidQty);else{this.requiredserial=this._Receipt.details[e].isrequireserial;var r=this.ItemUnitsList.filter(function(t){return t.item_id==i._Receipt.details[e].item_id&&t.id==i._Receipt.details[e].unit_id}),a=this._Receipt.details[e].conv*r[0].finalconv/r[0].conv;this._batchqty=this._Receipt.details[e].qty;var o=this.BatchNoText.split("/",1);this.BatchesListForEatchRow=[];var c=[];if((c=n).forEach(function(e){e.availableqtywithsmallestunit=e.availableqty,e.availableqty=parseFloat((e.availableqty/a).toFixed(4))}),this._Receipt.details[this.selectedindex].batcheslist.forEach(function(e){var t=c.findIndex(function(t){return t.id==e.previtemserialid});-1!=t&&(e.inv_receipt_d_id>0?null==i._Receipt.details[i.selectedindex].validrow||1==i._Receipt.details[i.selectedindex].validrow?(c[t].qty=e.qty,c[t].oldqty=e.qty,i._Receipt.details[i.selectedindex].validrow=!0):c[t].availableqty=c[t].availableqty+e.qty:1==i._Receipt.details[i.selectedindex].validrow&&(c[t].qty=e.qty,c[t].oldqty=e.qty,c[t].availableqty=c[t].availableqty-e.qty,i._Receipt.details[i.selectedindex].validrow=!0))}),this._Receipt.id>0)for(var l=0;l<c.length;l++)null==c[l].qty&&0==c[l].availableqty||this.BatchesListForEatchRow.push(c[l]);else this.BatchesListForEatchRow=t(c);var s=0;if(this.BatchesListForEatchRow.forEach(function(t){o.length>0&&t.serial==o[0]&&(s+=t.availableqty,i._Receipt.details[e].qty=s,i.ChangeQty(e))}),console.log(s,this._Receipt.details[e].qty),this._Receipt.details[e].qty>s)return this._Receipt.details[this.selectedindex].validrow=!1,this.toastr.error(this.InValidQtyForBatch),!1;var d=this._Receipt.details[e].qty;this._batchqty=d;this.BatchesListForEatchRow.forEach(function(e){e.solidquantity=e.availableqty,o.length>0&&e.serial==o[0]&&0!=d&&(e.availableqty>=d?(e.qty=d,e.oldqty=d,e.availableqty=parseFloat((e.availableqty-d).toFixed(4)),d=0):(e.qty=e.availableqty,e.oldqty=e.availableqty,d-=e.availableqty,e.availableqty=0))}),this.cd.markForCheck(),this.saveSerialOnSalesReturnEffectDispensingPolicy()}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(M["\u0275\u0275directiveInject"](b.n),M["\u0275\u0275directiveInject"](Pe.v),M["\u0275\u0275directiveInject"](R.t),M["\u0275\u0275directiveInject"](Oe.H),M["\u0275\u0275directiveInject"](M.ChangeDetectorRef),M["\u0275\u0275directiveInject"](I._W),M["\u0275\u0275directiveInject"](m.F0),M["\u0275\u0275directiveInject"](P.m),M["\u0275\u0275directiveInject"](h.sK),M["\u0275\u0275directiveInject"](O.K),M["\u0275\u0275directiveInject"](m.gz),M["\u0275\u0275directiveInject"](F.FF),M["\u0275\u0275directiveInject"](k.t2),M["\u0275\u0275directiveInject"](E.e),M["\u0275\u0275directiveInject"](w.$),M["\u0275\u0275directiveInject"](x.J),M["\u0275\u0275directiveInject"](l.uU),M["\u0275\u0275directiveInject"](l.Ye))},e.\u0275cmp=M["\u0275\u0275defineComponent"]({type:e,selectors:[["app-issue-voucher-details"]],viewQuery:function(e,t){var n;(1&e&&(M["\u0275\u0275viewQuery"](So,5),M["\u0275\u0275viewQuery"](Ro,5)),2&e)&&(M["\u0275\u0275queryRefresh"](n=M["\u0275\u0275loadQuery"]())&&(t.serialModel=n.first),M["\u0275\u0275queryRefresh"](n=M["\u0275\u0275loadQuery"]())&&(t.RForm=n.first))},features:[M["\u0275\u0275ProvidersFeature"]([b.n,Pe.v,R.t,l.uU,Oe.H,x.J])],decls:9,vars:4,consts:[["class","row",4,"ngIf"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],["DescriptionItemModel",""],["serialModel",""],[1,"row"],[1,"HasNotPermission",2,"margin","auto","width","auto","margin-top","200px"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"card","my-3","mx-2","px-3","pb-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"col-12","text-right","actionBtns"],["type","submit","class","btn btn-success mr-2 mb-2",4,"ngIf"],["type","button",1,"btn","btn-success","mr-2","mb-2",3,"click"],["class","btn btn-primary mr-2 mb-2","type","button",3,"click",4,"ngIf"],["class","btn btn-warning mr-2 mb-2","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-danger","mr-2","mb-2",3,"click"],[1,"btn-group","mr-2","mb-2","mt-3"],["type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-primary","dropdown-toggle"],[1,"dropdown-menu"],[1,"col-12","col-md-6","mb-2","mb-md-0"],[1,"form-group"],["for","Category",1,"col-form-label"],["name","customersalesprice",1,"form-control",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[2,"color","red","font-weight","bold"],["name","Branch","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["Branch","ngModel"],["Value","null",4,"ngIf"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12","col-md-3","mb-2","mb-md-0"],["for","VendorCode",1,"col-form-label"],["type","text","id","entry_no","name","entry_no","PositiveNumbersOrDecimalOnly","","required","","customMin","",1,"form-control",3,"stepallow","ngModel","Min","CheckMin","readonly","ngClass","ngModelChange","keydown.space"],["entry_no","ngModel"],["type","radio","name","AccountType","id","mainAccountType",1,"radio-col-green",3,"ngModel","value","click","ngModelChange"],[1,"col-form-label"],[1,"ml-2"],["minLength","0","delay","0","field","code","name","CreditAccount","required","",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","ngClass","onFocus","ngModelChange","onSelect","completeMethod","onClear",4,"ngIf"],["minLength","0","delay","0","field","code","name","OtherAccount","required","",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","ngClass","onFocus","ngModelChange","onSelect","completeMethod","onClear",4,"ngIf"],[1,"col-12","col-md-3","mb-2","mb-md-0","mt-2"],["for","cashcustomer_vendor_phone"],["type","text","id","cashcustomer_vendor_name","name","cashcustomer_vendor_name",1,"form-control",3,"ngModel","readonly","ngModelChange"],["cashcustomer_vendor_name","ngModel"],["for","entry_date",1,"col-form-label"],["type","date","id","entry_date","name","entry_date","required","",1,"form-control",3,"ngModel","readonly","ngClass","ngModelChange"],["entry_date","ngModel"],["for","entry_time",1,"col-form-label"],["type","time","id","entry_time","name","entry_time",1,"form-control",3,"readonly","ngModel","ngModelChange"],["entry_time","ngModel"],["for","memo",1,"col-form-label"],["type","text","id","memo","name","memo",1,"form-control",3,"ngModel","ngModelChange"],["memo","ngModel"],["for","reference_no",1,"col-form-label"],["type","text","id","reference_no","name","reference_no",1,"form-control",3,"ngModel","ngModelChange"],["reference_no","ngModel"],["for","InchargePersonName",1,"col-form-label"],["type","text","id","InchargePersonName","name","InchargePersonName",1,"form-control",3,"ngModel","ngModelChange"],["InchargePersonName","ngModel"],["for","inchargephoneno",1,"col-form-label"],["type","text","id","inchargephoneno","name","inchargephoneno",1,"form-control",3,"ngModel","ngModelChange"],["inchargephoneno","ngModel"],[1,"card","my-3","mx-2","px-3","pb-3","pt-3"],[1,"col-12","nav-wrapper","position-relative","end-0","mt-3"],[1,"col-xl-8","col-md-8"],["ngbNav","",1,"nav","nav-pills","nav-fill","p-1",3,"destroyOnHide","activeId","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],["PatchinventoryModal",""],[3,"ngbNavItem",4,"ngIf"],[1,"mt-2",3,"ngbNavOutlet"],[1,"col-md-5",2,"margin-top","4rem"],[1,"table-responsive","table","table-accountdetails"],[1,"table"],["scope","col"],["scope","col",3,"hidden"],[3,"hidden"],["PositiveNumbersOnly","","type","number","name","ovr_ForiegnTotal",1,"form-control",3,"readonly","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalTotal",1,"form-control","totalValInput","font-weight-bold","ng-pristine","ng-valid","ng-touched",3,"readonly","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","number","min","0","name","ovr_ForiegnDiscountPerc",1,"form-control",3,"readonly","ngModel","customMax","ngClass","keyup","ngModelChange"],["ovr_ForiegnDiscountPerc","ngModel"],["style","color: red",4,"ngIf"],["PositiveNumbersOnly","","type","number","min","0","name","ovr_LocalDiscountPerc",1,"form-control",3,"readonly","ngModel","customMax","ngClass","keyup","ngModelChange"],["ovr_LocalDiscountPerc","ngModel"],["PositiveNumbersOnly","","type","number","name","ovr_ForiegnDiscountVal",1,"form-control",3,"readonly","ngModel","ngModelChange","keyup"],["PositiveNumbersOnly","","type","number","name","ovr_LocalDiscountVal",1,"form-control",3,"readonly","ngModel","ngModelChange","keyup"],["PositiveNumbersOnly","","type","number","name","ovr_ForiegnNet",1,"form-control",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalNet",1,"form-control","totalValInput","font-weight-bold","ng-pristine","ng-valid","ng-touched",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalTotalqty",1,"form-control","totalValInput","font-weight-bold",3,"readonly","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalTotalitem",1,"form-control","totalValInput","font-weight-bold",3,"readonly","ngModel","ngModelChange"],[1,"col-md-7"],["type","submit",1,"btn","btn-success","mr-2","mb-2"],[1,"ft-check-square","mr-1"],["type","button",1,"btn","btn-primary","mr-2","mb-2",3,"click"],["type","button",1,"btn","btn-warning","mr-2","mb-2",3,"click"],["class","dropdown-item","type","button",3,"click",4,"ngIf"],[3,"entryno","_savedemailobj"],["type","button",1,"dropdown-item",3,"click"],[3,"value"],["Value","null"],["minLength","0","delay","0","field","code","name","CreditAccount","required","",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","ngClass","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoCustomerAccounts","","customer","ngModel"],["pTemplate","CustomerAccountsTemplate"],["minLength","0","delay","0","field","code","name","OtherAccount","required","",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","ngClass","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoOtherAccounts","","Other","ngModel"],["pTemplate","OtherAccountsTemplate"],[1,"row",2,"margin-top","10px"],[1,"col"],[1,"table-responsive","table","table-accountdetails",3,"ngClass"],["scope","col",2,"width","5%"],["scope","col",2,"width","9%"],["scope","col",4,"ngIf"],["scope","col","style","width: 12%",4,"ngIf"],["scope","col","style","width: 6%",4,"ngIf"],["scope","col",2,"min-width","30px"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","btn btn-success","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary","mr-3","ml-3",3,"click"],["scope","col",2,"width","12%"],["scope","col",2,"width","6%"],[2,"padding-top","15px !important"],["minLength","0","delay","0","field","code",3,"ngModel","disabled","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoStore",""],["pTemplate","servstoreTemplate"],["autoItems",""],["pTemplate","servCodeTemplate"],[3,"click"],[3,"ngClass",4,"ngIf"],[1,"form-control",3,"name","ngModel","required","ngClass","ngModelChange","change"],["itemunit","ngModel"],[3,"ngValue",4,"ngIf"],[3,"ngValue","selected",4,"ngFor","ngForOf"],["customMin","","PositiveNumbersOnly","","type","number",1,"form-control",3,"Min","readonly","CheckMin","ngModel","name","ngClass","keyup","ngModelChange"],["item_qty","ngModel"],[1,"gridActionsTd","text-center"],["href","javascript:;",1,"primary","transparent-BG",3,"click"],[1,"fa-stack","fa-lg","addNotesIcon"],[1,"fa","fa-plus","fa-stack-1x"],[1,"fa","fa-sticky-note","fa-stack-2x"],["href","javascript:;",1,"btn","btn-primary","transparent-BG",3,"click"],[1,"fa","fa-trash","font-medium-3"],[3,"ngClass"],[3,"ngValue"],[3,"ngValue","selected"],["customMin","","PositiveNumbersOrDecimalOnly","","type","number",1,"form-control",3,"readonly","step","Min","CheckMin","stepallow","ngModel","name","required","ngClass","keyup","ngModelChange"],["item_conv","ngModel"],[1,"form-control",3,"id","ngClass","click"],["PositiveNumbersOnly","","hidden","true","type","number","customMin","",1,"form-control",3,"id","readonly","ngModel","name","Min","CheckMin","ngClass","keyup","focusout","ngModelChange"],["price","ngModel"],["PositiveNumbersOnly","","type","number","customMax","100","customMin","",1,"form-control",3,"ngModel","Min","CheckMin","name","readonly","ngClass","keyup","ngModelChange"],["discountpercent","ngModel"],[2,"color","red"],["PositiveNumbersOnly","","type","number","customMin","",1,"form-control",3,"ngModel","name","readonly","Min","CheckMin","ngClass","keyup","ngModelChange"],["discount_value","ngModel"],["PositiveNumbersOnly","","type","number",1,"form-control",2,"background-color","silver",3,"ngModel","name","readonly","keyup","ngModelChange"],["href","javascript:;","class","info p-0",3,"click",4,"ngIf"],["href","javascript:;",1,"info","p-0",3,"click"],[1,"fa","fa-list","font-medium-3","mr-2"],["type","button",1,"btn","btn-success",3,"click"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"row","mb-3","p-2"],[1,"col-md-3"],[1,"col-md-8"],["type","text","id","BatchNoTxt","name","BatchNoTxt",1,"form-control","batch-input",3,"ngModel","ngModelChange"],["BatchNoTxt","ngModel"],[1,"modal-footer"],["type","button",1,"btn","btn-success","mr-2","ml-2",3,"click"],[4,"ngFor","ngForOf"],["type","text",1,"form-control",3,"readonly","ngModel","name","ngModelChange"],[1,"form-control",3,"name","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","text",1,"form-control",3,"ngModel","name","readonly","ngModelChange"],["PositiveNumbersOnly","","type","text",1,"form-control",3,"readonly","ngModel","name","ngModelChange"],[1,"col-12","mb-2"],[3,"custID","subsidiaryID","LinkedListChecked","ListSelected"],["class","btn btn-primary","type","button",3,"click",4,"ngIf"],[1,"form-control","red",3,"name","ngModel","ngModelChange"],["type","number",1,"form-control","red",3,"ngModel","name","ngModelChange"],["LinkedReceiptsentry_no","ngModel"],["aria-hidden","true",1,"fa","fa-plus-square","font-medium-3"],["aria-hidden","true",1,"fa","fa-eye","font-medium-3"],["type","button",1,"btn","btn-primary",3,"click"],[3,"signature","signatureoutput"],[1,"col-md-12","row"],[1,"col-md-3","form-group"],["minLength","0","delay","0","field","costcenterfieldname","name","CostCenter",3,"required","ngModel","suggestions","ngClass","onFocus","ngModelChange","onSelect","completeMethod"],["autoCostCenter","","CostCenter","ngModel"],["pTemplate","CostCenterTemplate"],["class","col-md-3 form-group",4,"ngIf"],["for","Cars",1,"col-form-label"],["name","Cars",1,"form-control",3,"ngModel","ngModelChange","change"],["for","Drivers",1,"col-form-label"],["name","Drivers",1,"form-control",3,"ngModel","ngModelChange","change"],["style","color: red; font-weight: bold",4,"ngIf"],["minLength","0","delay","0","field","classfieldname","name","Classes",3,"required","ngModel","suggestions","ngClass","onFocus","ngModelChange","onSelect","completeMethod"],["autoClasses","","Classes","ngModel"],["pTemplate","ClassesTemplate"],["minLength","0","delay","0","field","locationfieldname","name","Location",3,"required","ngModel","suggestions","ngClass","onFocus","ngModelChange","onSelect","completeMethod"],["autoLocation","","Location","ngModel"],["pTemplate","LocationTemplate"],["minLength","0","delay","0","field","departmentfieldname","name","Department",3,"required","ngModel","suggestions","ngClass","onFocus","ngModelChange","onSelect","completeMethod"],["autoDepartment","","Department","ngModel"],["pTemplate","DepartmentTemplate"],["minLength","0","delay","0","field","divisionfieldname","name","Division",3,"required","ngModel","suggestions","ngClass","onFocus","ngModelChange","onSelect","completeMethod"],["autoDivion","","Division","ngModel"],["pTemplate","DivisionTemplate"],[1,"row","mb-6"],[1,"col-12"],[1,"table-responsive","table-accountdetails"],["disabled","",1,"form-control","red",3,"name","ngModel","ngModelChange"],["type","number","disabled","",1,"form-control","red",3,"ngModel","name","ngModelChange"],["historyReceiptsentry_no","ngModel"],["aria-hidden","true",1,"fa","fa-eye","fa-lg"],[3,"wrappe"],["ItemStoreQty",""],[1,"modal-body"],[1,"col-md-12","form-group"],["for","customitemname",1,"col-form-label"],["type","text","id","customitemname","name","customitemname",1,"form-control",3,"ngModel","disabled","ngModelChange"],["customitemname","ngModel"],[3,"styles","ngModel","ngModelOptions","modules","disabled","ngModelChange","onContentChanged"],["class","col-md-12",4,"ngIf"],["type","button",1,"btn","btn-success",3,"disabled","click"],["type","button",1,"btn","btn-danger","mr-2","ml-2",3,"click"],[1,"ft-x","mr-1"],[1,"col-md-12"],["for","salesmanid",1,"col-form-label"],["name","salesmanid",1,"form-control",3,"ngModel","disabled","ngModelChange"],["class","modal-title",4,"ngIf"],[1,"table-responsive"],[2,"width","20%"],["style","width: 15%",4,"ngIf"],["type","submit",1,"btn","btn-success"],[2,"width","15%"],["type","checkbox",3,"name","checked","disabled"],["type","number","PositiveNumbersOnly","","min","0",1,"form-control",3,"name","value","ngClass","disabled","change"],["type","text",1,"form-control",3,"name","ngModel","ngClass","ngModelChange"]],template:function(e,t){1&e&&(M["\u0275\u0275template"](0,xo,4,3,"div",0),M["\u0275\u0275template"](1,fs,225,181,"ng-container",1),M["\u0275\u0275elementStart"](2,"ngx-spinner",2),M["\u0275\u0275elementStart"](3,"p",3),M["\u0275\u0275text"](4,"Loading..."),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](5,Ps,26,23,"ng-template",null,4,M["\u0275\u0275templateRefExtractor"]),M["\u0275\u0275template"](7,js,37,23,"ng-template",null,5,M["\u0275\u0275templateRefExtractor"])),2&e&&(M["\u0275\u0275property"]("ngIf",!(t.checkRoleParms(228)||t.checkRoleParms(229)||t.checkRoleParms(230)||t.checkRoleParms(620)||t.checkRoleParms(232))),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",t.checkRolesParms(M["\u0275\u0275pureFunction0"](3,$s))),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("fullScreen",!0))},directives:[l.O5,k.Ro,d._Y,d.JL,d.F,d.EJ,d.JJ,d.On,l.sg,d.Q7,l.mk,d.Fj,we.L,De.a,d._,F.Pz,F.nv,F.Vx,F.uN,F.tO,d.wV,L.K,d.qQ,Fe.Z,Le.k,d.YN,d.Kr,u.Qc,Be.jx,Ne.v,Ve.t,qe.T,f.g6],pipes:[h.X$,l.uU,Te.N,Ae.p],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}.radio-col-green[_ngcontent-%COMP%]{margin-top:10px}.readonlyDiv[_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1;pointer-events:none}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important;text-align:center}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}.batch-input[_ngcontent-%COMP%]{border:1px solid #1b62d8!important}.isExpired[_ngcontent-%COMP%]{color:red}']}),e}();function Ws(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"div",2),M["\u0275\u0275elementStart"](1,"h1",3),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function Js(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.name)}}function Qs(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.name_ar)}}function Ys(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",48),M["\u0275\u0275template"](1,Js,2,1,"span",1),M["\u0275\u0275template"](2,Qs,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275propertyInterpolate"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function Hs(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",54),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).OnAdd()}),M["\u0275\u0275element"](1,"i",25),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"]()}2&e&&(M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](3,1,"Add")," "))}function Zs(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",49),M["\u0275\u0275template"](1,Hs,4,3,"button",50),M["\u0275\u0275elementStart"](2,"button",51),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).OnPrint()}),M["\u0275\u0275element"](3,"i",25),M["\u0275\u0275text"](4),M["\u0275\u0275pipe"](5,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](6,"button",52),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).OnPrint(1)}),M["\u0275\u0275element"](7,"i",25),M["\u0275\u0275text"](8),M["\u0275\u0275pipe"](9,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](10,"button",53),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).OnExcel()}),M["\u0275\u0275element"](11,"i",25),M["\u0275\u0275text"](12),M["\u0275\u0275pipe"](13,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(8805)),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](5,4,"Print")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](9,6,"pdf")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](13,8,"Excel")," ")}}function Ks(e,t){1&e&&M["\u0275\u0275element"](0,"i",55)}function Xs(e,t){1&e&&M["\u0275\u0275element"](0,"i",56)}function ed(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275element"](1,"i",41),M["\u0275\u0275template"](2,Ks,1,0,"i",42),M["\u0275\u0275template"](3,Xs,1,0,"i",43),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("hidden","BranchName"==n.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","BranchName"==n.sortColumn&&"asc"==n.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","BranchName"==n.sortColumn&&"desc"==n.sortDirection)}}function td(e,t){1&e&&M["\u0275\u0275element"](0,"i",55)}function nd(e,t){1&e&&M["\u0275\u0275element"](0,"i",56)}function id(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275element"](1,"i",41),M["\u0275\u0275template"](2,td,1,0,"i",42),M["\u0275\u0275template"](3,nd,1,0,"i",43),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("hidden","BranchNameAR"==n.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","BranchNameAR"==n.sortColumn&&"asc"==n.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","BranchNameAR"==n.sortColumn&&"desc"==n.sortDirection)}}function rd(e,t){1&e&&M["\u0275\u0275element"](0,"i",55)}function ad(e,t){1&e&&M["\u0275\u0275element"](0,"i",56)}function od(e,t){1&e&&M["\u0275\u0275element"](0,"i",55)}function cd(e,t){1&e&&M["\u0275\u0275element"](0,"i",56)}function ld(e,t){1&e&&M["\u0275\u0275element"](0,"i",55)}function sd(e,t){1&e&&M["\u0275\u0275element"](0,"i",56)}function dd(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275element"](1,"i",41),M["\u0275\u0275template"](2,ld,1,0,"i",42),M["\u0275\u0275template"](3,sd,1,0,"i",43),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("hidden","CustomerName"==n.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","CustomerName"==n.sortColumn&&"asc"==n.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","CustomerName"==n.sortColumn&&"desc"==n.sortDirection)}}function pd(e,t){1&e&&M["\u0275\u0275element"](0,"i",55)}function ud(e,t){1&e&&M["\u0275\u0275element"](0,"i",56)}function md(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275element"](1,"i",41),M["\u0275\u0275template"](2,pd,1,0,"i",42),M["\u0275\u0275template"](3,ud,1,0,"i",43),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("hidden","CustomerNamear"==n.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","CustomerNamear"==n.sortColumn&&"asc"==n.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","CustomerNamear"==n.sortColumn&&"desc"==n.sortDirection)}}function hd(e,t){1&e&&M["\u0275\u0275element"](0,"i",55)}function gd(e,t){1&e&&M["\u0275\u0275element"](0,"i",56)}function _d(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th"),M["\u0275\u0275text"](1,"\xa0"),M["\u0275\u0275elementEnd"]())}function vd(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n?null:n.branchname)}}function fd(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n?null:n.branchnamear)}}function Cd(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.customername)}}function yd(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.customernamear)}}function bd(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"td",62),M["\u0275\u0275elementStart"](1,"a",63),M["\u0275\u0275listener"]("click",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275nextContext"]().$implicit;return M["\u0275\u0275nextContext"](2).onEdit(e)}),M["\u0275\u0275element"](2,"i",64),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}}function Sd(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"tr"),M["\u0275\u0275template"](1,vd,2,1,"td",1),M["\u0275\u0275template"](2,fd,2,1,"td",1),M["\u0275\u0275elementStart"](3,"td"),M["\u0275\u0275text"](4),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](5,"td"),M["\u0275\u0275text"](6),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](7,Cd,2,1,"td",1),M["\u0275\u0275template"](8,yd,2,1,"td",1),M["\u0275\u0275elementStart"](9,"td"),M["\u0275\u0275text"](10),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](11,bd,3,0,"td",57),M["\u0275\u0275elementStart"](12,"td"),M["\u0275\u0275elementStart"](13,"a",58),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).$implicit;return M["\u0275\u0275nextContext"](2).PrintPreview(e.id)}),M["\u0275\u0275elementStart"](14,"span"),M["\u0275\u0275element"](15,"i",59),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](16,"td"),M["\u0275\u0275elementStart"](17,"a",60),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).$implicit;return M["\u0275\u0275nextContext"](2).OnView(e)}),M["\u0275\u0275elementStart"](18,"span"),M["\u0275\u0275element"](19,"i",61),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=r.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==r.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](null==i?null:i.entry_no),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](null==i?null:i.entry_date),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=r.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==r.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](null==i?null:i.netvalue),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",r.checkRoleParms(615))}}function Rd(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",65),M["\u0275\u0275elementStart"](1,"ngb-pagination",66),M["\u0275\u0275listener"]("pageChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).onPageChange(e)})("pageChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).PageNo=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](2,"p"),M["\u0275\u0275text"](3),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](4,"select",67),M["\u0275\u0275listener"]("change",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).onPageSizeChange(e.target.value)})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).PageSize=e}),M["\u0275\u0275elementStart"](5,"option",68),M["\u0275\u0275text"](6,"10 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](7,"option",69),M["\u0275\u0275text"](8,"50 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](9,"option",70),M["\u0275\u0275text"](10,"100 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275element"](11,"br"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("collectionSize",i.totalCount)("page",i.PageNo)("pageSize",i.PageSize)("maxSize",5)("boundaryLinks",!0),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",i._generalService.TotalDetailsTextShow(i.PageNo,i.PageSize,i.totalCount,i.lang)," "),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngModel",i.PageSize)}}function xd(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275elementStart"](1,"div",4),M["\u0275\u0275elementStart"](2,"div",5),M["\u0275\u0275elementStart"](3,"div",6),M["\u0275\u0275elementStart"](4,"h6",7),M["\u0275\u0275text"](5),M["\u0275\u0275pipe"](6,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](7,"div",8),M["\u0275\u0275elementStart"](8,"div",9),M["\u0275\u0275elementStart"](9,"section"),M["\u0275\u0275elementStart"](10,"div",2),M["\u0275\u0275elementStart"](11,"div",10),M["\u0275\u0275elementStart"](12,"form",11,12),M["\u0275\u0275listener"]("ngSubmit",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().SearchReceiptByEntryNo()}),M["\u0275\u0275elementStart"](14,"div",2),M["\u0275\u0275elementStart"](15,"div",13),M["\u0275\u0275elementStart"](16,"div",14),M["\u0275\u0275elementStart"](17,"label",15),M["\u0275\u0275text"](18),M["\u0275\u0275pipe"](19,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](20,"select",16,17),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._ReceiptSearch.BranchID=e})("change",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().ChangeBranch(e.target.value)}),M["\u0275\u0275elementStart"](22,"option",18),M["\u0275\u0275text"](23),M["\u0275\u0275pipe"](24,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](25,Ys,3,3,"option",19),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](26,"div",13),M["\u0275\u0275elementStart"](27,"div",14),M["\u0275\u0275elementStart"](28,"label",20),M["\u0275\u0275text"](29),M["\u0275\u0275pipe"](30,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](31,"input",21,22),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._ReceiptSearch.EntryNo=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](33,"div",23),M["\u0275\u0275elementStart"](34,"button",24),M["\u0275\u0275element"](35,"i",25),M["\u0275\u0275text"](36),M["\u0275\u0275pipe"](37,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](38,"button",26),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().ShowAll()}),M["\u0275\u0275element"](39,"i",25),M["\u0275\u0275text"](40),M["\u0275\u0275pipe"](41,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](42,"div",27),M["\u0275\u0275elementStart"](43,"div",28),M["\u0275\u0275template"](44,Zs,14,10,"div",29),M["\u0275\u0275elementStart"](45,"div",30),M["\u0275\u0275elementStart"](46,"div",31),M["\u0275\u0275elementStart"](47,"label",32),M["\u0275\u0275text"](48),M["\u0275\u0275pipe"](49,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](50,"input",33,34),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._ReceiptSearch.SearchValue=e})("keyup",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().ChangePropFinish()}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](52,"div",2),M["\u0275\u0275elementStart"](53,"div",35),M["\u0275\u0275elementStart"](54,"div",36),M["\u0275\u0275elementStart"](55,"div",37),M["\u0275\u0275elementStart"](56,"div",38),M["\u0275\u0275elementStart"](57,"table",39),M["\u0275\u0275elementStart"](58,"thead"),M["\u0275\u0275elementStart"](59,"tr"),M["\u0275\u0275elementStart"](60,"th",40),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().GetReceiptList("BranchName")}),M["\u0275\u0275text"](61),M["\u0275\u0275pipe"](62,"translate"),M["\u0275\u0275template"](63,ed,4,3,"ng-container",1),M["\u0275\u0275template"](64,id,4,3,"ng-container",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](65,"th",40),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().GetReceiptList("Entry_No")}),M["\u0275\u0275text"](66),M["\u0275\u0275pipe"](67,"translate"),M["\u0275\u0275elementContainerStart"](68),M["\u0275\u0275element"](69,"i",41),M["\u0275\u0275template"](70,rd,1,0,"i",42),M["\u0275\u0275template"](71,ad,1,0,"i",43),M["\u0275\u0275elementContainerEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](72,"th",40),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().GetReceiptList("Entry_Date")}),M["\u0275\u0275text"](73),M["\u0275\u0275pipe"](74,"translate"),M["\u0275\u0275elementContainerStart"](75),M["\u0275\u0275element"](76,"i",41),M["\u0275\u0275template"](77,od,1,0,"i",42),M["\u0275\u0275template"](78,cd,1,0,"i",43),M["\u0275\u0275elementContainerEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](79,"th",40),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().GetReceiptList("CustomerName")}),M["\u0275\u0275text"](80),M["\u0275\u0275pipe"](81,"translate"),M["\u0275\u0275template"](82,dd,4,3,"ng-container",1),M["\u0275\u0275template"](83,md,4,3,"ng-container",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](84,"th",40),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().GetReceiptList("NetValue")}),M["\u0275\u0275text"](85),M["\u0275\u0275pipe"](86,"translate"),M["\u0275\u0275elementContainerStart"](87),M["\u0275\u0275element"](88,"i",41),M["\u0275\u0275template"](89,hd,1,0,"i",42),M["\u0275\u0275template"](90,gd,1,0,"i",43),M["\u0275\u0275elementContainerEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](91,_d,2,0,"th",1),M["\u0275\u0275elementStart"](92,"th"),M["\u0275\u0275text"](93,"\xa0"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](94,"th"),M["\u0275\u0275text"](95,"\xa0"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](96,"tbody"),M["\u0275\u0275template"](97,Sd,20,8,"tr",44),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](98,Rd,12,7,"div",45),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](99,"ngx-spinner",46),M["\u0275\u0275elementStart"](100,"p",47),M["\u0275\u0275text"](101," Loading... "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](6,34,"Receiving Voucher Returns"),""),M["\u0275\u0275advance"](13),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](19,36,"Branch")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i._ReceiptSearch.BranchID),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](24,38,"All")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngForOf",i.BranchList),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](30,40,"EntryNo")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i._ReceiptSearch.EntryNo),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](37,42,"Search")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](41,44,"All")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(8805)),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](49,46,"Search")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i._ReceiptSearch.SearchValue),M["\u0275\u0275advance"](11),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](62,48,"Branch")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](67,50,"EntryNo")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("hidden","Entry_No"==i.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Entry_No"==i.sortColumn&&"asc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Entry_No"==i.sortColumn&&"desc"==i.sortDirection),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](74,52,"Date")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("hidden","Entry_Date"==i.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Entry_Date"==i.sortColumn&&"asc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Entry_Date"==i.sortColumn&&"desc"==i.sortDirection),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](81,54,"custvendor")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](86,56,"value")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("hidden","NetValue"==i.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","NetValue"==i.sortColumn&&"asc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","NetValue"==i.sortColumn&&"desc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(8808)),M["\u0275\u0275advance"](6),M["\u0275\u0275property"]("ngForOf",i.ReceiptList),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.totalCount>0),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("fullScreen",!0)}}var Md=function(){var e=function(){function e(t,n,i,r,a,o,l,s,d,p,u,m,h,g,_){var v=this;c(this,e),this._cashsalesService=t,this.cd=n,this.toastr=i,this._router=r,this._generalService=a,this.translate=o,this._translateGlobalService=l,this.spinner=s,this._ReceiptSharedService=p,this._authService=u,this._printService=m,this._Excel=h,this._convertToPDF=g,this._VerifyReportsService=_,this.loaded=!1,this.subsidiaryID=0,this.PageSize=10,this.PageNo=1,this.ReceiptList=[],this.totalCount=0,this.BranchList=[],this.list=[],this._ReceiptSearch=new S.Wb,this.NumNotExist="",this.title="",this.timeout=null,this.sortDirection="asc",this.sortColumn="",this.SelectBranchMsg="",this.EntryNumberMsg="",this.subsidiaryID=this._generalService.SubsidiaryID,this.GetBranchList(),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(function(e){v.lang=e.lang,v.dir=e.dir,v.translate.use(e.lang),v.ngTransUnsubscribe=v.translate.get("SelectBranchError").subscribe(function(e){v.SelectBranchMsg=e}),v.ngTransUnsubscribe=v.translate.get("EntryNumberMsg").subscribe(function(e){v.EntryNumberMsg=e})}),d.params.subscribe(function(e){var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t?(console.log(t.branchId),v._ReceiptSearch.BranchID="null"!=t.branchId?t.branchId:0):v._ReceiptSearch.BranchID=0}),this.ngTransUnsubscribe=this.translate.get(["Receiving Voucher Returns"]).subscribe(function(e){v.title=e["Receiving Voucher Returns"],document.title=v.title}),this.ngTransUnsubscribe=this.translate.get(["NumNotExist"]).subscribe(function(e){v.NumNotExist=e.NumNotExist}),this.ngUnsubscribe=a.proadCastSubsidiaryID.subscribe(function(e){if(0==v.subsidiaryID&&(v.subsidiaryID=v._generalService.SubsidiaryID,v.ReceiptSearch()),v.subsidiaryID!=v._generalService.SubsidiaryID&&v.subsidiaryID>0){v.subsidiaryID=v._generalService.SubsidiaryID;var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),v._ReceiptSearch.BranchID=0,localStorage.setItem("Branch",JSON.stringify({branchId:v._ReceiptSearch.BranchID})),v._ReceiptSearch.PageNo=1,v._ReceiptSearch.PageSize=10,v.GetBranchList(),v.ReceiptSearch()}}),d.params.subscribe(function(e){var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t?(console.log(t.branchId),v._ReceiptSearch.BranchID="null"!=t.branchId?t.branchId:0):v._ReceiptSearch.BranchID=0})}return o(e,[{key:"ngOnInit",value:function(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this._ReceiptSearch.ReceiptCode="89",this._ReceiptSearch.sortColumn="Entry_Date.desc",0!=this.subsidiaryID&&(this.GetReceiptList(),this.GetReceiptListCount())}},{key:"ReceiptSearch",value:function(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this.GetReceiptList(),this.GetReceiptListCount()}},{key:"GetBranchList",value:function(){var e=this;this._cashsalesService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(function(t){e.BranchList=t,e.cd.markForCheck()})}},{key:"ChangeBranch",value:function(e){var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),this._ReceiptSearch.BranchID="0"!=e?e:0,localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this._ReceiptSearch.PageNo=1,this._ReceiptSearch.PageSize=10,this.ReceiptSearch()}},{key:"ChangePropFinish",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.timeout=null,e.ReceiptSearch()},1e3*t)}},{key:"GetReceiptList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.sortColumn=null==t?null:t,this.sortDirection="asc"==this.sortDirection?"desc":"asc","ar"==this.lang&&("branch"!=this.sortColumn&&"accountname"!=this.sortColumn||(this.sortColumn=this.sortColumn+"ar")),null!=t&&(this.PageNo=1),null!=this.sortColumn&&""!=this.sortDirection&&(this._ReceiptSearch.sortColumn=this.sortColumn+"."+this.sortDirection),this.spinner.show(),this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._ReceiptSearch.EntryNo.toString().length>10&&(this.ReceiptList=[],this.toastr.warning(this.NumNotExist),this.spinner.hide()),this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(function(t){e.ReceiptList=[],e.list=t,1==e.list.length&&e._ReceiptSearch.EntryNo>0?e._router.navigate(["/page/inventorytransiction/receivingvoucherreturns/"+e.list[0].id]):0==e.list.length&&e._ReceiptSearch.EntryNo>0?e.toastr.warning(e.NumNotExist):e.ReceiptList=t,e.cd.markForCheck(),e.spinner.hide()})}},{key:"GetReceiptListCount",value:function(){var e=this;this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptListCount(this._ReceiptSearch).subscribe(function(t){e.totalCount=t[0].total,e.cd.markForCheck()})}},{key:"OnAdd",value:function(){this._router.navigate(["/page/inventorytransiction/receivingvoucherreturns/0"])}},{key:"OnView",value:function(e){this._router.navigate(["/page/inventorytransiction/receivingvoucherreturns/"+e.id+"/show"])}},{key:"onEdit",value:function(e){var t;t="/page/inventorytransiction/receivingvoucherreturns/".concat(e.id),this._router.navigate([t])}},{key:"OnPrint",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n="",i="ar"==this.lang?"rtl":"ltr",r="ar"==this.lang?"\u0627\u0644\u0641\u0631\u0639":"Branch",a="ar"==this.lang?"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":"Entry no",o="ar"==this.lang?"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":"Date",c="ar"==this.lang?"\u0645\u0648\u0631\u062f/\u0639\u0645\u064a\u0644":"Customer / Vendor",l="ar"==this.lang?"\u0627\u0644\u0642\u064a\u0645\u0629":"Total";this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(function(s){e.cd.markForCheck(),n='\n          <table class="table text-center m-0 table table-striped"  border="1px"  dir = '.concat(i,'>\n                <thead>\n                  <tr style="background: #e9f1f5;color: cornflowerblue;">\n                    <th>').concat(r,"</th>\n                    <th>").concat(a,"</th>\n                    <th>").concat(o,"</th>\n                    <th>").concat(c,"</th>\n                    <th>").concat(l,"</th>\n\n                  </tr>\n                </thead>\n            <tbody>\n        "),s.map(function(t){var i;n+="\n       <tr>\n        <td>".concat("ar"==e.lang?t.branchnamear:t.branchname,"</td>\n        <td>").concat(t.entry_no,"</td>\n        <td>").concat(t.entry_date,"</td>\n        <td>").concat(null!==(i="ar"==e.lang?t.customernamear:t.customername)&&void 0!==i?i:"","</td>\n        <td>").concat(t.netvalue,"</td>\n\n       </tr>\n       ")}),n+="</tbody></table>",1==t?e._convertToPDF.by_html2pdf(n):e._printService.OnPrintContent(n)})}},{key:"OnExcel",value:function(){var e=this,t=[];this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(function(n){n.forEach(function(n){t.push("ar"==e.lang?{"\u0627\u0644\u0641\u0631\u0639":n.branchnamear,"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":n.entry_no,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":n.entry_date,"\u0627\u0644\u0645\u0648\u0631\u062f/\u0627\u0644\u0639\u0645\u064a\u0644":n.customernamear,"\u0627\u0644\u0642\u064a\u0645\u0629":n.netvalue}:{Branch:n.branchname,"Entry No":n.entry_no,Date:n.entry_date,"Customer/Vendor":n.customernamear,Total:n.netvalue})}),e._Excel.exportAsExcelFile(t,"Receiving Voucher Returns")})}},{key:"ShowAll",value:function(){this._ReceiptSearch.BranchID=0,this._ReceiptSearch.EntryNo=0;var e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this.GetReceiptList(),this.GetReceiptListCount()}},{key:"SearchReceiptByEntryNo",value:function(){null!=this._ReceiptSearch.EntryNo&&null!=this._ReceiptSearch.EntryNo?(this.PageNo=1,this.PageSize=10,this.GetReceiptList(),this.GetReceiptListCount()):this.toastr.warning(this.EntryNumberMsg)}},{key:"PrintPreview",value:function(e){var t=this,n=this.getReportfilter(e);this.spinner.show(),this._ReceiptSharedService.GetReport(n).subscribe(function(e){t.spinner.hide(),t._authService.printJS(e.bytes)}),this.cd.markForCheck()}},{key:"getReportfilter",value:function(e){var t=this._authService.userInfo().clientdatabase,n="";"ar"==this.lang&&(n="_ar");var i={reportName:"P_I_3_ReceivingVoucher"+n,SubsidaryID:this.subsidiaryID,ReceiptID:e,lang:"",DomainName:"",toEmail:"",Subject:"",boby:""};return t.indexOf("alromaih")>-1?"P_I_3_ReceivingVoucher_GL_WEB_alromaih":t.indexOf("bander")>-1||t.indexOf("win-69te7j9nfsu")>-1||t.indexOf("192.168.1.50")>-1||t.indexOf("localhost:1000")>-1?"P_I_3_ReceivingVoucher_Bandar"+n:t.indexOf("darshgf")>-1?i={reportName:"P_I_3_ReceivingVoucher_GL_WEB_darshgf",SubsidaryID:this.subsidiaryID,ReceiptID:e,lang:n,DomainName:"",toEmail:"",Subject:"",boby:""}:t.indexOf("istones")>-1&&(i={reportName:"P_S_52_Issue_GL_WEB_istones",SubsidaryID:this.subsidiaryID,ReceiptID:e,lang:n,DomainName:window.location.origin,toEmail:"",Subject:"",boby:""}),i}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"onPageChange",value:function(e){this._ReceiptSearch.PageNo=e,this.PageNo=e,this.GetReceiptList()}},{key:"onPageSizeChange",value:function(e){this._ReceiptSearch.PageSize=e,this.PageSize=e,this.GetReceiptList()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(M["\u0275\u0275directiveInject"](b.n),M["\u0275\u0275directiveInject"](M.ChangeDetectorRef),M["\u0275\u0275directiveInject"](I._W),M["\u0275\u0275directiveInject"](m.F0),M["\u0275\u0275directiveInject"](P.m),M["\u0275\u0275directiveInject"](h.sK),M["\u0275\u0275directiveInject"](O.K),M["\u0275\u0275directiveInject"](k.t2),M["\u0275\u0275directiveInject"](m.gz),M["\u0275\u0275directiveInject"](R.t),M["\u0275\u0275directiveInject"](E.e),M["\u0275\u0275directiveInject"](w.$),M["\u0275\u0275directiveInject"](D.x),M["\u0275\u0275directiveInject"](B.z),M["\u0275\u0275directiveInject"](x.J))},e.\u0275cmp=M["\u0275\u0275defineComponent"]({type:e,selectors:[["receivingvoucherretunrns"]],features:[M["\u0275\u0275ProvidersFeature"]([b.n,R.t,x.J])],decls:2,vars:2,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[2,"margin","0 30% 0 30%","margin-top","200px"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-1","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-body"],[1,"col-12"],[1,"col-lg-8","col-md-10"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"col-lg-4","col-md-4","col-sm-12"],[1,"form-group"],["for","Branch"],["name","Branch","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["Branch","ngModel"],["Value","0"],[3,"value",4,"ngFor","ngForOf"],["for","EntryNumber"],["type","number","id","ReceiptNumber","name","ReceiptNumber","min","0","PositiveNumbersOnly","","required","",1,"form-control",3,"ngModel","ngModelChange"],["ReceiptNumber","ngModel"],[1,"col-lg-4","col-sm-4","mt-3","text-center"],["type","submit",1,"btn","btn-primary","mr-2"],[1,""],["type","button",1,"btn","btn-primary","mr-2",3,"click"],[1,"col-lg-12","mt-2","col-xs-12","text-center-sm"],[1,"row","mb-2"],["class","col-lg-6 col-md-7 col-xs-12 my-auto text-center-sm actionBtns",4,"ngIf"],[1,"col-lg-6","col-md-6","col-sm-12","pull-right"],[1,"form-group","d-flex","justify-content-end"],["for","SearchValue",1,"pt-1","pl-1","pr-1","form-label"],["type","text","id","SearchValue","name","SearchValue",1,"form-control","col-md-6",3,"ngModel","ngModelChange","keyup"],["SearchValue","ngModel"],[1,"col-12","p-0"],[1,"card","transparent-BG"],[1,"card-content"],[1,"table-responsive","card-body"],[1,"table","m-0","table-striped","table-accountdetails"],[3,"click"],[1,"fa","fa-fw","fa-sort",3,"hidden"],["class","fa fa-fw\n                                fa-sort-desc",4,"ngIf"],["class","fa fa-fw\n                                fa-sort-asc",4,"ngIf"],[4,"ngFor","ngForOf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[3,"value"],[1,"col-lg-6","col-md-7","col-xs-12","my-auto","text-center-sm","actionBtns"],["class","btn btn btn-success mb-0\n                    ng-star-inserted",3,"click",4,"ngIf"],[1,"btn","btn-warning","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-danger","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-success","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn","btn-success","mb-0","ng-star-inserted",3,"click"],[1,"fa","fa-fw","fa-sort-desc"],[1,"fa","fa-fw","fa-sort-asc"],["class","text-truncate",4,"ngIf"],[1,"warning","mr-1",3,"click"],["aria-hidden","true",1,"fa","fa-print"],[1,"primary","mr-1",3,"click"],["aria-hidden","true",1,"fa","fa-list"],[1,"text-truncate"],["href","javascript:;",1,"primary","p-0",3,"click"],[1,"ft-edit","mr-2"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(M["\u0275\u0275template"](0,Ws,4,3,"div",0),M["\u0275\u0275template"](1,xd,102,58,"div",1)),2&e&&(M["\u0275\u0275property"]("ngIf",!t.checkRoleParms(8804)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",t.checkRoleParms(8804)))},directives:[l.O5,d._Y,d.JL,d.F,d.EJ,d.Q7,d.JJ,d.On,d.YN,d.Kr,l.sg,d.qQ,d.wV,d.Fj,L.K,k.Ro,F.N9],pipes:[h.X$],styles:['.headerform[_ngcontent-%COMP%]{border-radius:5px;font-size:1.5rem;padding:5px 2em}.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.headerform[_ngcontent-%COMP%]{background-color:#2f8be6;color:#fff;height:44px;padding-top:9px;margin-bottom:17px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}.table-accountdetails[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#80808030}.table-accountdetails[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#7b809a}.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(odd){background-color:#fff!important}.width-table-input[_ngcontent-%COMP%]{min-width:130px}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important;text-align:center}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}']}),e}(),Id=["RForm"];function Pd(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"div",3),M["\u0275\u0275elementStart"](1,"h1",4),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function Od(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",81),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).DocumentAction()}),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,2,"Document")," ")}}function kd(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",82),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).PrintPreview(0)}),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,2,"PrintPreview")," ")}}function Ed(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",83),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).DupilcateAction()}),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,2,"Dupilcate")," ")}}function wd(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",83),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](4).DeleteAction()}),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](4);M["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function Dd(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275template"](1,wd,3,4,"button",85),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",0==n.ShowModeReceipt&&n.ReceiptID>0&&0==n.VouchersLinkedCount)}}function Bd(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275elementStart"](1,"button",83),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).onPrint()}),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](4,"button",83),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).PrintPreview(1)}),M["\u0275\u0275text"](5),M["\u0275\u0275pipe"](6,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](7,"email-popup",84),M["\u0275\u0275listener"]("_savedemailobj",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).sendEmail(e)}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](8,Ed,3,4,"button",85),M["\u0275\u0275template"](9,Dd,2,1,"div",1),M["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](3,7,"Print")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](6,9,"Printpdf")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("entryno",i._Receipt.entry_no),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(8805)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(8806))}}function Ld(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.text,"")}}function Fd(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.text_ar,"")}}function Nd(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",86),M["\u0275\u0275template"](1,Ld,2,1,"span",1),M["\u0275\u0275template"](2,Fd,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275property"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function Vd(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",87),M["\u0275\u0275text"](1,"choose"),M["\u0275\u0275elementEnd"]())}function qd(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",87),M["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),M["\u0275\u0275elementEnd"]())}function Td(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function Ad(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function Gd(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",86),M["\u0275\u0275template"](1,Td,2,1,"span",1),M["\u0275\u0275template"](2,Ad,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275property"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function Ud(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.sugar)}}function jd(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.sug)}}function $d(e,t){if(1&e&&(M["\u0275\u0275template"](0,Ud,2,1,"div",1),M["\u0275\u0275template"](1,jd,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function zd(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",92),M["\u0275\u0275text"](1,"choose"),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function Wd(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",92),M["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function Jd(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function Qd(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function Yd(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",86),M["\u0275\u0275template"](1,Jd,2,1,"span",1),M["\u0275\u0275template"](2,Qd,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275property"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}var Hd=function(e,t){return{"invalid-data":e,"valid-data":t}};function Zd(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",33),M["\u0275\u0275elementStart"](1,"div",24),M["\u0275\u0275elementStart"](2,"label",88),M["\u0275\u0275text"](3),M["\u0275\u0275pipe"](4,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](5,"span",28),M["\u0275\u0275text"](6,"*"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](7,"select",89,90),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Receipt.currency_id=e})("change",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).changeCurrency(e)}),M["\u0275\u0275template"](9,zd,2,1,"option",91),M["\u0275\u0275template"](10,Wd,2,1,"option",91),M["\u0275\u0275template"](11,Yd,3,3,"option",27),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](8);M["\u0275\u0275nextContext"]();var r=M["\u0275\u0275reference"](4),a=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](4,6,"Currency")),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("ngModel",a._Receipt.currency_id)("ngClass",M["\u0275\u0275pureFunction2"](8,Hd,i.invalid&&r.submitted,i.valid&&r.submitted)),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",a.CurrencyList)}}function Kd(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",33),M["\u0275\u0275elementStart"](1,"div",24),M["\u0275\u0275elementStart"](2,"label",93),M["\u0275\u0275text"](3),M["\u0275\u0275pipe"](4,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](5,"span",28),M["\u0275\u0275text"](6,"*"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](7,"input",94,95),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Receipt.currency_rate=e})("keyup",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).Calculate_Total_Tax_Net()}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](8);M["\u0275\u0275nextContext"]();var r=M["\u0275\u0275reference"](4),a=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](4,4,"ExchangeRate")),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("ngModel",a._Receipt.currency_rate)("readonly",1==(null==a._CurrencySelected?null:a._CurrencySelected.basecurrency))("ngClass",M["\u0275\u0275pureFunction2"](6,Hd,i.invalid&&r.submitted,i.valid&&r.submitted))}}function Xd(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th",73),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Pack")," "))}function ep(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function tp(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function np(e,t){if(1&e&&(M["\u0275\u0275template"](0,ep,2,1,"div",1),M["\u0275\u0275template"](1,tp,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function ip(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function rp(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function ap(e,t){if(1&e&&(M["\u0275\u0275template"](0,ip,2,1,"div",1),M["\u0275\u0275template"](1,rp,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}var op=function(e,t){return{"invalid-qty":e,"valid-qty":t}};function cp(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div",130),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275nextContext"](2);var i=M["\u0275\u0275reference"](4);M["\u0275\u0275property"]("ngClass",M["\u0275\u0275pureFunction2"](2,op,0==n.allowqtyselectforitem&&i.submitted||0==n.allowqtyselectforitem,1==n.allowqtyselectforitem&&i.submitted||1==n.allowqtyselectforitem)),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.itemname," ")}}function lp(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div",130),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275nextContext"](2);var i=M["\u0275\u0275reference"](4);M["\u0275\u0275property"]("ngClass",M["\u0275\u0275pureFunction2"](2,op,0==n.allowqtyselectforitem&&i.submitted||0==n.allowqtyselectforitem,1==n.allowqtyselectforitem&&i.submitted||1==n.allowqtyselectforitem)),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.itemname_ar)}}function sp(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",92),M["\u0275\u0275text"](1," choose "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function dp(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",92),M["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function pp(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function up(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function mp(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",131),M["\u0275\u0275template"](1,pp,2,1,"span",1),M["\u0275\u0275template"](2,up,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"]().$implicit,r=M["\u0275\u0275nextContext"](3);M["\u0275\u0275property"]("ngValue",null==n?null:n.id)("selected",(null==n?null:n.id)===i.unit_id&&(null==n?null:n.item_id)===(null==i?null:i.item_id)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=r.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==r.lang)}}function hp(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275elementStart"](1,"input",132,133),M["\u0275\u0275listener"]("keyup",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275nextContext"]().index;return M["\u0275\u0275nextContext"](3).ChangePackItem(e)})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().$implicit.conv=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](2),r=M["\u0275\u0275nextContext"](),a=r.index,o=r.$implicit;M["\u0275\u0275nextContext"](2);var c=M["\u0275\u0275reference"](4),l=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate"]("step",null==l.CashCustomerSetting?null:l.CashCustomerSetting.allowdecimalpack),M["\u0275\u0275propertyInterpolate1"]("name","item_conv",a,""),M["\u0275\u0275property"]("readonly",3==(null==o?null:o.item_type)&&null!=(null==o?null:o.item_id))("Min",1e-5)("CheckMin",null!=(null==o?null:o.item_id))("stepallow",null==l.CashCustomerSetting?null:l.CashCustomerSetting.allowdecimalpack)("ngModel",o.conv)("required",null!=(null==o?null:o.item_id))("ngClass",M["\u0275\u0275pureFunction2"](9,Hd,i.invalid&&c.submitted,i.valid&&c.submitted))}}function gp(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1,"Maximum number can be 100 % Discount"),M["\u0275\u0275elementEnd"]())}function _p(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1,"\u0623\u0643\u0628\u0631 \u0646\u0633\u0628\u0629 \u0647\u0649 100% \u062e\u0635\u0645"),M["\u0275\u0275elementEnd"]())}function vp(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div",134),M["\u0275\u0275template"](1,gp,2,0,"span",1),M["\u0275\u0275template"](2,_p,2,0,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==n.lang)}}var fp=function(e){return{item_id:e}};function Cp(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"tr"),M["\u0275\u0275elementStart"](1,"td",104),M["\u0275\u0275text"](2),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](3,"td"),M["\u0275\u0275elementStart"](4,"p-autoComplete",105,106),M["\u0275\u0275listener"]("onFocus",function(e){var t=M["\u0275\u0275restoreView"](n).index,i=M["\u0275\u0275reference"](5),r=M["\u0275\u0275nextContext"](3);return r.onFocusInStore(e,t),i.show(),r.isType=!0})("onClick",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.storecode=e})("onSelect",function(e){var t=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).StoreSelectEvent(e,t)})("completeMethod",function(e){var t=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).StoreChangeSearch(e,t)})("onClear",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3)._Receipt.details[e].store_id=null}),M["\u0275\u0275pipe"](6,"translate"),M["\u0275\u0275template"](7,np,2,2,"ng-template",107),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](8,"td"),M["\u0275\u0275elementStart"](9,"p-autoComplete",108,109),M["\u0275\u0275listener"]("onFocus",function(e){var t=M["\u0275\u0275restoreView"](n).index,i=M["\u0275\u0275reference"](10),r=M["\u0275\u0275nextContext"](3);return r.onFocusInItems(e,t),i.show(),r.isType=!0})("onClick",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.itemcode=e})("onSelect",function(e){var t=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).ItemsSelectEvent(e,t)})("completeMethod",function(e){var t=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).ItemsChangeSearch(e,t)})("onClear",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).onClearItems(e)}),M["\u0275\u0275pipe"](11,"translate"),M["\u0275\u0275template"](12,ap,2,2,"ng-template",110),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](13,"td",111),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n),t=e.$implicit,i=e.index;return M["\u0275\u0275nextContext"](3).OnSelectedItem(t,i,"selected")}),M["\u0275\u0275template"](14,cp,2,5,"div",112),M["\u0275\u0275template"](15,lp,2,5,"div",112),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](16,"td"),M["\u0275\u0275elementStart"](17,"select",113,114),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e})("change",function(e){var t=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).ChangeItemUnits(e.target.value,t)}),M["\u0275\u0275template"](19,sp,2,1,"option",91),M["\u0275\u0275template"](20,dp,2,1,"option",91),M["\u0275\u0275template"](21,mp,3,4,"option",115),M["\u0275\u0275pipe"](22,"filterby"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](23,hp,3,12,"td",1),M["\u0275\u0275elementStart"](24,"td"),M["\u0275\u0275elementStart"](25,"input",116,117),M["\u0275\u0275listener"]("keyup",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).ChangeQty(e)})("ngModelChange",function(e){return t.$implicit.qty=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](27,"td"),M["\u0275\u0275elementStart"](28,"input",118,119),M["\u0275\u0275listener"]("keyup",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).CalaculteValuesItemsRow(e)})("ngModelChange",function(e){return t.$implicit.price=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](30,"td"),M["\u0275\u0275elementStart"](31,"input",120,121),M["\u0275\u0275listener"]("keyup",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).CalaculteValuesItemsRow(e)})("ngModelChange",function(e){return t.$implicit.discount_percent=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](33,vp,3,2,"div",122),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](34,"td"),M["\u0275\u0275elementStart"](35,"input",123,124),M["\u0275\u0275listener"]("keyup",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).CalaculteValuesItemsRow(e,"value")})("ngModelChange",function(e){return t.$implicit.discount_value=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](37,"td"),M["\u0275\u0275elementStart"](38,"input",125),M["\u0275\u0275listener"]("keyup",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).ReCalaculteValuesChangeItemsRow(e)})("ngModelChange",function(e){return t.$implicit.total=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](39,"td"),M["\u0275\u0275elementStart"](40,"a",126),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).DeleteItems(e)}),M["\u0275\u0275element"](41,"i",127),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](42,"td",75),M["\u0275\u0275elementStart"](43,"input",128,129),M["\u0275\u0275listener"]("ngModelChange",function(e){var t=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).Checkwarrantydate(e,t)}),M["\u0275\u0275pipe"](45,"date"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index,a=t.index,o=M["\u0275\u0275reference"](18),c=M["\u0275\u0275reference"](26),l=M["\u0275\u0275reference"](29),s=M["\u0275\u0275reference"](32),d=M["\u0275\u0275reference"](36),p=M["\u0275\u0275reference"](44);M["\u0275\u0275nextContext"](2);var u=M["\u0275\u0275reference"](4),m=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](a+1),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","storecode",r,""),M["\u0275\u0275property"]("ngModel",i.storecode)("disabled",!(null!=m.CurrentUserSetting&&m.CurrentUserSetting.canchangestore))("suggestions",m.StoreList)("showEmptyMessage",!0)("emptyMessage",M["\u0275\u0275pipeBind1"](6,56,"NoResultsFound"))("forceSelection",!0),M["\u0275\u0275advance"](5),M["\u0275\u0275propertyInterpolate1"]("name","itemcode",r,""),M["\u0275\u0275property"]("ngModel",i.itemcode)("suggestions",m.ItemsList)("showEmptyMessage",!0)("emptyMessage",M["\u0275\u0275pipeBind1"](11,58,"NoResultsFound"))("forceSelection",!0),M["\u0275\u0275advance"](5),M["\u0275\u0275property"]("ngIf","ar"!=m.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==m.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","itemunit",r,""),M["\u0275\u0275property"]("ngModel",i.unit_id)("required",null!=(null==i?null:i.item_id))("ngClass",M["\u0275\u0275pureFunction2"](66,Hd,o.invalid&&u.submitted,o.valid&&u.submitted)),M["\u0275\u0275attribute"]("disabled",3==(null==i?null:i.item_type)&&null!=(null==i?null:i.item_id)||null),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=m.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==m.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",M["\u0275\u0275pipeBind2"](22,60,m.ItemUnitsList,M["\u0275\u0275pureFunction1"](69,fp,null==i?null:i.item_id))),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",1==(null==m.CashCustomerSetting?null:m.CashCustomerSetting.allowpack)),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","item_qty",r,""),M["\u0275\u0275property"]("Min",1e-5)("CheckMin",null!=(null==i?null:i.item_id))("ngModel",i.qty)("ngClass",M["\u0275\u0275pureFunction2"](71,Hd,c.invalid&&u.submitted,c.valid&&u.submitted)),M["\u0275\u0275advance"](3),M["\u0275\u0275propertyInterpolate1"]("name","item_price",r,""),M["\u0275\u0275property"]("ngModel",i.price)("Min",0)("CheckMin",null!=(null==i?null:i.item_id))("ngClass",M["\u0275\u0275pureFunction2"](74,Hd,l.invalid&&u.submitted,l.valid&&u.submitted)),M["\u0275\u0275advance"](3),M["\u0275\u0275propertyInterpolate1"]("name","item_discount_percent",r,""),M["\u0275\u0275property"]("Min",0)("CheckMin",null!=(null==i?null:i.item_id))("ngModel",i.discount_percent)("readonly",!(null!=m.CurrentUserSetting&&m.CurrentUserSetting.showreceiptitemdiscount))("ngClass",M["\u0275\u0275pureFunction2"](77,Hd,s.invalid&&u.submitted||(null==s.errors?null:s.errors.customMax),s.valid&&u.submitted)),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",null==s.errors?null:s.errors.customMax),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","item_discount_value",r,""),M["\u0275\u0275property"]("ngModel",i.discount_value)("readonly",!(null!=m.CurrentUserSetting&&m.CurrentUserSetting.showreceiptitemdiscount))("Min",0)("CheckMin",null!=(null==i?null:i.item_id))("ngClass",M["\u0275\u0275pureFunction2"](80,Hd,d.invalid&&u.submitted,d.valid&&u.submitted)),M["\u0275\u0275advance"](3),M["\u0275\u0275propertyInterpolate1"]("name","item_total",r,""),M["\u0275\u0275property"]("ngModel",i.total),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("hidden",!m.ShowWarrantyDateCols),M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate1"]("name","warrantydate",r,""),M["\u0275\u0275property"]("hidden",!i.haswarrenty)("ngModel",M["\u0275\u0275pipeBind2"](45,63,i.warrantydate,"yyyy-MM-dd"))("required",i.haswarrenty)("ngClass",M["\u0275\u0275pureFunction2"](83,Hd,p.invalid&&u.submitted,p.valid&&u.submitted))}}var yp=function(e){return{"table-for-autocomplete":e}};function bp(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",96),M["\u0275\u0275elementStart"](1,"div",70),M["\u0275\u0275elementStart"](2,"div",97),M["\u0275\u0275elementStart"](3,"table",72),M["\u0275\u0275elementStart"](4,"thead"),M["\u0275\u0275elementStart"](5,"tr"),M["\u0275\u0275element"](6,"th"),M["\u0275\u0275elementStart"](7,"th",98),M["\u0275\u0275text"](8),M["\u0275\u0275pipe"](9,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](10,"th",73),M["\u0275\u0275text"](11),M["\u0275\u0275pipe"](12,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](13,"th",73),M["\u0275\u0275text"](14),M["\u0275\u0275pipe"](15,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](16,"th",99),M["\u0275\u0275text"](17),M["\u0275\u0275pipe"](18,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](19,Xd,3,3,"th",100),M["\u0275\u0275elementStart"](20,"th",73),M["\u0275\u0275text"](21),M["\u0275\u0275pipe"](22,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](23,"th",73),M["\u0275\u0275text"](24),M["\u0275\u0275pipe"](25,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](26,"th",73),M["\u0275\u0275text"](27),M["\u0275\u0275pipe"](28,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](29,"th",73),M["\u0275\u0275text"](30),M["\u0275\u0275pipe"](31,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](32,"th",73),M["\u0275\u0275text"](33),M["\u0275\u0275pipe"](34,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](35,"th",101),M["\u0275\u0275text"](36,"\xa0"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](37,"th",74),M["\u0275\u0275text"](38),M["\u0275\u0275pipe"](39,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](40,"tbody"),M["\u0275\u0275template"](41,Cp,46,86,"tr",102),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](42,"button",103),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).AddItems()}),M["\u0275\u0275text"](43),M["\u0275\u0275pipe"](44,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngClass",M["\u0275\u0275pureFunction1"](38,yp,i.isType)),M["\u0275\u0275advance"](6),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](9,16,"Store")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](12,18,"ItemCode")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](15,20,"ItemDescription")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](18,22,"Unit")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",1==(null==i.CashCustomerSetting?null:i.CashCustomerSetting.allowpack)),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](22,24,"qty")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](25,26,"Price")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](28,28,"Disc%")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](31,30,"Discount")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](34,32,"Total")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("hidden",!i.ShowWarrantyDateCols),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](39,34,"WarrantyDate")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngForOf",i._Receipt.details)("ngForTrackBy",i._ReceiptSharedService.customTrackBy),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](44,36,"Add")," ")}}function Sp(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",87),M["\u0275\u0275text"](1,"choose"),M["\u0275\u0275elementEnd"]())}function Rp(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",87),M["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),M["\u0275\u0275elementEnd"]())}function xp(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function Mp(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function Ip(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",86),M["\u0275\u0275template"](1,xp,2,1,"span",1),M["\u0275\u0275template"](2,Mp,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function Pp(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",92),M["\u0275\u0275text"](1,"choose"),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function Op(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",92),M["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function kp(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.codename,"")}}function Ep(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.codenamear,"")}}function wp(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",86),M["\u0275\u0275template"](1,kp,2,1,"span",1),M["\u0275\u0275template"](2,Ep,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("value",n.code),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function Dp(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"tr"),M["\u0275\u0275elementStart"](1,"td"),M["\u0275\u0275elementStart"](2,"select",136),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.branch_id=e}),M["\u0275\u0275template"](3,Sp,2,0,"option",31),M["\u0275\u0275template"](4,Rp,2,0,"option",31),M["\u0275\u0275template"](5,Ip,3,3,"option",27),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](6,"td"),M["\u0275\u0275elementStart"](7,"select",136),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.code=e}),M["\u0275\u0275template"](8,Pp,2,1,"option",91),M["\u0275\u0275template"](9,Op,2,1,"option",91),M["\u0275\u0275template"](10,wp,3,3,"option",27),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](11,"td"),M["\u0275\u0275elementStart"](12,"input",137,138),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.entry_no=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](14,"td"),M["\u0275\u0275elementStart"](15,"a",139),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).GetLinkedReceipt(e)}),M["\u0275\u0275element"](16,"i",140),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](17,"td"),M["\u0275\u0275elementStart"](18,"a",141),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).OnOpenLinkedReceipt(e)}),M["\u0275\u0275element"](19,"i",142),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](20,"td"),M["\u0275\u0275elementStart"](21,"a",126),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).DeleteLinkedReceipt(e)}),M["\u0275\u0275element"](22,"i",127),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index,a=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsbranch",r,""),M["\u0275\u0275property"]("ngModel",i.branch_id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",a.BranchList),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptscode",r,""),M["\u0275\u0275property"]("ngModel",i.code),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",a.ReceiptCodeList),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsentry_no",r,""),M["\u0275\u0275property"]("ngModel",i.entry_no),M["\u0275\u0275advance"](3),M["\u0275\u0275attribute"]("disabled",(null==i?null:i.fire)>0||null)}}function Bp(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",96),M["\u0275\u0275elementStart"](1,"div",70),M["\u0275\u0275elementStart"](2,"div",71),M["\u0275\u0275elementStart"](3,"table",72),M["\u0275\u0275elementStart"](4,"thead"),M["\u0275\u0275elementStart"](5,"tr"),M["\u0275\u0275elementStart"](6,"th",73),M["\u0275\u0275text"](7),M["\u0275\u0275pipe"](8,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](9,"th",73),M["\u0275\u0275text"](10),M["\u0275\u0275pipe"](11,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](12,"th",73),M["\u0275\u0275text"](13),M["\u0275\u0275pipe"](14,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](15,"th",101),M["\u0275\u0275text"](16,"\xa0"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](17,"th",101),M["\u0275\u0275text"](18,"\xa0"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](19,"th",101),M["\u0275\u0275text"](20,"\xa0"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](21,"tbody"),M["\u0275\u0275template"](22,Dp,23,13,"tr",135),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](23,"button",103),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).AddLinkedReceipt()}),M["\u0275\u0275text"](24),M["\u0275\u0275pipe"](25,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](7),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](8,5,"Branch")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](11,7,"Receipttype")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](14,9,"EntryNo")," "),M["\u0275\u0275advance"](9),M["\u0275\u0275property"]("ngForOf",i._Receipt.linkedreceipts),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](25,11,"Add")," ")}}function Lp(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",92),M["\u0275\u0275text"](1,"choose"),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function Fp(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",92),M["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function Np(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function Vp(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function qp(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",86),M["\u0275\u0275template"](1,Np,2,1,"span",1),M["\u0275\u0275template"](2,Vp,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275property"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function Tp(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.sugar)}}function Ap(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.sug)}}function Gp(e,t){if(1&e&&(M["\u0275\u0275template"](0,Tp,2,1,"div",1),M["\u0275\u0275template"](1,Ap,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Up(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275elementStart"](1,"p-autoComplete",169,170),M["\u0275\u0275listener"]("onFocus",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275reference"](2);return M["\u0275\u0275nextContext"](3).onFocusInCustomerAccounts(e),t.show()})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3)._Receipt.supplier_name=e})("onSelect",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).SupplierSelectEvent(e)})("completeMethod",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).CustomerAccountsChangeSearch(e)}),M["\u0275\u0275template"](3,Gp,2,2,"ng-template",40),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngModel",i._Receipt.supplier_name)("disabled",!i.chk_ChangeSupplier)("suggestions",i.CustomerAccountsList)}}function jp(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.sugar)}}function $p(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.sug)}}function zp(e,t){if(1&e&&(M["\u0275\u0275template"](0,jp,2,1,"div",1),M["\u0275\u0275template"](1,$p,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Wp(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275elementStart"](1,"p-autoComplete",171,170),M["\u0275\u0275listener"]("onFocus",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275reference"](2);return M["\u0275\u0275nextContext"](3).onFocusInCustomerAccounts(e),t.show()})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3)._Receipt.supplier_namear=e})("onSelect",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).SupplierSelectEvent(e)})("completeMethod",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).CustomerAccountsChangeSearch(e)}),M["\u0275\u0275template"](3,zp,2,2,"ng-template",40),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("disabled",!i.chk_ChangeSupplier)("ngModel",i._Receipt.supplier_namear)("suggestions",i.CustomerAccountsList)}}function Jp(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",92),M["\u0275\u0275text"](1,"choose"),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function Qp(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",92),M["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function Yp(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.termname,"")}}function Hp(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.termname_ar,"")}}function Zp(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",86),M["\u0275\u0275template"](1,Yp,2,1,"span",1),M["\u0275\u0275template"](2,Hp,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275property"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function Kp(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",92),M["\u0275\u0275text"](1,"choose"),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function Xp(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",92),M["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function eu(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function tu(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function nu(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",86),M["\u0275\u0275template"](1,eu,2,1,"span",1),M["\u0275\u0275template"](2,tu,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275property"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}var iu=function(){return{standalone:!0}};function ru(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",3),M["\u0275\u0275elementStart"](1,"div",33),M["\u0275\u0275elementStart"](2,"div",24),M["\u0275\u0275elementStart"](3,"label",143),M["\u0275\u0275text"](4),M["\u0275\u0275pipe"](5,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](6,"select",144,145),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Receipt.shipmentterm_id=e})("change",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).changeshipmentterm(e)}),M["\u0275\u0275template"](8,Lp,2,1,"option",91),M["\u0275\u0275template"](9,Fp,2,1,"option",91),M["\u0275\u0275template"](10,qp,3,3,"option",27),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](11,"div",146),M["\u0275\u0275elementStart"](12,"div",24),M["\u0275\u0275elementStart"](13,"label",147),M["\u0275\u0275text"](14),M["\u0275\u0275pipe"](15,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](16,"input",148),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).chk_ChangeSupplier=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](17,"label",149),M["\u0275\u0275elementStart"](18,"span"),M["\u0275\u0275text"](19),M["\u0275\u0275pipe"](20,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](21,Up,4,3,"ng-container",1),M["\u0275\u0275template"](22,Wp,4,3,"ng-container",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](23,"div",146),M["\u0275\u0275elementStart"](24,"div",24),M["\u0275\u0275elementStart"](25,"label",150),M["\u0275\u0275text"](26),M["\u0275\u0275pipe"](27,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](28,"input",151),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Receipt.deliverylocation=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](29,"div",3),M["\u0275\u0275elementStart"](30,"div",33),M["\u0275\u0275elementStart"](31,"div",24),M["\u0275\u0275elementStart"](32,"label",152),M["\u0275\u0275text"](33),M["\u0275\u0275pipe"](34,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](35,"select",153,154),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Receipt.paymentterm_id=e}),M["\u0275\u0275template"](37,Jp,2,1,"option",91),M["\u0275\u0275template"](38,Qp,2,1,"option",91),M["\u0275\u0275template"](39,Zp,3,3,"option",27),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](40,"div",146),M["\u0275\u0275elementStart"](41,"div",24),M["\u0275\u0275elementStart"](42,"label",155),M["\u0275\u0275text"](43),M["\u0275\u0275pipe"](44,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](45,"input",156),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Receipt.contactedperson=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](46,"div",146),M["\u0275\u0275elementStart"](47,"div",24),M["\u0275\u0275elementStart"](48,"label",157),M["\u0275\u0275text"](49),M["\u0275\u0275pipe"](50,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](51,"input",158,159),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Receipt.planneddeliverydate=e}),M["\u0275\u0275pipe"](53,"date"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](54,"div",3),M["\u0275\u0275elementStart"](55,"div",33),M["\u0275\u0275elementStart"](56,"div",24),M["\u0275\u0275elementStart"](57,"label",160),M["\u0275\u0275text"](58),M["\u0275\u0275pipe"](59,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](60,"select",161,162),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Receipt.courierid=e}),M["\u0275\u0275template"](62,Kp,2,1,"option",91),M["\u0275\u0275template"](63,Xp,2,1,"option",91),M["\u0275\u0275template"](64,nu,3,3,"option",27),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](65,"div",146),M["\u0275\u0275elementStart"](66,"div",24),M["\u0275\u0275elementStart"](67,"label",163),M["\u0275\u0275text"](68),M["\u0275\u0275pipe"](69,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](70,"textarea",164,165),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Receipt.othernotes=e}),M["\u0275\u0275text"](72,"                            "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](73,"div",146),M["\u0275\u0275elementStart"](74,"div",24),M["\u0275\u0275elementStart"](75,"label",166),M["\u0275\u0275text"](76),M["\u0275\u0275pipe"](77,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](78,"input",167,168),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Receipt.actualdeliverydate=e}),M["\u0275\u0275pipe"](80,"date"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](5,32,"Shipment Term")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i._Receipt.shipmentterm_id),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",i.ShipmentTermList),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](15,34,"Supplier Account")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("checked",i.chk_ChangeSupplier)("ngModelOptions",M["\u0275\u0275pureFunction0"](58,iu))("ngModel",i.chk_ChangeSupplier),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](20,36,"Change")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](27,38,"Delivery Location")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i._Receipt.deliverylocation),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](34,40,"Payment Term")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i._Receipt.paymentterm_id),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",i.PaymentTermsList),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](44,42,"Contacted Person")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i._Receipt.contactedperson),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](50,44,"Planned Delivery Date")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",M["\u0275\u0275pipeBind2"](53,46,i._Receipt.planneddeliverydate,"yyyy-MM-dd")),M["\u0275\u0275advance"](7),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](59,49,"Courier")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i._Receipt.courierid),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",i.CourierList),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](69,51,"Notes")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i._Receipt.othernotes),M["\u0275\u0275advance"](6),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](77,53,"Actual Delivery Date")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",M["\u0275\u0275pipeBind2"](80,55,i._Receipt.actualdeliverydate,"yyyy-MM-dd"))}}function au(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",96),M["\u0275\u0275elementStart"](1,"div",70),M["\u0275\u0275elementStart"](2,"Signature",172),M["\u0275\u0275listener"]("signatureoutput",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).OnSignatureSet(e)}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("signature",i._Receipt.signature)}}function ou(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",92),M["\u0275\u0275text"](1," choose "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function cu(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",92),M["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function lu(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.codename,"")}}function su(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.codenamear,"")}}function du(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",86),M["\u0275\u0275template"](1,lu,2,1,"span",1),M["\u0275\u0275template"](2,su,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("value",n.code),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function pu(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"tr"),M["\u0275\u0275elementStart"](1,"td"),M["\u0275\u0275elementStart"](2,"select",176),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.code=e}),M["\u0275\u0275template"](3,ou,2,1,"option",91),M["\u0275\u0275template"](4,cu,2,1,"option",91),M["\u0275\u0275template"](5,du,3,3,"option",27),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](6,"td"),M["\u0275\u0275elementStart"](7,"input",177,178),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.entry_no=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](9,"td",179),M["\u0275\u0275elementStart"](10,"a",180),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).OnOpenReceiptHistory(e)}),M["\u0275\u0275element"](11,"i",142),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index,a=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","historyReceiptscode",r,""),M["\u0275\u0275property"]("ngModel",i.code),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",a.ReceiptCodeList),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","historyReceiptsentry_no",r,""),M["\u0275\u0275property"]("ngModel",i.entry_no)}}function uu(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div",173),M["\u0275\u0275elementStart"](1,"div",174),M["\u0275\u0275elementStart"](2,"div",175),M["\u0275\u0275elementStart"](3,"table",72),M["\u0275\u0275elementStart"](4,"thead"),M["\u0275\u0275elementStart"](5,"tr"),M["\u0275\u0275elementStart"](6,"th",73),M["\u0275\u0275text"](7),M["\u0275\u0275pipe"](8,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](9,"th",73),M["\u0275\u0275text"](10),M["\u0275\u0275pipe"](11,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](12,"th",73),M["\u0275\u0275text"](13,"\xa0"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](14,"tbody"),M["\u0275\u0275template"](15,pu,12,7,"tr",135),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](7),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](8,3,"Receipttype")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](11,5,"EntryNo")," "),M["\u0275\u0275advance"](5),M["\u0275\u0275property"]("ngForOf",n.ReceiptHistoryList)}}function mu(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275element"](1,"Item-StoreQty",181,182),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("wrappe",n._itemstoreqtyobj)}}function hu(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275elementStart"](1,"div",5),M["\u0275\u0275elementStart"](2,"div",3),M["\u0275\u0275elementStart"](3,"form",6,7),M["\u0275\u0275listener"]("ngSubmit",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275reference"](4);return M["\u0275\u0275nextContext"]().CheckPre_SaveReceipt(e)}),M["\u0275\u0275elementStart"](5,"div",8),M["\u0275\u0275elementStart"](6,"div",9),M["\u0275\u0275elementStart"](7,"div",10),M["\u0275\u0275elementStart"](8,"div",11),M["\u0275\u0275elementStart"](9,"h6",12),M["\u0275\u0275text"](10),M["\u0275\u0275pipe"](11,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](12,"div",3),M["\u0275\u0275elementStart"](13,"div",13),M["\u0275\u0275elementStart"](14,"button",14),M["\u0275\u0275element"](15,"i",15),M["\u0275\u0275text"](16),M["\u0275\u0275pipe"](17,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](18,"button",16),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().CreateNewAction()}),M["\u0275\u0275text"](19),M["\u0275\u0275pipe"](20,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](21,Od,3,4,"button",17),M["\u0275\u0275template"](22,kd,3,4,"button",18),M["\u0275\u0275elementStart"](23,"button",19),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().BackAction()}),M["\u0275\u0275text"](24),M["\u0275\u0275pipe"](25,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](26,"div",20),M["\u0275\u0275elementStart"](27,"button",21),M["\u0275\u0275text"](28),M["\u0275\u0275pipe"](29,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](30,"div",22),M["\u0275\u0275template"](31,Bd,10,11,"ng-container",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275element"](32,"hr"),M["\u0275\u0275elementStart"](33,"div",3),M["\u0275\u0275elementStart"](34,"div",23),M["\u0275\u0275elementStart"](35,"div",24),M["\u0275\u0275elementStart"](36,"label",25),M["\u0275\u0275text"](37),M["\u0275\u0275pipe"](38,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](39,"select",26),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.customersalesprice=e})("change",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().changesalesprice(e)}),M["\u0275\u0275template"](40,Nd,3,3,"option",27),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](41,"div",23),M["\u0275\u0275elementStart"](42,"div",24),M["\u0275\u0275elementStart"](43,"label",25),M["\u0275\u0275text"](44),M["\u0275\u0275pipe"](45,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](46,"span",28),M["\u0275\u0275text"](47,"*"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](48,"select",29,30),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.branch_id=e})("change",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().changeBranch(e)}),M["\u0275\u0275template"](50,Vd,2,0,"option",31),M["\u0275\u0275template"](51,qd,2,0,"option",31),M["\u0275\u0275template"](52,Gd,3,3,"option",32),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](53,"div",33),M["\u0275\u0275elementStart"](54,"div",24),M["\u0275\u0275elementStart"](55,"label",34),M["\u0275\u0275text"](56),M["\u0275\u0275pipe"](57,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](58,"span",28),M["\u0275\u0275text"](59,"*"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](60,"input",35,36),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.entry_no=e})("ngModelChange",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().ChangePropFinish("EntryCode",2)})("keydown.space",function(e){return e.preventDefault()}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](62,"div",3),M["\u0275\u0275elementStart"](63,"div",33),M["\u0275\u0275elementStart"](64,"div",24),M["\u0275\u0275elementStart"](65,"label",37),M["\u0275\u0275text"](66),M["\u0275\u0275pipe"](67,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](68,"span",28),M["\u0275\u0275text"](69,"*"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](70,"p-autoComplete",38,39),M["\u0275\u0275listener"]("onFocus",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275reference"](71);return M["\u0275\u0275nextContext"]().onFocusInCustomerAccounts(e),t.show()})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.cashcustomer_vendor_code=e})("onSelect",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().CustomerAccountsSelectEvent(e)})("completeMethod",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().CustomerAccountsChangeSearch(e)})("onClear",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().onClearVendor(e)}),M["\u0275\u0275pipe"](73,"translate"),M["\u0275\u0275template"](74,$d,2,2,"ng-template",40),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](75,"div",33),M["\u0275\u0275elementStart"](76,"div",24),M["\u0275\u0275elementStart"](77,"label",41),M["\u0275\u0275text"](78),M["\u0275\u0275pipe"](79,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](80,"input",42,43),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.cashcustomer_vendor_name=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](82,"div",33),M["\u0275\u0275elementStart"](83,"div",24),M["\u0275\u0275elementStart"](84,"label",44),M["\u0275\u0275text"](85),M["\u0275\u0275pipe"](86,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](87,"input",45,46),M["\u0275\u0275listener"]("ngModelChange",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275nextContext"]();return t._Receipt.entry_date=e,t.ChangePropFinish("EntryDate",2)}),M["\u0275\u0275pipe"](89,"date"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](90,"div",33),M["\u0275\u0275elementStart"](91,"div",24),M["\u0275\u0275elementStart"](92,"label",44),M["\u0275\u0275text"](93),M["\u0275\u0275pipe"](94,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](95,"input",47,48),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.entry_time=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](97,"div",3),M["\u0275\u0275template"](98,Zd,12,11,"div",49),M["\u0275\u0275template"](99,Kd,9,9,"div",49),M["\u0275\u0275elementStart"](100,"div",33),M["\u0275\u0275elementStart"](101,"div",24),M["\u0275\u0275elementStart"](102,"label",50),M["\u0275\u0275text"](103),M["\u0275\u0275pipe"](104,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](105,"input",51,52),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.reference_no=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](107,"div",33),M["\u0275\u0275elementStart"](108,"div",24),M["\u0275\u0275elementStart"](109,"label",53),M["\u0275\u0275text"](110),M["\u0275\u0275pipe"](111,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](112,"input",54,55),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.memo=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](114,"div",3),M["\u0275\u0275elementStart"](115,"div",33),M["\u0275\u0275elementStart"](116,"div",24),M["\u0275\u0275elementStart"](117,"label",56),M["\u0275\u0275text"](118),M["\u0275\u0275pipe"](119,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](120,"input",57,58),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.costing_rate=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](122,"div",59),M["\u0275\u0275elementStart"](123,"div",60),M["\u0275\u0275elementStart"](124,"div",61),M["\u0275\u0275elementStart"](125,"ul",62,63),M["\u0275\u0275listener"]("activeIdChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().activeNav=e}),M["\u0275\u0275elementStart"](127,"li",64),M["\u0275\u0275elementStart"](128,"a",65),M["\u0275\u0275text"](129),M["\u0275\u0275pipe"](130,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](131,bp,45,40,"ng-template",66),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](132,"li",67),M["\u0275\u0275elementStart"](133,"a",65),M["\u0275\u0275text"](134),M["\u0275\u0275pipe"](135,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](136,Bp,26,13,"ng-template",66),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](137,"li",67),M["\u0275\u0275elementStart"](138,"a",65),M["\u0275\u0275text"](139),M["\u0275\u0275pipe"](140,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](141,ru,81,59,"ng-template",66),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](142,"li",67),M["\u0275\u0275elementStart"](143,"a",65),M["\u0275\u0275text"](144),M["\u0275\u0275pipe"](145,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](146,au,3,1,"ng-template",66),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](147,"li",67),M["\u0275\u0275elementStart"](148,"a",65),M["\u0275\u0275text"](149),M["\u0275\u0275pipe"](150,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](151,uu,16,7,"ng-template",66),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275element"](152,"div",68),M["\u0275\u0275elementStart"](153,"div",3),M["\u0275\u0275elementStart"](154,"div",69),M["\u0275\u0275elementStart"](155,"div",70),M["\u0275\u0275elementStart"](156,"div",71),M["\u0275\u0275elementStart"](157,"table",72),M["\u0275\u0275elementStart"](158,"thead"),M["\u0275\u0275elementStart"](159,"tr"),M["\u0275\u0275element"](160,"th",73),M["\u0275\u0275elementStart"](161,"th",74),M["\u0275\u0275text"](162),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](163,"th",73),M["\u0275\u0275text"](164),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](165,"tbody"),M["\u0275\u0275elementStart"](166,"tr"),M["\u0275\u0275elementStart"](167,"td"),M["\u0275\u0275text"](168),M["\u0275\u0275pipe"](169,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](170,"td",75),M["\u0275\u0275elementStart"](171,"input",76),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.netvalueforeign=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](172,"td"),M["\u0275\u0275elementStart"](173,"input",77),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.netvalue=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](174,"tr"),M["\u0275\u0275elementStart"](175,"td"),M["\u0275\u0275text"](176),M["\u0275\u0275pipe"](177,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](178,"td"),M["\u0275\u0275elementStart"](179,"input",78),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.qtotal=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](180,"tr"),M["\u0275\u0275elementStart"](181,"td"),M["\u0275\u0275text"](182),M["\u0275\u0275pipe"](183,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](184,"td"),M["\u0275\u0275elementStart"](185,"input",79),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.totalitem=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](186,"div",80),M["\u0275\u0275template"](187,mu,3,1,"div",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](4),r=M["\u0275\u0275reference"](49),a=M["\u0275\u0275reference"](61),o=M["\u0275\u0275reference"](72),c=M["\u0275\u0275reference"](88),l=M["\u0275\u0275reference"](126),s=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](10),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](11,84,"Receiving Voucher Returns")),M["\u0275\u0275advance"](4),M["\u0275\u0275attribute"]("disabled",s.VouchersLinkedCount>0||1==s.ShowModeReceipt||1==s.DuringSaveDisable||s.ReceiptID>0&&!s.checkRoleParms(8808)||0==s.ReceiptID&&!s.checkRoleParms(8805)||null),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](17,86,"Save")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275attribute"]("disabled",!s.checkRoleParms(8805)||1==s.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](20,88,"CreateNew")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",s.ReceiptID>0&&0==s.VouchersLinkedCount),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",s.ReceiptID>0),M["\u0275\u0275advance"](1),M["\u0275\u0275attribute"]("disabled",1==s.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](25,90,"Exit")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](29,92,"Action Menu")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngIf",s.ReceiptID>0),M["\u0275\u0275advance"](6),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](38,94,"CostPrice")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",s._Receipt.customersalesprice),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",s.CustomerSalesPriceList),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](45,96,"Branch")),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("ngModel",s._Receipt.branch_id)("ngClass",M["\u0275\u0275pureFunction2"](135,Hd,r.invalid&&i.submitted,r.valid&&i.submitted)),M["\u0275\u0275attribute"]("disabled",s.ReceiptID>0||null),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=s.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==s.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",s.BranchList)("ngForTrackBy",s.customTrackBy),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](57,98,"Entry#")),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("stepallow",1)("ngModel",s._Receipt.entry_no)("Min",1)("CheckMin",!0)("readonly",0==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.controlvouchernumanddate)||s.VouchersLinkedCount>0||1==s.LockedRecepit)("ngClass",M["\u0275\u0275pureFunction2"](138,Hd,a.invalid&&i.submitted,a.valid&&i.submitted)),M["\u0275\u0275advance"](6),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](67,100,"Vendor#")),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("ngModel",s._Receipt.cashcustomer_vendor_code)("suggestions",s.CustomerAccountsList)("showEmptyMessage",!0)("emptyMessage",M["\u0275\u0275pipeBind1"](73,102,"NoResultsFound"))("forceSelection",!0)("ngClass",M["\u0275\u0275pureFunction2"](141,Hd,o.invalid&&i.submitted,o.valid&&i.submitted)),M["\u0275\u0275advance"](8),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](79,104,"Vendor Name")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",s._Receipt.cashcustomer_vendor_name)("readonly",!0),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](86,106,"Date")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",M["\u0275\u0275pipeBind2"](89,108,s._Receipt.entry_date,"yyyy-MM-dd"))("readonly",0==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.controlvouchernumanddate)||s.VouchersLinkedCount>0||1==s.LockedRecepit)("ngClass",M["\u0275\u0275pureFunction2"](144,Hd,c.invalid&&i.submitted||0==s.ValidPeriod,c.valid&&i.submitted)),M["\u0275\u0275advance"](6),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](94,111,"Time")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("readonly",0==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.controlvouchernumanddate)||s.VouchersLinkedCount>0||1==s.LockedRecepit)("ngModel",s._Receipt.entry_time),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngIf",null==s.subsaidarySetting?null:s.subsaidarySetting.enablemulticurrency),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null==s.subsaidarySetting?null:s.subsaidarySetting.enablemulticurrency),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](104,113,"ReferenceNo")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",s._Receipt.reference_no),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](111,115,"Memo")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",s._Receipt.memo),M["\u0275\u0275advance"](6),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](119,117,"CostingRate")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",s._Receipt.costing_rate)("readonly",!0),M["\u0275\u0275advance"](5),M["\u0275\u0275property"]("destroyOnHide",!1)("activeId",s.activeNav),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngbNavItem",1),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](130,119,"Items")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngbNavItem",2),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](135,121,"LinkedReceipt")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngbNavItem",3),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](140,123,"Other Details")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngbNavItem",4),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](145,125,"Signature")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngbNavItem",5),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](150,127,"History")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngbNavOutlet",l),M["\u0275\u0275advance"](9),M["\u0275\u0275property"]("hidden",!s.ForeignCurrencyShow),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" Total - ",null==s._CurrencySelected?null:s._CurrencySelected.currencysymbol," "),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" Total - ",null==s._BaseCurrency?null:s._BaseCurrency.currencysymbol," "),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](169,129,"Net")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("hidden",!s.ForeignCurrencyShow),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngModel",s._Receipt.netvalueforeign)("readonly",!0),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",s._Receipt.netvalue)("readonly",!0),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](177,131,"totalqty")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("readonly",!0)("ngModel",s._Receipt.qtotal),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](183,133,"totalitem")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("readonly",!0)("ngModel",s._Receipt.totalitem),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",s.itemqtyview)}}function gu(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",92),M["\u0275\u0275text"](1,"choose"),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function _u(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",92),M["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function vu(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function fu(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function Cu(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",86),M["\u0275\u0275template"](1,vu,2,1,"span",1),M["\u0275\u0275template"](2,fu,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275property"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function yu(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",199),M["\u0275\u0275elementStart"](1,"label",200),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](4,"select",201),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).DescriptionItem.salesmanid=e}),M["\u0275\u0275template"](5,gu,2,1,"option",91),M["\u0275\u0275template"](6,_u,2,1,"option",91),M["\u0275\u0275template"](7,Cu,3,3,"option",27),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](3,5,"ServiceSalesMan")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i.DescriptionItem.salesmanid),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",i.SalesManlist)}}var bu=function(){return{height:"150px"}};function Su(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",183),M["\u0275\u0275elementStart"](1,"h6",184),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](4,"button",185),M["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),M["\u0275\u0275elementStart"](5,"span",186),M["\u0275\u0275text"](6,"\xd7"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](7,"div",187),M["\u0275\u0275elementStart"](8,"div",188),M["\u0275\u0275elementStart"](9,"label",189),M["\u0275\u0275text"](10),M["\u0275\u0275pipe"](11,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](12,"input",190,191),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().DescriptionItem.customitemname=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](14,"div",192),M["\u0275\u0275elementStart"](15,"div",188),M["\u0275\u0275elementStart"](16,"quill-editor",193),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().DescriptionItem.detailshtml=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](17,yu,8,7,"div",194),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](18,"div",195),M["\u0275\u0275elementStart"](19,"button",196),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().SaveNotes()}),M["\u0275\u0275text"](20),M["\u0275\u0275pipe"](21,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](22,"button",197),M["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),M["\u0275\u0275element"](23,"i",198),M["\u0275\u0275text"](24),M["\u0275\u0275pipe"](25,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](3,10,"Description")),M["\u0275\u0275advance"](8),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](11,12,"Item")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i.DescriptionItem.customitemname),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("styles",M["\u0275\u0275pureFunction0"](18,bu))("ngModel",i.DescriptionItem.detailshtml)("ngModelOptions",M["\u0275\u0275pureFunction0"](19,iu))("modules",i.quillConfig),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.IsSalesManImplemented),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](21,14,"Save")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](25,16,"Cancel")," ")}}var Ru=function(){return[8804,8805,8806,8808]},xu=function(){var e=function(){function e(t,n,i,r,a,o,l,s,d,p,u,m,h,g,_,v,f,C){var y=this;c(this,e),this._cashsalesService=t,this._CustomerService=n,this._ReceiptSharedService=i,this._VoucherService=r,this.cd=a,this.toastr=o,this._router=l,this._generalService=s,this.translate=d,this._translateGlobalService=p,this._activeRoute=u,this.modalService=m,this.spinner=h,this._authService=g,this._printService=_,this._VerifyReportsService=v,this.datepipe=f,this.location=C,this.isType=!1,this.subsidiaryID=0,this.ReceiptID=0,this.CustomerTypeID=2,this.activeNav=1,this.PriceListItemsOnly=!1,this.BasicCodeReceipt=89,this.Transaction_move=0,this._Receipt=new S.tY,this._ReceiptOriginal=new S.tY,this._Receipt_h_Edit=new S.Iu,this._CashSalesDetailsReceipt=new S.hm,this.ItemsComponentList=new Array,this.DescriptionItem=new S.tH,this._LinkedReceipt=new S.Cb,this._ReceiptMultiPayment=new S.pm,this.ShowWarrantyDateCols=!1,this.IsSalesManImplemented=!1,this._Currencyprecision=3,this.MultiPaymentypeShow=!1,this.ForeignCurrencyShow=!1,this.ValidPeriod=!0,this.deliverdateValid=!0,this.VouchersLinkedCount=0,this.DuringSaveDisable=!1,this.show_all_component=!1,this.BranchList=[],this.PaymentTypeList=[],this.MultiPaymentMethodsList=[],this.CustomerAccountsList=[],this.CashCustomerList=[],this.EmployeesList=[],this.SalesTypesList=[],this.CostCenterList=[],this.SalesManlist=[],this.ShipmentTermList=[],this.CourierList=[],this.ReceiptCodeList=[],this.PaymentTermsList=[],this.TransactionAccountList=[],this.CarsList=[],this.DriversList=[],this.DepartmentList=[],this.LocationList=[],this.ClassList=[],this.CurrencyList=[],this.StoreList=[],this.ItemsList=[],this.ItemUnitsList=[],this.ItemComponentUnitsList=[],this.CustomerSalesPriceList=[],this.ApprovalStatusList=[{id:1,name:"New",name_ar:"\u062c\u062f\u064a\u062f"},{id:2,name:"Approved",name_ar:"\u0645\u0642\u0628\u0648\u0644"},{id:3,name:"Disapproved",name_ar:"\u0645\u0631\u0641\u0648\u0636"},{id:4,name:"Invoiced",name_ar:"\u062a\u0645 \u0639\u0645\u0644 \u0641\u0627\u062a\u0648\u0631\u0647"},{id:5,name:"Sales Order",name_ar:"\u062a\u0645 \u0639\u0645\u0644 \u0633\u0646\u062f \u0628\u064a\u0639"}],this.reporturl="",this.reportdomainUrl=ke.N.aspDomain,this._emailobj={email:"",subject:""},this.mailmsg="",this.allowDelete=!1,this.ShowModeReceipt=!1,this.LockedRecepit=!1,this.swalTitleEntry="",this.swalTextEntry="",this.swalConfirmButtonEntry="",this.Cancel="",this.WarningInfoLost="",this.warning="",this.Yes="",this.FinancialPeriodMsg="",this.FinancialPeriodCloseMsg="",this.Close="",this.CostPostingPeriodMessage="",this.LinkedVoucherIsPostedMsg="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.DeleteRelationmsg="",this.ItemsZeroErrorMsg="",this.MultiPayErrorMsg="",this.ItemsEqualZeroMsg="",this.ReceiptNotFound="",this.CustomerPricelistMsg="",this.Receiptnoitems="",this.NoUnits="",this.ItemWarrantyValidMsg="",this.DeliverDateMsg="",this.qtyErrorSaveMsg="",this.qtyErrorMsg="",this.qtyZeroErrorSaveMsg="",this.NOComponents="",this.SaveMsg="",this.No="",this.swalNewActionTitle="",this.swalNewActionText="",this.StopInventoryErrorMsg="",this.RelatedwithSerialsOrBatches="",this.timeout=null,this.chk_ChangeSupplier=!1,this.ItemLinkedReceipt=[],this.ItemComponentsLinkedReceipt=[],this.LinkedReceiptListSelected=[],this.IxLRS=0,this.itemqtyview=!1,this._itemstoreqtyobj=new S.I$,this.quillConfig={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"]]},this.ReceiptHistoryList=[],u.params.subscribe(function(e){y.ReceiptID=e.id,y.ShowModeReceipt=null!=e.show&&"show"==e.show&&e.id>0,y.LockedRecepit=y.ShowModeReceipt,y.subsidiaryID=y._generalService.SubsidiaryID,y.subsidiaryID>0&&y.SetInitialMethods(),y._UserLogin=y._authService.userInfo()}),this.ngUnsubscribe=s.proadCastSubsidiaryID.subscribe(function(e){0==y.subsidiaryID&&(y.subsidiaryID=y._generalService.SubsidiaryID,y.SetInitialMethods()),y.subsidiaryID!=y._generalService.SubsidiaryID&&y.subsidiaryID>0&&(y.subsidiaryID=y._generalService.SubsidiaryID,y._router.navigate(["/page/inventorytransiction/receivingvoucherreturns/0"]).then(function(){window.location.reload()}))}),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(function(e){y.lang=e.lang,y.dir=e.dir,y.translate.use(e.lang),y.ngTransUnsubscribe=y.translate.get(["Cancel","swalTitleEntryno","swalEntrynoText","swalEntrynoConfirmButton","WarningInfoLost","warning","Yes","mailmsg","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","DeleteRelationmsg","successMsg","ItemsZeroErrorMsg","MultiPayErrorMsg","ItemsEqualZeroMsg","ReceiptNotFound","CustomerPricelistMsg","Receiptnoitems","NoUnits","ItemWarrantyValidMsg","FinancialPeriodMsg","StopInventoryErrorMsg","CloseFinancialPeriodMsg","Close","DeliverDateMsg","qtyErrorSaveMsg","qtyErrorMsg","qtyZeroErrorSaveMsg","NOComponents","Receiving Voucher Returns","SaveMsg","No","swalNewActionTitle","swalNewActionText","CostPostingPeriodMessage","LinkedVoucherIsPostedMsg","RelatedwithSerialsOrBatches","cantNotDuplicateItem"]).subscribe(function(e){document.title=e["Receiving Voucher Returns"],y.Cancel=e.Cancel,y.swalTitleEntry=e.swalTitleEntryno,y.swalTextEntry=e.swalEntrynoText,y.swalConfirmButtonEntry=e.swalEntrynoConfirmButton,y.WarningInfoLost=e.WarningInfoLost,y.warning=e.warning,y.Yes=e.Yes,y.No=e.No,y.swalNewActionTitle=e.swalNewActionTitle,y.swalNewActionText=e.swalNewActionText,y.mailmsg=e.mailmsg,y.swalDeleteTitle=e.swalDeleteTitle,y.swalDetlateText=e.swalDetlateText,y.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,y.DeleteRelationmsg=e.DeleteRelationmsg,y.toastrSuccessDelete=e.successMsg,y.ItemsZeroErrorMsg=e.ItemsZeroErrorMsg,y.MultiPayErrorMsg=e.MultiPayErrorMsg,y.ItemsEqualZeroMsg=e.ItemsEqualZeroMsg,y.ReceiptNotFound=e.ReceiptNotFound,y.CustomerPricelistMsg=e.CustomerPricelistMsg,y.Receiptnoitems=e.Receiptnoitems,y.NoUnits=e.NoUnits,y.ItemWarrantyValidMsg=e.ItemWarrantyValidMsg,y.FinancialPeriodMsg=e.FinancialPeriodMsg,y.Close=e.Close,y.DeliverDateMsg=e.DeliverDateMsg,y.qtyErrorMsg=e.qtyErrorMsg,y.qtyErrorSaveMsg=e.qtyErrorSaveMsg,y.qtyZeroErrorSaveMsg=e.qtyZeroErrorSaveMsg,y.NOComponents=e.NOComponents,y.SaveMsg=e.SaveMsg,y.StopInventoryErrorMsg=e.StopInventoryErrorMsg,y.FinancialPeriodCloseMsg=e.CloseFinancialPeriodMsg,y.CostPostingPeriodMessage=e.CostPostingPeriodMessage,y.LinkedVoucherIsPostedMsg=e.LinkedVoucherIsPostedMsg,y.RelatedwithSerialsOrBatches=e.RelatedwithSerialsOrBatches,y.cantNotDuplicateItem=e.cantNotDuplicateItem})})}return o(e,[{key:"SetInitialMethods",value:function(){this._Receipt=new S.tY,this.GetCurrentUserSetting(),this.GetBranchList(),this.GetSalesTypesList(),this.GetShipmentTermList(),this.GetCourierList(),this.GetAllPaymentTermsList(),this.GetCashCustomerSettings(),this.GetSubsaidarySetting(),this.GetCurrencyList(),this.GetReceipt_AfterReceiptCode_InventroySettings()}},{key:"GetReceipt_AfterReceiptCode_InventroySettings",value:function(){var e=this,t=this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID),i=this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID);(0,Ie.D)([t,i]).subscribe(function(t){var i=n(t,2),r=i[0],a=i[1];e.ReceiptCodeList=r,e.InventorySetting=a;var o=e.ReceiptCodeList.find(function(t){return t.code==e.BasicCodeReceipt});e.Transaction_move=o.items,e.GetReceipt(),e.cd.markForCheck()})}},{key:"ngOnInit",value:function(){}},{key:"GetReceipt",value:function(){var e=this;if(this._Receipt.subsidiaryid=this.subsidiaryID,0==this.ReceiptID){this._Receipt.code=this.BasicCodeReceipt,this._Receipt.entry_date=this.datepipe.transform(new Date,"yyyy-MM-dd"),this.CheckValidDateBySubsidaryID(),this._Receipt.entry_time=this.SetTimeNow();var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&(this._Receipt.branch_id="null"==t.branchId||0==t.branchId?null:t.branchId,null!=this._Receipt.branch_id&&(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch())),this.CustomerTypeID=2,setTimeout(function(){e._ReceiptOriginal=JSON.parse(JSON.stringify(e._Receipt)),console.log(e._Receipt)},1e3)}else this._ReceiptSharedService.GetReceiptAndDetailsByID(this.ReceiptID).subscribe(function(t){if(null!=t.receipt){if(e.VouchersLinkedCount=t.voucherslinkedcount.voucherslinkedcount,e._Receipt.id=t.receipt.id,e._Receipt.subsidiaryid=t.receipt.subsidiaryid,e._Receipt.code=t.receipt.code,e._Receipt.entry_no=t.receipt.entry_no,e._Receipt.branch_id=t.receipt.branch_id,e._Receipt.transaction_code=t.receipt.transaction_code,e._Receipt.customersalesprice=t.receipt.customersalesprice,e._Receipt.qtotal=t.items.qty,e._Receipt.totalitem=t.items.length,e._Receipt.entry_date=e.datepipe.transform(t.receipt.entry_date,"yyyy-MM-dd"),e._Receipt.entry_time=t.receipt.entry_time,e._Receipt.reservedflag=t.receipt.reservedflag,e._Receipt.payment_type=t.receipt.payment_type,e._Receipt.vendor_id=t.receipt.vendor_id,e._Receipt.cashcustomerid=t.receipt.cashcustomerid,null!=e._Receipt.vendor_id&&(e._Receipt.cashcustomer_vendor_code={code:t.receipt.vendorcode},e._Receipt.cashcustomer_vendor_name="ar"==e.lang?t.receipt.vendornamear:t.receipt.vendorname,e.PriceListItemsOnly=t.receipt.pricelistitemsonly),null!=e._Receipt.cashcustomerid&&(e._Receipt.cashcustomer_vendor_code={phonenumber:t.receipt.phonenumber},e._Receipt.cashcustomer_vendor_name="ar"==e.lang?t.receipt.cashcustomername_ar:t.receipt.cashcustomername,e.PriceListItemsOnly=!1),e._Receipt.currency_id=t.receipt.currency_id,e._Receipt.currency_rate=t.receipt.currency_rate,e._Receipt.customerdeliverdate=e.datepipe.transform(t.receipt.customerdeliverdate,"yyyy-MM-dd"),e._Receipt.customerdeliverdate_time=t.receipt.customerdeliverdate_time,e._Receipt.ordertype=t.receipt.ordertype,e._Receipt.empoyee_id=t.receipt.empoyee_id,e._Receipt.memo=t.receipt.memo,e._Receipt.reference_no=t.receipt.reference_no,e._Receipt.salestypeid=t.receipt.salestypeid,e._Receipt.commisionaccountid=t.receipt.commisionaccountid,e._Receipt.commisionaccountfieldname="ar"==e.lang?{commisionaccountfieldname:t.receipt.commisionaccount_sug_ar}:{commisionaccountfieldname:t.receipt.commisionaccount_sug},e._Receipt.commissiontype=t.receipt.commissiontype,e._Receipt.commission=t.receipt.commission,e._Receipt.commissionnet=t.receipt.commissionnet,e._Receipt.commisionaccountid1=t.receipt.commisionaccountid1,e._Receipt.commisionaccountfieldname1="ar"==e.lang?{commisionaccountfieldname1:t.receipt.commisionaccount1_sug_ar}:{commisionaccountfieldname1:t.receipt.commisionaccount1_sug},e._Receipt.commissiontype1=t.receipt.commissiontype1,e._Receipt.commission1=t.receipt.commission1,e._Receipt.commissionnet1=t.receipt.commissionnet1,e._Receipt.costcenterid=t.receipt.costcenterid,e._Receipt.costcenterfieldname=null!=e._Receipt.costcenterid?"ar"==e.lang?{costcenterfieldname:t.receipt.costcenter_sug_ar}:{costcenterfieldname:t.receipt.costcenter_sug}:null,e._Receipt.classid=t.receipt.classid,e._Receipt.classfieldname=null!=e._Receipt.classid?"ar"==e.lang?{classfieldname:t.receipt.classes_sug_ar}:{classfieldname:t.receipt.classes_sug}:null,e._Receipt.locationid=t.receipt.locationid,e._Receipt.locationfieldname=null!=e._Receipt.locationid?"ar"==e.lang?{locationfieldname:t.receipt.location_sug_ar}:{locationfieldname:t.receipt.location_sug}:null,e._Receipt.departmentid=t.receipt.departmentid,e._Receipt.departmentfieldname=null!=e._Receipt.departmentid?"ar"==e.lang?{departmentfieldname:t.receipt.department_sug_ar}:{departmentfieldname:t.receipt.department_sug}:null,e._Receipt.carid=t.receipt.carid,e._Receipt.driverid=t.receipt.driverid,e._Receipt.valueforeign=t.receipt.valueforeign,e._Receipt.value=t.receipt.value,e._Receipt.discount_foreignpercent=t.receipt.discount_foreignpercent,e._Receipt.discount_percent=t.receipt.discount_percent,e._Receipt.discount_foreignvalue=t.receipt.discount_foreignvalue,e._Receipt.discount_value=t.receipt.discount_value,e._Receipt.deliveryfeesforeign=t.receipt.deliveryfeesforeign,e._Receipt.deliveryfees=t.receipt.deliveryfees,e._Receipt.surchargevalueforeign=t.receipt.surchargevalueforeign,e._Receipt.surchargevalue=t.receipt.surchargevalue,e._Receipt.surchargepercent=t.receipt.surchargepercent,e._Receipt.netvalueforeign=t.receipt.netvalueforeign,e._Receipt.netvalue=t.receipt.netvalue,e._Receipt.signature=t.receipt.signature,e._Receipt.related_voucher_type=t.receipt.related_voucher_type,e._Receipt.related_voucher_code=t.receipt.related_voucher_code,e._Receipt.status_id=t.receipt.status_id,e._Receipt.approvalstatus_id=t.receipt.approvalstatus_id,e._Receipt.costing_rate=t.receipt.costing_rate,e._Receipt.approvedby_id=t.receipt.approvedby_id,e._Receipt.shipmentterm_id=t.receipt.shipmentterm_id,e._Receipt.paymentterm_id=t.receipt.paymentterm_id,e._Receipt.supplieraccount_id=t.receipt.supplieraccount_id,e.Oldsupplieraccount_id=t.receipt.supplieraccount_id,e._Receipt.supplier_name={name:t.receipt.supplier_name},e._Receipt.supplier_namear={name_ar:t.receipt.supplier_namear},e._Receipt.planneddeliverydate=t.receipt.planneddeliverydate,e._Receipt.actualdeliverydate=t.receipt.actualdeliverydate,e._Receipt.deliverylocation=t.receipt.deliverylocation,e._Receipt.contactedperson=t.receipt.contactedperson,e._Receipt.othernotes=t.receipt.othernotes,e._Receipt.cashdrawerid=t.receipt.cashdrawerid,e._Receipt.leadid=t.receipt.leadid,e._Receipt.deliverynotes=t.receipt.deliverynotes,e._Receipt.cashcustomerdetailid=t.receipt.cashcustomerdetailid,e._Receipt.is_canceled=t.receipt.is_canceled,e._Receipt.fromstoreid=t.receipt.fromstoreid,e._Receipt.tostoreid=t.receipt.tostoreid,e._Receipt.isdeliveryprint=t.receipt.isdeliveryprint,e._Receipt.printcount=t.receipt.printcount,e._Receipt.iskitchendone=t.receipt.iskitchendone,e._Receipt.paidamount=t.receipt.paidamount,e._Receipt.isholded=t.receipt.isholded,e._Receipt.branchtableid=t.receipt.branchtableid,e._Receipt.customeractualdeliverdate=t.receipt.customeractualdeliverdate,e._Receipt.deliverystatusid=t.receipt.deliverystatusid,e._Receipt.deposite=t.receipt.deposite,e._Receipt.paymentandconditions=t.receipt.paymentandconditions,e._Receipt.notes=t.receipt.notes,e._Receipt.chefid=t.receipt.chefid,e._Receipt.changeamount=t.receipt.changeamount,e._Receipt.divisionid=t.receipt.divisionid,e._Receipt.courierid=t.receipt.courierid,e._Receipt.depositepaymenttypeid=t.receipt.depositepaymenttypeid,e._Receipt.creationdate=t.receipt.creationdate,e._Receipt.lastupdatedate=t.receipt.lastupdatedate,e._Receipt.createdbyid=t.receipt.createdbyid,e._Receipt.updatedbyid=t.receipt.updatedbyid,e._Receipt.receiptattributeid=t.receipt.receiptattributeid,e._Receipt.costposted=t.receipt.costposted,e._Receipt.lcaccountid=t.receipt.lcaccountid,e._Receipt.lcno=t.receipt.lcno,e._Receipt.lcbank=t.receipt.lcbank,e._Receipt.lcstartdate=t.receipt.lcstartdate,e._Receipt.lcenddate=t.receipt.lcenddate,e._Receipt.lcrenewdate=t.receipt.lcrenewdate,e._Receipt.lcrenewenddate=t.receipt.lcrenewenddate,e._Receipt.lcinsurancecompany=t.receipt.lcinsurancecompany,e._Receipt.lcpolicyno=t.receipt.lcpolicyno,e._Receipt.insurancedate=t.receipt.insurancedate,e._Receipt.gooddeliverydate=t.receipt.gooddeliverydate,e._Receipt.lccondition=t.receipt.lccondition,e._Receipt.shippingmethod=t.receipt.shippingmethod,e._Receipt.exportport=t.receipt.exportport,e._Receipt.shipname=t.receipt.shipname,e._Receipt.lcnotes=t.receipt.lcnotes,e._Receipt.quotationcustomername=t.receipt.quotationcustomername,e._Receipt.duedate=t.receipt.duedate,e._Receipt.schedule_date=t.receipt.schedule_date,e._Receipt.storetype=t.receipt.storetype,e._Receipt.quotationenddate=t.receipt.quotationenddate,e._Receipt.wostatusid=t.receipt.wostatusid,e._Receipt.parentreceiptid=t.receipt.parentreceiptid,e._Receipt.isapproved=t.receipt.isapproved,e._Receipt.replenshimenttype=t.receipt.replenshimenttype,e._Receipt.reference=t.receipt.reference,e._Receipt.replenshimentfromdate=t.receipt.replenshimentfromdate,e._Receipt.replenshimenttodate=t.receipt.replenshimenttodate,e._Receipt.cancelreasonid=t.receipt.cancelreasonid,e._Receipt.contractstartdate=t.receipt.contractstartdate,e._Receipt.contractenddate=t.receipt.contractenddate,e._Receipt.previouscontractid=t.receipt.previouscontractid,e._Receipt.erpstatus=t.receipt.erpstatus,e._Receipt.loyalitybalance=t.receipt.loyalitybalance,e._Receipt.cpno=t.receipt.cpno,e._Receipt.accounttype=t.receipt.accounttype,e._Receipt.printing=t.receipt.printing,e._Receipt.storedelivery=t.receipt.storedelivery,e._Receipt.customerrecieve=t.receipt.customerrecieve,e._Receipt.promotionid=t.receipt.promotionid,e._Receipt.promotionpercent=t.receipt.promotionpercent,e._Receipt.promotionvalue=t.receipt.promotionvalue,e._Receipt.purchaserequeststatusid=t.receipt.purchaserequeststatusid,e._Receipt.urgent=t.receipt.urgent,e._Receipt.quotationstatusid=t.receipt.quotationstatusid,e._Receipt.salesorderstatusid=t.receipt.salesorderstatusid,e._Receipt.purchaseorderstatusid=t.receipt.purchaseorderstatusid,e._Receipt.expensesdistributionvoucherno=t.receipt.expensesdistributionvoucherno,e._Receipt.totalproductioncost=t.receipt.totalproductioncost,e._Receipt.totalvouchercost=t.receipt.totalvouchercost,e._Receipt.totalproductioncostforeign=t.receipt.totalproductioncostforeign,e._Receipt.totalvouchercostforeign=t.receipt.totalvouchercostforeign,e._Receipt.taxvalue=t.receipt.taxvalue,e._Receipt.sourceid=t.receipt.sourceid,e._Receipt.contractid=t.receipt.contractid,e._Receipt.type_id=t.receipt.type_id,e._Receipt.productionlineid=t.receipt.productionlineid,e._Receipt.linescheduleddate=t.receipt.linescheduleddate,e._Receipt.inchargepersonname=t.receipt.inchargepersonname,e._Receipt.inchargephoneno=t.receipt.inchargephoneno,e._Receipt.details=t.items,e._Receipt.details.forEach(function(e){e.storecode={code:e.storecode},e.itemcode={code:e.itemcode},e.allowqtyselectforitem=!0}),e._Receipt.itemscomponent=t.itemcomponents,e._Receipt.itemscomponent.forEach(function(e){e.allowqtyselectforitem=!0}),e.ItemUnitsList=t.itemunits,e.ItemComponentUnitsList=t.componentsunits,e._Receipt.linkedreceipts=t.linkedreceipts,e._Receipt.receiptmultipayment=t.receiptmultipayment,e.ReceiptHistoryList=t.receipthistory,null==e._Receipt.qtotal||null==e._Receipt.totalitem){var n=0;e._Receipt.details.forEach(function(e){n+=e.qty}),e._Receipt.qtotal=n,e._Receipt.totalitem=t.items.length}e._ReceiptOriginal=JSON.parse(JSON.stringify(e._Receipt)),e.CheckShowWarrantyDateCols(),e.CustomerTypeID=2,e.entry_no=e._Receipt.entry_no,e.originalSalesPrice=e._Receipt.customersalesprice,e.VouchersLinkedCount>0?(e.ShowModeReceipt=!0,e.ShowPopUpLinkedVoucherIsPosted()):1==!e.ShowModeReceipt&&e.CheckValidDateBySubsidaryID(),e._CurrencySelected=e.CurrencyList.find(function(t){return t.id==e._Receipt.currency_id}),e.ForeignCurrencyShow=1!=e._CurrencySelected.basecurrency,e.OnSelectedItem(e._Receipt.details[0],0,"selected",!0),e.cd.markForCheck()}})}},{key:"CheckPre_SaveReceipt",value:function(e){var t=this;if(e.form.valid){if(0==this.ValidPeriod)return void this.ShowPopUpFinancialPeriod();if(0==this.deliverdateValid)return void this.toastr.error(this.DeliverDateMsg);if(1==this._Receipt.details.length&&null==this._Receipt.details[0].item_id)return this.toastr.error(this.ItemsZeroErrorMsg),this._Receipt.details.splice(0,1),void this.AddItems();for(var n=function(e){if(null==t._Receipt.details[e].item_id)t._Receipt.details.splice(e,1),e--;else{if(!(t._Receipt.details[e].qty>0))return i=e,{v:void t.toastr.error(t.qtyZeroErrorSaveMsg)};0!=t._Receipt.value?(t._Receipt.details[e].h_discount_value=t._Receipt.discount_percent/100*t._Receipt.details[e].total/t._Receipt.details[e].qty%(1/0)||0,t._Receipt.details[e].h_discount_percentage=100*(t._Receipt.details[e].h_discount_value/(t._Receipt.details[e].total/t._Receipt.details[e].qty)%(1/0)||0)):(t._Receipt.details[e].h_discount_value=0,t._Receipt.details[e].h_discount_percentage=0);var n=t.ItemUnitsList.find(function(n){return n.item_id==t._Receipt.details[e].item_id&&n.id==t._Receipt.details[e].unit_id});t._Receipt.details[e].final_conv=null!=n?(null!=n.finalconv?n.finalconv:1)*(t._Receipt.details[e].conv/n.conv):t._Receipt.details[e].conv,t._Receipt.details[e].final_conv=0==t._Receipt.details[e].final_conv?1:t._Receipt.details[e].final_conv}i=e},i=0;i<this._Receipt.details.length;i++){var r=n(i);if("object"==typeof r)return r.v}if(0==this._Receipt.details.length)return this.toastr.error(this.ItemsZeroErrorMsg),void this.AddItems();this.CheckBalanceForItemInStore(0,!0,!0)}else if("INVALID"==e.form.controls.CreditAccount.status)return}},{key:"SaveReceipt",value:function(){var e=this;if(this._Receipt.details.filter(function(e){return 0==e.allowqtyselectforitem}).length>0)return this.toastr.error(this.qtyErrorSaveMsg),this.DuringSaveDisable=!1,void this.cd.markForCheck();this.DuringSaveDisable=!0;for(var t=0;t<this._Receipt.linkedreceipts.length;t++)0==this._Receipt.linkedreceipts[t].fire&&(this._Receipt.linkedreceipts.splice(t,1),t--);""==this._Receipt.customerdeliverdate||null==this._Receipt.customerdeliverdate||""==this._Receipt.entry_time||null==this._Receipt.entry_time||""!=this._Receipt.customerdeliverdate_time&&null!=this._Receipt.customerdeliverdate_time||(this._Receipt.customerdeliverdate_time=this._Receipt.entry_time),this.chk_ChangeSupplier||this._Receipt.supplieraccount_id!=this.Oldsupplieraccount_id&&(this._Receipt.supplieraccount_id=this._Receipt.vendor_id),null==this._Receipt.id||0==this._Receipt.id?(this._Receipt.quotationstatusid=1,this._Receipt.totalitem=this._Receipt.details.length,this._ReceiptSharedService.ReceiptCreate(this._Receipt).subscribe(function(t){e.DuringSaveDisable=!1,e.toastr.success(e.SaveMsg),e.ReceiptID=t.id,e._router.navigate(["/page/inventorytransiction/receivingvoucherreturns/"+e.ReceiptID]).then(function(){window.location.reload()})})):(this._Receipt_h_Edit=new S.Iu,this._Receipt_h_Edit.Receipt_h=this._Receipt,this._Receipt_h_Edit.ReceiptOriginal=this._ReceiptOriginal,this._ReceiptSharedService.ReceiptUpdate(this._Receipt_h_Edit).subscribe(function(t){e.DuringSaveDisable=!1,e.toastr.success(e.SaveMsg),e._router.navigate(["/page/inventorytransiction/receivingvoucherreturns/"+e.ReceiptID]).then(function(){window.location.reload()})}))}},{key:"ChangePropFinish",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.DuringSaveDisable=!0,this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.timeout=null,"EntryCode"==t?e.CheckEntryCode():"EntryDate"==t&&e.ChangeEntryDate()},1e3*n)}},{key:"CheckEntryCode",value:function(){var e=this;this._ReceiptSharedService.CheckEntryNo(this._Receipt.id,this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.entry_no,this._Receipt.branch_id).subscribe(function(t){e.DuringSaveDisable=!1,e.cd.markForCheck(),null!=t&&Me().fire({title:e.swalTitleEntry,text:e.swalTextEntry,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:e.swalConfirmButtonEntry,cancelButtonText:e.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.value?e._router.navigate(["/page/inventorytransiction/receivingvoucherreturns/"+t.id]).then(function(){}):(e._Receipt.entry_no=e.entry_no,e.cd.markForCheck())})})}},{key:"GetReceiptEntryCode",value:function(){var e=this;this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(function(t){e._Receipt.entry_no=0==t.length?1:t[0].entry_no+1,e.entry_no=e._Receipt.entry_no,e.cd.markForCheck()})}},{key:"changesalesprice",value:function(e){var t=this,n=JSON.parse(localStorage.getItem("ReceivePricePolicy"));null!=n&&null!=n&&localStorage.removeItem("ReceivePricePolicy"),this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id||null!=this._Receipt.vendor_id?Me().fire({title:this.warning,text:this.WarningInfoLost,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(e){e.value?(t._Receipt.details=new Array,t._Receipt.linkedreceipts=new Array,t.ItemUnitsList=[],t.GetDefaultStoreCostCenterByBranch(!0,!1)):t._Receipt.customersalesprice=t.originalSalesPrice,localStorage.setItem("ReceivePricePolicy",JSON.stringify({SalesPricePolicy:t._Receipt.customersalesprice}))}):(this.originalSalesPrice=this._Receipt.customersalesprice,localStorage.setItem("ReceivePricePolicy",JSON.stringify({SalesPricePolicy:this._Receipt.customersalesprice})))}},{key:"GetBranchList",value:function(){var e=this;this._ReceiptSharedService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(function(t){e.BranchList=t,e.cd.markForCheck()})}},{key:"changeBranch",value:function(e){var t=this;if(this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id||null!=this._Receipt.vendor_id)Me().fire({title:this.warning,text:this.WarningInfoLost,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){if(n.value){t._Receipt.details=new Array,t._Receipt.linkedreceipts=new Array,t.ItemUnitsList=[],t._Receipt.branch_id="null"==e.target.value?null:e.target.value;var i=JSON.parse(localStorage.getItem("Branch"));null!=i&&null!=i&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:t._Receipt.branch_id})),null!=t._Receipt.branch_id?(t.GetReceiptEntryCode(),t.GetDefaultStoreCostCenterByBranch(!0)):t._Receipt.entry_no=null}else{var r=JSON.parse(localStorage.getItem("Branch"));null!=r&&null!=r&&(t._Receipt.branch_id="null"==r.branchId||0==r.branchId?null:r.branchId)}});else{this._Receipt.branch_id="null"==e.target.value?null:e.target.value;var n=JSON.parse(localStorage.getItem("Branch"));null!=n&&null!=n&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._Receipt.branch_id})),null!=this._Receipt.branch_id?(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch()):this._Receipt.entry_no=null}}},{key:"GetDefaultStoreCostCenterByBranch",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];1==n&&(this._Receipt.vendor_id=null,this._Receipt.cashcustomerid=null,this._Receipt.cashcustomer_vendor_code=null,this._Receipt.cashcustomer_vendor_name=null,this._Receipt.costcenterid=null,this._Receipt.costcenterfieldname=null),1==t&&this.Calculate_Total_Tax_Net(),this._ReceiptSharedService.DefaultStoreCostCenterByBranch(this._Receipt.branch_id).subscribe(function(t){e.StoreCostCenterSetting=t.length>0?t[0]:{storeid:null,storecode:null,costcenterid:null,costcentername:null,costcentername_ar:null},null!=e.StoreCostCenterSetting.storeid&&(0==e._Receipt.details.length&&(e._CashSalesDetailsReceipt=new S.hm,e._CashSalesDetailsReceipt.transaction_move=e.Transaction_move,e._Receipt.details.push(e._CashSalesDetailsReceipt),e._Receipt.details[0].store_id=e.StoreCostCenterSetting.storeid,e._Receipt.details[0].storecode={code:e.StoreCostCenterSetting.storecode}),1==n&&e._Receipt.details.length>0&&(e._Receipt.details.forEach(function(t){t.store_id=e.StoreCostCenterSetting.storeid,t.storecode={code:e.StoreCostCenterSetting.storecode}}),e.CheckBalanceForItemInStore(0,!0))),e.cd.markForCheck()})}},{key:"GetSalesTypesList",value:function(){var e=this;this._ReceiptSharedService.GetSalesTypeBySubId(this.subsidiaryID).subscribe(function(t){e.SalesTypesList=t,e.cd.markForCheck()})}},{key:"GetShipmentTermList",value:function(){var e=this;this._cashsalesService.GetAllShipmentTermBySubSidary(this.subsidiaryID).subscribe(function(t){e.ShipmentTermList=t,e.cd.markForCheck()})}},{key:"GetCourierList",value:function(){var e=this;this._cashsalesService.AllActiveCourierBySubsidiaryID(this.subsidiaryID).subscribe(function(t){e.CourierList=t,e.cd.markForCheck()})}},{key:"GetAllPaymentTermsList",value:function(){var e=this;this._cashsalesService.GetAllPaymentTermsList().subscribe(function(t){e.PaymentTermsList=t,e.cd.markForCheck()})}},{key:"GetCurrentUserSetting",value:function(){var e=this;this._ReceiptSharedService.GetCurrentUserSetting().subscribe(function(t){e.CurrentUserSetting=t,e.SetCustomerSalesPriceList()})}},{key:"SetCustomerSalesPriceList",value:function(){if(this.CustomerSalesPriceList=[{id:1,text:"Price1",text_ar:"\u0633\u0639\u0631 1"},{id:2,text:"Price 2",text_ar:"\u0633\u0639\u0631 2"},{id:3,text:"Last Price",text_ar:"\u0622\u062e\u0631 \u0633\u0639\u0631"}],0==this.ReceiptID){var e=JSON.parse(localStorage.getItem("ReceivePricePolicy"));this._Receipt.customersalesprice=null!=e&&null!=e?parseInt(e.SalesPricePolicy):this.CustomerSalesPriceList[0].id}this.originalSalesPrice=this._Receipt.customersalesprice}},{key:"GetCashCustomerSettings",value:function(){var e=this;this._ReceiptSharedService.GetCashCustomerSettings(this.subsidiaryID).subscribe(function(t){null!=t||null!=t?(e.CashCustomerSetting=t,e.CashCustomerSetting.allowdecimalpack=1==e.CashCustomerSetting.allowdecimalpack?".01":"1"):e.CashCustomerSetting={allowdecimalpack:"1",enablecashcustomer:!1,salesreturneffect:"1",allowpack:!1},e.cd.markForCheck()})}},{key:"GetAllInventroySettingsBySubSidary",value:function(){var e=this;this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID).subscribe(function(t){e.InventorySetting=t})}},{key:"GetSubsaidarySetting",value:function(){var e=this;this._ReceiptSharedService.GetSubsaidarySetting(this.subsidiaryID).subscribe(function(t){null!=t&&(e.subsaidarySetting=t[0],e.cd.markForCheck())})}},{key:"GetCurrencyList",value:function(){var e=this;this._VoucherService.GetSubsidaryCurrencyList(this.subsidiaryID).subscribe(function(t){var n;t.length>0&&(e.CurrencyList=t,e._BaseCurrency=e.CurrencyList.find(function(e){return 1==e.basecurrency}),e._CurrencySelected=e._BaseCurrency,e._Currencyprecision=null!==(n=e._BaseCurrency.currencyprecision)&&void 0!==n?n:3,e._Receipt.currency_id=e._CurrencySelected.id,e._Receipt.currency_rate=Number(1..toFixed(9)),e.cd.markForCheck())})}},{key:"changeshipmentterm",value:function(e){}},{key:"SupplierSelectEvent",value:function(e){this._Receipt.supplieraccount_id=e.accountid,this._Receipt.supplier_name={name:e.name},this._Receipt.supplier_namear={name_ar:e.name_ar}}},{key:"changeCurrency",value:function(e){var t,n=this;(console.log(e.target.value),this._CurrencySelected=this.CurrencyList.find(function(t){return t.id==e.target.value}),null!=this._CurrencySelected)?(t=""!=this._Receipt.entry_time&&null!=this._Receipt.entry_time&&null!=this._Receipt.entry_time?this._Receipt.entry_date+" "+this._Receipt.entry_time:this._Receipt.entry_date+" 23:59",this._VoucherService.GetSubsidaryCurrenciesRate(this.subsidiaryID,this._CurrencySelected.id,t,0).subscribe(function(e){n._Receipt.currency_rate=e&&e.length>0?e[0].rate.toFixed(9):Number(1..toFixed(9)),n.ForeignCurrencyShow=1!=n._CurrencySelected.basecurrency,n.Calculate_Total_Tax_Net(),n.cd.markForCheck()})):(this._CurrencySelected=null,this._Currencyprecision=3,this._Receipt.currency_rate=null,this.cd.markForCheck())}},{key:"ChangeEntryDate",value:function(){if(null!=this._Receipt.entry_date&&""!=this._Receipt.entry_date&&null!=this._Receipt.entry_date){this.CheckValidDateBySubsidaryID();for(var e=0;e<this._Receipt.details.length;e++)1==this._Receipt.details[e].haswarrenty&&null!=this._Receipt.details[e].warrantydate&&null!=this._Receipt.details[e].warrantydate&&Date.parse(this._Receipt.details[e].warrantydate.toString())<Date.parse(this._Receipt.entry_date.toString())&&(this._Receipt.details[e].warrantydate=null,this.toastr.error(this.ItemWarrantyValidMsg))}else this.DuringSaveDisable=!1,this.cd.markForCheck()}},{key:"CheckValidDateBySubsidaryID",value:function(){var e=this;this._ReceiptSharedService.ValidDateBySubsidaryID(this._Receipt.entry_date,this.subsidiaryID).subscribe(function(t){if(e.DuringSaveDisable=!1,e.cd.markForCheck(),null!=t||null!=t){if(null!=t||null!=t){var n=Date.parse(t.subsidarystart.toString()),i=Date.parse(e._Receipt.entry_date.toString());0==t.openperiod?(e.ValidPeriod=!1,e.ShowModeReceipt=!0,e.ShowPopUpFinancialPeriod("close")):1==t.openperiod&&n<i?(e.ValidPeriod=!0,e.ShowModeReceipt=!1,e.GetMaxCostPostedSerDate()):(e.ValidPeriod=!1,e.ShowModeReceipt=!0,e.ShowPopUpFinancialPeriod())}}else e.ValidPeriod=!1,e.ShowModeReceipt=!0,e.ShowPopUpFinancialPeriod();e.cd.markForCheck()})}},{key:"ShowPopUpFinancialPeriod",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="close"==e?this.FinancialPeriodCloseMsg:this.FinancialPeriodMsg;Me().fire({title:this.warning,text:t,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(function(e){})}},{key:"ShowPopUpCostPostedSerDate",value:function(){Me().fire({title:this.warning,text:this.CostPostingPeriodMessage,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(function(e){})}},{key:"ShowPopUpLinkedVoucherIsPosted",value:function(){Me().fire({title:this.warning,text:this.LinkedVoucherIsPostedMsg,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(function(e){})}},{key:"onFocusInCustomerAccounts",value:function(e){this.GetCustomerAccountsList("")}},{key:"CustomerAccountsChangeSearch",value:function(e){this.GetCustomerAccountsList(e.query.trim())}},{key:"CustomerAccountsSelectEvent",value:function(e){var t=this;console.log(e),1==e.pricelistitemsonly&&(this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id)?Me().fire({title:this.warning,text:this.CustomerPricelistMsg,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.value?(t._Receipt.details=new Array,t._Receipt.linkedreceipts=new Array,t.ItemUnitsList=[],t._Receipt.vendor_id=e.accountid,t._Receipt.cashcustomer_vendor_name="ar"!=t.lang?e.name:e.name_ar,t.PriceListItemsOnly=e.pricelistitemsonly,t.chk_ChangeSupplier||(t._Receipt.supplieraccount_id=e.accountid,t._Receipt.supplier_name={name:e.name},t._Receipt.supplier_namear={name_ar:e.name_ar}),null!=e.salesmanid&&0!=e.salesmanid&&""!=e.salesmanid&&(t._Receipt.empoyee_id=e.salesmanid),t.GetDefaultStoreCostCenterByBranch(!0,!1)):(t._Receipt.vendor_id=e.accountid,t._Receipt.cashcustomer_vendor_name="ar"!=t.lang?e.name:e.name_ar,t.PriceListItemsOnly=e.pricelistitemsonly,t.chk_ChangeSupplier||(t._Receipt.supplieraccount_id=e.accountid,t._Receipt.supplier_name={name:e.name},t._Receipt.supplier_namear={name_ar:e.name_ar}),null!=e.salesmanid&&0!=e.salesmanid&&""!=e.salesmanid&&(t._Receipt.empoyee_id=e.salesmanid),t.GetDefaultStoreCostCenterByBranch(!1,!1))}):(this.chk_ChangeSupplier||(this._Receipt.supplieraccount_id=e.accountid,this._Receipt.supplier_name={name:e.name},this._Receipt.supplier_namear={name_ar:e.name_ar}),this._Receipt.vendor_id=e.accountid,this._Receipt.cashcustomer_vendor_name="ar"!=this.lang?e.name:e.name_ar,this.PriceListItemsOnly=e.pricelistitemsonly,this.GetDefaultStoreCostCenterByBranch(!1,!1))}},{key:"GetCustomerAccountsList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._CustomerService.GetVendorAccountsList(this.subsidiaryID,t).subscribe(function(t){e.CustomerAccountsList=[],e.CustomerAccountsList=t,e.cd.markForCheck()})}},{key:"onClearVendor",value:function(){this._Receipt.cashcustomer_vendor_name=null,this._Receipt.vendor_balance=null,this._Receipt.vendor_id=null}},{key:"onFocusInCashCustomer",value:function(e){this.GetCashCustomerList("")}},{key:"CashCustomerChangeSearch",value:function(e){this.GetCashCustomerList(e.query.trim())}},{key:"CashCustomerSelectEvent",value:function(e){this._Receipt.cashcustomerid=e.id,this._Receipt.cashcustomer_vendor_name="ar"!=this.lang?e.name:e.name_ar}},{key:"GetCashCustomerList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.CashCustomerSearch_Phone(this.subsidiaryID,t).subscribe(function(t){e.CashCustomerList=[],e.CashCustomerList=t,e.cd.markForCheck()})}},{key:"onFocusInStore",value:function(e,t){t==this._Receipt.details.length-1&&this.AddItems(),this.GetStoreList("")}},{key:"StoreChangeSearch",value:function(e,t){this.GetStoreList(e.query.trim())}},{key:"StoreSelectEvent",value:function(e,t){this._Receipt.details[t].store_id=e.id,this._Receipt.details.forEach(function(t){t.store_id=e.id,t.storecode=e}),this._Receipt.itemscomponent.forEach(function(t){t.store_id=e.id,t.storecode=e.code}),this.CheckBalanceForItemInStore(0,!0)}},{key:"GetStoreList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetStoreList(this.subsidiaryID,t).subscribe(function(t){e.StoreList=[],e.StoreList=t,e.cd.markForCheck()})}},{key:"onFocusInItems",value:function(e,t){this.GetItemsList("")}},{key:"ItemsChangeSearch",value:function(e,t){var n=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){n.timeout=null,n.GetItemsList(e.query.trim())},300)}},{key:"ItemsSelectEvent",value:function(e,t){null!=this._Receipt.details[t].item_id&&this.onClearItems(t),0==e.stopinventorytransactions?(t==this._Receipt.details.length-1&&(this.InventorySetting?this.InventorySetting[0].permissiontorepeatiteminvoucher&&null!=this.InventorySetting[0].permissiontorepeatiteminvoucher&&null!=this.InventorySetting[0].permissiontorepeatiteminvoucher?this.AddItems():this._Receipt.details.some(function(t){return t.item_id==e.id})?this.duplicateItemSwalPopUp(t):this.AddItems():this.AddItems()),this._Receipt.details[t].item_id=e.id,this._Receipt.details[t].itemname=e.name,this._Receipt.details[t].itemname_ar=e.name_ar,this.GetItemDataDetailsLists(e,t)):(this._Receipt.details[t]=new S.hm,0==this._Receipt.id?(this._Receipt.details[t].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[t].storecode={code:this.StoreCostCenterSetting.storecode}):(this._Receipt.details[t].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.details[t].storecode=this._ReceiptOriginal.details[0].storecode),this.cd.markForCheck(),this.toastr.error(this.StopInventoryErrorMsg))}},{key:"onClearItems",value:function(e){this._Receipt.details[e].id=null,this._Receipt.details[e].finishedproductid=null,this._Receipt.details[e].finishedreceipt_did=null,this._Receipt.details[e].item_id=null,this._Receipt.details[e].itemname=null,this._Receipt.details[e].itemname_ar=null}},{key:"duplicateItemSwalPopUp",value:function(e){var t=this;Me().fire({title:this.warning,text:this.cantNotDuplicateItem,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(function(n){t.onClearItems(e),t._Receipt.details[e].itemcode=null,t.cd.markForCheck()})}},{key:"GetItemsList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";1==this.CustomerTypeID||2==this.CustomerTypeID&&0==this.PriceListItemsOnly?this._ReceiptSharedService.GetItemsDataListpurchase(this.subsidiaryID,t,this._Receipt.vendor_id).subscribe(function(t){e.ItemsList=[],e.ItemsList=t,e.cd.markForCheck()}):2==this.CustomerTypeID&&1==this.PriceListItemsOnly&&this._ReceiptSharedService.GetItemsDataFromCustomerPriceList(this.subsidiaryID,this._Receipt.vendor_id,t).subscribe(function(t){e.ItemsList=[],e.ItemsList=t,e.cd.markForCheck()})}},{key:"GetItemDataDetailsLists",value:function(e,t){var n=this;this._Receipt.details[t].id=null,this._Receipt.details[t].finishedproductid=null,this._Receipt.details[t].finishedreceipt_did=null,this._Receipt.details[t].conv=1,this._Receipt.details[t].final_conv=1,this._Receipt.details[t].qty=1,this._Receipt.details[t].price=0,this._Receipt.details[t].lowestsaleprice=0,this._Receipt.details[t].discount_percent=0,this._Receipt.details[t].discount_value=0,this._Receipt.details[t].total=0,this._Receipt.details[t].notes="",this._Receipt.details[t].unit_id=null,this._ReceiptSharedService.GetItemDataDetailsLists(this.subsidiaryID,e.id).subscribe(function(i){0==i.itemunits.length?(n._Receipt.details[t]=new S.hm,0==n._Receipt.id?(n._Receipt.details[t].store_id=n.StoreCostCenterSetting.storeid,n._Receipt.details[t].storecode={code:n.StoreCostCenterSetting.storecode}):(n._Receipt.details[t].store_id=n._ReceiptOriginal.details[0].store_id,n._Receipt.details[t].storecode=n._ReceiptOriginal.details[0].storecode),n.toastr.error(n.NoUnits)):(n._Receipt.details[t].notes=i.item.notes,n._Receipt.details[t].item_type=i.item.item_type,n._Receipt.details[t].qty=1,n._Receipt.details[t].haswarrenty=i.item.haswarrenty,n._Receipt.details[t].warrantydate=i.item.haswarrenty?n.getwarrantydateDate():null,n.ItemUnitsList.length>0?0==n.ItemUnitsList.filter(function(t){return t.item_id==e.id}).length&&(n.ItemUnitsList=n.ItemUnitsList.concat(i.itemunits)):n.ItemUnitsList=n.ItemUnitsList.concat(i.itemunits),n._Receipt.details[t].unit_id=e.purchasing_unitid,n.CheckShowWarrantyDateCols(),n.ChangeItemUnits(e.purchasing_unitid,t)),n.cd.markForCheck()})}},{key:"ChangeItemUnits",value:function(e,t){var n=this;e.toString().includes(":")&&(e=e.split(":")[1].trim());var i=this._Receipt.details[t].item_id;this.ItemUnitsList.filter(function(t){return t.item_id==i&&t.id==e}),this._ReceiptSharedService.GetItemVendorPrice(this._Receipt.vendor_id,i,e,this._Receipt.customersalesprice).subscribe(function(e){n._Receipt.details[t].price=e[0].price,n._Receipt.details[t].lowestsaleprice=n._Receipt.details[t].price,n.OnSelectedItem(n._Receipt.details[t],t),n.CalaculteValuesItemsRow(t)}),this.cd.markForCheck()}},{key:"ChangePackItem",value:function(e){var t=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.timeout=null;var n,i=0,r=t.ItemUnitsList.filter(function(n){return n.item_id==t._Receipt.details[e].item_id&&n.id==t._Receipt.details[e].unit_id});n=r[0].conv,t._ReceiptSharedService.GetItemVendorPrice(t._Receipt.vendor_id,t._Receipt.details[e].item_id,t._Receipt.details[e].unit_id,t._Receipt.customersalesprice).subscribe(function(r){i=r[0].price,t._Receipt.details[e].price=i*t._Receipt.details[e].conv/n,t._Receipt.details[e].lowestsaleprice=t._Receipt.details[e].price,t.OnSelectedItem(t._Receipt.details[e],e),t.CalaculteValuesItemsRow(e)}),t.cd.markForCheck()},1e3)}},{key:"ChangeQty",value:function(e){var t=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.timeout=null,t.StockBalances(e),t.CheckBalanceForItemInStore(e),t.CalaculteValuesItemsRow(e)},1e3)}},{key:"OnSelectedItem",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this.SelectedItem=e,this.itemqtyview=!1,null!=t&&this.StockBalances(t),""==n&&null!=t&&this.CheckBalanceForItemInStore(t)}},{key:"AddItems",value:function(){if(this._CashSalesDetailsReceipt=new S.hm,this._Receipt.details.length>0){this._CashSalesDetailsReceipt.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,this._CashSalesDetailsReceipt.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode;var e=0;this._Receipt.details.forEach(function(t){e+=t.qty}),this._Receipt.qtotal=e,this._Receipt.totalitem=this._Receipt.details.length}else{this._CashSalesDetailsReceipt.store_id=this.StoreCostCenterSetting.storeid,this._CashSalesDetailsReceipt.storecode={code:this.StoreCostCenterSetting.storecode};var t=0;this._Receipt.details.forEach(function(e){t+=e.qty}),this._Receipt.qtotal=t,this._Receipt.totalitem=this._Receipt.details.length}this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move,this._Receipt.details.push(this._CashSalesDetailsReceipt),this.cd.markForCheck()}},{key:"DeleteItems",value:function(e){var t=this._Receipt.details[e];1==this._Receipt.details.filter(function(e){return e.item_id==t.item_id}).length&&(this.ItemUnitsList=this.ItemUnitsList.filter(function(e){return e.item_id!=t.item_id})),this._Receipt.details.splice(e,1),0==this._Receipt.details.length&&(this._Receipt.discount_percent=0,this._Receipt.discount_foreignpercent=0,this._Receipt.deliveryfees=0,this._Receipt.deliveryfeesforeign=0,this._Receipt.discount_value=0,this._Receipt.discount_foreignvalue=0,this._Receipt.value=0,this._Receipt.valueforeign=0,this._Receipt.surchargevalueforeign=0,this._Receipt.surchargevalue=0),this.Calculate_Total_Tax_Net(),this._Receipt.totalitem=this._Receipt.details.length,this.OnSelectedItem(null),this.cd.markForCheck()}},{key:"Checkwarrantydate",value:function(e,t){Date.parse(e.toString())>Date.parse(this._Receipt.entry_date.toString())?(this._Receipt.details[t].warrantydate=e.target.value,this.cd.markForCheck()):(this.toastr.error(this.ItemWarrantyValidMsg),this._Receipt.details[t].warrantydate=null)}},{key:"OnSerialItems",value:function(e){}},{key:"CheckShowWarrantyDateCols",value:function(){var e=this._Receipt.details.filter(function(e){return 1==e.haswarrenty});this.ShowWarrantyDateCols=e.length>0,this.cd.markForCheck()}},{key:"CalaculteValuesItemsRow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"percent";this._Receipt.details[e].qty=this._Receipt.details[e].qty||0,this._Receipt.details[e].price=this._Receipt.details[e].price||0,this._Receipt.details[e].discount_value=this._Receipt.details[e].discount_value||0,this._Receipt.details[e].discount_percent=this._Receipt.details[e].discount_percent||0;var n=Number((this._Receipt.details[e].price*this._Receipt.details[e].qty).toFixed(this._Currencyprecision));"percent"==t&&(this._Receipt.details[e].discount_value=Number(((n*this._Receipt.details[e].discount_percent||0)/100).toFixed(this._Currencyprecision))),"value"==t&&(this._Receipt.details[e].discount_percent=100*(this._Receipt.details[e].discount_value/n%(1/0)||0)),this._Receipt.details[e].total=Number((n-this._Receipt.details[e].discount_value).toFixed(this._Currencyprecision)),this.Calculate_Total_Tax_Net(),this.cd.markForCheck()}},{key:"ReCalaculteValuesChangeItemsRow",value:function(e){this._Receipt.details[e].qty=this._Receipt.details[e].qty||1,this._Receipt.details[e].price=this._Receipt.details[e].price||0,this._Receipt.details[e].discount_value=this._Receipt.details[e].discount_value||0,this._Receipt.details[e].discount_percent=this._Receipt.details[e].discount_percent||0,this._Receipt.details[e].total=Number((this._Receipt.details[e].total||0).toFixed(this._Currencyprecision)),0==this._Receipt.details[e].discount_value?this._Receipt.details[e].price=Number((this._Receipt.details[e].total/this._Receipt.details[e].qty%(1/0)||0).toFixed(this._Currencyprecision)):0!=this._Receipt.details[e].discount_value&&(this._Receipt.details[e].price=Number(((this._Receipt.details[e].total+this._Receipt.details[e].discount_value)/this._Receipt.details[e].qty%(1/0)||0).toFixed(this._Currencyprecision)),this._Receipt.details[e].discount_percent=100*(this._Receipt.details[e].discount_value/(this._Receipt.details[e].price*this._Receipt.details[e].qty)%(1/0)||0)),this.Calculate_Total_Tax_Net(),this.cd.markForCheck()}},{key:"GetReceiptCodeList",value:function(){var e=this;this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID).subscribe(function(t){e.ReceiptCodeList=t;var n=e.ReceiptCodeList.find(function(t){return t.code==e.BasicCodeReceipt});e.Transaction_move=n.items,e.cd.markForCheck()})}},{key:"AddLinkedReceipt",value:function(){this._LinkedReceipt=new S.Cb,this._LinkedReceipt.code=this.BasicCodeReceipt,this._LinkedReceipt.branch_id=this._Receipt.branch_id,this._Receipt.linkedreceipts.push(this._LinkedReceipt),this.cd.markForCheck()}},{key:"GetLinkedReceipt",value:function(e){var t=this,n=this._Receipt.linkedreceipts[e];this.ItemLinkedReceipt=[],this.ItemComponentsLinkedReceipt=[],null!=n.branch_id&&null!=n.code&&null!=n.entry_no&&n.entry_no>0&&0==n.fire&&(this._Receipt.linkedreceipts[e].fire=1,this.spinner.show(),this._ReceiptSharedService.GetReceiptForLinkedReceipt(n.branch_id,n.code,n.entry_no).subscribe(function(n){if(t.spinner.hide(),null==n.receipt.id)t._Receipt.linkedreceipts[e].fire=0,t.toastr.error(t.ReceiptNotFound);else if(n.items.length>0)if(1==t._Receipt.linkedreceipts.length&&(t._Receipt.subsidiaryid=n.receipt.subsidiaryid,t._Receipt.customersalesprice=null!=n.receipt.customersalesprice?n.receipt.customersalesprice:t._Receipt.customersalesprice,t._Receipt.payment_type=null!=n.receipt.payment_type?n.receipt.payment_type:t._Receipt.payment_type,t._Receipt.vendor_id=null!=n.receipt.vendor_id?n.receipt.vendor_id:t._Receipt.vendor_id,t._Receipt.cashcustomerid=null!=n.receipt.cashcustomerid?n.receipt.cashcustomerid:t._Receipt.cashcustomerid,null!=t._Receipt.vendor_id&&(t._Receipt.cashcustomer_vendor_code={code:n.receipt.vendorcode},t._Receipt.cashcustomer_vendor_name="ar"==t.lang?n.receipt.vendornamear:n.receipt.vendorname,t._Receipt.vendor_balance=null!=n.receipt.vendor_balance?n.receipt.vendor_balance:t._Receipt.vendor_balance,t.PriceListItemsOnly=n.receipt.pricelistitemsonly),null!=t._Receipt.cashcustomerid&&(t._Receipt.cashcustomer_vendor_code={phonenumber:n.receipt.phonenumber},t._Receipt.cashcustomer_vendor_name="ar"==t.lang?n.receipt.cashcustomername_ar:n.receipt.cashcustomername,t.PriceListItemsOnly=!1),t._Receipt.currency_id=n.receipt.currency_id,t._Receipt.currency_rate=n.receipt.currency_rate,t._Receipt.empoyee_id=null!=n.receipt.empoyee_id?n.receipt.empoyee_id:t._Receipt.empoyee_id,t._Receipt.memo=n.receipt.memo,t._Receipt.reference_no=n.receipt.reference_no,t._CurrencySelected=t.CurrencyList.find(function(e){return e.id==t._Receipt.currency_id}),t.ForeignCurrencyShow=1!=t._CurrencySelected.basecurrency),0==t.PriceListItemsOnly||n.receipt.vendor_id==t._Receipt.vendor_id){t._Receipt.linkedreceipts[e].fire=1,t._Receipt.linkedreceipts[e].receiptid=n.receipt.id,t._Receipt.linkedreceipts[e].subsidiaryid=t.subsidiaryID,t._Receipt.linkedreceipts[e].parentreceiptid=t._Receipt.id;for(var i=0;i<t._Receipt.details.length;i++)null==t._Receipt.details[i].item_id&&(t._Receipt.details.splice(i,1),i--);n.itemunits.forEach(function(e){0==t.ItemUnitsList.filter(function(t){return t.item_id==e.item_id&&t.id==e.unit_id}).length&&t.ItemUnitsList.push(e)}),t.ItemLinkedReceipt=n.items,81==n.receipt.code&&(t.ItemComponentsLinkedReceipt=t.ItemComponentsLinkedReceipt.filter(function(e){return-1==e.transaction_move})),t.SetLinkReceiptItemRow(0,t.ItemLinkedReceipt[0])}else t._Receipt.linkedreceipts[e].fire=0,t.toastr.info(t.CustomerPricelistMsg);else t.spinner.hide(),t._Receipt.linkedreceipts[e].fire=0,t.toastr.error(t.Receiptnoitems),t._Receipt.linkedreceipts[e].entry_no=null,t.cd.markForCheck()}))}},{key:"SetLinkReceiptItemRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;this._CashSalesDetailsReceipt=new S.hm;var n=this._Receipt.details.findIndex(function(e){return e.item_id==t.item_id&&e.unit_id==t.unit_id&&e.conv==t.conv});-1==n?(this._Receipt.details.length>0?(this._CashSalesDetailsReceipt.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,this._CashSalesDetailsReceipt.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode):(this._CashSalesDetailsReceipt.store_id=t.store_id,this._CashSalesDetailsReceipt.storecode={code:t.storecode}),this._CashSalesDetailsReceipt.item_id=t.item_id,this._CashSalesDetailsReceipt.itemcode={code:t.itemcode},this._CashSalesDetailsReceipt.itemname=t.itemname,this._CashSalesDetailsReceipt.itemname_ar=t.itemname_ar,this._CashSalesDetailsReceipt.unit_id=t.unit_id,this._CashSalesDetailsReceipt.conv=t.conv,this._CashSalesDetailsReceipt.qty=t.qty,this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move,this._CashSalesDetailsReceipt.isrequireserial=t.isrequireserial,this._CashSalesDetailsReceipt.item_type=t.item_type,this._CashSalesDetailsReceipt.notes=t.notes,this._CashSalesDetailsReceipt.haswarrenty=t.haswarrenty,this._CashSalesDetailsReceipt.warrantydate=t.warrantydate,this._CashSalesDetailsReceipt.detailshtml=t.detailshtml,this._CashSalesDetailsReceipt.customitemname=t.customitemname,this._CashSalesDetailsReceipt.salesmanid=t.salesmanid,this._CashSalesDetailsReceipt.price=0!=t.priceafterincrease&&null!=t.priceafterincrease?t.priceafterincrease:t.price,this._CashSalesDetailsReceipt.discount_percent=t.discount_percent,this._CashSalesDetailsReceipt.discount_value=t.discount_value,this._CashSalesDetailsReceipt.total=t.total,this.ItemUnitsList.filter(function(e){return e.item_id==t.item_id&&e.id==t.unit_id}),this._Receipt.details.push(this._CashSalesDetailsReceipt),this.CalaculteValuesItemsRow(this._Receipt.details.length-1),e+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(e+1,this.ItemLinkedReceipt[e+1]):(this.CheckShowWarrantyDateCols(),this.SetLinkReceiptItemComponentsRows())):(this._Receipt.details[n].qty=this._Receipt.details[n].qty+parseFloat(t.qty),this.CalaculteValuesItemsRow(n),e+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(e+1,this.ItemLinkedReceipt[e+1]):(this.CheckShowWarrantyDateCols(),this.SetLinkReceiptItemComponentsRows()))}},{key:"SetLinkReceiptItemComponentsRows",value:function(){if(this.spinner.hide(),this.IxLRS+1<this.LinkedReceiptListSelected.length){this.IxLRS=this.IxLRS+1;var e=this._Receipt.linkedreceipts.length-(this.IxLRS+1);1!=this._Receipt.linkedreceipts[e].fire&&this.GetLinkedReceipt(e)}else this.CheckBalanceForItemInStore(0,!0),this.StockBalances(0)}},{key:"OnOpenLinkedReceipt",value:function(e){var t=this,n=this._Receipt.linkedreceipts[e],i=this._ReceiptSharedService.ReceiptsLinked_Url_Codes.find(function(e){return e.Code==n.code});null!=this._Receipt.linkedreceipts[e].receiptid?""!=i.Url&&window.open(i.Url+this._Receipt.linkedreceipts[e].receiptid+"/show","_blank"):null!=n.branch_id&&null!=n.code&&null!=n.entry_no&&n.entry_no>0&&this._ReceiptSharedService.GetLinkedReceiptID(n.branch_id,n.code,n.entry_no).subscribe(function(e){""!=i.Url&&null!=e?window.open(i.Url+e.id+"/show","_blank"):t.toastr.error(t.ReceiptNotFound)})}},{key:"DeleteLinkedReceipt",value:function(e){this._Receipt.linkedreceipts.splice(e,1),this.cd.markForCheck()}},{key:"OnSignatureSet",value:function(e){this._Receipt.signature=e.signature}},{key:"OnOpenReceiptHistory",value:function(e){var t=this.ReceiptHistoryList[e],n=this._ReceiptSharedService.ReceiptsLinked_Url_Codes.find(function(e){return e.Code==t.code});""!=n.Url&&window.open(n.Url+this.ReceiptHistoryList[e].receiptid+"/show","_blank")}},{key:"Calculate_Total_Tax_Net",value:function(){var e=0;this._Receipt.details.forEach(function(t){e+=t.total}),1==this._Receipt.currency_rate?(this._Receipt.value=Number(e.toFixed(this._Currencyprecision)),this._Receipt.valueforeign=Number(e.toFixed(this._Currencyprecision))):(this._Receipt.valueforeign=Number(e.toFixed(this._Currencyprecision)),this._Receipt.value=Number((e/this._Receipt.currency_rate).toFixed(this._Currencyprecision))),this._Receipt.deliveryfees=this._Receipt.deliveryfees||0,this._Receipt.deliveryfeesforeign=this._Receipt.deliveryfeesforeign||0,this._Receipt.discount_foreignpercent=this._Receipt.discount_foreignpercent||0,this._Receipt.discount_foreignvalue=this._Receipt.discount_foreignvalue||0,this._Receipt.discount_percent=this._Receipt.discount_percent||0,this._Receipt.discount_value=this._Receipt.discount_value||0,this._Receipt.surchargepercent=this._Receipt.surchargepercent||0,this._Receipt.surchargevalue=this._Receipt.surchargevalue||0;var t=0;this._Receipt.details.forEach(function(e){t+=e.qty}),this._Receipt.qtotal=t,this.CalculateTax_Net(e)}},{key:"CalculateTax_Net",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;1==this._Receipt.currency_rate?(this._Receipt.netvalue=Number(e.toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0,this._Receipt.netvalueforeign=this._Receipt.netvalue):(this._Receipt.netvalueforeign=Number(e.toFixed(this._Currencyprecision)),this._Receipt.netvalueforeign=this._Receipt.netvalueforeign>=0?this._Receipt.netvalueforeign:0,this._Receipt.netvalue=Number((this._Receipt.netvalueforeign/this._Receipt.currency_rate).toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0)}},{key:"StockBalances",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!=e&&3!=this._Receipt.details[e].item_type?(this.itemqtyview=!1,this._itemstoreqtyobj=new S.I$,this._itemstoreqtyobj.subsidairyid=this.subsidiaryID,this._itemstoreqtyobj.ReceiptCode=this.BasicCodeReceipt,this._itemstoreqtyobj.BranchID=this._Receipt.branch_id,this._itemstoreqtyobj.Entrydate=this._Receipt.entry_date,this._itemstoreqtyobj.Unit_ID=this._Receipt.details[e].unit_id,this._itemstoreqtyobj.conv=this._Receipt.details[e].conv,this._itemstoreqtyobj.itemid=this._Receipt.details[e].item_id,this.itemqtyview=!0):(this.itemqtyview=!1,this._itemstoreqtyobj=new S.I$)}},{key:"CheckBalanceForItemInStore",value:function(e){var n,i=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];1==a&&(this.DuringSaveDisable=!0,this.cd.markForCheck());var o=!0,c=new S.I$;if(null!=this._Receipt.details[e].item_id){c.ReceiptCode=this.BasicCodeReceipt,c.BranchID=this._Receipt.branch_id,c.Entrydate=this._Receipt.entry_date,c.Unit_ID=this._Receipt.details[e].unit_id,c.conv=this._Receipt.details[e].conv,c.Qty=0,c.itemid=this._Receipt.details[e].item_id,c.StoreID=this._Receipt.details[e].store_id,c.subsidairyid=this.subsidiaryID,c.ReceiptID=this._Receipt.id;var l=null!==(n=this.ReceiptCodeList.filter(function(e){return e.code==i.BasicCodeReceipt})[0].items)&&void 0!==n?n:-1,s=this.InventorySetting[0].physicalnegativeinventoryid;2!=this._Receipt.details[e].item_type&&(-1==l||1==l&&this._Receipt.details[e].id>0)&&1==s?this._ReceiptSharedService.CheckBalanceForItemInStore(c).subscribe(function(n){var c=0,s=0,d=0,p=[],u=!0;if(0==n.consignment.consignment){if(null!=n.totalqty.totalqty){if(c=n.totalqty.totalqty,p=n.itemcomponent,i._Receipt.details.filter(function(t){return t.item_id==i._Receipt.details[e].item_id}).forEach(function(e){var t=i.ItemUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=t){var n=null!=t.finalconv?t.finalconv:1,r=null!=t.conv?t.conv:1,a=e.conv;s=parseFloat(s.toString())+n*(a/r)*parseFloat(e.qty.toString())}}),3!=i._Receipt.details[e].item_type&&function(){i._Receipt.itemscomponent.filter(function(t){return t.item_id==i._Receipt.details[e].item_id&&null!=t.id}).forEach(function(e){var t=i.ItemComponentUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=t){var n=(null!=t.finalconv?t.finalconv:1)*(e.conv/(null!=t.conv?t.conv:1))*parseFloat(e.qty.toString());s=parseFloat(s.toString())+n}});for(var n=[],r=[],a=i._Receipt.details.filter(function(e){return 3==e.item_type&&null==e.id}),o=function(o){n=[],r=[],n=i._Receipt.itemscomponent.filter(function(t){return t.finishedproductid==a[o].item_id&&t.item_id==i._Receipt.details[e].item_id&&null==t.id}),r=t(new Map(n.map(function(e){return[e.finishedproductid,e]&&[e.item_id,e]})).values());for(var c=function(e){var t=r[e].basicqtycomponent*a[o].qty,n=i.ItemComponentUnitsList.find(function(t){return t.item_id==r[e].item_id&&t.id==r[e].unit_id});if(null!=n){var c=(null!=n.finalconv?n.finalconv:1)*(r[e].conv/(null!=n.conv?n.conv:1))*parseFloat(t.toString());s=parseFloat(s.toString())+c}},l=0;l<r.length;l++)c(l)},c=0;c<a.length;c++)o(c)}(),-1==l?d=c-s:1==l&&(d=c+s),3==i._Receipt.details[e].item_type)for(var m=function(e){if(2!=p[e].item_type){var n=i._Receipt.details.filter(function(t){return t.item_id==p[e].item_id}),r=0;if(n.forEach(function(e){var n=i.ItemUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=n){var a=null!=n.finalconv?n.finalconv:1,o=null!=n.conv?n.conv:1,c=e.conv;r=parseFloat(r.toString())+a*(c/o)*parseFloat(e.qty.toString())}i._Receipt.itemscomponent.filter(function(t){return t.item_id==e.item_id&&null!=t.id}).forEach(function(e){var t=i.ItemComponentUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=t){var n=(null!=t.finalconv?t.finalconv:1)*(e.conv/(null!=t.conv?t.conv:1))*parseFloat(e.qty.toString());r=parseFloat(r.toString())+n}});for(var l=[],s=[],d=i._Receipt.details.filter(function(e){return 3==e.item_type&&null==e.id}),p=function(n){l=[],s=[],l=i._Receipt.itemscomponent.filter(function(t){return t.finishedproductid==d[n].item_id&&t.item_id==e.item_id&&null==t.id}),s=t(new Map(l.map(function(e){return[e.finishedproductid,e]&&[e.item_id,e]})).values());for(var a=function(e){var t=s[e].basicqtycomponent*d[n].qty,a=i.ItemUnitsList.find(function(t){return t.item_id==s[e].item_id&&t.id==s[e].unit_id});if(null!=a){var o=(null!=a.finalconv?a.finalconv:1)*(s[e].conv/(null!=a.conv?a.conv:1))*parseFloat(t.toString());r=parseFloat(r.toString())+o}},o=0;o<s.length;o++)a(o)},u=0;u<d.length;u++)p(u)}),!(r<=p[e].totalqty))return u=!1,"break";u=!0}},h=0;h<p.length;h++){if("break"===m(h))break}o=d>=0&&1==u}else o=!1;0==o?(i._Receipt.details[e].allowqtyselectforitem=!1,i.cd.markForCheck(),i.toastr.warning(i.qtyErrorMsg+c)):(i._Receipt.details[e].allowqtyselectforitem=!0,i.cd.markForCheck())}1==r&&e+1<i._Receipt.details.length?i.CheckBalanceForItemInStore(e+1,!0,a):1==a&&i.SaveReceipt()}):1==r&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,a):1==a&&this.SaveReceipt()}else 1==r&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,a):1==a&&this.SaveReceipt()}},{key:"CreateNewAction",value:function(){var e=this;JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||1==this.ShowModeReceipt||this.ReceiptID>0&&!this.checkRoleParms(624)?this._router.navigate(["/page/inventorytransiction/receivingvoucherreturns/0"]).then(function(){window.location.reload()}):Me().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(t){t.value?e.CheckPre_SaveReceipt(e.RForm):t.dismiss===Me().DismissReason.cancel&&e._router.navigate(["/page/inventorytransiction/receivingvoucherreturns/0"]).then(function(){window.location.reload()})})}},{key:"DeleteAction",value:function(){var e=this;Me().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(t){t.isConfirmed&&1==t.isConfirmed&&e._ReceiptSharedService.DeleteReceipts(e._Receipt.id).subscribe(function(t){0==t.bcount?(e.toastr.success(e.toastrSuccessDelete),e._router.navigate(["/page/inventorytransiction/receivingvoucherreturns"])):-1==t.bcount?(t.usedserials.forEach(function(t){var n=e._Receipt.details.findIndex(function(e){return e.item_id==t.itemid&&e.batcheslist[0].id==t.id});-1!=n&&(e._Receipt.details[n].allowqtyselectforitem=!1)}),e.toastr.error(e.RelatedwithSerialsOrBatches)):e.toastr.error(e.DeleteRelationmsg)})})}},{key:"GetMaxCostPostedSerDate",value:function(){var e=this;this._ReceiptSharedService.GetMaxCostPostedSerDate(this._Receipt.entry_date,this.subsidiaryID).subscribe(function(t){var n=e.datepipe.transform(t[0].maxpostingdate,"yyyy-MM-dd");Date.parse(n.toString())<Date.parse(e._Receipt.entry_date.toString())?(e.ShowModeReceipt=!1,e.ValidPeriod=!0):(e.ShowModeReceipt=!0,e.ValidPeriod=!1,e.ShowPopUpCostPostedSerDate()),e.cd.markForCheck()})}},{key:"DupilcateAction",value:function(){var e=this;this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(function(t){e._Receipt.entry_no=0==t.length?1:t[0].entry_no+1,e.entry_no=e._Receipt.entry_no,e.location.replaceState("/page/inventorytransiction/receivingvoucherreturns/0"),e.ReceiptID=0,e._Receipt.id=null,e.VouchersLinkedCount=0,e.CheckBalanceForItemInStore(0,!0),e.cd.markForCheck()})}},{key:"DocumentAction",value:function(){this._router.navigate(["/page/setupsettings/documents/3/"+this._Receipt.id+"/receivingvoucherreturns"],{relativeTo:this._activeRoute,queryParams:{show:this.LockedRecepit}})}},{key:"PrintPreview",value:function(e){var t=this,n=this.getReportfilter(0==e?1:0);this.spinner.show(),this._ReceiptSharedService.GetReport(n).subscribe(function(n){t.spinner.hide(),1==e?t._authService.showPdfInNewTab(n.bytes,""):t._authService.printJS(n.bytes)}),this.cd.markForCheck()}},{key:"onPrint",value:function(){var e=this,t=this.getReportfilter(0);this._VerifyReportsService.SaveVerifyReports(this.subsidiaryID,this.lang).subscribe(function(n){e.reporturl="".concat(e.reportdomainUrl,"?q=").concat(t.reportName,"&ID=").concat(t.ReceiptID),""!=t.lang&&(e.reporturl=e.reporturl+"&Lang=".concat(t.lang)),""!=t.DomainName&&(e.reporturl=e.reporturl+"&DomainName=".concat(t.DomainName)),""!=t.toEmail&&(e.reporturl=e.reporturl+"&email=".concat(t.toEmail,"+&Subject=").concat(t.Subject,"+&boby=").concat(t.boby)),e.reporturl=e.reporturl+"&Info=".concat(n),e._authService.showReportInNextTab(e.reporturl),e.cd.markForCheck()})}},{key:"sendEmail",value:function(e){var t=this;this._emailobj=e.list;var n=this.getReportfilter(0);this.spinner.show(),this._ReceiptSharedService.GetReport(n).subscribe(function(e){t.spinner.hide(),alert(t.mailmsg)}),this.cd.markForCheck()}},{key:"getReportfilter",value:function(){var e=this._authService.userInfo().clientdatabase,t="";"ar"==this.lang&&(t="_ar");var n={reportName:"P_I_3_ReceivingVoucher"+t,SubsidaryID:this.subsidiaryID,ReceiptID:this._Receipt.id,lang:"",DomainName:"",toEmail:"",Subject:"",boby:""};return e.indexOf("alromaih")>-1?"P_I_3_ReceivingVoucher_GL_WEB_alromaih":e.indexOf("bander")>-1||e.indexOf("192.168.1.50")>-1||e.indexOf("win-69te7j9nfsu")>-1||e.indexOf("localhost:1000")>-1?n={reportName:"P_I_3_ReceivingVoucher_Bandar",SubsidaryID:this.subsidiaryID,ReceiptID:this._Receipt.id,lang:t,DomainName:"",toEmail:"",Subject:"",boby:""}:e.indexOf("istones")>-1?n={reportName:"P_S_52_Issue_GL_WEB_istones",SubsidaryID:this.subsidiaryID,ReceiptID:this._Receipt.id,lang:t,DomainName:window.location.origin,toEmail:"",Subject:"",boby:""}:e.indexOf("darshgf")>-1&&(n={reportName:"P_I_3_ReceivingVoucher_GL_WEB_darshgf"+t,SubsidaryID:this.subsidiaryID,ReceiptID:this._Receipt.id,lang:"",DomainName:"",toEmail:"",Subject:"",boby:""}),n.toEmail=this._emailobj.email,n.Subject=this._emailobj.subject,n}},{key:"BackAction",value:function(){var e=this;JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||this.ReceiptID>0&&!this.checkRoleParms(624)||0==this.ReceiptID&&!this.checkRoleParms(238)||1==this.ShowModeReceipt?this._router.navigate(["/page/inventorytransiction/receivingvoucherreturns"]):Me().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(t){t.value?e.CheckPre_SaveReceipt(e.RForm):t.dismiss===Me().DismissReason.cancel&&e._router.navigate(["/page/inventorytransiction/receivingvoucherreturns"])})}},{key:"CashReturn",value:function(){}},{key:"IssueVoucher",value:function(){}},{key:"CreateWorkOrder",value:function(){}},{key:"ViewReportDeliveryNote",value:function(){}},{key:"getCurrentDate",value:function(){var e=new Date,t=e.getFullYear();return e.getMonth()+1+"/"+e.getDate()+"/"+t}},{key:"getwarrantydateDate",value:function(){var e=new Date,t=e.getFullYear()+1;return e.getMonth()+1+"/"+e.getDate()+"/"+t}},{key:"SetTimeNow",value:function(){var e=new Date;return("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)}},{key:"OpenModal",value:function(e){this.modalReference=this.modalService.open(e,{size:"xl",backdrop:"static"})}},{key:"CloseModal",value:function(){this.modalReference.close()}},{key:"formateDecimal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return e.toFixed(t)}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"checkRolesParms",value:function(e){var t=!0;return this._authService.isHasRole(e)||(t=!1),t}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}},{key:"customTrackBy",value:function(e,t){return e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(M["\u0275\u0275directiveInject"](b.n),M["\u0275\u0275directiveInject"](Pe.v),M["\u0275\u0275directiveInject"](R.t),M["\u0275\u0275directiveInject"](Oe.H),M["\u0275\u0275directiveInject"](M.ChangeDetectorRef),M["\u0275\u0275directiveInject"](I._W),M["\u0275\u0275directiveInject"](m.F0),M["\u0275\u0275directiveInject"](P.m),M["\u0275\u0275directiveInject"](h.sK),M["\u0275\u0275directiveInject"](O.K),M["\u0275\u0275directiveInject"](m.gz),M["\u0275\u0275directiveInject"](F.FF),M["\u0275\u0275directiveInject"](k.t2),M["\u0275\u0275directiveInject"](E.e),M["\u0275\u0275directiveInject"](w.$),M["\u0275\u0275directiveInject"](x.J),M["\u0275\u0275directiveInject"](l.uU),M["\u0275\u0275directiveInject"](l.Ye))},e.\u0275cmp=M["\u0275\u0275defineComponent"]({type:e,selectors:[["receivingvoucherretunrns-details"]],viewQuery:function(e,t){var n;(1&e&&M["\u0275\u0275viewQuery"](Id,5),2&e)&&(M["\u0275\u0275queryRefresh"](n=M["\u0275\u0275loadQuery"]())&&(t.RForm=n.first))},features:[M["\u0275\u0275ProvidersFeature"]([b.n,Pe.v,R.t,l.uU,Oe.H,x.J])],decls:4,vars:3,consts:[["class","row",4,"ngIf"],[4,"ngIf"],["DescriptionItemModel",""],[1,"row"],[2,"margin","0 30% 0 30%","margin-top","200px"],[1,"col-md-12","col-lg-12"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"container-fluid","py-4","pl-0","pr-0"],[1,"card","my-2","mx-2","px-3","pb-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-1","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"col-12","text-right","actionBtns"],["type","submit",1,"btn","btn-success","btn-md","mr-2","mb-2"],[1,""],["type","button",1,"btn","btn-success","btn-md","mr-2","mb-2",3,"click"],["class","btn btn-primary btn-md mr-2\n                  mb-2","type","button",3,"click",4,"ngIf"],["class","btn btn-warning btn-md mr-2\n                  mb-2","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-danger","btn-md","mr-2","mb-2",3,"click"],[1,"btn-group"],["type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-primary","dropdown-toggle","btn-md","mr-2","mb-2"],[1,"dropdown-menu"],[1,"col-12","col-md-4","mb-2","mb-md-0"],[1,"form-group"],["for","Category",1,"col-form-label"],["name","customersalesprice",1,"form-control",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[2,"color","red","font-weight","bold"],["name","Branch","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["Branch","ngModel"],["Value","null",4,"ngIf"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12","col-md-3","mb-2","mb-md-0"],["for","VendorCode",1,"col-form-label"],["type","text","id","entry_no","name","entry_no","PositiveNumbersOrDecimalOnly","","required","","customMin","",1,"form-control",3,"stepallow","ngModel","Min","CheckMin","readonly","ngClass","ngModelChange","keydown.space"],["entry_no","ngModel"],[1,"col-form-label"],["minLength","0","delay","0","field","code","name","CreditAccount","required","",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","ngClass","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoCustomerAccounts","","CreditAccount","ngModel"],["pTemplate","CustomerAccountsTemplate"],["for","cashcustomer_vendor_phone",1,"col-form-label"],["type","text","id","cashcustomer_vendor_name","name","cashcustomer_vendor_name",1,"form-control",3,"ngModel","readonly","ngModelChange"],["cashcustomer_vendor_name","ngModel"],["for","entry_date",1,"col-form-label"],["type","date","id","entry_date","name","entry_date","required","",1,"form-control",3,"ngModel","readonly","ngClass","ngModelChange"],["entry_date","ngModel"],["type","time","id","entry_time","name","entry_time",1,"form-control",3,"readonly","ngModel","ngModelChange"],["entry_time","ngModel"],["class","\n                col-12 col-md-3 mb-2 mb-md-0",4,"ngIf"],["for","reference_no",1,"col-form-label"],["type","text","id","reference_no","name","reference_no",1,"form-control",3,"ngModel","ngModelChange"],["reference_no","ngModel"],["for","memo",1,"col-form-label"],["type","text","id","memo","name","memo",1,"form-control",3,"ngModel","ngModelChange"],["memo","ngModel"],["for","CostingRate",1,"col-form-label"],["type","number","min","0","id","CostingRate","name","CostingRate",1,"form-control",3,"ngModel","readonly","ngModelChange"],["CostingRate","ngModel"],[1,"card","my-2","mx-2","px-3","pb-3","pt-3"],[1,"col-12","nav-wrapper","position-relative","end-0","mt-3"],[1,"col-xl-7","col-md-7"],["ngbNav","",1,"nav","nav-pills","nav-fill","p-1",3,"destroyOnHide","activeId","activeIdChange"],["nav","ngbNav"],[1,"nav-item",3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavItem"],[1,"mt-2",3,"ngbNavOutlet"],[1,"row","col-md-5",2,"margin-top","4rem"],[1,"col"],[1,"table-responsive","table","table-accountdetails"],[1,"table"],["scope","col"],["scope","col",3,"hidden"],[3,"hidden"],["PositiveNumbersOnly","","type","number","name","ovr_ForiegnNet",1,"form-control",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalNet",1,"form-control",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalTotalqty",1,"form-control","totalValInput","font-weight-bold",3,"readonly","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalTotalitem",1,"form-control","totalValInput","font-weight-bold",3,"readonly","ngModel","ngModelChange"],[1,"row","col-md-7"],["type","button",1,"btn","btn-primary","btn-md","mr-2","mb-2",3,"click"],["type","button",1,"btn","btn-warning","btn-md","mr-2","mb-2",3,"click"],["type","button",1,"dropdown-item",3,"click"],[3,"entryno","_savedemailobj"],["class","dropdown-item","type","button",3,"click",4,"ngIf"],[3,"value"],["Value","null"],["for","Currency",1,"col-form-label"],["name","Currency","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["Currency","ngModel"],[3,"ngValue",4,"ngIf"],[3,"ngValue"],["for","CurrencyRate",1,"col-form-label"],["type","number","PositiveNumbersOnly","","min","0","id","CurrencyRate","name","CurrencyRate","required","",1,"form-control",3,"ngModel","readonly","ngClass","ngModelChange","keyup"],["CurrencyRate","ngModel"],[1,"row",2,"margin-top","10px"],[1,"table-responsive","table","table-accountdetails",3,"ngClass"],["scope","col",2,"width","5%"],["scope","col",2,"width","9%"],["scope","col",4,"ngIf"],["scope","col",2,"min-width","30px"],[4,"ngFor","ngForOf","ngForTrackBy"],["type","button",1,"btn","btn-success",3,"click"],[2,"padding-top","15px !important"],["minLength","0","delay","0","field","code",3,"ngModel","disabled","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoStore",""],["pTemplate","servstoreTemplate"],["minLength","0","delay","0","field","code",3,"ngModel","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoItems",""],["pTemplate","servCodeTemplate"],[3,"click"],[3,"ngClass",4,"ngIf"],[1,"form-control",3,"name","ngModel","required","ngClass","ngModelChange","change"],["itemunit","ngModel"],[3,"ngValue","selected",4,"ngFor","ngForOf"],["customMin","","PositiveNumbersOnly","","type","number",1,"form-control",3,"Min","CheckMin","ngModel","name","ngClass","keyup","ngModelChange"],["item_qty","ngModel"],["PositiveNumbersOnly","","type","number","customMin","",1,"form-control",3,"ngModel","name","Min","CheckMin","ngClass","keyup","ngModelChange"],["price","ngModel"],["PositiveNumbersOnly","","customMin","","type","number","customMax","100",1,"form-control",3,"Min","CheckMin","ngModel","name","readonly","ngClass","keyup","ngModelChange"],["discountpercent","ngModel"],["style","color: red",4,"ngIf"],["PositiveNumbersOnly","","type","number","customMin","",1,"form-control",3,"ngModel","name","readonly","Min","CheckMin","ngClass","keyup","ngModelChange"],["discount_value","ngModel"],["PositiveNumbersOnly","","type","number",1,"form-control",2,"background-color","silver",3,"ngModel","name","keyup","ngModelChange"],["href","javascript:;",2,"color","red",3,"click"],[1,"fa","fa-trash","fa-lg"],["type","date",1,"form-control",3,"hidden","name","ngModel","required","ngClass","ngModelChange"],["warrantydate","ngModel"],[3,"ngClass"],[3,"ngValue","selected"],["customMin","","PositiveNumbersOrDecimalOnly","","type","number",1,"form-control",3,"readonly","step","Min","CheckMin","stepallow","ngModel","name","required","ngClass","keyup","ngModelChange"],["item_conv","ngModel"],[2,"color","red"],[4,"ngFor","ngForOf"],[1,"form-control","red",3,"name","ngModel","ngModelChange"],["type","number",1,"form-control","red",3,"ngModel","name","ngModelChange"],["LinkedReceiptsentry_no","ngModel"],["href","javascript:;",2,"color","green",3,"click"],["aria-hidden","true",1,"fa","fa-plus-square","fa-lg"],["href","javascript:;",1,"info","p-0",3,"click"],["aria-hidden","true",1,"fa","fa-eye","fa-lg"],["for","shipmentterm",1,"col-form-label"],["name","shipmentterm",1,"form-control",3,"ngModel","ngModelChange","change"],["shipmentterm","ngModel"],[1,"col-md-3","form-group"],["for","SupplierAccount",1,"col-form-label"],["type","checkbox","id","ChangeSupplier",3,"checked","ngModelOptions","ngModel","ngModelChange"],["for","ChangeSupplier"],["for","deliverylocation",1,"col-form-label"],["type","text","name","deliverylocation",1,"form-control",3,"ngModel","ngModelChange"],["for","PaymentTerm",1,"col-form-label"],["name","PaymentTerm",1,"form-control",3,"ngModel","ngModelChange"],["paymentterm","ngModel"],["for","contactedperson",1,"col-form-label"],["type","text","name","contactedperson",1,"form-control",3,"ngModel","ngModelChange"],["for","planneddeliverydate",1,"col-form-label"],["type","date","id","planneddeliverydate","name","planneddeliverydate",1,"form-control",3,"ngModel","ngModelChange"],["planneddeliverydate","ngModel"],["for","Courier",1,"col-form-label"],["name","Courier",1,"form-control",3,"ngModel","ngModelChange"],["Courier","ngModel"],["for","othernotes",1,"col-form-label"],["id","othernotes","name","othernotes","rows","3",1,"form-control",3,"ngModel","ngModelChange"],["othernotes","ngModel"],["for","actualdeliverydate",1,"col-form-label"],["type","date","id","actualdeliverydate","name","actualdeliverydate",1,"form-control",3,"ngModel","ngModelChange"],["actualdeliverydate","ngModel"],["minLength","0","delay","0","field","name","name","SupplierAccount",3,"ngModel","disabled","suggestions","onFocus","ngModelChange","onSelect","completeMethod"],["autoCustomerAccounts",""],["minLength","0","delay","0","field","name_ar","name","SupplierAccount",3,"disabled","ngModel","suggestions","onFocus","ngModelChange","onSelect","completeMethod"],[3,"signature","signatureoutput"],[1,"row","mb-6"],[1,"col-12"],[1,"table-responsive","table-accountdetails"],["disabled","",1,"form-control","red",3,"name","ngModel","ngModelChange"],["type","number","disabled","",1,"form-control","red",3,"ngModel","name","ngModelChange"],["historyReceiptsentry_no","ngModel"],[1,"gridActionsTd","text-center"],["href","javascript:;",1,"btn","btn-primary","transparent-BG",3,"click"],[3,"wrappe"],["ItemStoreQty",""],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"col-md-12","form-group"],["for","customitemname",1,"col-form-label"],["type","text","id","customitemname","name","customitemname",1,"form-control",3,"ngModel","ngModelChange"],["customitemname","ngModel"],[1,"col-md-12","row"],[3,"styles","ngModel","ngModelOptions","modules","ngModelChange"],["class","col-md-12",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-secondary","mr-2","ml-2",3,"click"],[1,"ft-x","mr-1"],[1,"col-md-12"],["for","salesmanid",1,"col-form-label"],["name","salesmanid",1,"form-control",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(M["\u0275\u0275template"](0,Pd,4,3,"div",0),M["\u0275\u0275template"](1,hu,188,147,"ng-container",1),M["\u0275\u0275template"](2,Su,26,20,"ng-template",null,2,M["\u0275\u0275templateRefExtractor"])),2&e&&(M["\u0275\u0275property"]("ngIf",!(t.checkRoleParms(8804)||t.checkRoleParms(8805)||t.checkRoleParms(8806)||t.checkRoleParms(8808))),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",t.checkRolesParms(M["\u0275\u0275pureFunction0"](2,Ru))))},directives:[l.O5,d._Y,d.JL,d.F,d.EJ,d.JJ,d.On,l.sg,d.Q7,l.mk,d.Fj,we.L,De.a,u.Qc,Be.jx,d.qQ,d.wV,F.Pz,F.nv,F.Vx,F.uN,F.tO,L.K,Le.k,d.YN,d.Kr,Fe.Z,d.Wl,Ve.t,qe.T,f.g6],pipes:[h.X$,l.uU,Te.N],styles:['.headerform[_ngcontent-%COMP%]{border-radius:5px;font-size:1.5rem;padding:5px 2em}.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}.table-accountdetails[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#80808030}.table-accountdetails[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#7b809a}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important;text-align:center}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}']}),e}();function Mu(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"div",4),M["\u0275\u0275elementStart"](1,"h1",5),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function Iu(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.name)}}function Pu(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.name_ar)}}function Ou(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",52),M["\u0275\u0275template"](1,Iu,2,1,"span",1),M["\u0275\u0275template"](2,Pu,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275propertyInterpolate"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function ku(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",53),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).OnAdd()}),M["\u0275\u0275element"](1,"i",27),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"]()}2&e&&(M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](3,1,"Add")," "))}function Eu(e,t){1&e&&M["\u0275\u0275element"](0,"i",54)}function wu(e,t){1&e&&M["\u0275\u0275element"](0,"i",55)}function Du(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275element"](1,"i",47),M["\u0275\u0275template"](2,Eu,1,0,"i",48),M["\u0275\u0275template"](3,wu,1,0,"i",49),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("hidden","BranchName"==n.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","BranchName"==n.sortColumn&&"asc"==n.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","BranchName"==n.sortColumn&&"desc"==n.sortDirection)}}function Bu(e,t){1&e&&M["\u0275\u0275element"](0,"i",54)}function Lu(e,t){1&e&&M["\u0275\u0275element"](0,"i",55)}function Fu(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275element"](1,"i",47),M["\u0275\u0275template"](2,Bu,1,0,"i",48),M["\u0275\u0275template"](3,Lu,1,0,"i",49),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("hidden","BranchNameAR"==n.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","BranchNameAR"==n.sortColumn&&"asc"==n.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","BranchNameAR"==n.sortColumn&&"desc"==n.sortDirection)}}function Nu(e,t){1&e&&M["\u0275\u0275element"](0,"i",54)}function Vu(e,t){1&e&&M["\u0275\u0275element"](0,"i",55)}function qu(e,t){1&e&&M["\u0275\u0275element"](0,"i",54)}function Tu(e,t){1&e&&M["\u0275\u0275element"](0,"i",55)}function Au(e,t){1&e&&M["\u0275\u0275element"](0,"i",54)}function Gu(e,t){1&e&&M["\u0275\u0275element"](0,"i",55)}function Uu(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275element"](1,"i",47),M["\u0275\u0275template"](2,Au,1,0,"i",48),M["\u0275\u0275template"](3,Gu,1,0,"i",49),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("hidden","CustomerName"==n.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","CustomerName"==n.sortColumn&&"asc"==n.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","CustomerName"==n.sortColumn&&"desc"==n.sortDirection)}}function ju(e,t){1&e&&M["\u0275\u0275element"](0,"i",54)}function $u(e,t){1&e&&M["\u0275\u0275element"](0,"i",55)}function zu(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275element"](1,"i",47),M["\u0275\u0275template"](2,ju,1,0,"i",48),M["\u0275\u0275template"](3,$u,1,0,"i",49),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("hidden","CustomerNamear"==n.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","CustomerNamear"==n.sortColumn&&"asc"==n.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","CustomerNamear"==n.sortColumn&&"desc"==n.sortDirection)}}function Wu(e,t){1&e&&M["\u0275\u0275element"](0,"i",54)}function Ju(e,t){1&e&&M["\u0275\u0275element"](0,"i",55)}function Qu(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th"),M["\u0275\u0275text"](1,"\xa0"),M["\u0275\u0275elementEnd"]())}function Yu(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n?null:n.branchname)}}function Hu(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n?null:n.branchnamear)}}function Zu(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.customername)}}function Ku(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.customernamear)}}function Xu(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"td",61),M["\u0275\u0275elementStart"](1,"a",62),M["\u0275\u0275listener"]("click",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275nextContext"]().$implicit;return M["\u0275\u0275nextContext"](2).onEdit(e)}),M["\u0275\u0275element"](2,"i",63),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}}function em(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"tr"),M["\u0275\u0275template"](1,Yu,2,1,"td",1),M["\u0275\u0275template"](2,Hu,2,1,"td",1),M["\u0275\u0275elementStart"](3,"td"),M["\u0275\u0275text"](4),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](5,"td"),M["\u0275\u0275text"](6),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](7,Zu,2,1,"td",1),M["\u0275\u0275template"](8,Ku,2,1,"td",1),M["\u0275\u0275elementStart"](9,"td"),M["\u0275\u0275text"](10),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](11,Xu,3,0,"td",56),M["\u0275\u0275elementStart"](12,"td"),M["\u0275\u0275elementStart"](13,"a",57),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).$implicit;return M["\u0275\u0275nextContext"](2).PrintPreview(e.id)}),M["\u0275\u0275elementStart"](14,"span"),M["\u0275\u0275element"](15,"i",58),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](16,"td"),M["\u0275\u0275elementStart"](17,"a",59),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).$implicit;return M["\u0275\u0275nextContext"](2).OnView(e)}),M["\u0275\u0275elementStart"](18,"span"),M["\u0275\u0275element"](19,"i",60),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=r.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==r.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](null==i?null:i.entry_no),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](null==i?null:i.entry_date),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=r.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==r.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](null==i?null:i.netvalue),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",r.checkRoleParms(622))}}function tm(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",64),M["\u0275\u0275elementStart"](1,"ngb-pagination",65),M["\u0275\u0275listener"]("pageChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).onPageChange(e)})("pageChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).PageNo=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](2,"p"),M["\u0275\u0275text"](3),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](4,"select",66),M["\u0275\u0275listener"]("change",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).onPageSizeChange(e.target.value)})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).PageSize=e}),M["\u0275\u0275elementStart"](5,"option",67),M["\u0275\u0275text"](6,"10 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](7,"option",68),M["\u0275\u0275text"](8,"50 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](9,"option",69),M["\u0275\u0275text"](10,"100 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275element"](11,"br"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("collectionSize",i.totalCount)("page",i.PageNo)("pageSize",i.PageSize)("maxSize",5)("boundaryLinks",!0),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",i._generalService.TotalDetailsTextShow(i.PageNo,i.PageSize,i.totalCount,i.lang)," "),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngModel",i.PageSize)}}function nm(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275elementStart"](1,"div",6),M["\u0275\u0275elementStart"](2,"div",7),M["\u0275\u0275elementStart"](3,"div",8),M["\u0275\u0275elementStart"](4,"h6",9),M["\u0275\u0275text"](5),M["\u0275\u0275pipe"](6,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](7,"div",10),M["\u0275\u0275elementStart"](8,"div",11),M["\u0275\u0275elementStart"](9,"section"),M["\u0275\u0275elementStart"](10,"div",4),M["\u0275\u0275elementStart"](11,"div",12),M["\u0275\u0275elementStart"](12,"form",13,14),M["\u0275\u0275listener"]("ngSubmit",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().SearchReceiptByEntryNo()}),M["\u0275\u0275elementStart"](14,"div",4),M["\u0275\u0275elementStart"](15,"div",15),M["\u0275\u0275elementStart"](16,"div",16),M["\u0275\u0275elementStart"](17,"label",17),M["\u0275\u0275text"](18),M["\u0275\u0275pipe"](19,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](20,"select",18,19),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._ReceiptSearch.BranchID=e})("change",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().ChangeBranch(e.target.value)}),M["\u0275\u0275elementStart"](22,"option",20),M["\u0275\u0275text"](23),M["\u0275\u0275pipe"](24,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](25,Ou,3,3,"option",21),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](26,"div",15),M["\u0275\u0275elementStart"](27,"div",16),M["\u0275\u0275elementStart"](28,"label",22),M["\u0275\u0275text"](29),M["\u0275\u0275pipe"](30,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](31,"input",23,24),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._ReceiptSearch.EntryNo=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](33,"div",25),M["\u0275\u0275elementStart"](34,"button",26),M["\u0275\u0275element"](35,"i",27),M["\u0275\u0275text"](36),M["\u0275\u0275pipe"](37,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](38,"button",28),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().ShowAll()}),M["\u0275\u0275element"](39,"i",27),M["\u0275\u0275text"](40),M["\u0275\u0275pipe"](41,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](42,"div",29),M["\u0275\u0275elementStart"](43,"div",30),M["\u0275\u0275elementStart"](44,"div",31),M["\u0275\u0275template"](45,ku,4,3,"button",32),M["\u0275\u0275elementStart"](46,"button",33),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().OnPrint()}),M["\u0275\u0275element"](47,"i",27),M["\u0275\u0275text"](48),M["\u0275\u0275pipe"](49,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](50,"button",34),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().OnPrint(1)}),M["\u0275\u0275element"](51,"i",27),M["\u0275\u0275text"](52),M["\u0275\u0275pipe"](53,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](54,"button",35),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().OnExcel()}),M["\u0275\u0275element"](55,"i",27),M["\u0275\u0275text"](56),M["\u0275\u0275pipe"](57,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](58,"div",36),M["\u0275\u0275elementStart"](59,"div",37),M["\u0275\u0275elementStart"](60,"label",38),M["\u0275\u0275text"](61),M["\u0275\u0275pipe"](62,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](63,"input",39,40),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._ReceiptSearch.SearchValue=e})("keyup",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().ChangePropFinish()}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](65,"div",4),M["\u0275\u0275elementStart"](66,"div",41),M["\u0275\u0275elementStart"](67,"div",42),M["\u0275\u0275elementStart"](68,"div",43),M["\u0275\u0275elementStart"](69,"div",44),M["\u0275\u0275elementStart"](70,"table",45),M["\u0275\u0275elementStart"](71,"thead"),M["\u0275\u0275elementStart"](72,"tr"),M["\u0275\u0275elementStart"](73,"th",46),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().GetReceiptList("BranchName")}),M["\u0275\u0275text"](74),M["\u0275\u0275pipe"](75,"translate"),M["\u0275\u0275template"](76,Du,4,3,"ng-container",1),M["\u0275\u0275template"](77,Fu,4,3,"ng-container",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](78,"th",46),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().GetReceiptList("Entry_No")}),M["\u0275\u0275text"](79),M["\u0275\u0275pipe"](80,"translate"),M["\u0275\u0275elementContainerStart"](81),M["\u0275\u0275element"](82,"i",47),M["\u0275\u0275template"](83,Nu,1,0,"i",48),M["\u0275\u0275template"](84,Vu,1,0,"i",49),M["\u0275\u0275elementContainerEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](85,"th",46),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().GetReceiptList("Entry_Date")}),M["\u0275\u0275text"](86),M["\u0275\u0275pipe"](87,"translate"),M["\u0275\u0275elementContainerStart"](88),M["\u0275\u0275element"](89,"i",47),M["\u0275\u0275template"](90,qu,1,0,"i",48),M["\u0275\u0275template"](91,Tu,1,0,"i",49),M["\u0275\u0275elementContainerEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](92,"th",46),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().GetReceiptList("CustomerName")}),M["\u0275\u0275text"](93),M["\u0275\u0275pipe"](94,"translate"),M["\u0275\u0275template"](95,Uu,4,3,"ng-container",1),M["\u0275\u0275template"](96,zu,4,3,"ng-container",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](97,"th",46),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().GetReceiptList("NetValue")}),M["\u0275\u0275text"](98),M["\u0275\u0275pipe"](99,"translate"),M["\u0275\u0275elementContainerStart"](100),M["\u0275\u0275element"](101,"i",47),M["\u0275\u0275template"](102,Wu,1,0,"i",48),M["\u0275\u0275template"](103,Ju,1,0,"i",49),M["\u0275\u0275elementContainerEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](104,Qu,2,0,"th",1),M["\u0275\u0275elementStart"](105,"th"),M["\u0275\u0275text"](106,"\xa0"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](107,"th"),M["\u0275\u0275text"](108,"\xa0"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](109,"tbody"),M["\u0275\u0275template"](110,em,20,8,"tr",50),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](111,tm,12,7,"div",51),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](6,36,"Gift Voucher"),""),M["\u0275\u0275advance"](13),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](19,38,"Branch")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i._ReceiptSearch.BranchID),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](24,40,"All")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngForOf",i.BranchList),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](30,42,"EntryNo")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i._ReceiptSearch.EntryNo),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](37,44,"Search")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](41,46,"All")," "),M["\u0275\u0275advance"](5),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(585)),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](49,48,"Print")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](53,50,"pdf")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](57,52,"Excel")," "),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](62,54,"Search")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i._ReceiptSearch.SearchValue),M["\u0275\u0275advance"](11),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](75,56,"Branch")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](80,58,"EntryNo")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("hidden","Entry_No"==i.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Entry_No"==i.sortColumn&&"asc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Entry_No"==i.sortColumn&&"desc"==i.sortDirection),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](87,60,"Date")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("hidden","Entry_Date"==i.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Entry_Date"==i.sortColumn&&"asc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Entry_Date"==i.sortColumn&&"desc"==i.sortDirection),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](94,62,"custvendor")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](99,64,"value")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("hidden","NetValue"==i.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","NetValue"==i.sortColumn&&"asc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","NetValue"==i.sortColumn&&"desc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(622)),M["\u0275\u0275advance"](6),M["\u0275\u0275property"]("ngForOf",i.ReceiptList),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.totalCount>0)}}var im=function(){var e=function(){function e(t,n,i,r,a,o,l,s,d,p,u,m,h,g,_){var v=this;c(this,e),this._cashsalesService=t,this.cd=n,this.toastr=i,this._router=r,this._generalService=a,this.translate=o,this._translateGlobalService=l,this.spinner=s,this._ReceiptSharedService=p,this._authService=u,this._printService=m,this._Excel=h,this._convertToPDF=g,this._VerifyReportsService=_,this.loaded=!1,this.subsidiaryID=0,this.PageSize=10,this.PageNo=1,this.ReceiptList=[],this.totalCount=0,this.BranchList=[],this.list=[],this._ReceiptSearch=new S.Wb,this.NumNotExist="",this.title="",this.timeout=null,this.sortDirection="asc",this.sortColumn="",this.SelectBranchMsg="",this.EntryNumberMsg="",this.subsidiaryID=this._generalService.SubsidiaryID,this.GetBranchList(),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(function(e){v.lang=e.lang,v.dir=e.dir,v.translate.use(e.lang),v.ngTransUnsubscribe=v.translate.get("SelectBranchError").subscribe(function(e){v.SelectBranchMsg=e}),v.ngTransUnsubscribe=v.translate.get("EntryNumberMsg").subscribe(function(e){v.EntryNumberMsg=e})}),d.params.subscribe(function(e){var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t?(console.log(t.branchId),v._ReceiptSearch.BranchID="null"!=t.branchId?t.branchId:0):v._ReceiptSearch.BranchID=0}),this.ngTransUnsubscribe=this.translate.get(["Gift Voucher"]).subscribe(function(e){v.title=e["Gift Voucher"],document.title=v.title}),this.ngTransUnsubscribe=this.translate.get(["NumNotExist"]).subscribe(function(e){v.NumNotExist=e.NumNotExist}),this.ngUnsubscribe=a.proadCastSubsidiaryID.subscribe(function(e){if(0==v.subsidiaryID&&(v.subsidiaryID=v._generalService.SubsidiaryID,v.ReceiptSearch()),v.subsidiaryID!=v._generalService.SubsidiaryID&&v.subsidiaryID>0){v.subsidiaryID=v._generalService.SubsidiaryID;var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),v._ReceiptSearch.BranchID=0,localStorage.setItem("Branch",JSON.stringify({branchId:v._ReceiptSearch.BranchID})),v._ReceiptSearch.PageNo=1,v._ReceiptSearch.PageSize=10,v.GetBranchList(),v.ReceiptSearch()}}),d.params.subscribe(function(e){var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t?(console.log(t.branchId),v._ReceiptSearch.BranchID="null"!=t.branchId?t.branchId:0):v._ReceiptSearch.BranchID=0})}return o(e,[{key:"ngOnInit",value:function(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this._ReceiptSearch.ReceiptCode="4",this._ReceiptSearch.sortColumn="Entry_Date.desc",0!=this.subsidiaryID&&(this.GetReceiptList(),this.GetReceiptListCount())}},{key:"ReceiptSearch",value:function(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this.GetReceiptList(),this.GetReceiptListCount()}},{key:"GetBranchList",value:function(){var e=this;this._cashsalesService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(function(t){e.BranchList=t,e.cd.markForCheck()})}},{key:"ChangeBranch",value:function(e){var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),this._ReceiptSearch.BranchID="0"!=e?e:0,localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this._ReceiptSearch.PageNo=1,this._ReceiptSearch.PageSize=10,this.ReceiptSearch()}},{key:"ChangePropFinish",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.timeout=null,e.ReceiptSearch()},1e3*t)}},{key:"GetReceiptList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.sortColumn=null==t?null:t,this.sortDirection="asc"==this.sortDirection?"desc":"asc","ar"==this.lang&&("branch"!=this.sortColumn&&"accountname"!=this.sortColumn||(this.sortColumn=this.sortColumn+"ar")),null!=t&&(this.PageNo=1),null!=this.sortColumn&&""!=this.sortDirection&&(this._ReceiptSearch.sortColumn=this.sortColumn+"."+this.sortDirection),this.spinner.show(),this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._ReceiptSearch.EntryNo.toString().length>10&&(this.ReceiptList=[],this.toastr.warning(this.NumNotExist),this.spinner.hide()),this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(function(t){e.ReceiptList=[],e.list=t,1==e.list.length&&e._ReceiptSearch.EntryNo>0?e._router.navigate(["/page/inventorytransiction/giftvoucher/"+e.list[0].id]):0==e.list.length&&e._ReceiptSearch.EntryNo>0?e.toastr.warning(e.NumNotExist):e.ReceiptList=t,e.cd.markForCheck(),e.spinner.hide()})}},{key:"GetReceiptListCount",value:function(){var e=this;this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptListCount(this._ReceiptSearch).subscribe(function(t){e.totalCount=t[0].total,e.cd.markForCheck()})}},{key:"OnAdd",value:function(){this._router.navigate(["/page/inventorytransiction/giftvoucher/0"])}},{key:"OnView",value:function(e){this._router.navigate(["/page/inventorytransiction/giftvoucher/"+e.id+"/show"])}},{key:"onEdit",value:function(e){var t;t="/page/inventorytransiction/giftvoucher/".concat(e.id),this._router.navigate([t])}},{key:"OnPrint",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n="",i="ar"==this.lang?"rtl":"ltr",r="ar"==this.lang?"\u0627\u0644\u0641\u0631\u0639":"Branch",a="ar"==this.lang?"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":"Entry no",o="ar"==this.lang?"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":"Date",c="ar"==this.lang?"\u0645\u0648\u0631\u062f/\u0639\u0645\u064a\u0644":"Customer / Vendor",l="ar"==this.lang?"\u0627\u0644\u0642\u064a\u0645\u0629":"Total";this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(function(s){e.cd.markForCheck(),n='\n           <table class="table text-center m-0 table table-striped"  border="1px"  dir = '.concat(i,'>\n                 <thead>\n                   <tr style="background: #e9f1f5;color: cornflowerblue;">\n                     <th>').concat(r,"</th>\n                     <th>").concat(a,"</th>\n                     <th>").concat(o,"</th>\n                     <th>").concat(c,"</th>\n                     <th>").concat(l,"</th>\n \n                   </tr>\n                 </thead>\n             <tbody>\n         "),s.map(function(t){var i;n+="\n        <tr>\n         <td>".concat("ar"==e.lang?t.branchnamear:t.branchname,"</td>\n         <td>").concat(t.entry_no,"</td>\n         <td>").concat(t.entry_date,"</td>\n         <td>").concat(null!==(i="ar"==e.lang?t.customernamear:t.customername)&&void 0!==i?i:"","</td>\n         <td>").concat(t.netvalue,"</td>\n \n        </tr>\n        ")}),n+="</tbody></table>",1==t?e._convertToPDF.by_html2pdf(n):e._printService.OnPrintContent(n)})}},{key:"OnExcel",value:function(){var e=this,t=[];this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(function(n){n.forEach(function(n){t.push("ar"==e.lang?{"\u0627\u0644\u0641\u0631\u0639":n.branchnamear,"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":n.entry_no,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":n.entry_date,"\u0627\u0644\u0645\u0648\u0631\u062f/\u0627\u0644\u0639\u0645\u064a\u0644":n.customernamear,"\u0627\u0644\u0642\u064a\u0645\u0629":n.netvalue}:{Branch:n.branchname,"Entry No":n.entry_no,Date:n.entry_date,"Customer/Vendor":n.customernamear,Total:n.netvalue})}),e._Excel.exportAsExcelFile(t,"Gift Voucher")})}},{key:"ShowAll",value:function(){this._ReceiptSearch.BranchID=0,this._ReceiptSearch.EntryNo=0;var e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this.GetReceiptList(),this.GetReceiptListCount()}},{key:"SearchReceiptByEntryNo",value:function(){null!=this._ReceiptSearch.EntryNo&&null!=this._ReceiptSearch.EntryNo?(this.PageNo=1,this.PageSize=10,this.GetReceiptList(),this.GetReceiptListCount()):this.toastr.warning(this.EntryNumberMsg)}},{key:"PrintPreview",value:function(e){var t=this,n=this.getReportfilter(e);this.spinner.show(),this._ReceiptSharedService.GetReport(n).subscribe(function(e){t.spinner.hide(),t._authService.printJS(e.bytes)}),this.cd.markForCheck()}},{key:"getReportfilter",value:function(e){var t=this._authService.userInfo(),n="";"ar"==this.lang&&(n="_ar");var i={reportName:"P_I_3_ReceivingVoucher"+n,SubsidaryID:this.subsidiaryID,ReceiptID:e,lang:"",DomainName:"",toEmail:"",Subject:"",boby:""};return t.clientdatabase.indexOf("darshgf")>-1&&(i={reportName:"P_All_Inv_Receipt_gl_web_darshgf"+n,SubsidaryID:this.subsidiaryID,ReceiptID:e,lang:"",DomainName:"",toEmail:"",Subject:"",boby:""}),i}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"onPageChange",value:function(e){this._ReceiptSearch.PageNo=e,this.PageNo=e,this.GetReceiptList()}},{key:"onPageSizeChange",value:function(e){this._ReceiptSearch.PageSize=e,this.PageSize=e,this.GetReceiptList()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(M["\u0275\u0275directiveInject"](b.n),M["\u0275\u0275directiveInject"](M.ChangeDetectorRef),M["\u0275\u0275directiveInject"](I._W),M["\u0275\u0275directiveInject"](m.F0),M["\u0275\u0275directiveInject"](P.m),M["\u0275\u0275directiveInject"](h.sK),M["\u0275\u0275directiveInject"](O.K),M["\u0275\u0275directiveInject"](k.t2),M["\u0275\u0275directiveInject"](m.gz),M["\u0275\u0275directiveInject"](R.t),M["\u0275\u0275directiveInject"](E.e),M["\u0275\u0275directiveInject"](w.$),M["\u0275\u0275directiveInject"](D.x),M["\u0275\u0275directiveInject"](B.z),M["\u0275\u0275directiveInject"](x.J))},e.\u0275cmp=M["\u0275\u0275defineComponent"]({type:e,selectors:[["giftvoucher"]],features:[M["\u0275\u0275ProvidersFeature"]([b.n,R.t,x.J])],decls:5,vars:3,consts:[["class","row",4,"ngIf"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"row"],[2,"margin","0 30% 0 30%","margin-top","200px"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-body"],[1,"col-sm-12"],[1,"col-md-8"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"col-lg-4","col-md-4","col-sm-12"],[1,"form-group"],["for","Branch"],["name","Branch","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["Branch","ngModel"],["Value","0"],[3,"value",4,"ngFor","ngForOf"],["for","EntryNumber"],["type","number","id","ReceiptNumber","name","ReceiptNumber","min","0","PositiveNumbersOnly","","required","",1,"form-control",3,"ngModel","ngModelChange"],["ReceiptNumber","ngModel"],[1,"col-lg-4","col-sm-4","mt-3","text-center"],["type","submit",1,"btn","btn-primary","mr-2"],[1,""],["type","button",1,"btn","btn-primary","mr-2",3,"click"],[1,"col-lg-12","mt-2","col-xs-12","text-center-sm"],[1,"row","mb-2"],[1,"col-lg-6","col-md-7","col-xs-12","my-auto","text-center-sm","actionBtns"],["class","btn btn-success mb-0 ng-star-inserted",3,"click",4,"ngIf"],[1,"btn","btn-warning","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-danger","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-success","mb-0","me-3","ng-star-inserted",3,"click"],[1,"col-lg-6","col-md-6","col-sm-12","pull-right"],[1,"form-group","d-flex","justify-content-end"],["for","SearchValue",1,"pt-1","pl-1","pr-1","form-label"],["type","text","id","SearchValue","name","SearchValue",1,"form-control","col-md-4",3,"ngModel","ngModelChange","keyup"],["SearchValue","ngModel"],[1,"col-12"],[1,"card"],[1,"card-content"],[1,"card-body","table-responsive"],[1,"table","text-center","m-0","table","table-striped"],[3,"click"],[1,"fa","fa-fw","fa-sort",3,"hidden"],["class","fa fa-fw\n                                fa-sort-desc",4,"ngIf"],["class","fa fa-fw\n                                fa-sort-asc",4,"ngIf"],[4,"ngFor","ngForOf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],[3,"value"],[1,"btn","btn-success","mb-0","ng-star-inserted",3,"click"],[1,"fa","fa-fw","fa-sort-desc"],[1,"fa","fa-fw","fa-sort-asc"],["class","text-truncate",4,"ngIf"],[1,"warning","mr-1",3,"click"],["aria-hidden","true",1,"fa","fa-print"],[1,"primary","mr-1",3,"click"],["aria-hidden","true",1,"fa","fa-list"],[1,"text-truncate"],["href","javascript:;",1,"primary","p-0",3,"click"],[1,"ft-edit","mr-2"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(M["\u0275\u0275template"](0,Mu,4,3,"div",0),M["\u0275\u0275template"](1,nm,112,66,"div",1),M["\u0275\u0275elementStart"](2,"ngx-spinner",2),M["\u0275\u0275elementStart"](3,"p",3),M["\u0275\u0275text"](4," Loading... "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275property"]("ngIf",!t.checkRoleParms(584)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",t.checkRoleParms(584)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("fullScreen",!0))},directives:[l.O5,k.Ro,d._Y,d.JL,d.F,d.EJ,d.Q7,d.JJ,d.On,d.YN,d.Kr,l.sg,d.qQ,d.wV,d.Fj,L.K,F.N9],pipes:[h.X$],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}.headerform[_ngcontent-%COMP%]{background-color:#2f8be6;color:#fff;height:44px;padding-top:9px;margin-bottom:17px}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin:5px!important;width:40%!important}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}']}),e}(),rm=a(29609),am=["RForm"];function om(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"div",2),M["\u0275\u0275elementStart"](1,"h1",3),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function cm(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",74),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).DocumentAction()}),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,2,"Document")," ")}}function lm(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",75),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).PrintPreview(0)}),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,2,"PrintPreview")," ")}}function sm(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",77),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).onPrint()}),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,2,"Print")," ")}}function dm(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",77),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).DupilcateAction()}),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,2,"Dupilcate")," ")}}function pm(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",77),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](4).DeleteAction()}),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](4);M["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function um(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275template"](1,pm,3,4,"button",76),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",0==n.ShowModeReceipt&&n.ReceiptID>0&&0==n.VouchersLinkedCount)}}function mm(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275template"](1,sm,3,4,"button",76),M["\u0275\u0275elementStart"](2,"button",77),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).PrintPreview(1)}),M["\u0275\u0275text"](3),M["\u0275\u0275pipe"](4,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](5,"email-popup",78),M["\u0275\u0275listener"]("_savedemailobj",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).sendEmail(e)}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](6,dm,3,4,"button",76),M["\u0275\u0275template"](7,um,2,1,"div",1),M["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(587)),M["\u0275\u0275advance"](1),M["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](4,6,"Printpdf")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("entryno",i._Receipt.entry_no),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(585)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(586))}}function hm(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",79),M["\u0275\u0275text"](1,"choose"),M["\u0275\u0275elementEnd"]())}function gm(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",79),M["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),M["\u0275\u0275elementEnd"]())}function _m(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function vm(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function fm(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",80),M["\u0275\u0275template"](1,_m,2,1,"span",1),M["\u0275\u0275template"](2,vm,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275property"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function Cm(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.sugar)}}function ym(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.sug)}}function bm(e,t){if(1&e&&(M["\u0275\u0275template"](0,Cm,2,1,"div",1),M["\u0275\u0275template"](1,ym,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Sm(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",86),M["\u0275\u0275text"](1,"choose"),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function Rm(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",86),M["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function xm(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function Mm(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function Im(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",80),M["\u0275\u0275template"](1,xm,2,1,"span",1),M["\u0275\u0275template"](2,Mm,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275property"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}var Pm=function(e,t){return{"invalid-data":e,"valid-data":t}};function Om(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",29),M["\u0275\u0275elementStart"](1,"div",22),M["\u0275\u0275elementStart"](2,"label",81),M["\u0275\u0275text"](3),M["\u0275\u0275pipe"](4,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](5,"span",24),M["\u0275\u0275text"](6,"*"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](7,"select",82,83),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Receipt.currency_id=e})("change",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).changeCurrency(e)}),M["\u0275\u0275template"](9,Sm,2,1,"option",84),M["\u0275\u0275template"](10,Rm,2,1,"option",84),M["\u0275\u0275template"](11,Im,3,3,"option",85),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](8);M["\u0275\u0275nextContext"]();var r=M["\u0275\u0275reference"](3),a=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](4,6,"Currency")),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("ngModel",a._Receipt.currency_id)("ngClass",M["\u0275\u0275pureFunction2"](8,Pm,i.invalid&&r.submitted,i.valid&&r.submitted)),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",a.CurrencyList)}}function km(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",29),M["\u0275\u0275elementStart"](1,"div",22),M["\u0275\u0275elementStart"](2,"label",87),M["\u0275\u0275text"](3),M["\u0275\u0275pipe"](4,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](5,"span",24),M["\u0275\u0275text"](6,"*"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](7,"input",88,89),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Receipt.currency_rate=e})("keyup",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).Calculate_Total_Tax_Net()}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](8);M["\u0275\u0275nextContext"]();var r=M["\u0275\u0275reference"](3),a=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](4,4,"ExchangeRate")),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("ngModel",a._Receipt.currency_rate)("readonly",1==(null==a._CurrencySelected?null:a._CurrencySelected.basecurrency))("ngClass",M["\u0275\u0275pureFunction2"](6,Pm,i.invalid&&r.submitted,i.valid&&r.submitted))}}function Em(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",29),M["\u0275\u0275elementStart"](1,"div",22),M["\u0275\u0275elementStart"](2,"label",90),M["\u0275\u0275text"](3),M["\u0275\u0275pipe"](4,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](5,"input",91,92),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Receipt.costing_rate=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](4,3,"Costingc Rate")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i._Receipt.costing_rate)("readonly",!0)}}function wm(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th",66),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Pack")," "))}function Dm(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th",66),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Price")," "))}function Bm(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th",66),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Total")," "))}function Lm(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function Fm(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function Nm(e,t){if(1&e&&(M["\u0275\u0275template"](0,Lm,2,1,"div",1),M["\u0275\u0275template"](1,Fm,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Vm(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function qm(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function Tm(e,t){if(1&e&&(M["\u0275\u0275template"](0,Vm,2,1,"div",1),M["\u0275\u0275template"](1,qm,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}var Am=function(e,t){return{"invalid-qty":e,"valid-qty":t}};function Gm(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div",117),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275nextContext"](2);var i=M["\u0275\u0275reference"](3);M["\u0275\u0275property"]("ngClass",M["\u0275\u0275pureFunction2"](2,Am,0==n.allowqtyselectforitem&&i.submitted||0==n.allowqtyselectforitem,1==n.allowqtyselectforitem&&i.submitted||1==n.allowqtyselectforitem)),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.itemname," ")}}function Um(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div",117),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275nextContext"](2);var i=M["\u0275\u0275reference"](3);M["\u0275\u0275property"]("ngClass",M["\u0275\u0275pureFunction2"](2,Am,0==n.allowqtyselectforitem&&i.submitted||0==n.allowqtyselectforitem,1==n.allowqtyselectforitem&&i.submitted||1==n.allowqtyselectforitem)),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.itemname_ar)}}function jm(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",86),M["\u0275\u0275text"](1," choose "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function $m(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",86),M["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function zm(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function Wm(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function Jm(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",118),M["\u0275\u0275template"](1,zm,2,1,"span",1),M["\u0275\u0275template"](2,Wm,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"]().$implicit,r=M["\u0275\u0275nextContext"](3);M["\u0275\u0275property"]("ngValue",null==n?null:n.id)("selected",(null==n?null:n.id)===i.unit_id&&(null==n?null:n.item_id)===(null==i?null:i.item_id)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=r.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==r.lang)}}function Qm(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275elementStart"](1,"input",119,120),M["\u0275\u0275listener"]("keyup",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275nextContext"]().index;return M["\u0275\u0275nextContext"](3).ChangePackItem(e)})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().$implicit.conv=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](2),r=M["\u0275\u0275nextContext"](),a=r.index,o=r.$implicit;M["\u0275\u0275nextContext"](2);var c=M["\u0275\u0275reference"](3),l=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate"]("step",null==l.CashCustomerSetting?null:l.CashCustomerSetting.allowdecimalpack),M["\u0275\u0275propertyInterpolate1"]("name","item_conv",a,""),M["\u0275\u0275property"]("readonly",3==(null==o?null:o.item_type)&&null!=(null==o?null:o.item_id))("Min",1e-5)("CheckMin",null!=(null==o?null:o.item_id))("stepallow",null==l.CashCustomerSetting?null:l.CashCustomerSetting.allowdecimalpack)("ngModel",o.conv)("required",null!=(null==o?null:o.item_id))("ngClass",M["\u0275\u0275pureFunction2"](9,Pm,i.invalid&&c.submitted,i.valid&&c.submitted))}}function Ym(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275elementStart"](1,"input",121,122),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().$implicit.price=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](2),r=M["\u0275\u0275nextContext"](),a=r.index,o=r.$implicit;M["\u0275\u0275nextContext"](2);var c=M["\u0275\u0275reference"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate1"]("name","item_price",a,""),M["\u0275\u0275property"]("ngModel",o.price)("Min",0)("CheckMin",null!=(null==o?null:o.item_id))("ngClass",M["\u0275\u0275pureFunction2"](5,Pm,i.invalid&&c.submitted,i.valid&&c.submitted))}}function Hm(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275elementStart"](1,"input",123),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().$implicit.total=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](),r=i.index,a=i.$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate1"]("name","item_total",r,""),M["\u0275\u0275property"]("ngModel",a.total)}}var Zm=function(e){return{item_id:e}};function Km(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"tr"),M["\u0275\u0275elementStart"](1,"td",101),M["\u0275\u0275text"](2),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](3,"td"),M["\u0275\u0275elementStart"](4,"p-autoComplete",102,103),M["\u0275\u0275listener"]("onFocus",function(e){var t=M["\u0275\u0275restoreView"](n).index,i=M["\u0275\u0275reference"](5),r=M["\u0275\u0275nextContext"](3);return r.onFocusInStore(e,t),i.show(),r.isType=!0})("onClick",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.storecode=e})("onSelect",function(e){var t=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).StoreSelectEvent(e,t)})("completeMethod",function(e){var t=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).StoreChangeSearch(e,t)})("onClear",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3)._Receipt.details[e].store_id=null}),M["\u0275\u0275pipe"](6,"translate"),M["\u0275\u0275template"](7,Nm,2,2,"ng-template",104),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](8,"td"),M["\u0275\u0275elementStart"](9,"p-autoComplete",105,106),M["\u0275\u0275listener"]("onFocus",function(e){var t=M["\u0275\u0275restoreView"](n).index,i=M["\u0275\u0275reference"](10),r=M["\u0275\u0275nextContext"](3);return r.onFocusInItems(e,t),i.show(),r.isType=!0})("onClick",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.itemcode=e})("onSelect",function(e){var t=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).ItemsSelectEvent(e,t)})("completeMethod",function(e){var t=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).ItemsChangeSearch(e,t)})("onClear",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).onClearItems(e)}),M["\u0275\u0275pipe"](11,"translate"),M["\u0275\u0275template"](12,Tm,2,2,"ng-template",107),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](13,"td",108),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n),t=e.$implicit,i=e.index;return M["\u0275\u0275nextContext"](3).OnSelectedItem(t,i,"selected")}),M["\u0275\u0275template"](14,Gm,2,5,"div",109),M["\u0275\u0275template"](15,Um,2,5,"div",109),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](16,"td"),M["\u0275\u0275elementStart"](17,"select",110,111),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e})("change",function(e){var t=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).ChangeItemUnits(e.target.value,t)}),M["\u0275\u0275template"](19,jm,2,1,"option",84),M["\u0275\u0275template"](20,$m,2,1,"option",84),M["\u0275\u0275template"](21,Jm,3,4,"option",112),M["\u0275\u0275pipe"](22,"filterby"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](23,Qm,3,12,"td",1),M["\u0275\u0275elementStart"](24,"td"),M["\u0275\u0275elementStart"](25,"input",113,114),M["\u0275\u0275listener"]("keyup",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).ChangeQty(e)})("ngModelChange",function(e){return t.$implicit.qty=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](27,Ym,3,8,"td",1),M["\u0275\u0275template"](28,Hm,2,2,"td",1),M["\u0275\u0275elementStart"](29,"td"),M["\u0275\u0275elementStart"](30,"a",115),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).DeleteItems(e)}),M["\u0275\u0275element"](31,"i",116),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index,a=t.index,o=M["\u0275\u0275reference"](18),c=M["\u0275\u0275reference"](26);M["\u0275\u0275nextContext"](2);var l=M["\u0275\u0275reference"](3),s=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](a+1),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","storecode",r,""),M["\u0275\u0275property"]("ngModel",i.storecode)("disabled",!(null!=s.CurrentUserSetting&&s.CurrentUserSetting.canchangestore))("suggestions",s.StoreList)("showEmptyMessage",!0)("emptyMessage",M["\u0275\u0275pipeBind1"](6,32,"NoResultsFound"))("forceSelection",!0),M["\u0275\u0275advance"](5),M["\u0275\u0275propertyInterpolate1"]("name","itemcode",r,""),M["\u0275\u0275property"]("ngModel",i.itemcode)("suggestions",s.ItemsList)("showEmptyMessage",!0)("emptyMessage",M["\u0275\u0275pipeBind1"](11,34,"NoResultsFound"))("forceSelection",!0),M["\u0275\u0275advance"](5),M["\u0275\u0275property"]("ngIf","ar"!=s.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==s.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","itemunit",r,""),M["\u0275\u0275property"]("ngModel",i.unit_id)("required",null!=(null==i?null:i.item_id))("ngClass",M["\u0275\u0275pureFunction2"](39,Pm,o.invalid&&l.submitted,o.valid&&l.submitted)),M["\u0275\u0275attribute"]("disabled",3==(null==i?null:i.item_type)&&null!=(null==i?null:i.item_id)||null),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=s.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==s.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",M["\u0275\u0275pipeBind2"](22,36,s.ItemUnitsList,M["\u0275\u0275pureFunction1"](42,Zm,null==i?null:i.item_id))),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",1==(null==s.CashCustomerSetting?null:s.CashCustomerSetting.allowpack)),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","item_qty",r,""),M["\u0275\u0275property"]("Min",1e-5)("CheckMin",null!=(null==i?null:i.item_id))("ngModel",i.qty)("ngClass",M["\u0275\u0275pureFunction2"](44,Pm,c.invalid&&l.submitted,c.valid&&l.submitted)),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",1==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.showcostprice)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",1==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.showcostprice))}}var Xm=function(e){return{"table-for-autocomplete":e}};function eh(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",93),M["\u0275\u0275elementStart"](1,"div",63),M["\u0275\u0275elementStart"](2,"div",94),M["\u0275\u0275elementStart"](3,"table",65),M["\u0275\u0275elementStart"](4,"thead"),M["\u0275\u0275elementStart"](5,"tr"),M["\u0275\u0275element"](6,"th"),M["\u0275\u0275elementStart"](7,"th",95),M["\u0275\u0275text"](8),M["\u0275\u0275pipe"](9,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](10,"th",66),M["\u0275\u0275text"](11),M["\u0275\u0275pipe"](12,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](13,"th",66),M["\u0275\u0275text"](14),M["\u0275\u0275pipe"](15,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](16,"th",96),M["\u0275\u0275text"](17),M["\u0275\u0275pipe"](18,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](19,wm,3,3,"th",97),M["\u0275\u0275elementStart"](20,"th",66),M["\u0275\u0275text"](21),M["\u0275\u0275pipe"](22,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](23,Dm,3,3,"th",97),M["\u0275\u0275template"](24,Bm,3,3,"th",97),M["\u0275\u0275elementStart"](25,"th",98),M["\u0275\u0275text"](26,"\xa0"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](27,"tbody"),M["\u0275\u0275template"](28,Km,32,47,"tr",99),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](29,"button",100),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).AddItems()}),M["\u0275\u0275text"](30),M["\u0275\u0275pipe"](31,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngClass",M["\u0275\u0275pureFunction1"](24,Xm,i.isType)),M["\u0275\u0275advance"](6),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](9,12,"Store")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](12,14,"ItemCode")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](15,16,"ItemDescription")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](18,18,"Unit")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",1==(null==i.CashCustomerSetting?null:i.CashCustomerSetting.allowpack)),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](22,20,"qty")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",1==(null==i.CurrentUserSetting?null:i.CurrentUserSetting.showcostprice)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",1==(null==i.CurrentUserSetting?null:i.CurrentUserSetting.showcostprice)),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("ngForOf",i._Receipt.details)("ngForTrackBy",i._ReceiptSharedService.customTrackBy),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](31,22,"Add")," ")}}function th(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",79),M["\u0275\u0275text"](1,"choose"),M["\u0275\u0275elementEnd"]())}function nh(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",79),M["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),M["\u0275\u0275elementEnd"]())}function ih(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function rh(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function ah(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",80),M["\u0275\u0275template"](1,ih,2,1,"span",1),M["\u0275\u0275template"](2,rh,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function oh(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",86),M["\u0275\u0275text"](1,"choose"),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function ch(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",86),M["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function lh(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.codename,"")}}function sh(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.codenamear,"")}}function dh(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",80),M["\u0275\u0275template"](1,lh,2,1,"span",1),M["\u0275\u0275template"](2,sh,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("value",n.code),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function ph(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"tr"),M["\u0275\u0275elementStart"](1,"td"),M["\u0275\u0275elementStart"](2,"select",125),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.branch_id=e}),M["\u0275\u0275template"](3,th,2,0,"option",27),M["\u0275\u0275template"](4,nh,2,0,"option",27),M["\u0275\u0275template"](5,ah,3,3,"option",85),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](6,"td"),M["\u0275\u0275elementStart"](7,"select",125),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.code=e}),M["\u0275\u0275template"](8,oh,2,1,"option",84),M["\u0275\u0275template"](9,ch,2,1,"option",84),M["\u0275\u0275template"](10,dh,3,3,"option",85),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](11,"td"),M["\u0275\u0275elementStart"](12,"input",126,127),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.entry_no=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](14,"td"),M["\u0275\u0275elementStart"](15,"a",128),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).GetLinkedReceipt(e)}),M["\u0275\u0275element"](16,"i",129),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](17,"td"),M["\u0275\u0275elementStart"](18,"a",130),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).OnOpenLinkedReceipt(e)}),M["\u0275\u0275element"](19,"i",131),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](20,"td"),M["\u0275\u0275elementStart"](21,"a",115),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).DeleteLinkedReceipt(e)}),M["\u0275\u0275element"](22,"i",116),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index,a=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsbranch",r,""),M["\u0275\u0275property"]("ngModel",i.branch_id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",a.BranchList),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptscode",r,""),M["\u0275\u0275property"]("ngModel",i.code),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",a.ReceiptCodeList),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsentry_no",r,""),M["\u0275\u0275property"]("ngModel",i.entry_no),M["\u0275\u0275advance"](3),M["\u0275\u0275attribute"]("disabled",(null==i?null:i.fire)>0||null)}}function uh(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",93),M["\u0275\u0275elementStart"](1,"div",63),M["\u0275\u0275elementStart"](2,"div",64),M["\u0275\u0275elementStart"](3,"table",65),M["\u0275\u0275elementStart"](4,"thead"),M["\u0275\u0275elementStart"](5,"tr"),M["\u0275\u0275elementStart"](6,"th",66),M["\u0275\u0275text"](7),M["\u0275\u0275pipe"](8,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](9,"th",66),M["\u0275\u0275text"](10),M["\u0275\u0275pipe"](11,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](12,"th",66),M["\u0275\u0275text"](13),M["\u0275\u0275pipe"](14,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](15,"th",98),M["\u0275\u0275text"](16,"\xa0"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](17,"th",98),M["\u0275\u0275text"](18,"\xa0"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](19,"th",98),M["\u0275\u0275text"](20,"\xa0"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](21,"tbody"),M["\u0275\u0275template"](22,ph,23,13,"tr",124),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](23,"button",100),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).AddLinkedReceipt()}),M["\u0275\u0275text"](24),M["\u0275\u0275pipe"](25,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](7),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](8,5,"Branch")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](11,7,"Receipttype")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](14,9,"EntryNo")," "),M["\u0275\u0275advance"](9),M["\u0275\u0275property"]("ngForOf",i._Receipt.linkedreceipts),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](25,11,"Add")," ")}}function mh(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",86),M["\u0275\u0275text"](1,"choose"),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function hh(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",86),M["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function gh(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function _h(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function vh(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",80),M["\u0275\u0275template"](1,gh,2,1,"span",1),M["\u0275\u0275template"](2,_h,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275property"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function fh(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.sugar)}}function Ch(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.sug)}}function yh(e,t){if(1&e&&(M["\u0275\u0275template"](0,fh,2,1,"div",1),M["\u0275\u0275template"](1,Ch,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function bh(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275elementStart"](1,"p-autoComplete",158,159),M["\u0275\u0275listener"]("onFocus",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275reference"](2);return M["\u0275\u0275nextContext"](3).onFocusInCustomerAccounts(e),t.show()})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3)._Receipt.supplier_name=e})("onSelect",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).SupplierSelectEvent(e)})("completeMethod",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).CustomerAccountsChangeSearch(e)})("onClear",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3)._Receipt.supplieraccount_id=null}),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275template"](4,yh,2,2,"ng-template",36),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngModel",i._Receipt.supplier_name)("disabled",!i.chk_ChangeSupplier)("suggestions",i.CustomerAccountsList)("showEmptyMessage",!0)("emptyMessage",M["\u0275\u0275pipeBind1"](3,6,"NoResultsFound"))("forceSelection",!0)}}function Sh(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.sugar)}}function Rh(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.sug)}}function xh(e,t){if(1&e&&(M["\u0275\u0275template"](0,Sh,2,1,"div",1),M["\u0275\u0275template"](1,Rh,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Mh(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275elementStart"](1,"p-autoComplete",160,159),M["\u0275\u0275listener"]("onFocus",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275reference"](2);return M["\u0275\u0275nextContext"](3).onFocusInCustomerAccounts(e),t.show()})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3)._Receipt.supplier_namear=e})("onSelect",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).SupplierSelectEvent(e)})("completeMethod",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).CustomerAccountsChangeSearch(e)})("onClear",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3)._Receipt.supplieraccount_id=null}),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275template"](4,xh,2,2,"ng-template",36),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("disabled",!i.chk_ChangeSupplier)("ngModel",i._Receipt.supplier_namear)("suggestions",i.CustomerAccountsList)("showEmptyMessage",!0)("emptyMessage",M["\u0275\u0275pipeBind1"](3,6,"NoResultsFound"))("forceSelection",!0)}}function Ih(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",86),M["\u0275\u0275text"](1,"choose"),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function Ph(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",86),M["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function Oh(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.termname,"")}}function kh(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.termname_ar,"")}}function Eh(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",80),M["\u0275\u0275template"](1,Oh,2,1,"span",1),M["\u0275\u0275template"](2,kh,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275property"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function wh(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",86),M["\u0275\u0275text"](1,"choose"),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function Dh(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",86),M["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function Bh(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function Lh(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function Fh(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",80),M["\u0275\u0275template"](1,Bh,2,1,"span",1),M["\u0275\u0275template"](2,Lh,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275property"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}var Nh=function(){return{standalone:!0}};function Vh(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",2),M["\u0275\u0275elementStart"](1,"div",29),M["\u0275\u0275elementStart"](2,"div",22),M["\u0275\u0275elementStart"](3,"label",132),M["\u0275\u0275text"](4),M["\u0275\u0275pipe"](5,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](6,"select",133,134),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Receipt.shipmentterm_id=e})("change",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).changeshipmentterm(e)}),M["\u0275\u0275template"](8,mh,2,1,"option",84),M["\u0275\u0275template"](9,hh,2,1,"option",84),M["\u0275\u0275template"](10,vh,3,3,"option",85),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](11,"div",135),M["\u0275\u0275elementStart"](12,"div",22),M["\u0275\u0275elementStart"](13,"label",136),M["\u0275\u0275text"](14),M["\u0275\u0275pipe"](15,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](16,"input",137),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).chk_ChangeSupplier=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](17,"label",138),M["\u0275\u0275elementStart"](18,"span"),M["\u0275\u0275text"](19),M["\u0275\u0275pipe"](20,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](21,bh,5,8,"ng-container",1),M["\u0275\u0275template"](22,Mh,5,8,"ng-container",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](23,"div",135),M["\u0275\u0275elementStart"](24,"div",22),M["\u0275\u0275elementStart"](25,"label",139),M["\u0275\u0275text"](26),M["\u0275\u0275pipe"](27,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](28,"input",140),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Receipt.deliverylocation=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](29,"div",2),M["\u0275\u0275elementStart"](30,"div",29),M["\u0275\u0275elementStart"](31,"div",22),M["\u0275\u0275elementStart"](32,"label",141),M["\u0275\u0275text"](33),M["\u0275\u0275pipe"](34,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](35,"select",142,143),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Receipt.paymentterm_id=e}),M["\u0275\u0275template"](37,Ih,2,1,"option",84),M["\u0275\u0275template"](38,Ph,2,1,"option",84),M["\u0275\u0275template"](39,Eh,3,3,"option",85),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](40,"div",135),M["\u0275\u0275elementStart"](41,"div",22),M["\u0275\u0275elementStart"](42,"label",144),M["\u0275\u0275text"](43),M["\u0275\u0275pipe"](44,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](45,"input",145),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Receipt.contactedperson=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](46,"div",135),M["\u0275\u0275elementStart"](47,"div",22),M["\u0275\u0275elementStart"](48,"label",146),M["\u0275\u0275text"](49),M["\u0275\u0275pipe"](50,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](51,"input",147,148),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Receipt.planneddeliverydate=e}),M["\u0275\u0275pipe"](53,"date"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](54,"div",2),M["\u0275\u0275elementStart"](55,"div",29),M["\u0275\u0275elementStart"](56,"div",22),M["\u0275\u0275elementStart"](57,"label",149),M["\u0275\u0275text"](58),M["\u0275\u0275pipe"](59,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](60,"select",150,151),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Receipt.courierid=e}),M["\u0275\u0275template"](62,wh,2,1,"option",84),M["\u0275\u0275template"](63,Dh,2,1,"option",84),M["\u0275\u0275template"](64,Fh,3,3,"option",85),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](65,"div",135),M["\u0275\u0275elementStart"](66,"div",22),M["\u0275\u0275elementStart"](67,"label",152),M["\u0275\u0275text"](68),M["\u0275\u0275pipe"](69,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](70,"textarea",153,154),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Receipt.othernotes=e}),M["\u0275\u0275text"](72,"                            "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](73,"div",135),M["\u0275\u0275elementStart"](74,"div",22),M["\u0275\u0275elementStart"](75,"label",155),M["\u0275\u0275text"](76),M["\u0275\u0275pipe"](77,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](78,"input",156,157),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Receipt.actualdeliverydate=e}),M["\u0275\u0275pipe"](80,"date"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](5,32,"Shipment Term")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i._Receipt.shipmentterm_id),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",i.ShipmentTermList),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](15,34,"Supplier Account")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("checked",i.chk_ChangeSupplier)("ngModelOptions",M["\u0275\u0275pureFunction0"](58,Nh))("ngModel",i.chk_ChangeSupplier),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](20,36,"Change")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](27,38,"Delivery Location")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i._Receipt.deliverylocation),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](34,40,"Payment Term")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i._Receipt.paymentterm_id),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",i.PaymentTermsList),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](44,42,"Contacted Person")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i._Receipt.contactedperson),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](50,44,"Planned Delivery Date")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",M["\u0275\u0275pipeBind2"](53,46,i._Receipt.planneddeliverydate,"yyyy-MM-dd")),M["\u0275\u0275advance"](7),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](59,49,"Courier")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i._Receipt.courierid),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",i.CourierList),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](69,51,"Notes")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i._Receipt.othernotes),M["\u0275\u0275advance"](6),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](77,53,"Actual Delivery Date")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",M["\u0275\u0275pipeBind2"](80,55,i._Receipt.actualdeliverydate,"yyyy-MM-dd"))}}function qh(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",93),M["\u0275\u0275elementStart"](1,"div",63),M["\u0275\u0275elementStart"](2,"Signature",161),M["\u0275\u0275listener"]("signatureoutput",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).OnSignatureSet(e)}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("signature",i._Receipt.signature)}}function Th(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Cost Center"),""))}function Ah(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",null==n.subsaidarySetting?null:n.subsaidarySetting.costcenteralternativetext,"")}}function Gh(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.sugar)}}function Uh(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.sug)}}function jh(e,t){if(1&e&&(M["\u0275\u0275template"](0,Gh,2,1,"div",1),M["\u0275\u0275template"](1,Uh,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function $h(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Class"),""))}function zh(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](5);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n.subsaidarySetting?null:n.subsaidarySetting.classalternativetextar)}}function Wh(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](5);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n.subsaidarySetting?null:n.subsaidarySetting.classalternativetext)}}function Jh(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275template"](1,zh,2,1,"span",1),M["\u0275\u0275template"](2,Wh,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Qh(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span",24),M["\u0275\u0275text"](1,"*"),M["\u0275\u0275elementEnd"]())}function Yh(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function Hh(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function Zh(e,t){if(1&e&&(M["\u0275\u0275template"](0,Yh,2,1,"div",1),M["\u0275\u0275template"](1,Hh,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Kh(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",135),M["\u0275\u0275elementStart"](1,"label",33),M["\u0275\u0275template"](2,$h,3,3,"span",1),M["\u0275\u0275template"](3,Jh,3,2,"span",1),M["\u0275\u0275template"](4,Qh,2,0,"span",167),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](5,"p-autoComplete",168,169),M["\u0275\u0275listener"]("onFocus",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275reference"](6);return M["\u0275\u0275nextContext"](3).onFocusInClasses(e),t.show()})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3)._Receipt.classfieldname=e})("onSelect",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).ClassesSelectEvent(e)})("completeMethod",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).ClassesChangeSearch(e)})("onClear",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3)._Receipt.classid=null}),M["\u0275\u0275pipe"](8,"translate"),M["\u0275\u0275template"](9,Zh,2,2,"ng-template",170),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](7);M["\u0275\u0275nextContext"](2);var r=M["\u0275\u0275reference"](3),a=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",null==(null==a.subsaidarySetting?null:a.subsaidarySetting.classalternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null!=(null==a.subsaidarySetting?null:a.subsaidarySetting.classalternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null==a.subsaidarySetting?null:a.subsaidarySetting.classmandatory4invtrans),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("required",null==a.subsaidarySetting?null:a.subsaidarySetting.classmandatory4invtrans)("ngModel",a._Receipt.classfieldname)("suggestions",a.ClassList)("ngClass",M["\u0275\u0275pureFunction2"](12,Pm,i.invalid&&r.submitted,i.valid&&r.submitted))("showEmptyMessage",!0)("emptyMessage",M["\u0275\u0275pipeBind1"](8,10,"NoResultsFound"))("forceSelection",!0)}}function Xh(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Location")," "))}function eg(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](5);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n.subsaidarySetting?null:n.subsaidarySetting.locationalternativetext)}}function tg(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](5);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n.subsaidarySetting?null:n.subsaidarySetting.locationalternativetextar)}}function ng(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275template"](1,eg,2,1,"span",1),M["\u0275\u0275template"](2,tg,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function ig(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span",24),M["\u0275\u0275text"](1,"*"),M["\u0275\u0275elementEnd"]())}function rg(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function ag(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function og(e,t){if(1&e&&(M["\u0275\u0275template"](0,rg,2,1,"div",1),M["\u0275\u0275template"](1,ag,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function cg(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",135),M["\u0275\u0275elementStart"](1,"label",33),M["\u0275\u0275template"](2,Xh,3,3,"span",1),M["\u0275\u0275template"](3,ng,3,2,"span",1),M["\u0275\u0275template"](4,ig,2,0,"span",167),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](5,"p-autoComplete",171,172),M["\u0275\u0275listener"]("onFocus",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275reference"](6);return M["\u0275\u0275nextContext"](3).onFocusInLocations(e),t.show()})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3)._Receipt.locationfieldname=e})("onSelect",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).LocationsSelectEvent(e)})("completeMethod",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).LocationsChangeSearch(e)})("onClear",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3)._Receipt.locationid=null}),M["\u0275\u0275pipe"](8,"translate"),M["\u0275\u0275template"](9,og,2,2,"ng-template",173),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](7);M["\u0275\u0275nextContext"](2);var r=M["\u0275\u0275reference"](3),a=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",null==(null==a.subsaidarySetting?null:a.subsaidarySetting.locationalternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null!=(null==a.subsaidarySetting?null:a.subsaidarySetting.locationalternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null==a.subsaidarySetting?null:a.subsaidarySetting.locationmandatory4invtrans),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("required",null==a.subsaidarySetting?null:a.subsaidarySetting.locationmandatory4invtrans)("ngModel",a._Receipt.locationfieldname)("suggestions",a.LocationList)("ngClass",M["\u0275\u0275pureFunction2"](12,Pm,i.invalid&&r.submitted,i.valid&&r.submitted))("showEmptyMessage",!0)("emptyMessage",M["\u0275\u0275pipeBind1"](8,10,"NoResultsFound"))("forceSelection",!0)}}function lg(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Department")," "))}function sg(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](5);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n.subsaidarySetting?null:n.subsaidarySetting.departmentalternativetextar)}}function dg(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](5);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n.subsaidarySetting?null:n.subsaidarySetting.departmentalternativetext)}}function pg(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275template"](1,sg,2,1,"span",1),M["\u0275\u0275template"](2,dg,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function ug(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span",24),M["\u0275\u0275text"](1,"*"),M["\u0275\u0275elementEnd"]())}function mg(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.sugar)}}function hg(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.sug)}}function gg(e,t){if(1&e&&(M["\u0275\u0275template"](0,mg,2,1,"div",1),M["\u0275\u0275template"](1,hg,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function _g(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",135),M["\u0275\u0275elementStart"](1,"label",33),M["\u0275\u0275template"](2,lg,3,3,"span",1),M["\u0275\u0275template"](3,pg,3,2,"span",1),M["\u0275\u0275template"](4,ug,2,0,"span",167),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](5,"p-autoComplete",174,175),M["\u0275\u0275listener"]("onFocus",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275reference"](6);return M["\u0275\u0275nextContext"](3).onFocusInDepartment(e),t.show()})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3)._Receipt.departmentfieldname=e})("onSelect",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).DepartmentSelectEvent(e)})("completeMethod",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).DepartmentChangeSearch(e)}),M["\u0275\u0275template"](8,gg,2,2,"ng-template",176),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](7);M["\u0275\u0275nextContext"](2);var r=M["\u0275\u0275reference"](3),a=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",null==(null==a.subsaidarySetting?null:a.subsaidarySetting.departmentalternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null!=(null==a.subsaidarySetting?null:a.subsaidarySetting.departmentalternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null==a.subsaidarySetting?null:a.subsaidarySetting.departmentmandatory4invtrans),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("required",null==a.subsaidarySetting?null:a.subsaidarySetting.departmentmandatory4invtrans)("ngModel",a._Receipt.departmentfieldname)("suggestions",a.DepartmentList)("ngClass",M["\u0275\u0275pureFunction2"](7,Pm,i.invalid&&r.submitted,i.valid&&r.submitted))}}function vg(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",162),M["\u0275\u0275elementStart"](1,"label",33),M["\u0275\u0275template"](2,Th,3,3,"span",1),M["\u0275\u0275template"](3,Ah,2,1,"span",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](4,"p-autoComplete",163,164),M["\u0275\u0275listener"]("onFocus",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275reference"](5);return M["\u0275\u0275nextContext"](2).onFocusInCostCenter(e),t.show()})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Receipt.costcenterfieldname=e})("onSelect",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).CostCenterSelectEvent(e)})("completeMethod",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).CostCenterChangeSearch(e)})("onClear",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Receipt.costcenterid=null}),M["\u0275\u0275pipe"](7,"translate"),M["\u0275\u0275template"](8,jh,2,2,"ng-template",165),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](9,Kh,10,15,"div",166),M["\u0275\u0275template"](10,cg,10,15,"div",166),M["\u0275\u0275template"](11,_g,9,10,"div",166)}if(2&e){var i=M["\u0275\u0275reference"](6);M["\u0275\u0275nextContext"]();var r=M["\u0275\u0275reference"](3),a=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",null==(null==a.subsaidarySetting?null:a.subsaidarySetting.costcenteralternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null!=(null==a.subsaidarySetting?null:a.subsaidarySetting.costcenteralternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("required",null==a.subsaidarySetting?null:a.subsaidarySetting.costcentermandatory4invtrans)("ngModel",a._Receipt.costcenterfieldname)("suggestions",a.CostCenterList)("ngClass",M["\u0275\u0275pureFunction2"](14,Pm,i.invalid&&r.submitted,i.valid&&r.submitted))("showEmptyMessage",!0)("emptyMessage",M["\u0275\u0275pipeBind1"](7,12,"NoResultsFound"))("forceSelection",!0),M["\u0275\u0275advance"](5),M["\u0275\u0275property"]("ngIf",null==a.subsaidarySetting?null:a.subsaidarySetting.classisactive),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null==a.subsaidarySetting?null:a.subsaidarySetting.locationisactive),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null==a.subsaidarySetting?null:a.subsaidarySetting.departmentisactive)}}function fg(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275element"](1,"Item-StoreQty",177,178),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("wrappe",n._itemstoreqtyobj)}}function Cg(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275elementStart"](1,"div",2),M["\u0275\u0275elementStart"](2,"form",4,5),M["\u0275\u0275listener"]("ngSubmit",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275reference"](3);return M["\u0275\u0275nextContext"]().CheckPre_SaveReceipt(e)}),M["\u0275\u0275elementStart"](4,"div",6),M["\u0275\u0275elementStart"](5,"div",7),M["\u0275\u0275elementStart"](6,"div",8),M["\u0275\u0275elementStart"](7,"div",9),M["\u0275\u0275elementStart"](8,"h6",10),M["\u0275\u0275text"](9),M["\u0275\u0275pipe"](10,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](11,"div",2),M["\u0275\u0275elementStart"](12,"div",11),M["\u0275\u0275elementStart"](13,"button",12),M["\u0275\u0275element"](14,"i",13),M["\u0275\u0275text"](15),M["\u0275\u0275pipe"](16,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](17,"button",14),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().CreateNewAction()}),M["\u0275\u0275text"](18),M["\u0275\u0275pipe"](19,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](20,cm,3,4,"button",15),M["\u0275\u0275template"](21,lm,3,4,"button",16),M["\u0275\u0275elementStart"](22,"button",17),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().BackAction()}),M["\u0275\u0275text"](23),M["\u0275\u0275pipe"](24,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](25,"div",18),M["\u0275\u0275elementStart"](26,"button",19),M["\u0275\u0275text"](27),M["\u0275\u0275pipe"](28,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](29,"div",20),M["\u0275\u0275template"](30,mm,8,8,"ng-container",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275element"](31,"hr"),M["\u0275\u0275elementStart"](32,"div",2),M["\u0275\u0275elementStart"](33,"div",21),M["\u0275\u0275elementStart"](34,"div",22),M["\u0275\u0275elementStart"](35,"label",23),M["\u0275\u0275text"](36),M["\u0275\u0275pipe"](37,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](38,"span",24),M["\u0275\u0275text"](39,"*"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](40,"select",25,26),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.branch_id=e})("change",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().changeBranch(e)}),M["\u0275\u0275template"](42,hm,2,0,"option",27),M["\u0275\u0275template"](43,gm,2,0,"option",27),M["\u0275\u0275template"](44,fm,3,3,"option",28),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](45,"div",29),M["\u0275\u0275elementStart"](46,"div",22),M["\u0275\u0275elementStart"](47,"label",30),M["\u0275\u0275text"](48),M["\u0275\u0275pipe"](49,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](50,"span",24),M["\u0275\u0275text"](51,"*"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](52,"input",31,32),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.entry_no=e})("ngModelChange",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().ChangePropFinish("EntryCode",2)})("keydown.space",function(e){return e.preventDefault()}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](54,"div",2),M["\u0275\u0275elementStart"](55,"div",29),M["\u0275\u0275elementStart"](56,"div",22),M["\u0275\u0275elementStart"](57,"label",33),M["\u0275\u0275text"](58),M["\u0275\u0275pipe"](59,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](60,"span",24),M["\u0275\u0275text"](61,"*"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](62,"p-autoComplete",34,35),M["\u0275\u0275listener"]("onFocus",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275reference"](63);return M["\u0275\u0275nextContext"]().onFocusInCustomerAccounts(e),t.show()})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.cashcustomer_vendor_code=e})("onSelect",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().CustomerAccountsSelectEvent(e)})("completeMethod",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().CustomerAccountsChangeSearch(e)})("onClear",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().onClearVendor(e)}),M["\u0275\u0275pipe"](65,"translate"),M["\u0275\u0275template"](66,bm,2,2,"ng-template",36),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](67,"div",29),M["\u0275\u0275elementStart"](68,"div",22),M["\u0275\u0275elementStart"](69,"label",37),M["\u0275\u0275text"](70),M["\u0275\u0275pipe"](71,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](72,"input",38,39),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.cashcustomer_vendor_name=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](74,"div",29),M["\u0275\u0275elementStart"](75,"div",22),M["\u0275\u0275elementStart"](76,"label",40),M["\u0275\u0275text"](77),M["\u0275\u0275pipe"](78,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](79,"input",41,42),M["\u0275\u0275listener"]("ngModelChange",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275nextContext"]();return t._Receipt.entry_date=e,t.ChangePropFinish("EntryDate",2)}),M["\u0275\u0275pipe"](81,"date"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](82,"div",29),M["\u0275\u0275elementStart"](83,"div",22),M["\u0275\u0275elementStart"](84,"label",40),M["\u0275\u0275text"](85),M["\u0275\u0275pipe"](86,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](87,"input",43,44),M["\u0275\u0275listener"]("ngModelChange",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().ChangePropFinish("DeliverDate",2)})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.entry_time=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](89,"div",2),M["\u0275\u0275template"](90,Om,12,11,"div",45),M["\u0275\u0275template"](91,km,9,9,"div",45),M["\u0275\u0275elementStart"](92,"div",29),M["\u0275\u0275elementStart"](93,"div",22),M["\u0275\u0275elementStart"](94,"label",46),M["\u0275\u0275text"](95),M["\u0275\u0275pipe"](96,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](97,"input",47,48),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.reference_no=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](99,"div",29),M["\u0275\u0275elementStart"](100,"div",22),M["\u0275\u0275elementStart"](101,"label",49),M["\u0275\u0275text"](102),M["\u0275\u0275pipe"](103,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](104,"input",50,51),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.memo=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](106,"div",2),M["\u0275\u0275template"](107,Em,7,5,"div",52),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](108,"div",7),M["\u0275\u0275elementStart"](109,"div",53),M["\u0275\u0275elementStart"](110,"div",2),M["\u0275\u0275elementStart"](111,"div",54),M["\u0275\u0275elementStart"](112,"ul",55,56),M["\u0275\u0275listener"]("activeIdChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().activeNav=e}),M["\u0275\u0275elementStart"](114,"li",57),M["\u0275\u0275elementStart"](115,"a",58),M["\u0275\u0275text"](116),M["\u0275\u0275pipe"](117,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](118,eh,32,26,"ng-template",59),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](119,"li",60),M["\u0275\u0275elementStart"](120,"a",58),M["\u0275\u0275text"](121),M["\u0275\u0275pipe"](122,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](123,uh,26,13,"ng-template",59),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](124,"li",60),M["\u0275\u0275elementStart"](125,"a",58),M["\u0275\u0275text"](126),M["\u0275\u0275pipe"](127,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](128,Vh,81,59,"ng-template",59),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](129,"li",60),M["\u0275\u0275elementStart"](130,"a",58),M["\u0275\u0275text"](131),M["\u0275\u0275pipe"](132,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](133,qh,3,1,"ng-template",59),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](134,"li",60),M["\u0275\u0275elementStart"](135,"a",58),M["\u0275\u0275text"](136),M["\u0275\u0275pipe"](137,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](138,vg,12,17,"ng-template",59),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275element"](139,"div",61),M["\u0275\u0275elementStart"](140,"div",2),M["\u0275\u0275elementStart"](141,"div",62),M["\u0275\u0275elementStart"](142,"div",63),M["\u0275\u0275elementStart"](143,"div",64),M["\u0275\u0275elementStart"](144,"table",65),M["\u0275\u0275elementStart"](145,"thead"),M["\u0275\u0275elementStart"](146,"tr"),M["\u0275\u0275element"](147,"th",66),M["\u0275\u0275elementStart"](148,"th",67),M["\u0275\u0275text"](149),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](150,"th",66),M["\u0275\u0275text"](151),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](152,"tbody"),M["\u0275\u0275elementStart"](153,"tr"),M["\u0275\u0275elementStart"](154,"td"),M["\u0275\u0275text"](155),M["\u0275\u0275pipe"](156,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](157,"td",68),M["\u0275\u0275elementStart"](158,"input",69),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.netvalueforeign=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](159,"td"),M["\u0275\u0275elementStart"](160,"input",70),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.netvalue=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](161,"tr"),M["\u0275\u0275elementStart"](162,"td"),M["\u0275\u0275text"](163),M["\u0275\u0275pipe"](164,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](165,"td"),M["\u0275\u0275elementStart"](166,"input",71),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.qtotal=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](167,"tr"),M["\u0275\u0275elementStart"](168,"td"),M["\u0275\u0275text"](169),M["\u0275\u0275pipe"](170,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](171,"td"),M["\u0275\u0275elementStart"](172,"input",72),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.totalitem=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](173,"div",73),M["\u0275\u0275template"](174,fg,3,1,"div",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](3),r=M["\u0275\u0275reference"](41),a=M["\u0275\u0275reference"](53),o=M["\u0275\u0275reference"](64),c=M["\u0275\u0275reference"](80),l=M["\u0275\u0275reference"](113),s=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](9),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](10,79,"GiftVoucher"),""),M["\u0275\u0275advance"](4),M["\u0275\u0275attribute"]("disabled",s.VouchersLinkedCount>0||1==s.ShowModeReceipt||1==s.DuringSaveDisable||s.ReceiptID>0&&!s.checkRoleParms(622)||0==s.ReceiptID&&!s.checkRoleParms(585)||null),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](16,81,"Save")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275attribute"]("disabled",!s.checkRoleParms(585)||1==s.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](19,83,"CreateNew")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",s.ReceiptID>0&&0==s.VouchersLinkedCount),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",s.ReceiptID>0),M["\u0275\u0275advance"](1),M["\u0275\u0275attribute"]("disabled",1==s.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](24,85,"Exit")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](28,87,"Action Menu")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngIf",s.ReceiptID>0),M["\u0275\u0275advance"](6),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](37,89,"Branch")),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("ngModel",s._Receipt.branch_id)("ngClass",M["\u0275\u0275pureFunction2"](126,Pm,r.invalid&&i.submitted,r.valid&&i.submitted)),M["\u0275\u0275attribute"]("disabled",s.ReceiptID>0||null),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=s.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==s.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",s.BranchList)("ngForTrackBy",s.customTrackBy),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](49,91,"Entry#")),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("stepallow",1)("ngModel",s._Receipt.entry_no)("Min",1)("CheckMin",!0)("readonly",0==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.controlvouchernumanddate)||s.VouchersLinkedCount>0||1==s.LockedRecepit)("ngClass",M["\u0275\u0275pureFunction2"](129,Pm,a.invalid&&i.submitted,a.valid&&i.submitted)),M["\u0275\u0275advance"](6),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](59,93,"Vendor#")),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("ngModel",s._Receipt.cashcustomer_vendor_code)("suggestions",s.CustomerAccountsList)("showEmptyMessage",!0)("emptyMessage",M["\u0275\u0275pipeBind1"](65,95,"NoResultsFound"))("forceSelection",!0)("ngClass",M["\u0275\u0275pureFunction2"](132,Pm,o.invalid&&i.submitted,o.valid&&i.submitted)),M["\u0275\u0275advance"](8),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](71,97,"Vendor Name")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",s._Receipt.cashcustomer_vendor_name)("readonly",!0),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](78,99,"Date")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",M["\u0275\u0275pipeBind2"](81,101,s._Receipt.entry_date,"yyyy-MM-dd"))("readonly",0==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.controlvouchernumanddate)||s.VouchersLinkedCount>0||1==s.LockedRecepit)("ngClass",M["\u0275\u0275pureFunction2"](135,Pm,c.invalid&&i.submitted||0==s.ValidPeriod,c.valid&&i.submitted)),M["\u0275\u0275advance"](6),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](86,104,"Time")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("readonly",0==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.controlvouchernumanddate)||s.VouchersLinkedCount>0||1==s.LockedRecepit)("ngModel",s._Receipt.entry_time),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngIf",null==s.subsaidarySetting?null:s.subsaidarySetting.enablemulticurrency),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null==s.subsaidarySetting?null:s.subsaidarySetting.enablemulticurrency),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](96,106,"ReferenceNo")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",s._Receipt.reference_no),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](103,108,"Memo")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",s._Receipt.memo),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngIf",0!=s.ReceiptID),M["\u0275\u0275advance"](5),M["\u0275\u0275property"]("destroyOnHide",!1)("activeId",s.activeNav),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngbNavItem",1),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](117,110,"Items")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngbNavItem",2),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](122,112,"LinkedReceipt")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngbNavItem",3),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](127,114,"Other Details")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngbNavItem",4),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](132,116,"Signature")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngbNavItem",5),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](137,118,"AnalyticalAccount")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngbNavOutlet",l),M["\u0275\u0275advance"](9),M["\u0275\u0275property"]("hidden",!s.ForeignCurrencyShow),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" Total - ",null==s._CurrencySelected?null:s._CurrencySelected.currencysymbol," "),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" Total - ",null==s._BaseCurrency?null:s._BaseCurrency.currencysymbol," "),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](156,120,"Net")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("hidden",!s.ForeignCurrencyShow),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngModel",s._Receipt.netvalueforeign)("readonly",!0),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",s._Receipt.netvalue)("readonly",!0),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](164,122,"totalqty")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("readonly",!0)("ngModel",s._Receipt.qtotal),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](170,124,"totalitem")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("readonly",!0)("ngModel",s._Receipt.totalitem),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",s.itemqtyview)}}var yg=function(){return[584,585,586,622]},bg=function(){var e=function(){function e(t,n,i,r,a,o,l,s,d,p,u,m,h,g,_,v,f,C){var y=this;c(this,e),this._cashsalesService=t,this._CustomerService=n,this._ReceiptSharedService=i,this._VoucherService=r,this.cd=a,this.toastr=o,this._router=l,this._generalService=s,this.translate=d,this._translateGlobalService=p,this._activeRoute=u,this.modalService=m,this.spinner=h,this._authService=g,this._printService=_,this._VerifyReportsService=v,this.datepipe=f,this.location=C,this.isType=!1,this.subsidiaryID=0,this.ReceiptID=0,this.activeNav=1,this.PriceListItemsOnly=!1,this.BasicCodeReceipt=4,this.Transaction_move=0,this._Receipt=new S.tY,this._ReceiptOriginal=new S.tY,this._Receipt_h_Edit=new S.Iu,this._CashSalesDetailsReceipt=new S.hm,this.ItemsComponentList=new Array,this.DescriptionItem=new S.tH,this._LinkedReceipt=new S.Cb,this.IsSalesManImplemented=!1,this._Currencyprecision=3,this.ForeignCurrencyShow=!1,this.ValidPeriod=!0,this.deliverdateValid=!0,this.VouchersLinkedCount=0,this.DuringSaveDisable=!1,this.show_all_component=!1,this.BranchList=[],this.CustomerAccountsList=[],this.CostCenterList=[],this.ShipmentTermList=[],this.CourierList=[],this.ReceiptCodeList=[],this.PaymentTermsList=[],this.TransactionAccountList=[],this.DepartmentList=[],this.LocationList=[],this.ClassList=[],this.CurrencyList=[],this.StoreList=[],this.ItemsList=[],this.ItemUnitsList=[],this.ItemComponentUnitsList=[],this.CustomerSalesPriceList=[],this.ApprovalStatusList=[{id:1,name:"New",name_ar:"\u062c\u062f\u064a\u062f"},{id:2,name:"Approved",name_ar:"\u0645\u0642\u0628\u0648\u0644"},{id:3,name:"Disapproved",name_ar:"\u0645\u0631\u0641\u0648\u0636"},{id:4,name:"Invoiced",name_ar:"\u062a\u0645 \u0639\u0645\u0644 \u0641\u0627\u062a\u0648\u0631\u0647"},{id:5,name:"Sales Order",name_ar:"\u062a\u0645 \u0639\u0645\u0644 \u0633\u0646\u062f \u0628\u064a\u0639"}],this.reporturl="",this.reportdomainUrl=ke.N.aspDomain,this._emailobj={email:"",subject:""},this.mailmsg="",this.allowDelete=!1,this.ShowModeReceipt=!1,this.LockedRecepit=!1,this.swalTitleEntry="",this.swalTextEntry="",this.swalConfirmButtonEntry="",this.Cancel="",this.WarningInfoLost="",this.warning="",this.Yes="",this.FinancialPeriodMsg="",this.FinancialPeriodCloseMsg="",this.Close="",this.CostPostingPeriodMessage="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.DeleteRelationmsg="",this.ItemsZeroErrorMsg="",this.MultiPayErrorMsg="",this.ItemsEqualZeroMsg="",this.ReceiptNotFound="",this.CustomerPricelistMsg="",this.Receiptnoitems="",this.NoUnits="",this.ItemWarrantyValidMsg="",this.DeliverDateMsg="",this.qtyErrorSaveMsg="",this.qtyErrorMsg="",this.qtyZeroErrorSaveMsg="",this.NOComponents="",this.SaveMsg="",this.No="",this.swalNewActionTitle="",this.swalNewActionText="",this.StopInventoryErrorMsg="",this.RelatedwithSerialsOrBatches="",this.timeout=null,this.chk_ChangeSupplier=!1,this.ItemLinkedReceipt=[],this.ItemComponentsLinkedReceipt=[],this.itemqtyview=!1,this._itemstoreqtyobj=new S.I$,this.isDupilcate=!1,u.params.subscribe(function(e){y.ReceiptID=e.id,y.ShowModeReceipt=null!=e.show&&"show"==e.show&&e.id>0,y.LockedRecepit=y.ShowModeReceipt,y.subsidiaryID=y._generalService.SubsidiaryID,y.subsidiaryID>0&&y.SetInitialMethods(),y._UserLogin=y._authService.userInfo()}),this.ngUnsubscribe=s.proadCastSubsidiaryID.subscribe(function(e){0==y.subsidiaryID&&(y.subsidiaryID=y._generalService.SubsidiaryID,y.SetInitialMethods()),y.subsidiaryID!=y._generalService.SubsidiaryID&&y.subsidiaryID>0&&(y.subsidiaryID=y._generalService.SubsidiaryID,y._router.navigate(["/page/inventorytransiction/giftvoucher/0"]).then(function(){window.location.reload()}))}),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(function(e){y.lang=e.lang,y.dir=e.dir,y.translate.use(e.lang),y.ngTransUnsubscribe=y.translate.get(["Cancel","swalTitleEntryno","swalEntrynoText","swalEntrynoConfirmButton","WarningInfoLost","warning","Yes","mailmsg","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","DeleteRelationmsg","successMsg","ItemsZeroErrorMsg","MultiPayErrorMsg","ItemsEqualZeroMsg","ReceiptNotFound","CustomerPricelistMsg","Receiptnoitems","NoUnits","ItemWarrantyValidMsg","FinancialPeriodMsg","StopInventoryErrorMsg","CloseFinancialPeriodMsg","Close","DeliverDateMsg","qtyErrorSaveMsg","qtyErrorMsg","qtyZeroErrorSaveMsg","Gift Voucher","SaveMsg","No","swalNewActionTitle","CostPostingPeriodMessage","swalNewActionText","RelatedwithSerialsOrBatches","cantNotDuplicateItem"]).subscribe(function(e){document.title=e["Gift Voucher"],y.Cancel=e.Cancel,y.swalTitleEntry=e.swalTitleEntryno,y.swalTextEntry=e.swalEntrynoText,y.swalConfirmButtonEntry=e.swalEntrynoConfirmButton,y.WarningInfoLost=e.WarningInfoLost,y.warning=e.warning,y.Yes=e.Yes,y.No=e.No,y.swalNewActionTitle=e.swalNewActionTitle,y.swalNewActionText=e.swalNewActionText,y.mailmsg=e.mailmsg,y.swalDeleteTitle=e.swalDeleteTitle,y.swalDetlateText=e.swalDetlateText,y.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,y.DeleteRelationmsg=e.DeleteRelationmsg,y.toastrSuccessDelete=e.successMsg,y.ItemsZeroErrorMsg=e.ItemsZeroErrorMsg,y.MultiPayErrorMsg=e.MultiPayErrorMsg,y.ItemsEqualZeroMsg=e.ItemsEqualZeroMsg,y.ReceiptNotFound=e.ReceiptNotFound,y.CustomerPricelistMsg=e.CustomerPricelistMsg,y.Receiptnoitems=e.Receiptnoitems,y.NoUnits=e.NoUnits,y.ItemWarrantyValidMsg=e.ItemWarrantyValidMsg,y.FinancialPeriodMsg=e.FinancialPeriodMsg,y.Close=e.Close,y.DeliverDateMsg=e.DeliverDateMsg,y.qtyErrorMsg=e.qtyErrorMsg,y.qtyErrorSaveMsg=e.qtyErrorSaveMsg,y.qtyZeroErrorSaveMsg=e.qtyZeroErrorSaveMsg,y.SaveMsg=e.SaveMsg,y.StopInventoryErrorMsg=e.StopInventoryErrorMsg,y.FinancialPeriodCloseMsg=e.CloseFinancialPeriodMsg,y.CostPostingPeriodMessage=e.CostPostingPeriodMessage,y.RelatedwithSerialsOrBatches=e.RelatedwithSerialsOrBatches,y.cantNotDuplicateItem=e.cantNotDuplicateItem})})}return o(e,[{key:"SetInitialMethods",value:function(){this._Receipt=new S.tY,this.GetCurrentUserSetting(),this.GetBranchList(),this.GetShipmentTermList(),this.GetCourierList(),this.GetAllPaymentTermsList(),this.GetCashCustomerSettings(),this.GetSubsaidarySetting(),this.GetCurrencyList(),this.GetReceipt_AfterReceiptCode_InventroySettings()}},{key:"GetReceipt_AfterReceiptCode_InventroySettings",value:function(){var e=this,t=this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID),i=this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID);(0,Ie.D)([t,i]).subscribe(function(t){var i=n(t,2),r=i[0],a=i[1];e.ReceiptCodeList=r,e.InventorySetting=a;var o=e.ReceiptCodeList.find(function(t){return t.code==e.BasicCodeReceipt});e.Transaction_move=o.items,e.GetReceipt(),e.cd.markForCheck()})}},{key:"ngOnInit",value:function(){}},{key:"GetReceipt",value:function(){var e=this;if(this._Receipt.subsidiaryid=this.subsidiaryID,0==this.ReceiptID){this._Receipt.customersalesprice=0,this._Receipt.code=this.BasicCodeReceipt,this._Receipt.entry_date=this.datepipe.transform(new Date,"yyyy-MM-dd"),this.CheckValidDateBySubsidaryID(),this._Receipt.entry_time=this.SetTimeNow();var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&(this._Receipt.branch_id="null"==t.branchId||0==t.branchId?null:t.branchId,null!=this._Receipt.branch_id&&(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch())),setTimeout(function(){e._ReceiptOriginal=JSON.parse(JSON.stringify(e._Receipt)),console.log(e._Receipt)},1e3)}else this._ReceiptSharedService.GetReceiptAndDetailsByID(this.ReceiptID).subscribe(function(t){if(null!=t.receipt){if(e.VouchersLinkedCount=t.voucherslinkedcount.voucherslinkedcount,e._Receipt.id=t.receipt.id,e._Receipt.subsidiaryid=t.receipt.subsidiaryid,e._Receipt.code=t.receipt.code,e._Receipt.entry_no=t.receipt.entry_no,e._Receipt.branch_id=t.receipt.branch_id,e._Receipt.transaction_code=t.receipt.transaction_code,e._Receipt.customersalesprice=t.receipt.customersalesprice,e._Receipt.qtotal=t.items.qty,e._Receipt.totalitem=t.items.length,e._Receipt.entry_date=e.datepipe.transform(t.receipt.entry_date,"yyyy-MM-dd"),e._Receipt.entry_time=t.receipt.entry_time,e._Receipt.reservedflag=t.receipt.reservedflag,e._Receipt.payment_type=t.receipt.payment_type,e._Receipt.vendor_id=t.receipt.vendor_id,e._Receipt.cashcustomerid=t.receipt.cashcustomerid,null!=e._Receipt.vendor_id&&(e._Receipt.cashcustomer_vendor_code={code:t.receipt.vendorcode},e._Receipt.cashcustomer_vendor_name="ar"==e.lang?t.receipt.vendornamear:t.receipt.vendorname,e.PriceListItemsOnly=t.receipt.pricelistitemsonly),e._Receipt.currency_id=t.receipt.currency_id,e._Receipt.currency_rate=t.receipt.currency_rate,e._Receipt.customerdeliverdate=e.datepipe.transform(t.receipt.customerdeliverdate,"yyyy-MM-dd"),e._Receipt.customerdeliverdate_time=t.receipt.customerdeliverdate_time,e._Receipt.ordertype=t.receipt.ordertype,e._Receipt.empoyee_id=t.receipt.empoyee_id,e._Receipt.memo=t.receipt.memo,e._Receipt.reference_no=t.receipt.reference_no,e._Receipt.salestypeid=t.receipt.salestypeid,e._Receipt.commisionaccountid=t.receipt.commisionaccountid,e._Receipt.commisionaccountfieldname="ar"==e.lang?{commisionaccountfieldname:t.receipt.commisionaccount_sug_ar}:{commisionaccountfieldname:t.receipt.commisionaccount_sug},e._Receipt.commissiontype=t.receipt.commissiontype,e._Receipt.commission=t.receipt.commission,e._Receipt.commissionnet=t.receipt.commissionnet,e._Receipt.commisionaccountid1=t.receipt.commisionaccountid1,e._Receipt.commisionaccountfieldname1="ar"==e.lang?{commisionaccountfieldname1:t.receipt.commisionaccount1_sug_ar}:{commisionaccountfieldname1:t.receipt.commisionaccount1_sug},e._Receipt.commissiontype1=t.receipt.commissiontype1,e._Receipt.commission1=t.receipt.commission1,e._Receipt.commissionnet1=t.receipt.commissionnet1,e._Receipt.costcenterid=t.receipt.costcenterid,e._Receipt.costcenterfieldname=null!=e._Receipt.costcenterid?"ar"==e.lang?{costcenterfieldname:t.receipt.costcenter_sug_ar}:{costcenterfieldname:t.receipt.costcenter_sug}:null,e._Receipt.classid=t.receipt.classid,e._Receipt.classfieldname=null!=e._Receipt.classid?"ar"==e.lang?{classfieldname:t.receipt.classes_sug_ar}:{classfieldname:t.receipt.classes_sug}:null,e._Receipt.locationid=t.receipt.locationid,e._Receipt.locationfieldname=null!=e._Receipt.locationid?"ar"==e.lang?{locationfieldname:t.receipt.location_sug_ar}:{locationfieldname:t.receipt.location_sug}:null,e._Receipt.departmentid=t.receipt.departmentid,e._Receipt.departmentfieldname=null!=e._Receipt.departmentid?"ar"==e.lang?{departmentfieldname:t.receipt.department_sug_ar}:{departmentfieldname:t.receipt.department_sug}:null,e._Receipt.carid=t.receipt.carid,e._Receipt.driverid=t.receipt.driverid,e._Receipt.valueforeign=t.receipt.valueforeign,e._Receipt.value=t.receipt.value,e._Receipt.discount_foreignpercent=t.receipt.discount_foreignpercent,e._Receipt.discount_percent=t.receipt.discount_percent,e._Receipt.discount_foreignvalue=t.receipt.discount_foreignvalue,e._Receipt.discount_value=t.receipt.discount_value,e._Receipt.deliveryfeesforeign=t.receipt.deliveryfeesforeign,e._Receipt.deliveryfees=t.receipt.deliveryfees,e._Receipt.surchargevalueforeign=t.receipt.surchargevalueforeign,e._Receipt.surchargevalue=t.receipt.surchargevalue,e._Receipt.surchargepercent=t.receipt.surchargepercent,e._Receipt.netvalueforeign=t.receipt.netvalueforeign,e._Receipt.netvalue=t.receipt.netvalue,e._Receipt.signature=t.receipt.signature,e._Receipt.related_voucher_type=t.receipt.related_voucher_type,e._Receipt.related_voucher_code=t.receipt.related_voucher_code,e._Receipt.status_id=t.receipt.status_id,e._Receipt.approvalstatus_id=t.receipt.approvalstatus_id,e._Receipt.costing_rate=t.receipt.costing_rate,e._Receipt.approvedby_id=t.receipt.approvedby_id,e._Receipt.shipmentterm_id=t.receipt.shipmentterm_id,e._Receipt.paymentterm_id=t.receipt.paymentterm_id,e._Receipt.supplieraccount_id=t.receipt.supplieraccount_id,e.Oldsupplieraccount_id=t.receipt.supplieraccount_id,e._Receipt.supplier_name={name:t.receipt.supplier_name},e._Receipt.supplier_namear={name_ar:t.receipt.supplier_namear},e._Receipt.planneddeliverydate=t.receipt.planneddeliverydate,e._Receipt.actualdeliverydate=t.receipt.actualdeliverydate,e._Receipt.deliverylocation=t.receipt.deliverylocation,e._Receipt.contactedperson=t.receipt.contactedperson,e._Receipt.othernotes=t.receipt.othernotes,e._Receipt.cashdrawerid=t.receipt.cashdrawerid,e._Receipt.leadid=t.receipt.leadid,e._Receipt.deliverynotes=t.receipt.deliverynotes,e._Receipt.cashcustomerdetailid=t.receipt.cashcustomerdetailid,e._Receipt.is_canceled=t.receipt.is_canceled,e._Receipt.fromstoreid=t.receipt.fromstoreid,e._Receipt.tostoreid=t.receipt.tostoreid,e._Receipt.isdeliveryprint=t.receipt.isdeliveryprint,e._Receipt.printcount=t.receipt.printcount,e._Receipt.iskitchendone=t.receipt.iskitchendone,e._Receipt.paidamount=t.receipt.paidamount,e._Receipt.isholded=t.receipt.isholded,e._Receipt.branchtableid=t.receipt.branchtableid,e._Receipt.customeractualdeliverdate=t.receipt.customeractualdeliverdate,e._Receipt.deliverystatusid=t.receipt.deliverystatusid,e._Receipt.deposite=t.receipt.deposite,e._Receipt.paymentandconditions=t.receipt.paymentandconditions,e._Receipt.notes=t.receipt.notes,e._Receipt.chefid=t.receipt.chefid,e._Receipt.changeamount=t.receipt.changeamount,e._Receipt.divisionid=t.receipt.divisionid,e._Receipt.courierid=t.receipt.courierid,e._Receipt.depositepaymenttypeid=t.receipt.depositepaymenttypeid,e._Receipt.creationdate=t.receipt.creationdate,e._Receipt.lastupdatedate=t.receipt.lastupdatedate,e._Receipt.createdbyid=t.receipt.createdbyid,e._Receipt.updatedbyid=t.receipt.updatedbyid,e._Receipt.receiptattributeid=t.receipt.receiptattributeid,e._Receipt.costposted=t.receipt.costposted,e._Receipt.lcaccountid=t.receipt.lcaccountid,e._Receipt.lcno=t.receipt.lcno,e._Receipt.lcbank=t.receipt.lcbank,e._Receipt.lcstartdate=t.receipt.lcstartdate,e._Receipt.lcenddate=t.receipt.lcenddate,e._Receipt.lcrenewdate=t.receipt.lcrenewdate,e._Receipt.lcrenewenddate=t.receipt.lcrenewenddate,e._Receipt.lcinsurancecompany=t.receipt.lcinsurancecompany,e._Receipt.lcpolicyno=t.receipt.lcpolicyno,e._Receipt.insurancedate=t.receipt.insurancedate,e._Receipt.gooddeliverydate=t.receipt.gooddeliverydate,e._Receipt.lccondition=t.receipt.lccondition,e._Receipt.shippingmethod=t.receipt.shippingmethod,e._Receipt.exportport=t.receipt.exportport,e._Receipt.shipname=t.receipt.shipname,e._Receipt.lcnotes=t.receipt.lcnotes,e._Receipt.quotationcustomername=t.receipt.quotationcustomername,e._Receipt.duedate=t.receipt.duedate,e._Receipt.schedule_date=t.receipt.schedule_date,e._Receipt.storetype=t.receipt.storetype,e._Receipt.quotationenddate=t.receipt.quotationenddate,e._Receipt.wostatusid=t.receipt.wostatusid,e._Receipt.parentreceiptid=t.receipt.parentreceiptid,e._Receipt.isapproved=t.receipt.isapproved,e._Receipt.replenshimenttype=t.receipt.replenshimenttype,e._Receipt.reference=t.receipt.reference,e._Receipt.replenshimentfromdate=t.receipt.replenshimentfromdate,e._Receipt.replenshimenttodate=t.receipt.replenshimenttodate,e._Receipt.cancelreasonid=t.receipt.cancelreasonid,e._Receipt.contractstartdate=t.receipt.contractstartdate,e._Receipt.contractenddate=t.receipt.contractenddate,e._Receipt.previouscontractid=t.receipt.previouscontractid,e._Receipt.erpstatus=t.receipt.erpstatus,e._Receipt.loyalitybalance=t.receipt.loyalitybalance,e._Receipt.cpno=t.receipt.cpno,e._Receipt.accounttype=t.receipt.accounttype,e._Receipt.printing=t.receipt.printing,e._Receipt.storedelivery=t.receipt.storedelivery,e._Receipt.customerrecieve=t.receipt.customerrecieve,e._Receipt.promotionid=t.receipt.promotionid,e._Receipt.promotionpercent=t.receipt.promotionpercent,e._Receipt.promotionvalue=t.receipt.promotionvalue,e._Receipt.purchaserequeststatusid=t.receipt.purchaserequeststatusid,e._Receipt.urgent=t.receipt.urgent,e._Receipt.quotationstatusid=t.receipt.quotationstatusid,e._Receipt.salesorderstatusid=t.receipt.salesorderstatusid,e._Receipt.purchaseorderstatusid=t.receipt.purchaseorderstatusid,e._Receipt.expensesdistributionvoucherno=t.receipt.expensesdistributionvoucherno,e._Receipt.totalproductioncost=t.receipt.totalproductioncost,e._Receipt.totalvouchercost=t.receipt.totalvouchercost,e._Receipt.totalproductioncostforeign=t.receipt.totalproductioncostforeign,e._Receipt.totalvouchercostforeign=t.receipt.totalvouchercostforeign,e._Receipt.taxvalue=t.receipt.taxvalue,e._Receipt.sourceid=t.receipt.sourceid,e._Receipt.contractid=t.receipt.contractid,e._Receipt.type_id=t.receipt.type_id,e._Receipt.productionlineid=t.receipt.productionlineid,e._Receipt.linescheduleddate=t.receipt.linescheduleddate,e._Receipt.inchargepersonname=t.receipt.inchargepersonname,e._Receipt.inchargephoneno=t.receipt.inchargephoneno,e._Receipt.details=t.items,e._Receipt.details.forEach(function(e){e.storecode={code:e.storecode},e.itemcode={code:e.itemcode},e.allowqtyselectforitem=!0}),e.ItemUnitsList=t.itemunits,e.ItemComponentUnitsList=t.componentsunits,e._Receipt.linkedreceipts=t.linkedreceipts,e._Receipt.receiptmultipayment=t.receiptmultipayment,null==e._Receipt.qtotal||null==e._Receipt.totalitem){var n=0;e._Receipt.details.forEach(function(e){n+=e.qty}),e._Receipt.qtotal=n,e._Receipt.totalitem=t.items.length}e._ReceiptOriginal=JSON.parse(JSON.stringify(e._Receipt)),e.entry_no=e._Receipt.entry_no,e._CurrencySelected=e.CurrencyList.find(function(t){return t.id==e._Receipt.currency_id}),e.ForeignCurrencyShow=1!=e._CurrencySelected.basecurrency,1==!e.ShowModeReceipt&&e.CheckValidDateBySubsidaryID(),e.OnSelectedItem(e._Receipt.details[0],0,"selected",!0),e.cd.markForCheck()}})}},{key:"CheckPre_SaveReceipt",value:function(e){var t=this;if(e.form.valid)if(0!=this.ValidPeriod)if(0!=this.deliverdateValid)if(1!=this._Receipt.details.length||null!=this._Receipt.details[0].item_id){for(var n=function(e){if(null==t._Receipt.details[e].item_id)t._Receipt.details.splice(e,1),e--;else{if(!(t._Receipt.details[e].qty>0))return i=e,{v:void t.toastr.error(t.qtyZeroErrorSaveMsg)};0!=t._Receipt.value?(t._Receipt.details[e].h_discount_value=t._Receipt.discount_percent/100*t._Receipt.details[e].total/t._Receipt.details[e].qty%(1/0)||0,t._Receipt.details[e].h_discount_percentage=100*(t._Receipt.details[e].h_discount_value/(t._Receipt.details[e].total/t._Receipt.details[e].qty)%(1/0)||0)):(t._Receipt.details[e].h_discount_value=0,t._Receipt.details[e].h_discount_percentage=0);var n=t.ItemUnitsList.find(function(n){return n.item_id==t._Receipt.details[e].item_id&&n.id==t._Receipt.details[e].unit_id});t._Receipt.details[e].final_conv=null!=n?(null!=n.finalconv?n.finalconv:1)*(t._Receipt.details[e].conv/n.conv):t._Receipt.details[e].conv,t._Receipt.details[e].final_conv=0==t._Receipt.details[e].final_conv?1:t._Receipt.details[e].final_conv}i=e},i=0;i<this._Receipt.details.length;i++){var r=n(i);if("object"==typeof r)return r.v}if(0==this._Receipt.details.length)return this.toastr.error(this.ItemsZeroErrorMsg),void this.AddItems();this.CheckBalanceForItemInStore(0,!0,!0)}else this.toastr.error(this.ItemsZeroErrorMsg);else this.toastr.error(this.DeliverDateMsg);else this.ShowPopUpFinancialPeriod();else this.activeNav="INVALID"==e.form.controls.CostCenter.status||"INVALID"==e.form.controls.Department.status?5:1}},{key:"SaveReceipt",value:function(){var e=this;if(this._Receipt.lang=this.lang,"ar"!=this._Receipt.lang&&(this._Receipt.lang="en-US"),this._Receipt.details.filter(function(e){return 0==e.allowqtyselectforitem}).length>0)return this.toastr.error(this.qtyErrorSaveMsg),this.DuringSaveDisable=!1,void this.cd.markForCheck();this.DuringSaveDisable=!0;for(var t=0;t<this._Receipt.linkedreceipts.length;t++)0==this._Receipt.linkedreceipts[t].fire&&(this._Receipt.linkedreceipts.splice(t,1),t--);""==this._Receipt.customerdeliverdate||null==this._Receipt.customerdeliverdate||""==this._Receipt.entry_time||null==this._Receipt.entry_time||""!=this._Receipt.customerdeliverdate_time&&null!=this._Receipt.customerdeliverdate_time||(this._Receipt.customerdeliverdate_time=this._Receipt.entry_time),this.chk_ChangeSupplier||this._Receipt.supplieraccount_id!=this.Oldsupplieraccount_id&&(this._Receipt.supplieraccount_id=this._Receipt.vendor_id),null==this._Receipt.id||0==this._Receipt.id?(this._Receipt.totalitem=this._Receipt.details.length,this._ReceiptSharedService.ReceiptCreate(this._Receipt).subscribe(function(t){e.DuringSaveDisable=!1,e.toastr.success(e.SaveMsg),e.ReceiptID=t.id,e._router.navigate(["/page/inventorytransiction/giftvoucher/"+e.ReceiptID]).then(function(){window.location.reload()})})):(this._Receipt_h_Edit=new S.Iu,this._Receipt_h_Edit.Receipt_h=this._Receipt,this._Receipt_h_Edit.ReceiptOriginal=this._ReceiptOriginal,this._ReceiptSharedService.ReceiptUpdate(this._Receipt_h_Edit).subscribe(function(t){e.DuringSaveDisable=!1,e.toastr.success(e.SaveMsg),e._router.navigate(["/page/inventorytransiction/giftvoucher/"+e.ReceiptID]).then(function(){window.location.reload()})}))}},{key:"ChangePropFinish",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.DuringSaveDisable=!0,this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.timeout=null,"EntryCode"==t?e.CheckEntryCode():"EntryDate"==t?e.ChangeEntryDate():"DeliverDate"==t&&e.CheckDeliverDate()},1e3*n)}},{key:"CheckEntryCode",value:function(){var e=this;this._ReceiptSharedService.CheckEntryNo(this._Receipt.id,this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.entry_no,this._Receipt.branch_id).subscribe(function(t){e.DuringSaveDisable=!1,e.cd.markForCheck(),null!=t&&Me().fire({title:e.swalTitleEntry,text:e.swalTextEntry,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:e.swalConfirmButtonEntry,cancelButtonText:e.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.value?e._router.navigate(["/page/inventorytransiction/giftvoucher/"+t.id]).then(function(){}):(e._Receipt.entry_no=e.entry_no,e.cd.markForCheck())})})}},{key:"GetReceiptEntryCode",value:function(){var e=this;this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(function(t){e._Receipt.entry_no=0==t.length?1:t[0].entry_no+1,e.entry_no=e._Receipt.entry_no,e.cd.markForCheck()})}},{key:"GetBranchList",value:function(){var e=this;this._ReceiptSharedService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(function(t){e.BranchList=t,e.cd.markForCheck()})}},{key:"changeBranch",value:function(e){var t=this;if(this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id||null!=this._Receipt.vendor_id)Me().fire({title:this.warning,text:this.WarningInfoLost,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){if(n.value){t._Receipt.details=new Array,t._Receipt.linkedreceipts=new Array,t.ItemUnitsList=[],t.ItemComponentUnitsList=[],t._Receipt.branch_id="null"==e.target.value?null:e.target.value;var i=JSON.parse(localStorage.getItem("Branch"));null!=i&&null!=i&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:t._Receipt.branch_id})),null!=t._Receipt.branch_id?(t.GetReceiptEntryCode(),t.GetDefaultStoreCostCenterByBranch(!0)):t._Receipt.entry_no=null}else{var r=JSON.parse(localStorage.getItem("Branch"));null!=r&&null!=r&&(t._Receipt.branch_id="null"==r.branchId||0==r.branchId?null:r.branchId)}});else{this._Receipt.branch_id="null"==e.target.value?null:e.target.value;var n=JSON.parse(localStorage.getItem("Branch"));null!=n&&null!=n&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._Receipt.branch_id})),null!=this._Receipt.branch_id?(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch()):this._Receipt.entry_no=null}}},{key:"GetDefaultStoreCostCenterByBranch",value:function(){var e=this,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];1==t&&(this._Receipt.vendor_id=null,this._Receipt.cashcustomerid=null,this._Receipt.cashcustomer_vendor_code=null,this._Receipt.cashcustomer_vendor_name=null,this._Receipt.costcenterid=null,this._Receipt.costcenterfieldname=null),this._ReceiptSharedService.DefaultStoreCostCenterByBranch(this._Receipt.branch_id).subscribe(function(n){e.StoreCostCenterSetting=n.length>0?n[0]:{storeid:null,storecode:null,costcenterid:null,costcentername:null,costcentername_ar:null},null!=e.StoreCostCenterSetting.storeid&&(0==e._Receipt.details.length&&(e._CashSalesDetailsReceipt=new S.hm,e._CashSalesDetailsReceipt.transaction_move=e.Transaction_move,e._Receipt.details.push(e._CashSalesDetailsReceipt),e._Receipt.details[0].store_id=e.StoreCostCenterSetting.storeid,e._Receipt.details[0].storecode={code:e.StoreCostCenterSetting.storecode}),1==t&&e._Receipt.details.length>0&&(e._Receipt.details.forEach(function(t){t.store_id=e.StoreCostCenterSetting.storeid,t.storecode={code:e.StoreCostCenterSetting.storecode}}),e.CheckBalanceForItemInStore(0,!0))),null!=e.StoreCostCenterSetting.costcenterid&&(e._Receipt.costcenterid=e.StoreCostCenterSetting.costcenterid,e._Receipt.costcenterfieldname={costcenterfieldname:"ar"==e.lang?e.StoreCostCenterSetting.costcentername_ar:e.StoreCostCenterSetting.costcentername}),e.cd.markForCheck()})}},{key:"GetShipmentTermList",value:function(){var e=this;this._cashsalesService.GetAllShipmentTermBySubSidary(this.subsidiaryID).subscribe(function(t){e.ShipmentTermList=t,e.cd.markForCheck()})}},{key:"GetCourierList",value:function(){var e=this;this._cashsalesService.AllActiveCourierBySubsidiaryID(this.subsidiaryID).subscribe(function(t){e.CourierList=t,e.cd.markForCheck()})}},{key:"GetAllPaymentTermsList",value:function(){var e=this;this._cashsalesService.GetAllPaymentTermsList().subscribe(function(t){e.PaymentTermsList=t,e.cd.markForCheck()})}},{key:"GetCurrentUserSetting",value:function(){var e=this;this._ReceiptSharedService.GetCurrentUserSetting().subscribe(function(t){e.CurrentUserSetting=t})}},{key:"GetCashCustomerSettings",value:function(){var e=this;this._ReceiptSharedService.GetCashCustomerSettings(this.subsidiaryID).subscribe(function(t){null!=t||null!=t?(e.CashCustomerSetting=t,e.CashCustomerSetting.allowdecimalpack=1==e.CashCustomerSetting.allowdecimalpack?".01":"1"):e.CashCustomerSetting={allowdecimalpack:"1",enablecashcustomer:!1,salesreturneffect:"1",allowpack:!1},e.cd.markForCheck()})}},{key:"GetAllInventroySettingsBySubSidary",value:function(){var e=this;this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID).subscribe(function(t){e.InventorySetting=t})}},{key:"GetSubsaidarySetting",value:function(){var e=this;this._ReceiptSharedService.GetSubsaidarySetting(this.subsidiaryID).subscribe(function(t){null!=t&&(e.subsaidarySetting=t[0],e.cd.markForCheck())})}},{key:"GetCurrencyList",value:function(){var e=this;this._VoucherService.GetSubsidaryCurrencyList(this.subsidiaryID).subscribe(function(t){var n;t.length>0&&(e.CurrencyList=t,e._BaseCurrency=e.CurrencyList.find(function(e){return 1==e.basecurrency}),e._CurrencySelected=e._BaseCurrency,e._Currencyprecision=null!==(n=e._BaseCurrency.currencyprecision)&&void 0!==n?n:3,e._Receipt.currency_id=e._CurrencySelected.id,e._Receipt.currency_rate=Number(1..toFixed(9)),e.cd.markForCheck())})}},{key:"changeshipmentterm",value:function(e){}},{key:"SupplierSelectEvent",value:function(e){this._Receipt.supplieraccount_id=e.accountid,this._Receipt.supplier_name={name:e.name},this._Receipt.supplier_namear={name_ar:e.name_ar}}},{key:"changeCurrency",value:function(e){var t,n=this;(console.log(e.target.value),this._CurrencySelected=this.CurrencyList.find(function(t){return t.id==e.target.value}),null!=this._CurrencySelected)?(t=""!=this._Receipt.entry_time&&null!=this._Receipt.entry_time&&null!=this._Receipt.entry_time?this._Receipt.entry_date+" "+this._Receipt.entry_time:this._Receipt.entry_date+" 23:59",this._VoucherService.GetSubsidaryCurrenciesRate(this.subsidiaryID,this._CurrencySelected.id,t,0).subscribe(function(e){n._Receipt.currency_rate=e&&e.length>0?e[0].rate.toFixed(9):Number(1..toFixed(9)),n.ForeignCurrencyShow=1!=n._CurrencySelected.basecurrency,n.cd.markForCheck()})):(this._CurrencySelected=null,this._Currencyprecision=3,this._Receipt.currency_rate=null,this.cd.markForCheck())}},{key:"ChangeEntryDate",value:function(){null!=this._Receipt.entry_date&&""!=this._Receipt.entry_date&&null!=this._Receipt.entry_date?(this.CheckValidDateBySubsidaryID(),this.CheckDeliverDate()):(this.DuringSaveDisable=!1,this.cd.markForCheck())}},{key:"CheckDeliverDate",value:function(){if(this.DuringSaveDisable=!1,this.cd.markForCheck(),null!=this._Receipt.customerdeliverdate&&""!=this._Receipt.customerdeliverdate&&null!=this._Receipt.customerdeliverdate){var e=rm("".concat(this._Receipt.entry_date," ").concat(this._Receipt.entry_time),"YYYY-MM-DD HH:mm").format(),t=rm("".concat(this._Receipt.customerdeliverdate," ").concat(this._Receipt.customerdeliverdate_time),"YYYY-MM-DD HH:mm").format();0==rm(e).isSameOrBefore(t)?(this.deliverdateValid=!1,this.toastr.error(this.DeliverDateMsg)):this.deliverdateValid=!0}}},{key:"CheckValidDateBySubsidaryID",value:function(){var e=this;this._ReceiptSharedService.ValidDateBySubsidaryID(this._Receipt.entry_date,this.subsidiaryID).subscribe(function(t){if(e.DuringSaveDisable=!1,e.cd.markForCheck(),null!=t||null!=t){if(null!=t||null!=t){var n=Date.parse(t.subsidarystart.toString()),i=Date.parse(e._Receipt.entry_date.toString());0==t.openperiod?(e.ValidPeriod=!1,e.ShowModeReceipt=!0,e.ShowPopUpFinancialPeriod("close")):1==t.openperiod&&n<i?(e.ValidPeriod=!0,e.ShowModeReceipt=!1,e.GetMaxCostPostedSerDate()):(e.ValidPeriod=!1,e.ShowModeReceipt=!0,e.ShowPopUpFinancialPeriod())}}else e.ValidPeriod=!1,e.ShowModeReceipt=!0,e.ShowPopUpFinancialPeriod()})}},{key:"ShowPopUpFinancialPeriod",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="close"==e?this.FinancialPeriodCloseMsg:this.FinancialPeriodMsg;Me().fire({title:this.warning,text:t,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(function(e){})}},{key:"ShowPopUpCostPostedSerDate",value:function(){Me().fire({title:this.warning,text:this.CostPostingPeriodMessage,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(function(e){})}},{key:"onFocusInCustomerAccounts",value:function(e){this.GetCustomerAccountsList("")}},{key:"CustomerAccountsChangeSearch",value:function(e){this.GetCustomerAccountsList(e.query.trim())}},{key:"CustomerAccountsSelectEvent",value:function(e){this.chk_ChangeSupplier||(this._Receipt.supplieraccount_id=e.accountid,this._Receipt.supplier_name={name:e.name},this._Receipt.supplier_namear={name_ar:e.name_ar}),this._Receipt.vendor_id=e.accountid,this._Receipt.cashcustomer_vendor_name="ar"!=this.lang?e.name:e.name_ar,this.PriceListItemsOnly=e.pricelistitemsonly,this.GetDefaultStoreCostCenterByBranch(!1,!1)}},{key:"GetCustomerAccountsList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._CustomerService.GetVendorAccountsList(this.subsidiaryID,t).subscribe(function(t){e.CustomerAccountsList=[],e.CustomerAccountsList=t,e.cd.markForCheck()})}},{key:"onClearVendor",value:function(){this._Receipt.cashcustomer_vendor_name=null,this._Receipt.vendor_balance=null,this._Receipt.vendor_id=null}},{key:"onFocusInStore",value:function(e,t){t==this._Receipt.details.length-1&&this.AddItems(),this.GetStoreList("")}},{key:"StoreChangeSearch",value:function(e,t){this.GetStoreList(e.query.trim())}},{key:"StoreSelectEvent",value:function(e,t){this._Receipt.details[t].store_id=e.id,this._Receipt.details.forEach(function(t){t.store_id=e.id,t.storecode=e}),this.CheckBalanceForItemInStore(0,!0)}},{key:"GetStoreList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetStoreList(this.subsidiaryID,t).subscribe(function(t){e.StoreList=[],e.StoreList=t,e.cd.markForCheck()})}},{key:"onFocusInItems",value:function(e,t){this.GetItemsList("")}},{key:"ItemsChangeSearch",value:function(e,t){var n=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){n.timeout=null,n.GetItemsList(e.query.trim())},300)}},{key:"ItemsSelectEvent",value:function(e,t){null!=this._Receipt.details[t].item_id&&this.onClearItems(t),0==e.stopinventorytransactions?(t==this._Receipt.details.length-1&&(this.InventorySetting?this.InventorySetting[0].permissiontorepeatiteminvoucher&&null!=this.InventorySetting[0].permissiontorepeatiteminvoucher&&null!=this.InventorySetting[0].permissiontorepeatiteminvoucher?this.AddItems():this._Receipt.details.some(function(t){return t.item_id==e.id})?this.duplicateItemSwalPopUp(t):this.AddItems():this.AddItems()),this._Receipt.details[t].item_id=e.id,this._Receipt.details[t].itemname=e.name,this._Receipt.details[t].itemname_ar=e.name_ar,this.GetItemDataDetailsLists(e,t)):(this._Receipt.details[t]=new S.hm,0==this._Receipt.id?(this._Receipt.details[t].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[t].storecode={code:this.StoreCostCenterSetting.storecode}):(this._Receipt.details[t].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.details[t].storecode=this._ReceiptOriginal.details[0].storecode),this.cd.markForCheck(),this.toastr.error(this.StopInventoryErrorMsg))}},{key:"onClearItems",value:function(e){this._Receipt.details[e].id=null,this._Receipt.details[e].finishedproductid=null,this._Receipt.details[e].finishedreceipt_did=null,this._Receipt.details[e].item_id=null,this._Receipt.details[e].itemname=null,this._Receipt.details[e].itemname_ar=null}},{key:"duplicateItemSwalPopUp",value:function(e){var t=this;Me().fire({title:this.warning,text:this.cantNotDuplicateItem,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(function(n){t.onClearItems(e),t._Receipt.details[e].itemcode=null,t.cd.markForCheck()})}},{key:"GetItemsList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetItemsDataListpurchase(this.subsidiaryID,t,this._Receipt.vendor_id).subscribe(function(t){e.ItemsList=[],e.ItemsList=t,e.cd.markForCheck()})}},{key:"GetItemDataDetailsLists",value:function(e,t){var n=this;this._Receipt.details[t].id=null,this._Receipt.details[t].finishedproductid=null,this._Receipt.details[t].finishedreceipt_did=null,this._Receipt.details[t].conv=1,this._Receipt.details[t].final_conv=1,this._Receipt.details[t].qty=1,this._Receipt.details[t].price=0,this._Receipt.details[t].lowestsaleprice=0,this._Receipt.details[t].discount_percent=0,this._Receipt.details[t].discount_value=0,this._Receipt.details[t].total=0,this._Receipt.details[t].notes="",this._Receipt.details[t].unit_id=null,this._ReceiptSharedService.GetItemDataDetailsLists(this.subsidiaryID,e.id).subscribe(function(i){0==i.itemunits.length?(n._Receipt.details[t]=new S.hm,0==n._Receipt.id?(n._Receipt.details[t].store_id=n.StoreCostCenterSetting.storeid,n._Receipt.details[t].storecode={code:n.StoreCostCenterSetting.storecode}):(n._Receipt.details[t].store_id=n._ReceiptOriginal.details[0].store_id,n._Receipt.details[t].storecode=n._ReceiptOriginal.details[0].storecode),n.toastr.error(n.NoUnits)):3==e.item_type&&0==i.itemcomponents.length?(n._Receipt.details[t]=new S.hm,0==n._Receipt.id?(n._Receipt.details[t].store_id=n.StoreCostCenterSetting.storeid,n._Receipt.details[t].storecode={code:n.StoreCostCenterSetting.storecode}):(n._Receipt.details[t].store_id=n._ReceiptOriginal.details[0].store_id,n._Receipt.details[t].storecode=n._ReceiptOriginal.details[0].storecode),n.toastr.error(n.NOComponents)):(n._Receipt.details[t].notes=i.item.notes,n._Receipt.details[t].item_type=i.item.item_type,n._Receipt.details[t].qty=1,n.ItemUnitsList.length>0?0==n.ItemUnitsList.filter(function(t){return t.item_id==e.id}).length&&(n.ItemUnitsList=n.ItemUnitsList.concat(i.itemunits)):n.ItemUnitsList=n.ItemUnitsList.concat(i.itemunits),n._Receipt.details[t].unit_id=e.purchasing_unitid,n.ChangeItemUnits(e.purchasing_unitid,t)),n.cd.markForCheck()})}},{key:"ChangeItemUnits",value:function(e,t){e.toString().includes(":")&&(e=e.split(":")[1].trim());var n=this._Receipt.details[t].item_id,i=this.ItemUnitsList.filter(function(t){return t.item_id==n&&t.id==e});this._Receipt.details[t].conv=i[0].conv,this._Receipt.details[t].final_conv=i[0].finalconv,this.OnSelectedItem(this._Receipt.details[t],t),this.CalaculteValuesItemsRow(t),this.cd.markForCheck()}},{key:"ChangePackItem",value:function(e){var t=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.timeout=null,t.OnSelectedItem(t._Receipt.details[e],e)},1e3)}},{key:"ChangeQty",value:function(e){var t=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.timeout=null,t.StockBalances(e),t.CheckBalanceForItemInStore(e)},1e3)}},{key:"OnSelectedItem",value:function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.show_all_component=n,this.itemqtyview=!1,null!=e&&this.StockBalances(e),""==t&&null!=e&&this.CheckBalanceForItemInStore(e)}},{key:"AddItems",value:function(){if(this._CashSalesDetailsReceipt=new S.hm,this._Receipt.details.length>0){this._CashSalesDetailsReceipt.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,this._CashSalesDetailsReceipt.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode;var e=0;this._Receipt.details.forEach(function(t){e+=t.qty}),this._Receipt.qtotal=e,this._Receipt.totalitem=this._Receipt.details.length}else{this._CashSalesDetailsReceipt.store_id=this.StoreCostCenterSetting.storeid,this._CashSalesDetailsReceipt.storecode={code:this.StoreCostCenterSetting.storecode};var t=0;this._Receipt.details.forEach(function(e){t+=e.qty}),this._Receipt.qtotal=t,this._Receipt.totalitem=this._Receipt.details.length}this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move,this._Receipt.details.push(this._CashSalesDetailsReceipt),this.cd.markForCheck()}},{key:"DeleteItems",value:function(e){var t=this._Receipt.details[e];1==this._Receipt.details.filter(function(e){return e.item_id==t.item_id}).length&&(this.ItemUnitsList=this.ItemUnitsList.filter(function(e){return e.item_id!=t.item_id})),this._Receipt.details.splice(e,1);var n=0;this._Receipt.details.forEach(function(e){n+=e.qty}),this._Receipt.qtotal=n,this._Receipt.totalitem=this._Receipt.details.length,this.OnSelectedItem(null),this.cd.markForCheck()}},{key:"OnSerialItems",value:function(e){}},{key:"CalaculteValuesItemsRow",value:function(e){this._Receipt.details[e].qty=this._Receipt.details[e].qty||0,this._Receipt.details[e].price=0,this._Receipt.details[e].discount_value=0,this._Receipt.details[e].discount_percent=0,this._Receipt.details[e].total=Number((0).toFixed(this._Currencyprecision)),this._Receipt.deliveryfees=0,this._Receipt.deliveryfeesforeign=0,this._Receipt.surchargevalue=0,this._Receipt.surchargevalueforeign=0,this._Receipt.value=Number((0).toFixed(this._Currencyprecision)),this._Receipt.valueforeign=Number((0).toFixed(this._Currencyprecision));var t=0;this._Receipt.details.forEach(function(e){t+=e.qty}),this._Receipt.qtotal=t,this.cd.markForCheck()}},{key:"onFocusInCostCenter",value:function(e){this.GetCostCenterList("")}},{key:"CostCenterChangeSearch",value:function(e,t){this.GetCostCenterList(e.query.trim())}},{key:"CostCenterSelectEvent",value:function(e){this._Receipt.costcenterid=e.id}},{key:"GetCostCenterList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetCostcenterTransactionsbycertainIDS(this.subsidiaryID,t,this._Receipt.vendor_id).subscribe(function(t){e.CostCenterList=[],e.CostCenterList=t,e.CostCenterList.length>0&&e.setFieldNameForArray(e.CostCenterList,"costcenter"),e.cd.markForCheck()})}},{key:"onFocusInLocations",value:function(e){this.GetLocationsList("")}},{key:"LocationsChangeSearch",value:function(e,t){this.GetLocationsList(e.query.trim())}},{key:"LocationsSelectEvent",value:function(e){this._Receipt.locationid=e.id}},{key:"GetLocationsList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetSubsidaryLocations(this.subsidiaryID,t).subscribe(function(t){e.CostCenterList=[],e.LocationList=[],e.LocationList=t,e.LocationList.length>0&&e.setFieldNameForArray(e.LocationList,"location"),e.cd.markForCheck()})}},{key:"onFocusInClasses",value:function(e){this.GetClassesList("")}},{key:"ClassesChangeSearch",value:function(e,t){this.GetClassesList(e.query.trim())}},{key:"ClassesSelectEvent",value:function(e){this._Receipt.classid=e.id}},{key:"GetClassesList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetSubsidaryClasses(this.subsidiaryID,t).subscribe(function(t){e.CostCenterList=[],e.ClassList=[],e.ClassList=t,e.ClassList.length>0&&e.setFieldNameForArray(e.ClassList,"class"),e.cd.markForCheck()})}},{key:"onFocusInDepartment",value:function(e){this.GetDepartmentList("")}},{key:"DepartmentChangeSearch",value:function(e,t){this.GetDepartmentList(e.query.trim())}},{key:"DepartmentSelectEvent",value:function(e){this._Receipt.departmentid=e.id}},{key:"GetDepartmentList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetSubsidaryDepartments(this.subsidiaryID,t).subscribe(function(t){e.CostCenterList=[],e.DepartmentList=[],e.DepartmentList=t,e.DepartmentList.length>0&&e.setFieldNameForArray(e.DepartmentList,"department"),e.cd.markForCheck()})}},{key:"setFieldNameForArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=0;n<e.length;n++){var i=e[n];"costcenter"==t?i.costcenterfieldname="ar"==this.lang?i.sugar:i.sug:"location"==t?i.locationfieldname="ar"==this.lang?i.sugar:i.sug:"class"==t?i.classfieldname="ar"==this.lang?i.sugar:i.sug:"department"==t&&(i.departmentfieldname="ar"==this.lang?i.sugar:i.sug)}}},{key:"GetReceiptCodeList",value:function(){var e=this;this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID).subscribe(function(t){e.ReceiptCodeList=t;var n=e.ReceiptCodeList.find(function(t){return t.code==e.BasicCodeReceipt});e.Transaction_move=n.items,e.cd.markForCheck()})}},{key:"AddLinkedReceipt",value:function(){this._LinkedReceipt=new S.Cb,this._LinkedReceipt.code=this.BasicCodeReceipt,this._LinkedReceipt.branch_id=this._Receipt.branch_id,this._Receipt.linkedreceipts.push(this._LinkedReceipt),this.cd.markForCheck()}},{key:"GetLinkedReceipt",value:function(e){var t=this,n=this._Receipt.linkedreceipts[e];this.ItemLinkedReceipt=[],this.ItemComponentsLinkedReceipt=[],null!=n.branch_id&&null!=n.code&&null!=n.entry_no&&n.entry_no>0&&0==n.fire&&(this._Receipt.linkedreceipts[e].fire=1,this.spinner.show(),this._ReceiptSharedService.GetReceiptForLinkedReceipt(n.branch_id,n.code,n.entry_no).subscribe(function(n){if(t.spinner.hide(),null==n.receipt.id)t._Receipt.linkedreceipts[e].fire=0,t.toastr.error(t.ReceiptNotFound);else if(n.items.length>0)if(1==t._Receipt.linkedreceipts.length&&(t._Receipt.subsidiaryid=n.receipt.subsidiaryid,t._Receipt.customersalesprice=null!=n.receipt.customersalesprice?n.receipt.customersalesprice:t._Receipt.customersalesprice,t._Receipt.payment_type=null!=n.receipt.payment_type?n.receipt.payment_type:t._Receipt.payment_type,t._Receipt.vendor_id=null!=n.receipt.vendor_id?n.receipt.vendor_id:t._Receipt.vendor_id,t._Receipt.cashcustomerid=null!=n.receipt.cashcustomerid?n.receipt.cashcustomerid:t._Receipt.cashcustomerid,null!=t._Receipt.vendor_id&&(t._Receipt.cashcustomer_vendor_code={code:n.receipt.vendorcode},t._Receipt.cashcustomer_vendor_name="ar"==t.lang?n.receipt.vendornamear:n.receipt.vendorname,t._Receipt.vendor_balance=null!=n.receipt.vendor_balance?n.receipt.vendor_balance:t._Receipt.vendor_balance,t.PriceListItemsOnly=n.receipt.pricelistitemsonly),null!=t._Receipt.cashcustomerid&&(t._Receipt.cashcustomer_vendor_code={phonenumber:n.receipt.phonenumber},t._Receipt.cashcustomer_vendor_name="ar"==t.lang?n.receipt.cashcustomername_ar:n.receipt.cashcustomername,t.PriceListItemsOnly=!1),t._Receipt.currency_id=n.receipt.currency_id,t._Receipt.currency_rate=n.receipt.currency_rate,t._Receipt.empoyee_id=null!=n.receipt.empoyee_id?n.receipt.empoyee_id:t._Receipt.empoyee_id,t._Receipt.memo=n.receipt.memo,t._Receipt.reference_no=n.receipt.reference_no,t._CurrencySelected=t.CurrencyList.find(function(e){return e.id==t._Receipt.currency_id}),t.ForeignCurrencyShow=1!=t._CurrencySelected.basecurrency),0==t.PriceListItemsOnly||n.receipt.vendor_id==t._Receipt.vendor_id){t._Receipt.linkedreceipts[e].fire=1,t._Receipt.linkedreceipts[e].receiptid=n.receipt.id,t._Receipt.linkedreceipts[e].subsidiaryid=t.subsidiaryID,t._Receipt.linkedreceipts[e].parentreceiptid=t._Receipt.id;for(var i=0;i<t._Receipt.details.length;i++)null==t._Receipt.details[i].item_id&&(t._Receipt.details.splice(i,1),i--);n.itemunits.forEach(function(e){0==t.ItemUnitsList.filter(function(t){return t.item_id==e.item_id&&t.id==e.unit_id}).length&&t.ItemUnitsList.push(e)}),t.ItemLinkedReceipt=n.items,81==n.receipt.code&&(t.ItemLinkedReceipt=t.ItemLinkedReceipt.filter(function(e){return-1==e.transaction_move})),t.SetLinkReceiptItemRow(0,t.ItemLinkedReceipt[0])}else t._Receipt.linkedreceipts[e].fire=0,t.toastr.info(t.CustomerPricelistMsg);else t.spinner.hide(),t._Receipt.linkedreceipts[e].fire=0,t.toastr.error(t.Receiptnoitems),t._Receipt.linkedreceipts[e].entry_no=null,t.cd.markForCheck()}))}},{key:"SetLinkReceiptItemRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;this._CashSalesDetailsReceipt=new S.hm;var n=this._Receipt.details.findIndex(function(e){return e.item_id==t.item_id&&e.unit_id==t.unit_id&&e.conv==t.conv});-1==n?(this._Receipt.details.length>0?(this._CashSalesDetailsReceipt.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,this._CashSalesDetailsReceipt.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode):(this._CashSalesDetailsReceipt.store_id=t.store_id,this._CashSalesDetailsReceipt.storecode={code:t.storecode}),this._CashSalesDetailsReceipt.item_id=t.item_id,this._CashSalesDetailsReceipt.itemcode={code:t.itemcode},this._CashSalesDetailsReceipt.itemname=t.itemname,this._CashSalesDetailsReceipt.itemname_ar=t.itemname_ar,this._CashSalesDetailsReceipt.unit_id=t.unit_id,this._CashSalesDetailsReceipt.conv=t.conv,this._CashSalesDetailsReceipt.qty=t.qty,this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move,this._CashSalesDetailsReceipt.isrequireserial=t.isrequireserial,this._CashSalesDetailsReceipt.item_type=t.item_type,this._CashSalesDetailsReceipt.notes=t.notes,this._CashSalesDetailsReceipt.detailshtml=t.detailshtml,this._CashSalesDetailsReceipt.customitemname=t.customitemname,this._CashSalesDetailsReceipt.salesmanid=t.salesmanid,this._CashSalesDetailsReceipt.discount_value=0,this._CashSalesDetailsReceipt.discount_percent=0,this._CashSalesDetailsReceipt.price=0,this._CashSalesDetailsReceipt.total=0,this._CashSalesDetailsReceipt.conv=t.conv,this._CashSalesDetailsReceipt.final_conv=t.finalconv,this._Receipt.details.push(this._CashSalesDetailsReceipt),e+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(e+1,this.ItemLinkedReceipt[e+1]):(this.CheckBalanceForItemInStore(0,!0),this.StockBalances(0))):(this._Receipt.details[n].qty=this._Receipt.details[n].qty+parseFloat(t.qty),this.CalaculteValuesItemsRow(n),e+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(e+1,this.ItemLinkedReceipt[e+1]):(this.spinner.hide(),this.CheckBalanceForItemInStore(0,!0),this.StockBalances(0)))}},{key:"OnOpenLinkedReceipt",value:function(e){var t=this,n=this._Receipt.linkedreceipts[e],i=this._ReceiptSharedService.ReceiptsLinked_Url_Codes.find(function(e){return e.Code==n.code});null!=this._Receipt.linkedreceipts[e].receiptid?""!=i.Url&&window.open(i.Url+this._Receipt.linkedreceipts[e].receiptid+"/show","_blank"):null!=n.branch_id&&null!=n.code&&null!=n.entry_no&&n.entry_no>0&&this._ReceiptSharedService.GetLinkedReceiptID(n.branch_id,n.code,n.entry_no).subscribe(function(e){""!=i.Url&&null!=e?window.open(i.Url+e.id+"/show","_blank"):t.toastr.error(t.ReceiptNotFound)})}},{key:"DeleteLinkedReceipt",value:function(e){this._Receipt.linkedreceipts.splice(e,1),this.cd.markForCheck()}},{key:"OnSignatureSet",value:function(e){this._Receipt.signature=e.signature}},{key:"StockBalances",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!=e&&3!=this._Receipt.details[e].item_type?(this.itemqtyview=!1,this._itemstoreqtyobj=new S.I$,this._itemstoreqtyobj.subsidairyid=this.subsidiaryID,this._itemstoreqtyobj.ReceiptCode=this.BasicCodeReceipt,this._itemstoreqtyobj.BranchID=this._Receipt.branch_id,this._itemstoreqtyobj.Entrydate=this._Receipt.entry_date,this._itemstoreqtyobj.Unit_ID=this._Receipt.details[e].unit_id,this._itemstoreqtyobj.conv=this._Receipt.details[e].conv,this._itemstoreqtyobj.itemid=this._Receipt.details[e].item_id,this.itemqtyview=!0):(this.itemqtyview=!1,this._itemstoreqtyobj=new S.I$)}},{key:"CheckBalanceForItemInStore",value:function(e){var n,i=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];1==a&&(this.DuringSaveDisable=!0,this.cd.markForCheck());var o=!0,c=new S.I$;if(null!=this._Receipt.details[e].item_id){c.ReceiptCode=this.BasicCodeReceipt,c.BranchID=this._Receipt.branch_id,c.Entrydate=this._Receipt.entry_date,c.Unit_ID=this._Receipt.details[e].unit_id,c.conv=this._Receipt.details[e].conv,c.Qty=0,c.itemid=this._Receipt.details[e].item_id,c.StoreID=this._Receipt.details[e].store_id,c.subsidairyid=this.subsidiaryID,c.ReceiptID=this._Receipt.id;var l=null!==(n=this.ReceiptCodeList.filter(function(e){return e.code==i.BasicCodeReceipt})[0].items)&&void 0!==n?n:-1,s=this.InventorySetting[0].physicalnegativeinventoryid;2!=this._Receipt.details[e].item_type&&(-1==l||1==l&&this._Receipt.details[e].id>0)&&1==s?this._ReceiptSharedService.CheckBalanceForItemInStore(c).subscribe(function(n){var c=0,s=0,d=0,p=[],u=!0;if(0==n.consignment.consignment){if(null!=n.totalqty.totalqty){if(c=n.totalqty.totalqty,p=n.itemcomponent,i._Receipt.details.filter(function(t){return t.item_id==i._Receipt.details[e].item_id}).forEach(function(e){var t=i.ItemUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=t){var n=null!=t.finalconv?t.finalconv:1,r=null!=t.conv?t.conv:1,a=e.conv;s=parseFloat(s.toString())+n*(a/r)*parseFloat(e.qty.toString())}}),3!=i._Receipt.details[e].item_type&&function(){i._Receipt.itemscomponent.filter(function(t){return t.item_id==i._Receipt.details[e].item_id&&null!=t.id}).forEach(function(e){var t=i.ItemComponentUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=t){var n=(null!=t.finalconv?t.finalconv:1)*(e.conv/(null!=t.conv?t.conv:1))*parseFloat(e.qty.toString());s=parseFloat(s.toString())+n}});for(var n=[],r=[],a=i._Receipt.details.filter(function(e){return 3==e.item_type&&null==e.id}),o=function(o){n=[],r=[],n=i._Receipt.itemscomponent.filter(function(t){return t.finishedproductid==a[o].item_id&&t.item_id==i._Receipt.details[e].item_id&&null==t.id}),r=t(new Map(n.map(function(e){return[e.finishedproductid,e]&&[e.item_id,e]})).values());for(var c=function(e){var t=r[e].basicqtycomponent*a[o].qty,n=i.ItemComponentUnitsList.find(function(t){return t.item_id==r[e].item_id&&t.id==r[e].unit_id});if(null!=n){var c=(null!=n.finalconv?n.finalconv:1)*(r[e].conv/(null!=n.conv?n.conv:1))*parseFloat(t.toString());s=parseFloat(s.toString())+c}},l=0;l<r.length;l++)c(l)},c=0;c<a.length;c++)o(c)}(),-1==l?d=c-s:1==l&&(d=c+s),3==i._Receipt.details[e].item_type)for(var m=function(e){if(2!=p[e].item_type){var n=i._Receipt.details.filter(function(t){return t.item_id==p[e].item_id}),r=0;if(n.forEach(function(e){var n=i.ItemUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=n){var a=null!=n.finalconv?n.finalconv:1,o=null!=n.conv?n.conv:1,c=e.conv;r=parseFloat(r.toString())+a*(c/o)*parseFloat(e.qty.toString())}i._Receipt.itemscomponent.filter(function(t){return t.item_id==e.item_id&&null!=t.id}).forEach(function(e){var t=i.ItemComponentUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=t){var n=(null!=t.finalconv?t.finalconv:1)*(e.conv/(null!=t.conv?t.conv:1))*parseFloat(e.qty.toString());r=parseFloat(r.toString())+n}});for(var l=[],s=[],d=i._Receipt.details.filter(function(e){return 3==e.item_type&&null==e.id}),p=function(n){l=[],s=[],l=i._Receipt.itemscomponent.filter(function(t){return t.finishedproductid==d[n].item_id&&t.item_id==e.item_id&&null==t.id}),s=t(new Map(l.map(function(e){return[e.finishedproductid,e]&&[e.item_id,e]})).values());for(var a=function(e){var t=s[e].basicqtycomponent*d[n].qty,a=i.ItemUnitsList.find(function(t){return t.item_id==s[e].item_id&&t.id==s[e].unit_id});if(null!=a){var o=(null!=a.finalconv?a.finalconv:1)*(s[e].conv/(null!=a.conv?a.conv:1))*parseFloat(t.toString());r=parseFloat(r.toString())+o}},o=0;o<s.length;o++)a(o)},u=0;u<d.length;u++)p(u)}),!(r<=p[e].totalqty))return u=!1,"break";u=!0}},h=0;h<p.length;h++){if("break"===m(h))break}o=d>=0&&1==u}else o=!1;0==o?(i._Receipt.details[e].allowqtyselectforitem=!1,i.cd.markForCheck(),i.toastr.warning(i.qtyErrorMsg+c)):(i._Receipt.details[e].allowqtyselectforitem=!0,i.cd.markForCheck())}1==r&&e+1<i._Receipt.details.length?i.CheckBalanceForItemInStore(e+1,!0,a):1==a&&i.SaveReceipt()}):1==r&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,a):1==a&&this.SaveReceipt()}else 1==r&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,a):1==a&&this.SaveReceipt()}},{key:"CreateNewAction",value:function(){var e=this;JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||1==this.ShowModeReceipt||this.ReceiptID>0&&!this.checkRoleParms(622)?this._router.navigate(["/page/inventorytransiction/giftvoucher/0"]).then(function(){window.location.reload()}):Me().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(t){t.value?e.CheckPre_SaveReceipt(e.RForm):t.dismiss===Me().DismissReason.cancel&&e._router.navigate(["/page/inventorytransiction/giftvoucher/0"]).then(function(){window.location.reload()})})}},{key:"DeleteAction",value:function(){var e=this;Me().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(t){t.isConfirmed&&1==t.isConfirmed&&e._ReceiptSharedService.DeleteReceipts(e._Receipt.id).subscribe(function(t){0==t.bcount?(e.toastr.success(e.toastrSuccessDelete),e._router.navigate(["/page/inventorytransiction/giftvoucher"])):-1==t.bcount?(t.usedserials.forEach(function(t){var n=e._Receipt.details.findIndex(function(e){return e.item_id==t.itemid&&e.batcheslist[0].id==t.id});-1!=n&&(e._Receipt.details[n].allowqtyselectforitem=!1)}),e.toastr.error(e.RelatedwithSerialsOrBatches)):e.toastr.error(e.DeleteRelationmsg)})})}},{key:"GetMaxCostPostedSerDate",value:function(){var e=this;this._ReceiptSharedService.GetMaxCostPostedSerDate(this._Receipt.entry_date,this.subsidiaryID).subscribe(function(t){var n=rm(t[0].maxpostingdate,"YYYY-MM-DD").format(),i=rm(e._Receipt.entry_date,"YYYY-MM-DD").format();rm(i).isSameOrBefore(n)?(e.ShowModeReceipt=!0,e.ValidPeriod=!1,e.ShowPopUpCostPostedSerDate()):(e.ShowModeReceipt=!1,e.ValidPeriod=!0),e.cd.markForCheck()})}},{key:"DupilcateAction",value:function(){var e=this;this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(function(t){e._Receipt.entry_no=0==t.length?1:t[0].entry_no+1,e.entry_no=e._Receipt.entry_no,e.location.replaceState("/page/inventorytransiction/giftvoucher/0"),e.ReceiptID=0,e._Receipt.id=null,e.VouchersLinkedCount=0,e.CheckBalanceForItemInStore(0,!0),e.cd.markForCheck()})}},{key:"DocumentAction",value:function(){this._router.navigate(["/page/setupsettings/documents/3/"+this._Receipt.id+"/giftvoucher"],{relativeTo:this._activeRoute,queryParams:{show:this.LockedRecepit}})}},{key:"PrintPreview",value:function(e){var t=this,n=this.getReportfilter(0==e?1:0);this.spinner.show(),this._ReceiptSharedService.GetReport(n).subscribe(function(n){t.spinner.hide(),1==e?t._authService.showPdfInNewTab(n.bytes,""):t._authService.printJS(n.bytes)}),this.cd.markForCheck()}},{key:"onPrint",value:function(){var e=this,t=this.getReportfilter(0);this._VerifyReportsService.SaveVerifyReports(this.subsidiaryID,this.lang).subscribe(function(n){e.reporturl="".concat(e.reportdomainUrl,"?q=").concat(t.reportName,"&ID=").concat(t.ReceiptID),""!=t.lang&&(e.reporturl=e.reporturl+"&Lang=".concat(t.lang)),""!=t.DomainName&&(e.reporturl=e.reporturl+"&DomainName=".concat(t.DomainName)),""!=t.toEmail&&(e.reporturl=e.reporturl+"&email=".concat(t.toEmail,"+&Subject=").concat(t.Subject,"+&boby=").concat(t.boby)),e.reporturl=e.reporturl+"&Info=".concat(n),e._authService.showReportInNextTab(e.reporturl),e.cd.markForCheck()})}},{key:"sendEmail",value:function(e){var t=this;this._emailobj=e.list;var n=this.getReportfilter(0);this.spinner.show(),this._ReceiptSharedService.GetReport(n).subscribe(function(e){t.spinner.hide(),alert(t.mailmsg)}),this.cd.markForCheck()}},{key:"getReportfilter",value:function(){var e=this._authService.userInfo(),t="";"ar"==this.lang&&(t="_ar");var n={reportName:"P_I_3_ReceivingVoucher"+t,SubsidaryID:this.subsidiaryID,ReceiptID:this._Receipt.id,lang:"",DomainName:"",toEmail:"",Subject:"",boby:""};return e.clientdatabase.indexOf("darshgf")>-1&&(n={reportName:"P_All_Inv_Receipt_gl_web_darshgf"+t,SubsidaryID:this.subsidiaryID,ReceiptID:this._Receipt.id,lang:"",DomainName:"",toEmail:"",Subject:"",boby:""}),n.toEmail=this._emailobj.email,n.Subject=this._emailobj.subject,n}},{key:"BackAction",value:function(){var e=this;JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||this.ReceiptID>0&&!this.checkRoleParms(622)||0==this.ReceiptID&&!this.checkRoleParms(585)||1==this.ShowModeReceipt?this._router.navigate(["/page/inventorytransiction/giftvoucher"]):Me().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(t){t.value?e.CheckPre_SaveReceipt(e.RForm):t.dismiss===Me().DismissReason.cancel&&e._router.navigate(["/page/inventorytransiction/giftvoucher"])})}},{key:"CashReturn",value:function(){}},{key:"IssueVoucher",value:function(){}},{key:"CreateWorkOrder",value:function(){}},{key:"ViewReportDeliveryNote",value:function(){}},{key:"getCurrentDate",value:function(){var e=new Date,t=e.getFullYear();return e.getMonth()+1+"/"+e.getDate()+"/"+t}},{key:"SetTimeNow",value:function(){var e=new Date;return("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)}},{key:"OpenModal",value:function(e){this.modalReference=this.modalService.open(e,{size:"xl",backdrop:"static"})}},{key:"CloseModal",value:function(){this.modalReference.close()}},{key:"formateDecimal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return e.toFixed(t)}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"checkRolesParms",value:function(e){var t=!0;return this._authService.isHasRole(e)||(t=!1),t}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(M["\u0275\u0275directiveInject"](b.n),M["\u0275\u0275directiveInject"](Pe.v),M["\u0275\u0275directiveInject"](R.t),M["\u0275\u0275directiveInject"](Oe.H),M["\u0275\u0275directiveInject"](M.ChangeDetectorRef),M["\u0275\u0275directiveInject"](I._W),M["\u0275\u0275directiveInject"](m.F0),M["\u0275\u0275directiveInject"](P.m),M["\u0275\u0275directiveInject"](h.sK),M["\u0275\u0275directiveInject"](O.K),M["\u0275\u0275directiveInject"](m.gz),M["\u0275\u0275directiveInject"](F.FF),M["\u0275\u0275directiveInject"](k.t2),M["\u0275\u0275directiveInject"](E.e),M["\u0275\u0275directiveInject"](w.$),M["\u0275\u0275directiveInject"](x.J),M["\u0275\u0275directiveInject"](l.uU),M["\u0275\u0275directiveInject"](l.Ye))},e.\u0275cmp=M["\u0275\u0275defineComponent"]({type:e,selectors:[["giftvoucher-details"]],viewQuery:function(e,t){var n;(1&e&&M["\u0275\u0275viewQuery"](am,5),2&e)&&(M["\u0275\u0275queryRefresh"](n=M["\u0275\u0275loadQuery"]())&&(t.RForm=n.first))},features:[M["\u0275\u0275ProvidersFeature"]([b.n,Pe.v,R.t,l.uU,Oe.H,x.J])],decls:2,vars:3,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[2,"margin","0 30% 0 30%","margin-top","200px"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"container-fluid","py-4","pl-0","pr-0"],[1,"card","my-2","mx-2","px-3","pb-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"col-12","text-right","actionBtns"],["type","submit",1,"btn","btn-success","mr-2","mb-2"],[1,"ft-check-square","mr-1"],["type","button",1,"btn","btn-success","mr-2","mb-2",3,"click"],["class","btn btn-primary mr-2 mb-2","type","button",3,"click",4,"ngIf"],["class","btn btn-warning mr-2 mb-2","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-danger","mr-2","mb-2",3,"click"],[1,"btn-group","mr-2","mb-2","mt-3"],["type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-primary","dropdown-toggle"],[1,"dropdown-menu"],[1,"col-12","col-md-6","mb-2","mb-md-0"],[1,"form-group"],["for","Category",1,"col-form-label"],[2,"color","red","font-weight","bold"],["name","Branch","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["Branch","ngModel"],["Value","null",4,"ngIf"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12","col-md-3","mb-2","mb-md-0"],["for","VendorCode",1,"col-form-label"],["type","text","id","entry_no","name","entry_no","PositiveNumbersOrDecimalOnly","","required","","customMin","",1,"form-control",3,"stepallow","ngModel","Min","CheckMin","readonly","ngClass","ngModelChange","keydown.space"],["entry_no","ngModel"],[1,"col-form-label"],["minLength","0","delay","0","field","code","name","CreditAccount","required","",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","ngClass","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoCustomerAccounts","","CreditAccount","ngModel"],["pTemplate","CustomerAccountsTemplate"],["for","cashcustomer_vendor_phone",1,"col-form-label"],["type","text","id","cashcustomer_vendor_name","name","cashcustomer_vendor_name",1,"form-control",3,"ngModel","readonly","ngModelChange"],["cashcustomer_vendor_name","ngModel"],["for","entry_date",1,"col-form-label"],["type","date","id","entry_date","name","entry_date","required","",1,"form-control",3,"ngModel","readonly","ngClass","ngModelChange"],["entry_date","ngModel"],["type","time","id","entry_time","name","entry_time",1,"form-control",3,"readonly","ngModel","ngModelChange"],["entry_time","ngModel"],["class","\n              col-12 col-md-3 mb-2 mb-md-0",4,"ngIf"],["for","reference_no",1,"col-form-label"],["type","text","id","reference_no","name","reference_no",1,"form-control",3,"ngModel","ngModelChange"],["reference_no","ngModel"],["for","memo",1,"col-form-label"],["type","text","id","memo","name","memo",1,"form-control",3,"ngModel","ngModelChange"],["memo","ngModel"],["class"," col-12 col-md-3 mb-2\n              mb-md-0",4,"ngIf"],[1,"col-12","nav-wrapper","position-relative","end-0","mt-3"],[1,"col-xl-7","col-md-7"],["ngbNav","",1,"nav","nav-pills","nav-fill","p-1",3,"destroyOnHide","activeId","activeIdChange"],["nav","ngbNav"],[1,"nav-item",3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavItem"],[1,"mt-2",3,"ngbNavOutlet"],[1,"row","col-md-5",2,"margin-top","4rem"],[1,"col"],[1,"table-responsive","table","table-accountdetails"],[1,"table"],["scope","col"],["scope","col",3,"hidden"],[3,"hidden"],["PositiveNumbersOnly","","type","number","name","ovr_ForiegnNet",1,"form-control",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalNet",1,"form-control",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalTotalqty",1,"form-control","totalValInput","font-weight-bold",3,"readonly","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalTotalitem",1,"form-control","totalValInput","font-weight-bold",3,"readonly","ngModel","ngModelChange"],[1,"row","col-md-7"],["type","button",1,"btn","btn-primary","mr-2","mb-2",3,"click"],["type","button",1,"btn","btn-warning","mr-2","mb-2",3,"click"],["class","dropdown-item","type","button",3,"click",4,"ngIf"],["type","button",1,"dropdown-item",3,"click"],[3,"entryno","_savedemailobj"],["Value","null"],[3,"value"],["for","Currency",1,"col-form-label"],["name","Currency","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["Currency","ngModel"],[3,"ngValue",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[3,"ngValue"],["for","CurrencyRate",1,"col-form-label"],["type","number","PositiveNumbersOnly","","min","0","id","CurrencyRate","name","CurrencyRate","required","",1,"form-control",3,"ngModel","readonly","ngClass","ngModelChange","keyup"],["CurrencyRate","ngModel"],["for","CostingRate",1,"col-form-label"],["type","number","min","0","id","CostingRate","name","CostingRate",1,"form-control",3,"ngModel","readonly","ngModelChange"],["CostingRate","ngModel"],[1,"row",2,"margin-top","10px"],[1,"table-responsive","table","table-accountdetails",3,"ngClass"],["scope","col",2,"width","5%"],["scope","col",2,"width","9%"],["scope","col",4,"ngIf"],["scope","col",2,"min-width","30px"],[4,"ngFor","ngForOf","ngForTrackBy"],["type","button",1,"btn","btn-success",3,"click"],[2,"padding-top","15px !important"],["minLength","0","delay","0","field","code",3,"ngModel","disabled","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoStore",""],["pTemplate","servstoreTemplate"],["minLength","0","delay","0","field","code",3,"ngModel","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoItems",""],["pTemplate","servCodeTemplate"],[3,"click"],[3,"ngClass",4,"ngIf"],[1,"form-control",3,"name","ngModel","required","ngClass","ngModelChange","change"],["itemunit","ngModel"],[3,"ngValue","selected",4,"ngFor","ngForOf"],["customMin","","PositiveNumbersOnly","","type","number",1,"form-control",3,"Min","CheckMin","ngModel","name","ngClass","keyup","ngModelChange"],["item_qty","ngModel"],["href","javascript:;",2,"color","red",3,"click"],[1,"fa","fa-trash","fa-lg"],[3,"ngClass"],[3,"ngValue","selected"],["customMin","","PositiveNumbersOrDecimalOnly","","type","number",1,"form-control",3,"readonly","step","Min","CheckMin","stepallow","ngModel","name","required","ngClass","keyup","ngModelChange"],["item_conv","ngModel"],["PositiveNumbersOnly","","readonly","","type","number","customMin","",1,"form-control",3,"ngModel","name","Min","CheckMin","ngClass","ngModelChange"],["price","ngModel"],["PositiveNumbersOnly","","type","number","readonly","",1,"form-control",2,"background-color","silver",3,"ngModel","name","ngModelChange"],[4,"ngFor","ngForOf"],[1,"form-control","red",3,"name","ngModel","ngModelChange"],["type","number",1,"form-control","red",3,"ngModel","name","ngModelChange"],["LinkedReceiptsentry_no","ngModel"],["href","javascript:;",2,"color","green",3,"click"],["aria-hidden","true",1,"fa","fa-plus-square","fa-lg"],["href","javascript:;",1,"info","p-0",3,"click"],["aria-hidden","true",1,"fa","fa-eye","fa-lg"],["for","shipmentterm",1,"col-form-label"],["name","shipmentterm",1,"form-control",3,"ngModel","ngModelChange","change"],["shipmentterm","ngModel"],[1,"col-md-3","form-group"],["for","SupplierAccount",1,"col-form-label"],["type","checkbox","id","ChangeSupplier",3,"checked","ngModelOptions","ngModel","ngModelChange"],["for","ChangeSupplier"],["for","deliverylocation",1,"col-form-label"],["type","text","name","deliverylocation",1,"form-control",3,"ngModel","ngModelChange"],["for","PaymentTerm",1,"col-form-label"],["name","PaymentTerm",1,"form-control",3,"ngModel","ngModelChange"],["paymentterm","ngModel"],["for","contactedperson",1,"col-form-label"],["type","text","name","contactedperson",1,"form-control",3,"ngModel","ngModelChange"],["for","planneddeliverydate",1,"col-form-label"],["type","date","id","planneddeliverydate","name","planneddeliverydate",1,"form-control",3,"ngModel","ngModelChange"],["planneddeliverydate","ngModel"],["for","Courier",1,"col-form-label"],["name","Courier",1,"form-control",3,"ngModel","ngModelChange"],["Courier","ngModel"],["for","othernotes",1,"col-form-label"],["id","othernotes","name","othernotes","rows","3",1,"form-control",3,"ngModel","ngModelChange"],["othernotes","ngModel"],["for","actualdeliverydate",1,"col-form-label"],["type","date","id","actualdeliverydate","name","actualdeliverydate",1,"form-control",3,"ngModel","ngModelChange"],["actualdeliverydate","ngModel"],["minLength","0","delay","0","field","name","name","SupplierAccount",3,"ngModel","disabled","suggestions","showEmptyMessage","emptyMessage","forceSelection","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoCustomerAccounts",""],["minLength","0","delay","0","field","name_ar","name","SupplierAccount",3,"disabled","ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","onFocus","ngModelChange","onSelect","completeMethod","onClear"],[3,"signature","signatureoutput"],[1,"col-md-6","form-group"],["minLength","0","delay","0","field","costcenterfieldname","name","CostCenter",3,"required","ngModel","suggestions","ngClass","showEmptyMessage","emptyMessage","forceSelection","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoCostCenter","","CostCenter","ngModel"],["pTemplate","CostCenterTemplate"],["class","col-md-3 form-group",4,"ngIf"],["style","color: red; font-weight: bold",4,"ngIf"],["minLength","0","delay","0","field","classfieldname","name","Classes",3,"required","ngModel","suggestions","ngClass","showEmptyMessage","emptyMessage","forceSelection","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoClasses","","Classes","ngModel"],["pTemplate","ClassesTemplate"],["minLength","0","delay","0","field","locationfieldname","name","Location",3,"required","ngModel","suggestions","ngClass","showEmptyMessage","emptyMessage","forceSelection","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoLocation","","Location","ngModel"],["pTemplate","LocationTemplate"],["minLength","0","delay","0","field","departmentfieldname","name","Department",3,"required","ngModel","suggestions","ngClass","onFocus","ngModelChange","onSelect","completeMethod"],["autoDepartment","","Department","ngModel"],["pTemplate","DepartmentTemplate"],[3,"wrappe"],["ItemStoreQty",""]],template:function(e,t){1&e&&(M["\u0275\u0275template"](0,om,4,3,"div",0),M["\u0275\u0275template"](1,Cg,175,138,"ng-container",1)),2&e&&(M["\u0275\u0275property"]("ngIf",!(t.checkRoleParms(584)||t.checkRoleParms(585)||t.checkRoleParms(586)||t.checkRoleParms(622))),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",t.checkRolesParms(M["\u0275\u0275pureFunction0"](2,yg))))},directives:[l.O5,d._Y,d.JL,d.F,d.EJ,d.Q7,d.JJ,d.On,l.mk,l.sg,d.Fj,we.L,De.a,u.Qc,Be.jx,F.Pz,F.nv,F.Vx,F.uN,F.tO,d.wV,L.K,Le.k,d.YN,d.Kr,d.qQ,d.Wl,Ve.t,qe.T],pipes:[h.X$,l.uU,Te.N],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important;text-align:center}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}']}),e}();function Sg(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"div",4),M["\u0275\u0275elementStart"](1,"h1",5),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function Rg(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.name)}}function xg(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.name_ar)}}function Mg(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",51),M["\u0275\u0275template"](1,Rg,2,1,"span",1),M["\u0275\u0275template"](2,xg,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275propertyInterpolate"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function Ig(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",52),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).OnAdd()}),M["\u0275\u0275element"](1,"i",27),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"]()}2&e&&(M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](3,1,"Add")," "))}function Pg(e,t){1&e&&M["\u0275\u0275element"](0,"i",53)}function Og(e,t){1&e&&M["\u0275\u0275element"](0,"i",54)}function kg(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275element"](1,"i",47),M["\u0275\u0275template"](2,Pg,1,0,"i",48),M["\u0275\u0275template"](3,Og,1,0,"i",49),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("hidden","BranchName"==n.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","BranchName"==n.sortColumn&&"asc"==n.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","BranchName"==n.sortColumn&&"desc"==n.sortDirection)}}function Eg(e,t){1&e&&M["\u0275\u0275element"](0,"i",53)}function wg(e,t){1&e&&M["\u0275\u0275element"](0,"i",54)}function Dg(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275element"](1,"i",47),M["\u0275\u0275template"](2,Eg,1,0,"i",48),M["\u0275\u0275template"](3,wg,1,0,"i",49),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("hidden","BranchNameAR"==n.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","BranchNameAR"==n.sortColumn&&"asc"==n.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","BranchNameAR"==n.sortColumn&&"desc"==n.sortDirection)}}function Bg(e,t){1&e&&M["\u0275\u0275element"](0,"i",53)}function Lg(e,t){1&e&&M["\u0275\u0275element"](0,"i",54)}function Fg(e,t){1&e&&M["\u0275\u0275element"](0,"i",53)}function Ng(e,t){1&e&&M["\u0275\u0275element"](0,"i",54)}function Vg(e,t){1&e&&M["\u0275\u0275element"](0,"i",53)}function qg(e,t){1&e&&M["\u0275\u0275element"](0,"i",54)}function Tg(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275element"](1,"i",47),M["\u0275\u0275template"](2,Vg,1,0,"i",48),M["\u0275\u0275template"](3,qg,1,0,"i",49),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("hidden","CustomerName"==n.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","CustomerName"==n.sortColumn&&"asc"==n.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","CustomerName"==n.sortColumn&&"desc"==n.sortDirection)}}function Ag(e,t){1&e&&M["\u0275\u0275element"](0,"i",53)}function Gg(e,t){1&e&&M["\u0275\u0275element"](0,"i",54)}function Ug(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275element"](1,"i",47),M["\u0275\u0275template"](2,Ag,1,0,"i",48),M["\u0275\u0275template"](3,Gg,1,0,"i",49),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("hidden","CustomerNamear"==n.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","CustomerNamear"==n.sortColumn&&"asc"==n.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","CustomerNamear"==n.sortColumn&&"desc"==n.sortDirection)}}function jg(e,t){1&e&&M["\u0275\u0275element"](0,"i",53)}function $g(e,t){1&e&&M["\u0275\u0275element"](0,"i",54)}function zg(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n?null:n.branchname)}}function Wg(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n?null:n.branchnamear)}}function Jg(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.customername)}}function Qg(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.customernamear," ")}}function Yg(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"a",60),M["\u0275\u0275element"](1,"i",61),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275propertyInterpolate1"]("routerLink","/page/inventorytransiction/giftissue/",null==n?null:n.id,"")}}function Hg(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"tr"),M["\u0275\u0275template"](1,zg,2,1,"td",1),M["\u0275\u0275template"](2,Wg,2,1,"td",1),M["\u0275\u0275elementStart"](3,"td"),M["\u0275\u0275text"](4),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](5,"td"),M["\u0275\u0275text"](6),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](7,Jg,2,1,"td",1),M["\u0275\u0275template"](8,Qg,2,1,"td",1),M["\u0275\u0275elementStart"](9,"td"),M["\u0275\u0275text"](10),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](11,"td",56),M["\u0275\u0275template"](12,Yg,2,1,"a",57),M["\u0275\u0275elementStart"](13,"a",58),M["\u0275\u0275elementStart"](14,"span"),M["\u0275\u0275element"](15,"i",59),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](null==n?null:n.entry_no),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](null==n?null:n.entry_date),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",1==(null==i.CurrentUserSetting?null:i.CurrentUserSetting.showcostprice)?null==n?null:n.netvalue:"****"," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(621)),M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate1"]("routerLink","/page/inventorytransiction/giftissue/",null==n?null:n.id,"/show")}}function Zg(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"tbody"),M["\u0275\u0275template"](1,Hg,16,9,"tr",55),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",n.ReceiptList)}}function Kg(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"tbody"),M["\u0275\u0275elementStart"](1,"tr",62),M["\u0275\u0275elementStart"](2,"td",63),M["\u0275\u0275text"](3),M["\u0275\u0275pipe"](4,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](4,1,"NoData")))}function Xg(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",64),M["\u0275\u0275elementStart"](1,"ngb-pagination",65),M["\u0275\u0275listener"]("pageChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).onPageChange(e)})("pageChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).PageNo=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](2,"p"),M["\u0275\u0275text"](3),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](4,"select",66),M["\u0275\u0275listener"]("change",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).onPageSizeChange(e.target.value)})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).PageSize=e}),M["\u0275\u0275elementStart"](5,"option",67),M["\u0275\u0275text"](6,"10 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](7,"option",68),M["\u0275\u0275text"](8,"50 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](9,"option",69),M["\u0275\u0275text"](10,"100 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275element"](11,"br"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("collectionSize",i.totalCount)("page",i.PageNo)("pageSize",i.PageSize)("maxSize",5)("boundaryLinks",!0),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",i._generalService.TotalDetailsTextShow(i.PageNo,i.PageSize,i.totalCount,i.lang)," "),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngModel",i.PageSize)}}function e_(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275elementStart"](1,"section"),M["\u0275\u0275elementStart"](2,"div",6),M["\u0275\u0275elementStart"](3,"div",7),M["\u0275\u0275elementStart"](4,"div",8),M["\u0275\u0275elementStart"](5,"h6",9),M["\u0275\u0275text"](6),M["\u0275\u0275pipe"](7,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](8,"div",10),M["\u0275\u0275elementStart"](9,"div",11),M["\u0275\u0275elementStart"](10,"section"),M["\u0275\u0275elementStart"](11,"div",4),M["\u0275\u0275elementStart"](12,"div",12),M["\u0275\u0275elementStart"](13,"form",13,14),M["\u0275\u0275listener"]("ngSubmit",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().SearchReceiptByEntryNo()}),M["\u0275\u0275elementStart"](15,"div",4),M["\u0275\u0275elementStart"](16,"div",15),M["\u0275\u0275elementStart"](17,"div",16),M["\u0275\u0275elementStart"](18,"label",17),M["\u0275\u0275text"](19),M["\u0275\u0275pipe"](20,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](21,"select",18,19),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._ReceiptSearch.BranchID=e})("change",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().ChangeBranch(e.target.value)}),M["\u0275\u0275elementStart"](23,"option",20),M["\u0275\u0275text"](24),M["\u0275\u0275pipe"](25,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](26,Mg,3,3,"option",21),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](27,"div",15),M["\u0275\u0275elementStart"](28,"div",16),M["\u0275\u0275elementStart"](29,"label",22),M["\u0275\u0275text"](30),M["\u0275\u0275pipe"](31,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](32,"input",23,24),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._ReceiptSearch.EntryNo=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](34,"div",25),M["\u0275\u0275elementStart"](35,"button",26),M["\u0275\u0275element"](36,"i",27),M["\u0275\u0275text"](37),M["\u0275\u0275pipe"](38,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](39,"button",28),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().ShowAll()}),M["\u0275\u0275element"](40,"i",27),M["\u0275\u0275text"](41),M["\u0275\u0275pipe"](42,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](43,"div",29),M["\u0275\u0275elementStart"](44,"div",30),M["\u0275\u0275elementStart"](45,"div",31),M["\u0275\u0275template"](46,Ig,4,3,"button",32),M["\u0275\u0275elementStart"](47,"button",33),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().OnPrint()}),M["\u0275\u0275element"](48,"i",27),M["\u0275\u0275text"](49),M["\u0275\u0275pipe"](50,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](51,"button",34),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().OnPrint(1)}),M["\u0275\u0275element"](52,"i",27),M["\u0275\u0275text"](53),M["\u0275\u0275pipe"](54,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](55,"button",35),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().OnExcel()}),M["\u0275\u0275element"](56,"i",27),M["\u0275\u0275text"](57),M["\u0275\u0275pipe"](58,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](59,"div",36),M["\u0275\u0275elementStart"](60,"div",37),M["\u0275\u0275elementStart"](61,"label",38),M["\u0275\u0275text"](62),M["\u0275\u0275pipe"](63,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](64,"input",39,40),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._ReceiptSearch.SearchValue=e})("keyup",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().ChangePropFinish()}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](66,"div",4),M["\u0275\u0275elementStart"](67,"div",41),M["\u0275\u0275elementStart"](68,"div",42),M["\u0275\u0275elementStart"](69,"div",43),M["\u0275\u0275elementStart"](70,"div",44),M["\u0275\u0275elementStart"](71,"table",45),M["\u0275\u0275elementStart"](72,"thead"),M["\u0275\u0275elementStart"](73,"tr"),M["\u0275\u0275elementStart"](74,"th",46),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().GetReceiptList("BranchName")}),M["\u0275\u0275text"](75),M["\u0275\u0275pipe"](76,"translate"),M["\u0275\u0275template"](77,kg,4,3,"ng-container",1),M["\u0275\u0275template"](78,Dg,4,3,"ng-container",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](79,"th",46),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().GetReceiptList("Entry_No")}),M["\u0275\u0275text"](80),M["\u0275\u0275pipe"](81,"translate"),M["\u0275\u0275elementContainerStart"](82),M["\u0275\u0275element"](83,"i",47),M["\u0275\u0275template"](84,Bg,1,0,"i",48),M["\u0275\u0275template"](85,Lg,1,0,"i",49),M["\u0275\u0275elementContainerEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](86,"th",46),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().GetReceiptList("Entry_Date")}),M["\u0275\u0275text"](87),M["\u0275\u0275pipe"](88,"translate"),M["\u0275\u0275elementContainerStart"](89),M["\u0275\u0275element"](90,"i",47),M["\u0275\u0275template"](91,Fg,1,0,"i",48),M["\u0275\u0275template"](92,Ng,1,0,"i",49),M["\u0275\u0275elementContainerEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](93,"th",46),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().GetReceiptList("CustomerName")}),M["\u0275\u0275text"](94),M["\u0275\u0275pipe"](95,"translate"),M["\u0275\u0275template"](96,Tg,4,3,"ng-container",1),M["\u0275\u0275template"](97,Ug,4,3,"ng-container",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](98,"th",46),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().GetReceiptList("NetValue")}),M["\u0275\u0275text"](99),M["\u0275\u0275pipe"](100,"translate"),M["\u0275\u0275elementContainerStart"](101),M["\u0275\u0275element"](102,"i",47),M["\u0275\u0275template"](103,jg,1,0,"i",48),M["\u0275\u0275template"](104,$g,1,0,"i",49),M["\u0275\u0275elementContainerEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](105,"th"),M["\u0275\u0275text"](106,"\xa0"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](107,Zg,2,1,"tbody",1),M["\u0275\u0275template"](108,Kg,5,3,"tbody",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](109,Xg,12,7,"div",50),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](6),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](7,36,"Gift Issue"),""),M["\u0275\u0275advance"](13),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](20,38,"Branch")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i._ReceiptSearch.BranchID),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](25,40,"All")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngForOf",i.BranchList),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](31,42,"EntryNo")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i._ReceiptSearch.EntryNo),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](38,44,"Search")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](42,46,"All")," "),M["\u0275\u0275advance"](5),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(589)),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](50,48,"Print")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](54,50,"pdf")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](58,52,"Excel")," "),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](63,54,"Search")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i._ReceiptSearch.SearchValue),M["\u0275\u0275advance"](11),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](76,56,"Branch")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](81,58,"EntryNo")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("hidden","Entry_No"==i.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Entry_No"==i.sortColumn&&"asc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Entry_No"==i.sortColumn&&"desc"==i.sortDirection),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](88,60,"Date")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("hidden","Entry_Date"==i.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Entry_Date"==i.sortColumn&&"asc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Entry_Date"==i.sortColumn&&"desc"==i.sortDirection),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](95,62,"custvendor")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](100,64,"value")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("hidden","NetValue"==i.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","NetValue"==i.sortColumn&&"asc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","NetValue"==i.sortColumn&&"desc"==i.sortDirection),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngIf",i.ReceiptList.length>0),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",0==i.ReceiptList.length),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.totalCount>0)}}var t_=function(){var e=function(){function e(t,n,i,r,a,o,l,s,d,p,u,m,h,g,_){var v=this;c(this,e),this._cashsalesService=t,this.cd=n,this.toastr=i,this._router=r,this._generalService=a,this.translate=o,this._translateGlobalService=l,this.spinner=s,this._ReceiptSharedService=p,this._authService=u,this._printService=m,this._Excel=h,this._convertToPDF=g,this._VerifyReportsService=_,this.loaded=!1,this.subsidiaryID=0,this.PageSize=10,this.PageNo=1,this.ReceiptList=[],this.totalCount=0,this.BranchList=[],this.list=[],this._ReceiptSearch=new S.Wb,this.NumNotExist="",this.title="",this.timeout=null,this.sortDirection="asc",this.sortColumn="",this.SelectBranchMsg="",this.EntryNumberMsg="",this.subsidiaryID=this._generalService.SubsidiaryID,this.GetBranchList(),this.GetCurrentUserSetting(),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(function(e){v.lang=e.lang,v.dir=e.dir,v.translate.use(e.lang),v.ngTransUnsubscribe=v.translate.get("SelectBranchError").subscribe(function(e){v.SelectBranchMsg=e}),v.ngTransUnsubscribe=v.translate.get("EntryNumberMsg").subscribe(function(e){v.EntryNumberMsg=e})}),d.params.subscribe(function(e){var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t?(console.log(t.branchId),v._ReceiptSearch.BranchID="null"!=t.branchId?t.branchId:0):v._ReceiptSearch.BranchID=0}),this.ngTransUnsubscribe=this.translate.get(["Gift Issue"]).subscribe(function(e){v.title=e["Gift Issue"],document.title=v.title}),this.ngTransUnsubscribe=this.translate.get(["NumNotExist"]).subscribe(function(e){v.NumNotExist=e.NumNotExist}),this.ngUnsubscribe=a.proadCastSubsidiaryID.subscribe(function(e){if(0==v.subsidiaryID&&(v.subsidiaryID=v._generalService.SubsidiaryID,v.ReceiptSearch()),v.subsidiaryID!=v._generalService.SubsidiaryID&&v.subsidiaryID>0){v.subsidiaryID=v._generalService.SubsidiaryID;var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),v._ReceiptSearch.BranchID=0,localStorage.setItem("Branch",JSON.stringify({branchId:v._ReceiptSearch.BranchID})),v._ReceiptSearch.PageNo=1,v._ReceiptSearch.PageSize=10,v.GetBranchList(),v.ReceiptSearch()}})}return o(e,[{key:"ngOnInit",value:function(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this._ReceiptSearch.ReceiptCode="85",this._ReceiptSearch.sortColumn="Entry_Date.desc",0!=this.subsidiaryID&&(this.GetReceiptList(),this.GetReceiptListCount())}},{key:"ChangePropFinish",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.timeout=null,e.ReceiptSearch()},1e3*t)}},{key:"GetCurrentUserSetting",value:function(){var e=this;this._ReceiptSharedService.GetCurrentUserSetting().subscribe(function(t){e.CurrentUserSetting=t})}},{key:"ReceiptSearch",value:function(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this.GetReceiptList(),this.GetReceiptListCount()}},{key:"GetBranchList",value:function(){var e=this;this._cashsalesService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(function(t){e.BranchList=t,e.cd.markForCheck()})}},{key:"ChangeBranch",value:function(e){var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),this._ReceiptSearch.BranchID="0"!=e?e:0,localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this._ReceiptSearch.PageNo=1,this._ReceiptSearch.PageSize=10,this.ReceiptSearch()}},{key:"GetReceiptList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.sortColumn=null==t?null:t,this.sortDirection="asc"==this.sortDirection?"desc":"asc","ar"==this.lang&&("branch"!=this.sortColumn&&"accountname"!=this.sortColumn||(this.sortColumn=this.sortColumn+"ar")),null!=t&&(this.PageNo=1),null!=this.sortColumn&&""!=this.sortDirection&&(this._ReceiptSearch.sortColumn=this.sortColumn+"."+this.sortDirection),this.spinner.show(),this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._ReceiptSearch.EntryNo.toString().length>10&&(this.ReceiptList=[],this.toastr.warning(this.NumNotExist),this.spinner.hide()),this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(function(t){e.ReceiptList=[],e.list=t,1==e.list.length&&e._ReceiptSearch.EntryNo>0?e._router.navigate(["/page/inventorytransiction/giftissue/"+e.list[0].id]):0==e.list.length&&e._ReceiptSearch.EntryNo>0?e.toastr.warning(e.NumNotExist):e.ReceiptList=t,e.cd.markForCheck(),e.spinner.hide()})}},{key:"GetReceiptListCount",value:function(){var e=this;this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptListCount(this._ReceiptSearch).subscribe(function(t){e.totalCount=t[0].total,e.cd.markForCheck()})}},{key:"OnAdd",value:function(){this._router.navigate(["/page/inventorytransiction/giftissue/0"])}},{key:"OnView",value:function(e){this._router.navigate(["/page/inventorytransiction/giftissue/"+e.id+"/show"])}},{key:"onEdit",value:function(e){var t;t="/page/inventorytransiction/giftissue/".concat(e.id),this._router.navigate([t])}},{key:"ShowAll",value:function(){this._ReceiptSearch.BranchID=0,this._ReceiptSearch.EntryNo=0;var e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this.GetReceiptList(),this.GetReceiptListCount()}},{key:"SearchReceiptByEntryNo",value:function(){null!=this._ReceiptSearch.EntryNo&&null!=this._ReceiptSearch.EntryNo?(this.PageNo=1,this.PageSize=10,this.GetReceiptList(),this.GetReceiptListCount()):this.toastr.warning(this.EntryNumberMsg)}},{key:"OnPrint",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n="",i="ar"==this.lang?"rtl":"ltr",r="ar"==this.lang?"\u0627\u0644\u0641\u0631\u0639":"Branch",a="ar"==this.lang?"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":"Entry no",o="ar"==this.lang?"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":"Date",c="ar"==this.lang?"\u0645\u0648\u0631\u062f/\u0639\u0645\u064a\u0644":"Customer / Vendor",l="ar"==this.lang?"\u0627\u0644\u0642\u064a\u0645\u0629":"Total";this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(function(s){e.cd.markForCheck(),n='\n           <table class="table text-center m-0 table table-striped"  border="1px"  dir = '.concat(i,'>\n                 <thead>\n                   <tr style="background: #e9f1f5;color: cornflowerblue;">\n                     <th>').concat(r,"</th>\n                     <th>").concat(a,"</th>\n                     <th>").concat(o,"</th>\n                     <th>").concat(c,"</th>\n                     <th>").concat(l,"</th>\n\n                   </tr>\n                 </thead>\n             <tbody>\n         "),s.map(function(t){var i;n+="\n        <tr>\n         <td>".concat("ar"==e.lang?t.branchnamear:t.branchname,"</td>\n         <td>").concat(t.entry_no,"</td>\n         <td>").concat(t.entry_date,"</td>\n         <td>").concat(null!==(i="ar"==e.lang?t.customernamear:t.customername)&&void 0!==i?i:"","</td>\n         <td>").concat(t.netvalue,"</td>\n        </tr>\n        ")}),n+="</tbody></table>",1==t?e._convertToPDF.by_html2pdf(n):e._printService.OnPrintContent(n)})}},{key:"OnExcel",value:function(){var e=this,t=[];this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(function(n){n.forEach(function(n){t.push("ar"==e.lang?{"\u0627\u0644\u0641\u0631\u0639":n.branchnamear,"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":n.entry_no,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":n.entry_date,"\u0627\u0644\u0645\u0648\u0631\u062f/\u0627\u0644\u0639\u0645\u064a\u0644":n.customernamear,"\u0627\u0644\u0642\u064a\u0645\u0629":n.netvalue}:{Branch:n.branchname,"Entry No":n.entry_no,Date:n.entry_date,"Customer/Vendor":n.customernamear,Total:n.netvalue})}),e._Excel.exportAsExcelFile(t,"GiftIssue")})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"onPageChange",value:function(e){this._ReceiptSearch.PageNo=e,this.PageNo=e,this.GetReceiptList()}},{key:"onPageSizeChange",value:function(e){this._ReceiptSearch.PageSize=e,this.PageSize=e,this.GetReceiptList()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(M["\u0275\u0275directiveInject"](b.n),M["\u0275\u0275directiveInject"](M.ChangeDetectorRef),M["\u0275\u0275directiveInject"](I._W),M["\u0275\u0275directiveInject"](m.F0),M["\u0275\u0275directiveInject"](P.m),M["\u0275\u0275directiveInject"](h.sK),M["\u0275\u0275directiveInject"](O.K),M["\u0275\u0275directiveInject"](k.t2),M["\u0275\u0275directiveInject"](m.gz),M["\u0275\u0275directiveInject"](R.t),M["\u0275\u0275directiveInject"](E.e),M["\u0275\u0275directiveInject"](w.$),M["\u0275\u0275directiveInject"](D.x),M["\u0275\u0275directiveInject"](B.z),M["\u0275\u0275directiveInject"](x.J))},e.\u0275cmp=M["\u0275\u0275defineComponent"]({type:e,selectors:[["app-gift-issue"]],features:[M["\u0275\u0275ProvidersFeature"]([b.n,R.t,x.J])],decls:5,vars:3,consts:[["class","row",4,"ngIf"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"row"],[1,"HasNotPermission",2,"margin","auto","width","auto","margin-top","200px"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-body"],[1,"col-12"],[1,"col-lg-8","col-md-10"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"col-lg-4","col-md-4","col-sm-12"],[1,"form-group"],["for","Branch"],["name","Branch","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["Branch","ngModel"],["Value","0"],[3,"value",4,"ngFor","ngForOf"],["for","EntryNumber"],["type","number","id","ReceiptNumber","name","ReceiptNumber","min","0","PositiveNumbersOnly","","required","",1,"form-control",3,"ngModel","ngModelChange"],["ReceiptNumber","ngModel"],[1,"col-lg-4","col-sm-4","mt-3","text-center"],["type","submit",1,"btn","btn-primary","mr-2"],[1,""],["type","button",1,"btn","btn-primary",3,"click"],[1,"col-lg-12","mt-2","col-xs-12","text-center-sm"],[1,"row","mb-2"],[1,"col-lg-6","col-md-7","col-xs-12","my-auto","text-center-sm","actionBtns"],["class","btn btn-success\n                      mb-0 ng-star-inserted",3,"click",4,"ngIf"],[1,"btn","btn-warning","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-danger","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-success","mb-0","me-3","ng-star-inserted",3,"click"],[1,"col-lg-6","col-md-6","col-sm-12","pull-right"],[1,"form-group","d-flex","justify-content-end"],["for","SearchValue",1,"pt-1","pl-1","pr-1","form-label"],["type","text","id","SearchValue","name","SearchValue",1,"form-control","col-md-6",3,"ngModel","ngModelChange","keyup"],["SearchValue","ngModel"],[1,"col-12","p-0"],[1,"card","transparent-BG"],[1,"card-content"],[1,"table-responsive","card-body"],[1,"table","m-0","table-striped"],[3,"click"],[1,"fa","fa-fw","fa-sort",3,"hidden"],["class","fa fa-fw fa-sort-desc",4,"ngIf"],["class","fa fa-fw fa-sort-asc",4,"ngIf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],[3,"value"],[1,"btn","btn-success","mb-0","ng-star-inserted",3,"click"],[1,"fa","fa-fw","fa-sort-desc"],[1,"fa","fa-fw","fa-sort-asc"],[4,"ngFor","ngForOf"],[1,"gridActionsTd","text-center"],["href","javascript:;","class","btn btn-primary\n                                transparent-BG",3,"routerLink",4,"ngIf"],[1,"btn","btn-primary","transparent-BG",3,"routerLink"],["aria-hidden","true",1,"fa","fa-file-text-o","font-medium-3"],["href","javascript:;",1,"btn","btn-primary","transparent-BG",3,"routerLink"],[1,"ft-edit","font-medium-3"],[2,"background-color","#b0bed9"],["colspan","7"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(M["\u0275\u0275template"](0,Sg,4,3,"div",0),M["\u0275\u0275template"](1,e_,110,66,"div",1),M["\u0275\u0275elementStart"](2,"ngx-spinner",2),M["\u0275\u0275elementStart"](3,"p",3),M["\u0275\u0275text"](4,"Loading..."),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275property"]("ngIf",!t.checkRoleParms(588)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",t.checkRoleParms(588)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("fullScreen",!0))},directives:[l.O5,k.Ro,d._Y,d.JL,d.F,d.EJ,d.Q7,d.JJ,d.On,d.YN,d.Kr,l.sg,d.qQ,d.wV,d.Fj,L.K,m.yS,F.N9],pipes:[h.X$],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important;text-align:center}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}']}),e}(),n_=["serialModel"],i_=["RForm"];function r_(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"div",4),M["\u0275\u0275elementStart"](1,"h1",5),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function a_(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",84),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).DocumentAction()}),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,2,"Document")," ")}}function o_(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",85),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).PrintPreview(0)}),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,2,"PrintPreview")," ")}}function c_(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",88),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).onPrint()}),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,2,"Print")," ")}}function l_(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",88),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](4).DeleteAction()}),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](4);M["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function s_(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275template"](1,l_,3,4,"button",86),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",0==n.ShowModeReceipt&&n.ReceiptID>0&&0==n.VouchersLinkedCount)}}function d_(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",88),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).DupilcateAction()}),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,2,"Dupilcate")," ")}}function p_(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275template"](1,c_,3,4,"button",86),M["\u0275\u0275template"](2,s_,2,1,"div",1),M["\u0275\u0275template"](3,d_,3,4,"button",86),M["\u0275\u0275elementStart"](4,"email-popup",87),M["\u0275\u0275listener"]("_savedemailobj",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).sendEmail(e)}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(591)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(590)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(589)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("entryno",i._Receipt.entry_no)}}function u_(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",89),M["\u0275\u0275text"](1,"choose"),M["\u0275\u0275elementEnd"]())}function m_(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",89),M["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),M["\u0275\u0275elementEnd"]())}function h_(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function g_(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function __(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",90),M["\u0275\u0275template"](1,h_,2,1,"span",1),M["\u0275\u0275template"](2,g_,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275property"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function v_(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.sugar)}}function f_(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.sug)}}function C_(e,t){if(1&e&&(M["\u0275\u0275template"](0,v_,2,1,"div",1),M["\u0275\u0275template"](1,f_,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function y_(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th",67),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Pack")," "))}function b_(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th",67),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Price")," "))}function S_(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th",67),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Total")," "))}function R_(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function x_(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function M_(e,t){if(1&e&&(M["\u0275\u0275template"](0,R_,2,1,"div",1),M["\u0275\u0275template"](1,x_,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function I_(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function P_(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function O_(e,t){if(1&e&&(M["\u0275\u0275template"](0,I_,2,1,"div",1),M["\u0275\u0275template"](1,P_,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}var k_=function(e,t){return{"invalid-qty":e,"valid-qty":t}};function E_(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div",118),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275nextContext"](2);var i=M["\u0275\u0275reference"](3);M["\u0275\u0275property"]("ngClass",M["\u0275\u0275pureFunction2"](2,k_,0==n.allowqtyselectforitem&&i.submitted||0==n.allowqtyselectforitem,1==n.allowqtyselectforitem&&i.submitted||1==n.allowqtyselectforitem)),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.itemname," ")}}function w_(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div",118),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275nextContext"](2);var i=M["\u0275\u0275reference"](3);M["\u0275\u0275property"]("ngClass",M["\u0275\u0275pureFunction2"](2,k_,0==n.allowqtyselectforitem&&i.submitted||0==n.allowqtyselectforitem,1==n.allowqtyselectforitem&&i.submitted||1==n.allowqtyselectforitem)),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.itemname_ar," ")}}function D_(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",119),M["\u0275\u0275text"](1," choose "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function B_(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",119),M["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function L_(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function F_(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function N_(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",120),M["\u0275\u0275template"](1,L_,2,1,"span",1),M["\u0275\u0275template"](2,F_,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"]().$implicit,r=M["\u0275\u0275nextContext"](3);M["\u0275\u0275property"]("ngValue",null==n?null:n.id)("selected",(null==n?null:n.id)===i.unit_id&&(null==n?null:n.item_id)===(null==i?null:i.item_id)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=r.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==r.lang)}}var V_=function(e,t){return{"invalid-data":e,"valid-data":t}};function q_(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275elementStart"](1,"input",121,122),M["\u0275\u0275listener"]("keyup",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275nextContext"]().index;return M["\u0275\u0275nextContext"](3).ChangePackItem(e)})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().$implicit.conv=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](2),r=M["\u0275\u0275nextContext"](),a=r.index,o=r.$implicit;M["\u0275\u0275nextContext"](2);var c=M["\u0275\u0275reference"](3),l=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate"]("step",null==l.CashCustomerSetting?null:l.CashCustomerSetting.allowdecimalpack),M["\u0275\u0275propertyInterpolate1"]("name","item_conv",a,""),M["\u0275\u0275property"]("readonly",3==(null==o?null:o.item_type)&&null!=(null==o?null:o.item_id))("Min",1e-5)("CheckMin",null!=(null==o?null:o.item_id))("stepallow",null==l.CashCustomerSetting?null:l.CashCustomerSetting.allowdecimalpack)("ngModel",o.conv)("required",null!=(null==o?null:o.item_id))("ngClass",M["\u0275\u0275pureFunction2"](9,V_,i.invalid&&c.submitted,i.valid&&c.submitted))}}function T_(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275elementStart"](1,"input",123,124),M["\u0275\u0275listener"]("keyup",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275nextContext"]().index;return M["\u0275\u0275nextContext"](3).CalaculteValuesItemsRow(e)})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().$implicit.price=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](2),r=M["\u0275\u0275nextContext"](),a=r.index,o=r.$implicit;M["\u0275\u0275nextContext"](2);var c=M["\u0275\u0275reference"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate1"]("name","item_price",a,""),M["\u0275\u0275property"]("ngModel",o.price)("readonly",!0)("Min",0)("CheckMin",null!=(null==o?null:o.item_id))("ngClass",M["\u0275\u0275pureFunction2"](6,V_,i.invalid&&c.submitted,i.valid&&c.submitted))}}function A_(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275elementStart"](1,"input",125),M["\u0275\u0275listener"]("keyup",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275nextContext"]().index;return M["\u0275\u0275nextContext"](3).ReCalaculteValuesChangeItemsRow(e)})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().$implicit.total=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](),r=i.index,a=i.$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate1"]("name","item_total",r,""),M["\u0275\u0275property"]("ngModel",a.total)("readonly",!0)}}function G_(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"a",127),M["\u0275\u0275listener"]("click",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275nextContext"](2).index,t=M["\u0275\u0275nextContext"](3);return t.OnSerialItems(e,t.serialModel)}),M["\u0275\u0275element"](1,"i",128),M["\u0275\u0275elementEnd"]()}}function U_(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275template"](1,G_,2,0,"a",126),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",1!=n.CashCustomerSetting.dispensingpolicy)}}var j_=function(e){return{item_id:e}};function $_(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"tr"),M["\u0275\u0275elementStart"](1,"td",100),M["\u0275\u0275text"](2),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](3,"td"),M["\u0275\u0275elementStart"](4,"p-autoComplete",101,102),M["\u0275\u0275listener"]("onFocus",function(e){var t=M["\u0275\u0275restoreView"](n).index,i=M["\u0275\u0275reference"](5),r=M["\u0275\u0275nextContext"](3);return r.onFocusInStore(e,t),i.show(),r.isType=!0})("onClick",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.storecode=e})("onSelect",function(e){var t=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).StoreSelectEvent(e,t)})("completeMethod",function(e){var t=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).StoreChangeSearch(e,t)})("onClear",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3)._Receipt.details[e].store_id=null}),M["\u0275\u0275pipe"](6,"translate"),M["\u0275\u0275template"](7,M_,2,2,"ng-template",103),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](8,"td"),M["\u0275\u0275elementStart"](9,"p-autoComplete",104,105),M["\u0275\u0275listener"]("onFocus",function(e){var t=M["\u0275\u0275restoreView"](n).index,i=M["\u0275\u0275reference"](10),r=M["\u0275\u0275nextContext"](3);return r.onFocusInItems(e,t),i.show(),r.isType=!0})("onClick",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.itemcode=e})("onSelect",function(e){var t=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).ItemsSelectEvent(e,t)})("completeMethod",function(e){var t=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).ItemsChangeSearch(e,t)})("onClear",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).onClearItems(e)}),M["\u0275\u0275pipe"](11,"translate"),M["\u0275\u0275template"](12,O_,2,2,"ng-template",106),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](13,"td",107),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n),t=e.$implicit,i=e.index;return M["\u0275\u0275nextContext"](3).OnSelectedItem(t,i,"selected")}),M["\u0275\u0275template"](14,E_,2,5,"div",108),M["\u0275\u0275template"](15,w_,2,5,"div",108),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](16,"td"),M["\u0275\u0275elementStart"](17,"select",109,110),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e})("change",function(e){var t=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).ChangeItemUnits(e.target.value,t)}),M["\u0275\u0275template"](19,D_,2,1,"option",111),M["\u0275\u0275template"](20,B_,2,1,"option",111),M["\u0275\u0275template"](21,N_,3,4,"option",112),M["\u0275\u0275pipe"](22,"filterby"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](23,q_,3,12,"td",1),M["\u0275\u0275elementStart"](24,"td"),M["\u0275\u0275elementStart"](25,"input",113,114),M["\u0275\u0275listener"]("keyup",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).ChangeQty(e)})("ngModelChange",function(e){return t.$implicit.qty=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](27,T_,3,9,"td",1),M["\u0275\u0275template"](28,A_,2,3,"td",1),M["\u0275\u0275elementStart"](29,"td",115),M["\u0275\u0275elementStart"](30,"a",116),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).DeleteItems(e)}),M["\u0275\u0275element"](31,"i",117),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](32,U_,2,1,"ng-container",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index,a=t.index,o=M["\u0275\u0275reference"](18),c=M["\u0275\u0275reference"](26);M["\u0275\u0275nextContext"](2);var l=M["\u0275\u0275reference"](3),s=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](a+1),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","storecode",r,""),M["\u0275\u0275property"]("ngModel",i.storecode)("disabled",!(null!=s.CurrentUserSetting&&s.CurrentUserSetting.canchangestore))("suggestions",s.StoreList)("showEmptyMessage",!0)("emptyMessage",M["\u0275\u0275pipeBind1"](6,33,"NoResultsFound"))("forceSelection",!0),M["\u0275\u0275advance"](5),M["\u0275\u0275propertyInterpolate1"]("name","itemcode",r,""),M["\u0275\u0275property"]("ngModel",i.itemcode)("suggestions",s.ItemsList)("showEmptyMessage",!0)("emptyMessage",M["\u0275\u0275pipeBind1"](11,35,"NoResultsFound"))("forceSelection",!0),M["\u0275\u0275advance"](5),M["\u0275\u0275property"]("ngIf","ar"!=s.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==s.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","itemunit",r,""),M["\u0275\u0275property"]("ngModel",i.unit_id)("required",null!=(null==i?null:i.item_id))("ngClass",M["\u0275\u0275pureFunction2"](40,V_,o.invalid&&l.submitted,o.valid&&l.submitted)),M["\u0275\u0275attribute"]("disabled",3==(null==i?null:i.item_type)&&null!=(null==i?null:i.item_id)||null),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=s.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==s.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",M["\u0275\u0275pipeBind2"](22,37,s.ItemUnitsList,M["\u0275\u0275pureFunction1"](43,j_,null==i?null:i.item_id))),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",1==(null==s.CashCustomerSetting?null:s.CashCustomerSetting.allowpack)),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","item_qty",r,""),M["\u0275\u0275property"]("Min",1e-5)("CheckMin",null!=(null==i?null:i.item_id))("ngModel",i.qty)("ngClass",M["\u0275\u0275pureFunction2"](45,V_,c.invalid&&l.submitted,c.valid&&l.submitted)),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",1==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.showcostprice)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",1==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.showcostprice)),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("ngIf",(2==i.isrequireserial||3==i.isrequireserial)&&1==s.CashCustomerSetting.salesreturneffect)}}var z_=function(e){return{"table-for-autocomplete":e}};function W_(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",91),M["\u0275\u0275elementStart"](1,"div",92),M["\u0275\u0275elementStart"](2,"div",93),M["\u0275\u0275elementStart"](3,"table",66),M["\u0275\u0275elementStart"](4,"thead"),M["\u0275\u0275elementStart"](5,"tr"),M["\u0275\u0275element"](6,"th"),M["\u0275\u0275elementStart"](7,"th",94),M["\u0275\u0275text"](8),M["\u0275\u0275pipe"](9,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](10,"th",67),M["\u0275\u0275text"](11),M["\u0275\u0275pipe"](12,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](13,"th",67),M["\u0275\u0275text"](14),M["\u0275\u0275pipe"](15,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](16,"th",95),M["\u0275\u0275text"](17),M["\u0275\u0275pipe"](18,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](19,y_,3,3,"th",96),M["\u0275\u0275elementStart"](20,"th",67),M["\u0275\u0275text"](21),M["\u0275\u0275pipe"](22,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](23,b_,3,3,"th",96),M["\u0275\u0275template"](24,S_,3,3,"th",96),M["\u0275\u0275elementStart"](25,"th",97),M["\u0275\u0275text"](26," \xa0 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275element"](27,"tbody"),M["\u0275\u0275elementStart"](28,"tbody"),M["\u0275\u0275template"](29,$_,33,48,"tr",98),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](30,"button",99),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).AddItems()}),M["\u0275\u0275text"](31),M["\u0275\u0275pipe"](32,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngClass",M["\u0275\u0275pureFunction1"](24,z_,i.isType)),M["\u0275\u0275advance"](6),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](9,12,"Store")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](12,14,"ItemCode")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](15,16,"ItemDescription")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](18,18,"Unit")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",1==(null==i.CashCustomerSetting?null:i.CashCustomerSetting.allowpack)),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](22,20,"qty")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",1==(null==i.CurrentUserSetting?null:i.CurrentUserSetting.showcostprice)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",1==(null==i.CurrentUserSetting?null:i.CurrentUserSetting.showcostprice)),M["\u0275\u0275advance"](5),M["\u0275\u0275property"]("ngForOf",i._Receipt.details)("ngForTrackBy",i._ReceiptSharedService.customTrackBy),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](32,22,"Add")," ")}}function J_(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th",67),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Pack")," "))}function Q_(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.itemname," ")}}function Y_(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.itemname_ar," ")}}function H_(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",119),M["\u0275\u0275text"](1," choose "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function Z_(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",119),M["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function K_(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function X_(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function ev(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",90),M["\u0275\u0275template"](1,K_,2,1,"span",1),M["\u0275\u0275template"](2,X_,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](5);M["\u0275\u0275property"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function tv(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275elementStart"](1,"input",134),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().$implicit.conv=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](),r=i.index,a=i.$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate1"]("name","item_conv_c",r,""),M["\u0275\u0275property"]("readonly",!0)("ngModel",a.conv)}}function nv(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"tr"),M["\u0275\u0275elementStart"](1,"td"),M["\u0275\u0275elementStart"](2,"input",130),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.storecode=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](3,"td"),M["\u0275\u0275elementStart"](4,"input",130),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.itemcode=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](5,"td"),M["\u0275\u0275template"](6,Q_,2,1,"div",1),M["\u0275\u0275template"](7,Y_,2,1,"div",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](8,"td"),M["\u0275\u0275elementStart"](9,"select",131),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e}),M["\u0275\u0275template"](10,H_,2,1,"option",111),M["\u0275\u0275template"](11,Z_,2,1,"option",111),M["\u0275\u0275template"](12,ev,3,3,"option",132),M["\u0275\u0275pipe"](13,"filterby"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](14,tv,2,3,"td",1),M["\u0275\u0275elementStart"](15,"td"),M["\u0275\u0275elementStart"](16,"input",133),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.qty=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](17,"td"),M["\u0275\u0275elementStart"](18,"input",133),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.price=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](19,"td"),M["\u0275\u0275elementStart"](20,"input",133),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.total=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=t.index,r=M["\u0275\u0275nextContext"](4);M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","storecode_c",i,""),M["\u0275\u0275property"]("readonly",!0)("ngModel",n.storecode),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","itemcode_c",i,""),M["\u0275\u0275property"]("readonly",!0)("ngModel",n.itemcode),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=r.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==r.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","itemunit_c",i,""),M["\u0275\u0275property"]("ngModel",n.unit_id),M["\u0275\u0275attribute"]("disabled",!0),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=r.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==r.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",M["\u0275\u0275pipeBind2"](13,24,r.ItemComponentUnitsList,M["\u0275\u0275pureFunction1"](27,j_,n.item_id))),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",1==(null==r.CashCustomerSetting?null:r.CashCustomerSetting.allowpack)),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","item_qty_c",i,""),M["\u0275\u0275property"]("ngModel",n.qty)("readonly",!0),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","item_price_c",i,""),M["\u0275\u0275property"]("ngModel",n.price)("readonly",!0),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","item_total_c",i,""),M["\u0275\u0275property"]("ngModel",n.total)("readonly",!0)}}var iv=function(e){return{finishedproductid:e}};function rv(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div",91),M["\u0275\u0275elementStart"](1,"div",92),M["\u0275\u0275elementStart"](2,"div",65),M["\u0275\u0275elementStart"](3,"table",66),M["\u0275\u0275elementStart"](4,"thead"),M["\u0275\u0275elementStart"](5,"tr"),M["\u0275\u0275elementStart"](6,"th",67),M["\u0275\u0275text"](7),M["\u0275\u0275pipe"](8,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](9,"th",67),M["\u0275\u0275text"](10),M["\u0275\u0275pipe"](11,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](12,"th",67),M["\u0275\u0275text"](13),M["\u0275\u0275pipe"](14,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](15,"th",95),M["\u0275\u0275text"](16),M["\u0275\u0275pipe"](17,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](18,J_,3,3,"th",96),M["\u0275\u0275elementStart"](19,"th",67),M["\u0275\u0275text"](20),M["\u0275\u0275pipe"](21,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](22,"th",67),M["\u0275\u0275text"](23),M["\u0275\u0275pipe"](24,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](25,"th",67),M["\u0275\u0275text"](26),M["\u0275\u0275pipe"](27,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](28,"tbody"),M["\u0275\u0275template"](29,nv,21,29,"tr",129),M["\u0275\u0275pipe"](30,"filterby"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](7),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](8,9,"Store")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](11,11,"ItemCode")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](14,13,"ItemDescription")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](17,15,"Unit")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",1==(null==n.CashCustomerSetting?null:n.CashCustomerSetting.allowpack)),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](21,17,"qty")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](24,19,"Price")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](27,21,"Total")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngForOf",0==n.show_all_component?M["\u0275\u0275pipeBind2"](30,23,n.ItemsComponentList,M["\u0275\u0275pureFunction1"](26,iv,null==n.SelectedItem?null:n.SelectedItem.item_id)):n.ItemsComponentList)}}function av(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"li",62),M["\u0275\u0275elementStart"](1,"a",59),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](4,rv,31,28,"ng-template",60),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275property"]("ngbNavItem",2),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](3,2,"Components")))}function ov(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",89),M["\u0275\u0275text"](1," choose "),M["\u0275\u0275elementEnd"]())}function cv(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",89),M["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),M["\u0275\u0275elementEnd"]())}function lv(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function sv(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function dv(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",90),M["\u0275\u0275template"](1,lv,2,1,"span",1),M["\u0275\u0275template"](2,sv,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function pv(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",119),M["\u0275\u0275text"](1," choose "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function uv(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",119),M["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function mv(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.codename,"")}}function hv(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.codenamear,"")}}function gv(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",90),M["\u0275\u0275template"](1,mv,2,1,"span",1),M["\u0275\u0275template"](2,hv,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("value",n.code),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function _v(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"tr"),M["\u0275\u0275elementStart"](1,"td"),M["\u0275\u0275elementStart"](2,"select",135),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.branch_id=e}),M["\u0275\u0275template"](3,ov,2,0,"option",29),M["\u0275\u0275template"](4,cv,2,0,"option",29),M["\u0275\u0275template"](5,dv,3,3,"option",132),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](6,"td"),M["\u0275\u0275elementStart"](7,"select",135),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.code=e}),M["\u0275\u0275template"](8,pv,2,1,"option",111),M["\u0275\u0275template"](9,uv,2,1,"option",111),M["\u0275\u0275template"](10,gv,3,3,"option",132),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](11,"td"),M["\u0275\u0275elementStart"](12,"input",136,137),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.entry_no=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](14,"td",115),M["\u0275\u0275elementStart"](15,"a",138),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).GetLinkedReceipt(e)}),M["\u0275\u0275element"](16,"i",139),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](17,"a",138),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).OnOpenLinkedReceipt(e)}),M["\u0275\u0275element"](18,"i",140),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](19,"td"),M["\u0275\u0275elementStart"](20,"a",138),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).DeleteLinkedReceipt(e)}),M["\u0275\u0275element"](21,"i",117),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index,a=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsbranch",r,""),M["\u0275\u0275property"]("ngModel",i.branch_id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",a.BranchList),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptscode",r,""),M["\u0275\u0275property"]("ngModel",i.code),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",a.ReceiptCodeList),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsentry_no",r,""),M["\u0275\u0275property"]("ngModel",i.entry_no),M["\u0275\u0275advance"](3),M["\u0275\u0275attribute"]("disabled",(null==i?null:i.fire)>0||null)}}function vv(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",91),M["\u0275\u0275elementStart"](1,"div",92),M["\u0275\u0275elementStart"](2,"div",65),M["\u0275\u0275elementStart"](3,"table",66),M["\u0275\u0275elementStart"](4,"thead"),M["\u0275\u0275elementStart"](5,"tr"),M["\u0275\u0275elementStart"](6,"th",67),M["\u0275\u0275text"](7),M["\u0275\u0275pipe"](8,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](9,"th",67),M["\u0275\u0275text"](10),M["\u0275\u0275pipe"](11,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](12,"th",67),M["\u0275\u0275text"](13),M["\u0275\u0275pipe"](14,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](15,"th",97),M["\u0275\u0275text"](16," \xa0 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](17,"tbody"),M["\u0275\u0275template"](18,_v,22,13,"tr",129),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](19,"button",99),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).AddLinkedReceipt()}),M["\u0275\u0275text"](20),M["\u0275\u0275pipe"](21,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](7),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](8,5,"Branch")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](11,7,"Receipttype")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](14,9,"EntryNo")," "),M["\u0275\u0275advance"](5),M["\u0275\u0275property"]("ngForOf",i._Receipt.linkedreceipts),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](21,11,"Add")," ")}}function fv(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",91),M["\u0275\u0275elementStart"](1,"div",92),M["\u0275\u0275elementStart"](2,"Signature",141),M["\u0275\u0275listener"]("signatureoutput",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).OnSignatureSet(e)}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("signature",i._Receipt.signature)}}function Cv(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Cost Center"),""))}function yv(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",null==n.subsaidarySetting?null:n.subsaidarySetting.costcenteralternativetext,"")}}function bv(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function Sv(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function Rv(e,t){if(1&e&&(M["\u0275\u0275template"](0,bv,2,1,"div",1),M["\u0275\u0275template"](1,Sv,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function xv(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Class"),""))}function Mv(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](5);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n.subsaidarySetting?null:n.subsaidarySetting.classalternativetextar)}}function Iv(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](5);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n.subsaidarySetting?null:n.subsaidarySetting.classalternativetext)}}function Pv(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275template"](1,Mv,2,1,"span",1),M["\u0275\u0275template"](2,Iv,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Ov(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span",26),M["\u0275\u0275text"](1,"*"),M["\u0275\u0275elementEnd"]())}function kv(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function Ev(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function wv(e,t){if(1&e&&(M["\u0275\u0275template"](0,kv,2,1,"div",1),M["\u0275\u0275template"](1,Ev,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Dv(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",143),M["\u0275\u0275elementStart"](1,"label",34),M["\u0275\u0275template"](2,xv,3,3,"span",1),M["\u0275\u0275template"](3,Pv,3,2,"span",1),M["\u0275\u0275template"](4,Ov,2,0,"span",152),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](5,"p-autoComplete",153,154),M["\u0275\u0275listener"]("onFocus",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275reference"](6);return M["\u0275\u0275nextContext"](3).onFocusInClasses(e),t.show()})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3)._Receipt.classfieldname=e})("onSelect",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).ClassesSelectEvent(e)})("completeMethod",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).ClassesChangeSearch(e)}),M["\u0275\u0275template"](8,wv,2,2,"ng-template",155),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](7);M["\u0275\u0275nextContext"](2);var r=M["\u0275\u0275reference"](3),a=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",null==(null==a.subsaidarySetting?null:a.subsaidarySetting.classalternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null!=(null==a.subsaidarySetting?null:a.subsaidarySetting.classalternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null==a.subsaidarySetting?null:a.subsaidarySetting.classmandatory4invtrans),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("required",null==a.subsaidarySetting?null:a.subsaidarySetting.classmandatory4invtrans)("ngModel",a._Receipt.classfieldname)("suggestions",a.ClassList)("ngClass",M["\u0275\u0275pureFunction2"](7,V_,i.invalid&&r.submitted,i.valid&&r.submitted))}}function Bv(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Location")," "))}function Lv(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](5);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n.subsaidarySetting?null:n.subsaidarySetting.locationalternativetext)}}function Fv(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](5);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n.subsaidarySetting?null:n.subsaidarySetting.locationalternativetextar)}}function Nv(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275template"](1,Lv,2,1,"span",1),M["\u0275\u0275template"](2,Fv,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Vv(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span",26),M["\u0275\u0275text"](1,"*"),M["\u0275\u0275elementEnd"]())}function qv(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function Tv(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function Av(e,t){if(1&e&&(M["\u0275\u0275template"](0,qv,2,1,"div",1),M["\u0275\u0275template"](1,Tv,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Gv(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",143),M["\u0275\u0275elementStart"](1,"label",34),M["\u0275\u0275template"](2,Bv,3,3,"span",1),M["\u0275\u0275template"](3,Nv,3,2,"span",1),M["\u0275\u0275template"](4,Vv,2,0,"span",152),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](5,"p-autoComplete",156,157),M["\u0275\u0275listener"]("onFocus",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275reference"](6);return M["\u0275\u0275nextContext"](3).onFocusInLocations(e),t.show()})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3)._Receipt.locationfieldname=e})("onSelect",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).LocationsSelectEvent(e)})("completeMethod",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).LocationsChangeSearch(e)}),M["\u0275\u0275template"](8,Av,2,2,"ng-template",158),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](7);M["\u0275\u0275nextContext"](2);var r=M["\u0275\u0275reference"](3),a=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",null==(null==a.subsaidarySetting?null:a.subsaidarySetting.locationalternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null!=(null==a.subsaidarySetting?null:a.subsaidarySetting.locationalternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null==a.subsaidarySetting?null:a.subsaidarySetting.locationmandatory4invtrans),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("required",null==a.subsaidarySetting?null:a.subsaidarySetting.locationmandatory4invtrans)("ngModel",a._Receipt.locationfieldname)("suggestions",a.LocationList)("ngClass",M["\u0275\u0275pureFunction2"](7,V_,i.invalid&&r.submitted,i.valid&&r.submitted))}}function Uv(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Department")," "))}function jv(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](5);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n.subsaidarySetting?null:n.subsaidarySetting.departmentalternativetextar)}}function $v(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](5);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n.subsaidarySetting?null:n.subsaidarySetting.departmentalternativetext)}}function zv(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275template"](1,jv,2,1,"span",1),M["\u0275\u0275template"](2,$v,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Wv(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span",26),M["\u0275\u0275text"](1,"*"),M["\u0275\u0275elementEnd"]())}function Jv(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function Qv(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function Yv(e,t){if(1&e&&(M["\u0275\u0275template"](0,Jv,2,1,"div",1),M["\u0275\u0275template"](1,Qv,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Hv(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",143),M["\u0275\u0275elementStart"](1,"label",34),M["\u0275\u0275template"](2,Uv,3,3,"span",1),M["\u0275\u0275template"](3,zv,3,2,"span",1),M["\u0275\u0275template"](4,Wv,2,0,"span",152),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](5,"p-autoComplete",159,160),M["\u0275\u0275listener"]("onFocus",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275reference"](6);return M["\u0275\u0275nextContext"](3).onFocusInDepartment(e),t.show()})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3)._Receipt.departmentfieldname=e})("onSelect",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).DepartmentSelectEvent(e)})("completeMethod",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).DepartmentChangeSearch(e)}),M["\u0275\u0275template"](8,Yv,2,2,"ng-template",161),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](7);M["\u0275\u0275nextContext"](2);var r=M["\u0275\u0275reference"](3),a=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",null==(null==a.subsaidarySetting?null:a.subsaidarySetting.departmentalternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null!=(null==a.subsaidarySetting?null:a.subsaidarySetting.departmentalternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null==a.subsaidarySetting?null:a.subsaidarySetting.departmentmandatory4invtrans),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("required",null==a.subsaidarySetting?null:a.subsaidarySetting.departmentmandatory4invtrans)("ngModel",a._Receipt.departmentfieldname)("suggestions",a.DepartmentList)("ngClass",M["\u0275\u0275pureFunction2"](7,V_,i.invalid&&r.submitted,i.valid&&r.submitted))}}function Zv(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Devission")," "))}function Kv(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](5);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n.subsaidarySetting?null:n.subsaidarySetting.divisionalternativetextar)}}function Xv(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](5);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n.subsaidarySetting?null:n.subsaidarySetting.divisionalternativetext)}}function ef(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275template"](1,Kv,2,1,"span",1),M["\u0275\u0275template"](2,Xv,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function tf(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span",26),M["\u0275\u0275text"](1,"*"),M["\u0275\u0275elementEnd"]())}function nf(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function rf(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function af(e,t){if(1&e&&(M["\u0275\u0275template"](0,nf,2,1,"div",1),M["\u0275\u0275template"](1,rf,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function of(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",143),M["\u0275\u0275elementStart"](1,"label",34),M["\u0275\u0275template"](2,Zv,3,3,"span",1),M["\u0275\u0275template"](3,ef,3,2,"span",1),M["\u0275\u0275template"](4,tf,2,0,"span",152),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](5,"p-autoComplete",162,163),M["\u0275\u0275listener"]("onFocus",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275reference"](6);return M["\u0275\u0275nextContext"](3).onFocusInDivision(e),t.show()})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3)._Receipt.divisionfieldname=e})("onSelect",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).DivisionSelectEvent(e)})("completeMethod",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).DivisionChangeSearch(e)}),M["\u0275\u0275template"](8,af,2,2,"ng-template",164),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](7);M["\u0275\u0275nextContext"](2);var r=M["\u0275\u0275reference"](3),a=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",null==(null==a.subsaidarySetting?null:a.subsaidarySetting.divisionalternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null!=(null==a.subsaidarySetting?null:a.subsaidarySetting.divisionalternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null==a.subsaidarySetting?null:a.subsaidarySetting.divisionmandatory4invtrans),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("required",null==a.subsaidarySetting?null:a.subsaidarySetting.divisionmandatory4invtrans)("ngModel",a._Receipt.divisionfieldname)("suggestions",a.DivisionList)("ngClass",M["\u0275\u0275pureFunction2"](7,V_,i.invalid&&r.submitted,i.valid&&r.submitted))}}function cf(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",119),M["\u0275\u0275text"](1," choose "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function lf(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",119),M["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function sf(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function df(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function pf(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",90),M["\u0275\u0275template"](1,sf,2,1,"span",1),M["\u0275\u0275template"](2,df,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275property"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function uf(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",119),M["\u0275\u0275text"](1," choose "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function mf(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",119),M["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function hf(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function gf(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function _f(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",90),M["\u0275\u0275template"](1,hf,2,1,"span",1),M["\u0275\u0275template"](2,gf,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275property"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function vf(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",4),M["\u0275\u0275elementStart"](1,"div",142),M["\u0275\u0275elementStart"](2,"div",143),M["\u0275\u0275elementStart"](3,"label",34),M["\u0275\u0275template"](4,Cv,3,3,"span",1),M["\u0275\u0275template"](5,yv,2,1,"span",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](6,"p-autoComplete",144,145),M["\u0275\u0275listener"]("onFocus",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275reference"](7);return M["\u0275\u0275nextContext"](2).onFocusInCostCenter(e),t.show()})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Receipt.costcenterfieldname=e})("onSelect",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).CostCenterSelectEvent(e)})("completeMethod",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).CostCenterChangeSearch(e)}),M["\u0275\u0275template"](9,Rv,2,2,"ng-template",146),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](10,Dv,9,10,"div",147),M["\u0275\u0275template"](11,Gv,9,10,"div",147),M["\u0275\u0275template"](12,Hv,9,10,"div",147),M["\u0275\u0275template"](13,of,9,10,"div",147),M["\u0275\u0275elementStart"](14,"div",143),M["\u0275\u0275elementStart"](15,"label",148),M["\u0275\u0275text"](16),M["\u0275\u0275pipe"](17,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](18,"select",149),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Receipt.carid=e})("change",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).ChangeCar()}),M["\u0275\u0275template"](19,cf,2,1,"option",111),M["\u0275\u0275template"](20,lf,2,1,"option",111),M["\u0275\u0275template"](21,pf,3,3,"option",132),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](22,"div",143),M["\u0275\u0275elementStart"](23,"label",150),M["\u0275\u0275text"](24),M["\u0275\u0275pipe"](25,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](26,"select",151),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Receipt.driverid=e})("change",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).ChangeDriver()}),M["\u0275\u0275template"](27,uf,2,1,"option",111),M["\u0275\u0275template"](28,mf,2,1,"option",111),M["\u0275\u0275template"](29,_f,3,3,"option",132),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](8);M["\u0275\u0275nextContext"]();var r=M["\u0275\u0275reference"](3),a=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("ngIf",null==(null==a.subsaidarySetting?null:a.subsaidarySetting.costcenteralternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null!=(null==a.subsaidarySetting?null:a.subsaidarySetting.costcenteralternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("required",null==a.subsaidarySetting?null:a.subsaidarySetting.costcentermandatory4invtrans)("ngModel",a._Receipt.costcenterfieldname)("suggestions",a.CostCenterList)("ngClass",M["\u0275\u0275pureFunction2"](24,V_,i.invalid&&r.submitted,i.valid&&r.submitted)),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("ngIf",null==a.subsaidarySetting?null:a.subsaidarySetting.classisactive),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null==a.subsaidarySetting?null:a.subsaidarySetting.locationisactive),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null==a.subsaidarySetting?null:a.subsaidarySetting.departmentisactive),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null==a.subsaidarySetting?null:a.subsaidarySetting.divisionisactive),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](17,20,"Cars")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",a._Receipt.carid),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",a.CarsList),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](25,22,"Drivers")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",a._Receipt.driverid),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",a.DriversList)}}function ff(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"]("Maximum number can be ",null==n.CurrentUserSetting?null:n.CurrentUserSetting.maxreceiptdiscountperc," % Discount")}}function Cf(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"]("\u0623\u0643\u0628\u0631 \u0631\u0642\u0645 \u0647\u0648 ",null==n.CurrentUserSetting?null:n.CurrentUserSetting.maxreceiptdiscountperc," % \u062e\u0635\u0645 ")}}function yf(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div",165),M["\u0275\u0275template"](1,ff,2,1,"span",1),M["\u0275\u0275template"](2,Cf,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function bf(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"]("Maximum number can be ",null==n.CurrentUserSetting?null:n.CurrentUserSetting.maxreceiptdiscountperc," % Discount")}}function Sf(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"]("\u0623\u0643\u0628\u0631 \u0631\u0642\u0645 \u0647\u0648 ",null==n.CurrentUserSetting?null:n.CurrentUserSetting.maxreceiptdiscountperc," % \u062e\u0635\u0645 ")}}function Rf(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div",165),M["\u0275\u0275template"](1,bf,2,1,"span",1),M["\u0275\u0275template"](2,Sf,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function xf(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275element"](1,"Item-StoreQty",166,167),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("wrappe",n._itemstoreqtyobj)}}function Mf(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275elementStart"](1,"section"),M["\u0275\u0275elementStart"](2,"form",6,7),M["\u0275\u0275listener"]("ngSubmit",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275reference"](3);return M["\u0275\u0275nextContext"]().CheckPre_SaveReceipt(e)}),M["\u0275\u0275elementStart"](4,"div",8),M["\u0275\u0275elementStart"](5,"div",9),M["\u0275\u0275elementStart"](6,"div",10),M["\u0275\u0275elementStart"](7,"div",11),M["\u0275\u0275elementStart"](8,"h6",12),M["\u0275\u0275text"](9),M["\u0275\u0275pipe"](10,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](11,"div",4),M["\u0275\u0275elementStart"](12,"div",13),M["\u0275\u0275elementStart"](13,"button",14),M["\u0275\u0275element"](14,"i",15),M["\u0275\u0275text"](15),M["\u0275\u0275pipe"](16,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](17,"button",16),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().CreateNewAction()}),M["\u0275\u0275text"](18),M["\u0275\u0275pipe"](19,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](20,a_,3,4,"button",17),M["\u0275\u0275template"](21,o_,3,4,"button",18),M["\u0275\u0275elementStart"](22,"button",19),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().BackAction()}),M["\u0275\u0275text"](23),M["\u0275\u0275pipe"](24,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](25,"div",20),M["\u0275\u0275elementStart"](26,"button",21),M["\u0275\u0275text"](27),M["\u0275\u0275pipe"](28,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](29,"div",22),M["\u0275\u0275template"](30,p_,5,4,"ng-container",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](31,"div",4),M["\u0275\u0275elementStart"](32,"div",23),M["\u0275\u0275elementStart"](33,"div",24),M["\u0275\u0275elementStart"](34,"label",25),M["\u0275\u0275text"](35),M["\u0275\u0275pipe"](36,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](37,"span",26),M["\u0275\u0275text"](38,"*"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](39,"select",27,28),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.branch_id=e})("change",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().changeBranch(e)}),M["\u0275\u0275template"](41,u_,2,0,"option",29),M["\u0275\u0275template"](42,m_,2,0,"option",29),M["\u0275\u0275template"](43,__,3,3,"option",30),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](44,"div",23),M["\u0275\u0275elementStart"](45,"div",24),M["\u0275\u0275elementStart"](46,"label",31),M["\u0275\u0275text"](47),M["\u0275\u0275pipe"](48,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](49,"span",26),M["\u0275\u0275text"](50,"*"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](51,"input",32,33),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.entry_no=e})("ngModelChange",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().ChangePropFinish("EntryCode",2)})("keydown.space",function(e){return e.preventDefault()}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](53,"div",23),M["\u0275\u0275elementStart"](54,"div",24),M["\u0275\u0275elementStart"](55,"label",34),M["\u0275\u0275text"](56),M["\u0275\u0275pipe"](57,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](58,"span",26),M["\u0275\u0275text"](59,"*"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](60,"p-autoComplete",35,36),M["\u0275\u0275listener"]("onFocus",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275reference"](61);return M["\u0275\u0275nextContext"]().onFocusInCustomerAccounts(e),t.show()})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.cashcustomer_vendor_code=e})("onSelect",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().CustomerAccountsSelectEvent(e)})("completeMethod",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().CustomerAccountsChangeSearch(e)})("onClear",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().onClearCustomer(e)}),M["\u0275\u0275pipe"](63,"translate"),M["\u0275\u0275template"](64,C_,2,2,"ng-template",37),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](65,"div",23),M["\u0275\u0275elementStart"](66,"div",24),M["\u0275\u0275elementStart"](67,"label",38),M["\u0275\u0275text"](68),M["\u0275\u0275pipe"](69,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](70,"input",39,40),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.cashcustomer_vendor_name=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](72,"div",4),M["\u0275\u0275elementStart"](73,"div",23),M["\u0275\u0275elementStart"](74,"div",24),M["\u0275\u0275elementStart"](75,"label",41),M["\u0275\u0275text"](76),M["\u0275\u0275pipe"](77,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](78,"input",42,43),M["\u0275\u0275listener"]("ngModelChange",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275nextContext"]();return t._Receipt.entry_date=e,t.ChangePropFinish("EntryDate",2)}),M["\u0275\u0275pipe"](80,"date"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](81,"div",23),M["\u0275\u0275elementStart"](82,"div",24),M["\u0275\u0275elementStart"](83,"label",44),M["\u0275\u0275text"](84),M["\u0275\u0275pipe"](85,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](86,"input",45,46),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.entry_time=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](88,"div",23),M["\u0275\u0275elementStart"](89,"div",24),M["\u0275\u0275elementStart"](90,"label",47),M["\u0275\u0275text"](91),M["\u0275\u0275pipe"](92,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](93,"input",48,49),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.memo=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](95,"div",23),M["\u0275\u0275elementStart"](96,"div",24),M["\u0275\u0275elementStart"](97,"label",50),M["\u0275\u0275text"](98),M["\u0275\u0275pipe"](99,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](100,"input",51,52),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.reference_no=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](102,"div",53),M["\u0275\u0275elementStart"](103,"div",54),M["\u0275\u0275elementStart"](104,"div",4),M["\u0275\u0275elementStart"](105,"div",55),M["\u0275\u0275elementStart"](106,"ul",56,57),M["\u0275\u0275listener"]("activeIdChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().activeNav=e}),M["\u0275\u0275elementStart"](108,"li",58),M["\u0275\u0275elementStart"](109,"a",59),M["\u0275\u0275text"](110),M["\u0275\u0275pipe"](111,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](112,W_,33,26,"ng-template",60),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](113,av,5,4,"li",61),M["\u0275\u0275elementStart"](114,"li",62),M["\u0275\u0275elementStart"](115,"a",59),M["\u0275\u0275text"](116),M["\u0275\u0275pipe"](117,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](118,vv,22,13,"ng-template",60),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](119,"li",62),M["\u0275\u0275elementStart"](120,"a",59),M["\u0275\u0275text"](121),M["\u0275\u0275pipe"](122,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](123,fv,3,1,"ng-template",60),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](124,"li",62),M["\u0275\u0275elementStart"](125,"a",59),M["\u0275\u0275text"](126),M["\u0275\u0275pipe"](127,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](128,vf,30,27,"ng-template",60),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275element"](129,"div",63),M["\u0275\u0275elementStart"](130,"div",4),M["\u0275\u0275elementStart"](131,"div",64),M["\u0275\u0275elementStart"](132,"div",65),M["\u0275\u0275elementStart"](133,"table",66),M["\u0275\u0275elementStart"](134,"thead"),M["\u0275\u0275elementStart"](135,"tr"),M["\u0275\u0275element"](136,"th",67),M["\u0275\u0275elementStart"](137,"th",68),M["\u0275\u0275text"](138),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](139,"th",67),M["\u0275\u0275text"](140),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](141,"tbody"),M["\u0275\u0275elementStart"](142,"tr"),M["\u0275\u0275elementStart"](143,"td"),M["\u0275\u0275text"](144),M["\u0275\u0275pipe"](145,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](146,"td",69),M["\u0275\u0275elementStart"](147,"input",70),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.valueforeign=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](148,"td"),M["\u0275\u0275elementStart"](149,"input",71),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.value=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](150,"tr"),M["\u0275\u0275elementStart"](151,"td"),M["\u0275\u0275text"](152),M["\u0275\u0275pipe"](153,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](154,"td",69),M["\u0275\u0275elementStart"](155,"input",72,73),M["\u0275\u0275listener"]("keyup",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().Calculate_Disc("foreign","percent")})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.discount_foreignpercent=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](157,yf,3,2,"div",74),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](158,"td"),M["\u0275\u0275elementStart"](159,"input",75,76),M["\u0275\u0275listener"]("keyup",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().Calculate_Disc("local","percent")})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.discount_percent=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](161,Rf,3,2,"div",74),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](162,"tr"),M["\u0275\u0275elementStart"](163,"td"),M["\u0275\u0275text"](164),M["\u0275\u0275pipe"](165,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](166,"td",69),M["\u0275\u0275elementStart"](167,"input",77),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.discount_foreignvalue=e})("keyup",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().Calculate_Disc("foreign","value")}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](168,"td"),M["\u0275\u0275elementStart"](169,"input",78),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.discount_value=e})("keyup",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().Calculate_Disc("local","value")}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](170,"tr"),M["\u0275\u0275elementStart"](171,"td"),M["\u0275\u0275text"](172),M["\u0275\u0275pipe"](173,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](174,"td",69),M["\u0275\u0275elementStart"](175,"input",79),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.netvalueforeign=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](176,"td"),M["\u0275\u0275elementStart"](177,"input",80),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.netvalue=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](178,"tr"),M["\u0275\u0275elementStart"](179,"td"),M["\u0275\u0275text"](180),M["\u0275\u0275pipe"](181,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](182,"td"),M["\u0275\u0275elementStart"](183,"input",81),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.qtotal=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](184,"tr"),M["\u0275\u0275elementStart"](185,"td"),M["\u0275\u0275text"](186),M["\u0275\u0275pipe"](187,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](188,"td"),M["\u0275\u0275elementStart"](189,"input",82),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.totalitem=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](190,"div",83),M["\u0275\u0275template"](191,xf,3,1,"div",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](3),r=M["\u0275\u0275reference"](40),a=M["\u0275\u0275reference"](52),o=M["\u0275\u0275reference"](62),c=M["\u0275\u0275reference"](79),l=M["\u0275\u0275reference"](107),s=M["\u0275\u0275reference"](156),d=M["\u0275\u0275reference"](160),p=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](9),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](10,99,"Gift Issue"),""),M["\u0275\u0275advance"](4),M["\u0275\u0275attribute"]("disabled",p.VouchersLinkedCount>0||1==p.ShowModeReceipt||1==p.DuringSaveDisable||p.ReceiptID>0&&!p.checkRoleParms(621)||0==p.ReceiptID&&!p.checkRoleParms(589)||null),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](16,101,"Save")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275attribute"]("disabled",!p.checkRoleParms(589)||1==p.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](19,103,"CreateNew")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",p.ReceiptID>0&&0==p.VouchersLinkedCount),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",p.ReceiptID>0&&p.checkRoleParms(591)),M["\u0275\u0275advance"](1),M["\u0275\u0275attribute"]("disabled",1==p.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](24,105,"Exit")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](28,107,"Action Menu")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngIf",p.ReceiptID>0),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](36,109,"Branch")),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("ngModel",p._Receipt.branch_id)("ngClass",M["\u0275\u0275pureFunction2"](150,V_,r.invalid&&i.submitted,r.valid&&i.submitted)),M["\u0275\u0275attribute"]("disabled",p.ReceiptID>0||null),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=p.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==p.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",p.BranchList)("ngForTrackBy",p.customTrackBy),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](48,111,"Entry#")),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("stepallow",1)("ngModel",p._Receipt.entry_no)("readonly",0==(null==p.CurrentUserSetting?null:p.CurrentUserSetting.controlvouchernumanddate)||p.VouchersLinkedCount>0||1==p.LockedRecepit)("Min",1)("CheckMin",!0)("ngClass",M["\u0275\u0275pureFunction2"](153,V_,a.invalid&&i.submitted,a.valid&&i.submitted)),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](57,113,"Customer#")),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("ngModel",p._Receipt.cashcustomer_vendor_code)("suggestions",p.CustomerAccountsList)("showEmptyMessage",!0)("emptyMessage",M["\u0275\u0275pipeBind1"](63,115,"NoResultsFound"))("forceSelection",!0)("ngClass",M["\u0275\u0275pureFunction2"](156,V_,o.invalid&&i.submitted,o.valid&&i.submitted)),M["\u0275\u0275advance"](8),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](69,117,"CustomerName")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",p._Receipt.cashcustomer_vendor_name)("readonly",!0),M["\u0275\u0275advance"](6),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](77,119,"Date")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",M["\u0275\u0275pipeBind2"](80,121,p._Receipt.entry_date,"yyyy-MM-dd"))("readonly",0==(null==p.CurrentUserSetting?null:p.CurrentUserSetting.controlvouchernumanddate)||p.VouchersLinkedCount>0||1==p.LockedRecepit)("ngClass",M["\u0275\u0275pureFunction2"](159,V_,c.invalid&&i.submitted||0==p.ValidPeriod,c.valid&&i.submitted)),M["\u0275\u0275advance"](6),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](85,124,"time")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("readonly",0==(null==p.CurrentUserSetting?null:p.CurrentUserSetting.controlvouchernumanddate)||p.VouchersLinkedCount>0||1==p.LockedRecepit)("ngModel",p._Receipt.entry_time),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](92,126,"Memo")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",p._Receipt.memo),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](99,128,"ReferenceNo")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",p._Receipt.reference_no),M["\u0275\u0275advance"](6),M["\u0275\u0275property"]("destroyOnHide",!1)("activeId",p.activeNav),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngbNavItem",1),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](111,130,"Items")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngIf",null==p.CurrentUserSetting?null:p.CurrentUserSetting.showreceiptitemcomponent),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngbNavItem",3),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](117,132,"LinkedReceipt")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngbNavItem",4),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](122,134,"Signature")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngbNavItem",5),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](127,136,"AnalyticalAccount")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngbNavOutlet",l),M["\u0275\u0275advance"](8),M["\u0275\u0275property"]("hidden",!p.ForeignCurrencyShow),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" Total - ",null==p._CurrencySelected?null:p._CurrencySelected.currencysymbol," "),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" Total - ",null==p._BaseCurrency?null:p._BaseCurrency.currencysymbol," "),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](145,138,"Total")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("hidden",!p.ForeignCurrencyShow),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("readonly",!0)("ngModel",p._Receipt.valueforeign),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("readonly",!0)("ngModel",p._Receipt.value),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](153,140,"Disc%")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("hidden",!p.ForeignCurrencyShow),M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate"]("customMax",null==p.CurrentUserSetting?null:p.CurrentUserSetting.maxreceiptdiscountperc),M["\u0275\u0275property"]("readonly",!(null!=p.CurrentUserSetting&&p.CurrentUserSetting.showreceiptoveralldiscount))("ngModel",p._Receipt.discount_foreignpercent)("ngClass",M["\u0275\u0275pureFunction2"](162,V_,s.invalid&&i.submitted,s.valid&&i.submitted)),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",null==s.errors?null:s.errors.customMax),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate"]("customMax",null==p.CurrentUserSetting?null:p.CurrentUserSetting.maxreceiptdiscountperc),M["\u0275\u0275property"]("readonly",!(null!=p.CurrentUserSetting&&p.CurrentUserSetting.showreceiptoveralldiscount))("ngModel",p._Receipt.discount_percent)("ngClass",M["\u0275\u0275pureFunction2"](165,V_,d.invalid&&i.submitted,d.valid&&i.submitted)),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",null==d.errors?null:d.errors.customMax),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](165,142,"Discount")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("hidden",!p.ForeignCurrencyShow),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("readonly",!(null!=p.CurrentUserSetting&&p.CurrentUserSetting.showreceiptoveralldiscount))("ngModel",p._Receipt.discount_foreignvalue),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("readonly",!(null!=p.CurrentUserSetting&&p.CurrentUserSetting.showreceiptoveralldiscount))("ngModel",p._Receipt.discount_value),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](173,144,"Net")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("hidden",!p.ForeignCurrencyShow),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngModel",p._Receipt.netvalueforeign)("readonly",!0),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",p._Receipt.netvalue)("readonly",!0),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](181,146,"totalqty")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("readonly",!0)("ngModel",p._Receipt.qtotal),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](187,148,"totalitem")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("readonly",!0)("ngModel",p._Receipt.totalitem),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",p.itemqtyview)}}var If=function(){return[588,589,590,591,621]},Pf=function(){var e=function(){function e(t,n,i,r,a,o,l,s,d,p,u,m,h,g,_,v,f,C){var y=this;c(this,e),this._cashsalesService=t,this._CustomerService=n,this._ReceiptSharedService=i,this._VoucherService=r,this.cd=a,this.toastr=o,this._router=l,this._generalService=s,this.translate=d,this._translateGlobalService=p,this._activeRoute=u,this.modalService=m,this.spinner=h,this._authService=g,this._printService=_,this._VerifyReportsService=v,this.datepipe=f,this.location=C,this.isType=!1,this.subsidiaryID=0,this.ReceiptID=0,this.PriceListItemsOnly=!1,this.BasicCodeReceipt=85,this.Transaction_move=0,this._Receipt=new S.tY,this._ReceiptOriginal=new S.tY,this._Receipt_h_Edit=new S.Iu,this._CashSalesDetailsReceipt=new S.hm,this.ItemsComponentList=new Array,this.DescriptionItem=new S.tH,this._LinkedReceipt=new S.Cb,this._Currencyprecision=3,this.ForeignCurrencyShow=!1,this.ValidPeriod=!0,this.NOComponents="",this.VouchersLinkedCount=0,this.BranchList=[],this.CustomerAccountsList=[],this.CostCenterList=[],this.ReceiptCodeList=[],this.TransactionAccountList=[],this.CarsList=[],this.DriversList=[],this.DepartmentList=[],this.LocationList=[],this.ClassList=[],this.DivisionList=[],this.CurrencyList=[],this.StoreList=[],this.ItemsList=[],this.ItemUnitsList=[],this.ItemComponentUnitsList=[],this.CustomerSalesPriceList=[],this.BatchesListForEatchRow=[],this.reporturl="",this.reportdomainUrl=ke.N.aspDomain,this._emailobj={email:"",subject:""},this.mailmsg="",this.allowDelete=!1,this.ShowModeReceipt=!1,this.LockedRecepit=!1,this.swalTitleEntry="",this.swalTextEntry="",this.swalConfirmButtonEntry="",this.Cancel="",this.WarningInfoLost="",this.warning="",this.Yes="",this.FinancialPeriodMsg="",this.Close="",this.FinancialPeriodCloseMsg="",this.CostPostingPeriodMessage="",this.StopInventoryErrorMsg="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.DeleteRelationmsg="",this.ItemsZeroErrorMsg="",this.ItemsEqualZeroMsg="",this.ReceiptNotFound="",this.Receiptnoitems="",this.NoUnits="",this.qtyErrorSaveMsg="",this.qtyErrorMsg="",this.qtyZeroErrorSaveMsg="",this.SaveMsg="",this.No="",this.swalNewActionTitle="",this.swalNewActionText="",this.CustomerPricelistMsg="",this.RelatedwithSerialsOrBatches="",this.DuringSaveDisable=!1,this.show_all_component=!1,this.StopSelesErrorMsg="",this.QtyIsValidWithAvailableQty="",this.requiredserial=2,this._batchqty=0,this.InValidQty="",this.selectedindex=0,this.InValidNumberOfBatch="",this.InValidQtyForBatch="",this.BranchApplyTax=!0,this.TaxPercentage=0,this.timeout=null,this.ItemLinkedReceipt=[],this.ItemComponentsLinkedReceipt=[],this.LinkedReceiptListSelected=[],this.IxLRS=0,this.itemqtyview=!1,this._itemstoreqtyobj=new S.I$,this._itemqtyList=new Array,this._totalcost=0,this.quillConfig={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"]]},this.CustomerCostCenterList=[],u.params.subscribe(function(e){y.ReceiptID=e.id,y.ShowModeReceipt=null!=e.show&&"show"==e.show&&e.id>0,y.LockedRecepit=y.ShowModeReceipt,y.subsidiaryID=y._generalService.SubsidiaryID,y.subsidiaryID>0&&y.SetInitialMethods(),y._UserLogin=y._authService.userInfo()}),this.ngUnsubscribe=s.proadCastSubsidiaryID.subscribe(function(e){0==y.subsidiaryID&&(y.subsidiaryID=y._generalService.SubsidiaryID,y.SetInitialMethods()),y.subsidiaryID!=y._generalService.SubsidiaryID&&y.subsidiaryID>0&&(y.subsidiaryID=y._generalService.SubsidiaryID,y._router.navigate(["/page/inventorytransiction/giftissue/0"]).then(function(){window.location.reload()}))}),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(function(e){y.lang=e.lang,y.dir=e.dir,y.translate.use(e.lang),y.ngTransUnsubscribe=y.translate.get(["Cancel","swalTitleEntryno","swalEntrynoText","swalEntrynoConfirmButton","WarningInfoLost","warning","Yes","mailmsg","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","DeleteRelationmsg","successMsg","ItemsZeroErrorMsg","MultiPayErrorMsg","ItemsEqualZeroMsg","ReceiptNotFound","CustomerPricelistMsg","Receiptnoitems","NoUnits","ItemWarrantyValidMsg","FinancialPeriodMsg","Close","DeliverDateMsg","qtyErrorSaveMsg","qtyErrorMsg","qtyZeroErrorSaveMsg","CloseFinancialPeriodMsg","StopInventoryErrorMsg","SaveMsg","Gift Issue","NOComponents","CostPostingPeriodMessage","No","swalNewActionTitle","swalNewActionText","CustomerPricelistMsg","RelatedwithSerialsOrBatches","QtyIsValidWithAvailableQty","InValidQty","InValidNumberOfBatch","InValidQtyForBatch","cantNotDuplicateItem"]).subscribe(function(e){document.title=e["Gift Issue"],y.Cancel=e.Cancel,y.swalTitleEntry=e.swalTitleEntryno,y.swalTextEntry=e.swalEntrynoText,y.swalConfirmButtonEntry=e.swalEntrynoConfirmButton,y.WarningInfoLost=e.WarningInfoLost,y.warning=e.warning,y.Yes=e.Yes,y.mailmsg=e.mailmsg,y.swalDeleteTitle=e.swalDeleteTitle,y.swalDetlateText=e.swalDetlateText,y.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,y.DeleteRelationmsg=e.DeleteRelationmsg,y.toastrSuccessDelete=e.successMsg,y.ItemsZeroErrorMsg=e.ItemsZeroErrorMsg,y.ItemsEqualZeroMsg=e.ItemsEqualZeroMsg,y.ReceiptNotFound=e.ReceiptNotFound,y.Receiptnoitems=e.Receiptnoitems,y.CustomerPricelistMsg=e.CustomerPricelistMsg,y.NoUnits=e.NoUnits,y.FinancialPeriodMsg=e.FinancialPeriodMsg,y.StopInventoryErrorMsg=e.StopInventoryErrorMsg,y.FinancialPeriodCloseMsg=e.CloseFinancialPeriodMsg,y.Close=e.Close,y.NOComponents=e.NOComponents,y.qtyErrorMsg=e.qtyErrorMsg,y.qtyErrorSaveMsg=e.qtyErrorSaveMsg,y.qtyZeroErrorSaveMsg=e.qtyZeroErrorSaveMsg,y.SaveMsg=e.SaveMsg,y.No=e.No,y.swalNewActionTitle=e.swalNewActionTitle,y.swalNewActionText=e.swalNewActionText,y.CostPostingPeriodMessage=e.CostPostingPeriodMessage,y.RelatedwithSerialsOrBatches=e.RelatedwithSerialsOrBatches,y.QtyIsValidWithAvailableQty=e.QtyIsValidWithAvailableQty,y.InValidQty=e.InValidQty,y.InValidNumberOfBatch=e.InValidNumberOfBatch,y.InValidQtyForBatch=e.InValidQtyForBatch,y.cantNotDuplicateItem=e.cantNotDuplicateItem})})}return o(e,[{key:"ngOnInit",value:function(){}},{key:"SetInitialMethods",value:function(){this._Receipt=new S.tY,this.GetCurrentUserSetting(),this.GetBranchList(),this.DriverUsersByCarID(),this.CarByDriverID(),this.GetCashCustomerSettings(),this.GetSubsaidarySetting(),this.GetCurrencyList(),this.GetReceipt_AfterReceiptCode_InventroySettings()}},{key:"GetReceipt_AfterReceiptCode_InventroySettings",value:function(){var e=this,t=this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID),i=this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID);(0,Ie.D)([t,i]).subscribe(function(t){var i=n(t,2),r=i[0],a=i[1];e.ReceiptCodeList=r,e.InventorySetting=a;var o=e.ReceiptCodeList.find(function(t){return t.code==e.BasicCodeReceipt});e.Transaction_move=o.items,e.GetReceipt(),e.cd.markForCheck()})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"checkRolesParms",value:function(e){var t=!0;return this._authService.isHasRole(e)||(t=!1),t}},{key:"GetReceipt",value:function(){var e=this;if(this._Receipt.subsidiaryid=this.subsidiaryID,0==this.ReceiptID){this._Receipt.customersalesprice=5,this._Receipt.code=this.BasicCodeReceipt,this._Receipt.entry_date=this.datepipe.transform(new Date,"yyyy-MM-dd"),console.log(this._Receipt.entry_date),this.CheckValidDateBySubsidaryID(),this._Receipt.entry_time=this.SetTimeNow();var n=JSON.parse(localStorage.getItem("Branch"));null!=n&&null!=n&&(this._Receipt.branch_id="null"==n.branchId||0==n.branchId?null:n.branchId,null!=this._Receipt.branch_id&&(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch())),setTimeout(function(){e._ReceiptOriginal=JSON.parse(JSON.stringify(e._Receipt)),console.log(e._Receipt)},1e3)}else this._ReceiptSharedService.GetReceiptAndDetailsByID(this.ReceiptID).subscribe(function(n){if(console.log("fhdof",n.receipt),null!=n.receipt){if(e.VouchersLinkedCount=n.voucherslinkedcount.voucherslinkedcount,e._Receipt.id=n.receipt.id,e._Receipt.subsidiaryid=n.receipt.subsidiaryid,e._Receipt.code=n.receipt.code,e._Receipt.entry_no=n.receipt.entry_no,e._Receipt.branch_id=n.receipt.branch_id,e.BranchApplyTax=n.receipt.applytax,e._Receipt.transaction_code=n.receipt.transaction_code,e._Receipt.customersalesprice=n.receipt.customersalesprice,e._Receipt.qtotal=n.items.qty,e._Receipt.totalitem=n.items.length,e._Receipt.entry_date=e.datepipe.transform(n.receipt.entry_date,"yyyy-MM-dd"),e._Receipt.entry_time=n.receipt.entry_time,e._Receipt.reservedflag=n.receipt.reservedflag,e._Receipt.payment_type=n.receipt.payment_type,e._Receipt.vendor_id=n.receipt.vendor_id,e._Receipt.cashcustomerid=n.receipt.cashcustomerid,null!=e._Receipt.vendor_id&&(e._Receipt.cashcustomer_vendor_code={code:n.receipt.vendorcode},e._Receipt.cashcustomer_vendor_name="ar"==e.lang?n.receipt.vendornamear:n.receipt.vendorname,e.PriceListItemsOnly=n.receipt.pricelistitemsonly),null!=e._Receipt.cashcustomerid&&(e._Receipt.cashcustomer_vendor_code={phonenumber:n.receipt.phonenumber},e._Receipt.cashcustomer_vendor_name="ar"==e.lang?n.receipt.cashcustomername_ar:n.receipt.cashcustomername,e.PriceListItemsOnly=!1),e._Receipt.currency_id=n.receipt.currency_id,e._Receipt.currency_rate=n.receipt.currency_rate,e._Receipt.customerdeliverdate=e.datepipe.transform(n.receipt.customerdeliverdate,"yyyy-MM-dd"),e._Receipt.customerdeliverdate_time=n.receipt.customerdeliverdate_time,e._Receipt.ordertype=n.receipt.ordertype,e._Receipt.empoyee_id=n.receipt.empoyee_id,e._Receipt.memo=n.receipt.memo,e._Receipt.reference_no=n.receipt.reference_no,e._Receipt.salestypeid=n.receipt.salestypeid,e._Receipt.commisionaccountid=n.receipt.commisionaccountid,e._Receipt.commisionaccountfieldname="ar"==e.lang?{commisionaccountfieldname:n.receipt.commisionaccount_sug_ar}:{commisionaccountfieldname:n.receipt.commisionaccount_sug},e._Receipt.commissiontype=n.receipt.commissiontype,e._Receipt.commission=n.receipt.commission,e._Receipt.commissionnet=n.receipt.commissionnet,e._Receipt.commisionaccountid1=n.receipt.commisionaccountid1,e._Receipt.commisionaccountfieldname1="ar"==e.lang?{commisionaccountfieldname1:n.receipt.commisionaccount1_sug_ar}:{commisionaccountfieldname1:n.receipt.commisionaccount1_sug},e._Receipt.commissiontype1=n.receipt.commissiontype1,e._Receipt.commission1=n.receipt.commission1,e._Receipt.commissionnet1=n.receipt.commissionnet1,e._Receipt.costcenterid=n.receipt.costcenterid,e._Receipt.costcenterfieldname=null!=e._Receipt.costcenterid?"ar"==e.lang?{costcenterfieldname:n.receipt.costcenter_sug_ar}:{costcenterfieldname:n.receipt.costcenter_sug}:null,e._Receipt.classid=n.receipt.classid,e._Receipt.classfieldname=null!=e._Receipt.classid?"ar"==e.lang?{classfieldname:n.receipt.classes_sug_ar}:{classfieldname:n.receipt.classes_sug}:null,e._Receipt.locationid=n.receipt.locationid,e._Receipt.locationfieldname=null!=e._Receipt.locationid?"ar"==e.lang?{locationfieldname:n.receipt.location_sug_ar}:{locationfieldname:n.receipt.location_sug}:null,e._Receipt.departmentid=n.receipt.departmentid,e._Receipt.departmentfieldname=null!=e._Receipt.departmentid?"ar"==e.lang?{departmentfieldname:n.receipt.department_sug_ar}:{departmentfieldname:n.receipt.department_sug}:null,e._Receipt.divisionid=n.receipt.divisionid,e._Receipt.divisionfieldname="ar"==e.lang?{divisionfieldname:n.receipt.division_sug_ar}:{divisionfieldname:n.receipt.division_sug},e._Receipt.carid=n.receipt.carid,e._Receipt.driverid=n.receipt.driverid,e._Receipt.valueforeign=n.receipt.valueforeign,e._Receipt.value=n.receipt.value,e._Receipt.discount_foreignpercent=n.receipt.discount_foreignpercent,e._Receipt.discount_percent=n.receipt.discount_percent,e._Receipt.discount_foreignvalue=n.receipt.discount_foreignvalue,e._Receipt.discount_value=n.receipt.discount_value,e._Receipt.deliveryfeesforeign=n.receipt.deliveryfeesforeign,e._Receipt.deliveryfees=n.receipt.deliveryfees,e._Receipt.surchargevalueforeign=n.receipt.surchargevalueforeign,e._Receipt.surchargevalue=n.receipt.surchargevalue,e._Receipt.surchargepercent=n.receipt.surchargepercent,e._Receipt.netvalueforeign=n.receipt.netvalueforeign,e._Receipt.netvalue=n.receipt.netvalue,e._Receipt.signature=n.receipt.signature,e._Receipt.related_voucher_type=n.receipt.related_voucher_type,e._Receipt.related_voucher_code=n.receipt.related_voucher_code,e._Receipt.status_id=n.receipt.status_id,e._Receipt.approvalstatus_id=n.receipt.approvalstatus_id,e._Receipt.costing_rate=n.receipt.costing_rate,e._Receipt.approvedby_id=n.receipt.approvedby_id,e._Receipt.shipmentterm_id=n.receipt.shipmentterm_id,e._Receipt.paymentterm_id=n.receipt.paymentterm_id,e._Receipt.supplieraccount_id=n.receipt.supplieraccount_id,e._Receipt.planneddeliverydate=n.receipt.planneddeliverydate,e._Receipt.actualdeliverydate=n.receipt.actualdeliverydate,e._Receipt.deliverylocation=n.receipt.deliverylocation,e._Receipt.contactedperson=n.receipt.contactedperson,e._Receipt.othernotes=n.receipt.othernotes,e._Receipt.cashdrawerid=n.receipt.cashdrawerid,e._Receipt.leadid=n.receipt.leadid,e._Receipt.deliverynotes=n.receipt.deliverynotes,e._Receipt.cashcustomerdetailid=n.receipt.cashcustomerdetailid,e._Receipt.is_canceled=n.receipt.is_canceled,e._Receipt.fromstoreid=n.receipt.fromstoreid,e._Receipt.tostoreid=n.receipt.tostoreid,e._Receipt.isdeliveryprint=n.receipt.isdeliveryprint,e._Receipt.printcount=n.receipt.printcount,e._Receipt.iskitchendone=n.receipt.iskitchendone,e._Receipt.paidamount=n.receipt.paidamount,e._Receipt.isholded=n.receipt.isholded,e._Receipt.branchtableid=n.receipt.branchtableid,e._Receipt.customeractualdeliverdate=n.receipt.customeractualdeliverdate,e._Receipt.deliverystatusid=n.receipt.deliverystatusid,e._Receipt.deposite=n.receipt.deposite,e._Receipt.paymentandconditions=n.receipt.paymentandconditions,e._Receipt.notes=n.receipt.notes,e._Receipt.chefid=n.receipt.chefid,e._Receipt.changeamount=n.receipt.changeamount,e._Receipt.divisionid=n.receipt.divisionid,e._Receipt.divisionfieldname="ar"==e.lang?{divisionfieldname:n.receipt.division_sug_ar}:{divisionfieldname:n.receipt.division_sug},e._Receipt.courierid=n.receipt.courierid,e._Receipt.depositepaymenttypeid=n.receipt.depositepaymenttypeid,e._Receipt.creationdate=n.receipt.creationdate,e._Receipt.lastupdatedate=n.receipt.lastupdatedate,e._Receipt.createdbyid=n.receipt.createdbyid,e._Receipt.updatedbyid=n.receipt.updatedbyid,e._Receipt.receiptattributeid=n.receipt.receiptattributeid,e._Receipt.costposted=n.receipt.costposted,e._Receipt.lcaccountid=n.receipt.lcaccountid,e._Receipt.lcno=n.receipt.lcno,e._Receipt.lcbank=n.receipt.lcbank,e._Receipt.lcstartdate=n.receipt.lcstartdate,e._Receipt.lcenddate=n.receipt.lcenddate,e._Receipt.lcrenewdate=n.receipt.lcrenewdate,e._Receipt.lcrenewenddate=n.receipt.lcrenewenddate,e._Receipt.lcinsurancecompany=n.receipt.lcinsurancecompany,e._Receipt.lcpolicyno=n.receipt.lcpolicyno,e._Receipt.insurancedate=n.receipt.insurancedate,e._Receipt.gooddeliverydate=n.receipt.gooddeliverydate,e._Receipt.lccondition=n.receipt.lccondition,e._Receipt.shippingmethod=n.receipt.shippingmethod,e._Receipt.exportport=n.receipt.exportport,e._Receipt.shipname=n.receipt.shipname,e._Receipt.lcnotes=n.receipt.lcnotes,e._Receipt.quotationcustomername=n.receipt.quotationcustomername,e._Receipt.duedate=n.receipt.duedate,e._Receipt.schedule_date=n.receipt.schedule_date,e._Receipt.storetype=n.receipt.storetype,e._Receipt.quotationenddate=n.receipt.quotationenddate,e._Receipt.wostatusid=n.receipt.wostatusid,e._Receipt.parentreceiptid=n.receipt.parentreceiptid,e._Receipt.isapproved=n.receipt.isapproved,e._Receipt.replenshimenttype=n.receipt.replenshimenttype,e._Receipt.reference=n.receipt.reference,e._Receipt.replenshimentfromdate=n.receipt.replenshimentfromdate,e._Receipt.replenshimenttodate=n.receipt.replenshimenttodate,e._Receipt.cancelreasonid=n.receipt.cancelreasonid,e._Receipt.contractstartdate=n.receipt.contractstartdate,e._Receipt.contractenddate=n.receipt.contractenddate,e._Receipt.previouscontractid=n.receipt.previouscontractid,e._Receipt.erpstatus=n.receipt.erpstatus,e._Receipt.loyalitybalance=n.receipt.loyalitybalance,e._Receipt.cpno=n.receipt.cpno,e._Receipt.accounttype=n.receipt.accounttype,e._Receipt.printing=n.receipt.printing,e._Receipt.storedelivery=n.receipt.storedelivery,e._Receipt.customerrecieve=n.receipt.customerrecieve,e._Receipt.promotionid=n.receipt.promotionid,e._Receipt.promotionpercent=n.receipt.promotionpercent,e._Receipt.promotionvalue=n.receipt.promotionvalue,e._Receipt.purchaserequeststatusid=n.receipt.purchaserequeststatusid,e._Receipt.urgent=n.receipt.urgent,e._Receipt.quotationstatusid=n.receipt.quotationstatusid,e._Receipt.salesorderstatusid=n.receipt.salesorderstatusid,e._Receipt.purchaseorderstatusid=n.receipt.purchaseorderstatusid,e._Receipt.expensesdistributionvoucherno=n.receipt.expensesdistributionvoucherno,e._Receipt.totalproductioncost=n.receipt.totalproductioncost,e._Receipt.totalvouchercost=n.receipt.totalvouchercost,e._Receipt.totalproductioncostforeign=n.receipt.totalproductioncostforeign,e._Receipt.totalvouchercostforeign=n.receipt.totalvouchercostforeign,e._Receipt.taxvalue=n.receipt.taxvalue,e._Receipt.sourceid=n.receipt.sourceid,e._Receipt.contractid=n.receipt.contractid,e._Receipt.type_id=n.receipt.type_id,e._Receipt.productionlineid=n.receipt.productionlineid,e._Receipt.linescheduleddate=n.receipt.linescheduleddate,e._Receipt.inchargepersonname=n.receipt.inchargepersonname,e._Receipt.inchargephoneno=n.receipt.inchargephoneno,e._Receipt.details=n.items,e._Receipt.details.forEach(function(e){e.storecode={code:e.storecode},e.itemcode={code:e.itemcode},e.allowqtyselectforitem=!0,e.rowno=0,e.parentrowno=0}),e._Receipt.itemscomponent=n.itemcomponents,e._Receipt.itemscomponent.forEach(function(e){e.allowqtyselectforitem=!0,e.rowno=0,e.parentrowno=0}),e.ItemUnitsList=n.itemunits,e.ItemComponentUnitsList=n.componentsunits,e._Receipt.linkedreceipts=n.linkedreceipts,e._Receipt.receiptmultipayment=n.receiptmultipayment,e.ItemsComponentList=JSON.parse(JSON.stringify(e._Receipt.itemscomponent)),e._Receipt.details.map(function(e){e.batcheslist=new Array;var i=n.batches.filter(function(t){return t.inv_receipt_d_id==e.id});e.batcheslist=t(i)}),null==e._Receipt.qtotal||null==e._Receipt.totalitem){var i=0;e._Receipt.details.forEach(function(e){i+=e.qty}),e._Receipt.qtotal=i,e._Receipt.totalitem=n.items.length}e._ReceiptOriginal=JSON.parse(JSON.stringify(e._Receipt)),console.log(e._ReceiptOriginal),console.log(e._Receipt),e.entry_no=e._Receipt.entry_no,e.originalSalesPrice=e._Receipt.customersalesprice,e._CurrencySelected=e.CurrencyList.find(function(t){return t.id==e._Receipt.currency_id}),e.ForeignCurrencyShow=1!=e._CurrencySelected.basecurrency,1==!e.ShowModeReceipt&&e.CheckValidDateBySubsidaryID(),e.OnSelectedItem(e._Receipt.details[0],0,"selected",!0),e.cd.markForCheck()}})}},{key:"CheckPre_SaveReceipt",value:function(e){var t=this;if(e.form.valid)if(0!=this.ValidPeriod){if(1==this._Receipt.details.length&&null==this._Receipt.details[0].item_id)return this.toastr.error(this.ItemsZeroErrorMsg),this._Receipt.details.splice(0,1),void this.AddItems();for(var n=function(e){if(null==t._Receipt.details[e].item_id)t._Receipt.details.splice(e,1),e--;else{if(!(t._Receipt.details[e].qty>0))return i=e,{v:void t.toastr.error(t.qtyZeroErrorSaveMsg)};0!=t._Receipt.value?(t._Receipt.details[e].h_discount_value=t._Receipt.discount_percent/100*t._Receipt.details[e].total/t._Receipt.details[e].qty%(1/0)||0,t._Receipt.details[e].h_discount_percentage=100*(t._Receipt.details[e].h_discount_value/(t._Receipt.details[e].total/t._Receipt.details[e].qty)%(1/0)||0)):(t._Receipt.details[e].h_discount_value=0,t._Receipt.details[e].h_discount_percentage=0);var n=t.ItemUnitsList.find(function(n){return n.item_id==t._Receipt.details[e].item_id&&n.id==t._Receipt.details[e].unit_id});t._Receipt.details[e].final_conv=null!=n?(null!=n.finalconv?n.finalconv:1)*(t._Receipt.details[e].conv/n.conv):t._Receipt.details[e].conv,t._Receipt.details[e].final_conv=0==t._Receipt.details[e].final_conv?1:t._Receipt.details[e].final_conv}i=e},i=0;i<this._Receipt.details.length;i++){var r=n(i);if("object"==typeof r)return r.v}if(0==this._Receipt.details.length)return this.toastr.error(this.ItemsZeroErrorMsg),void this.AddItems();for(var a=function(e){if(t._Receipt.itemscomponent[e].qty>0){0!=t._Receipt.value?(t._Receipt.itemscomponent[e].h_discount_value=t._Receipt.discount_percent/100*t._Receipt.itemscomponent[e].total/t._Receipt.itemscomponent[e].qty%(1/0)||0,t._Receipt.itemscomponent[e].h_discount_percentage=100*(t._Receipt.itemscomponent[e].h_discount_value/(t._Receipt.itemscomponent[e].total/t._Receipt.itemscomponent[e].qty)%(1/0)||0)):(t._Receipt.itemscomponent[e].h_discount_value=0,t._Receipt.itemscomponent[e].h_discount_percentage=0);var n=t.ItemComponentUnitsList.find(function(n){return n.item_id==t._Receipt.itemscomponent[e].item_id&&n.id==t._Receipt.itemscomponent[e].unit_id});t._Receipt.itemscomponent[e].final_conv=null!=n?(null!=n.finalconv?n.finalconv:1)*(t._Receipt.itemscomponent[e].conv/n.conv):t._Receipt.itemscomponent[e].conv,t._Receipt.itemscomponent[e].final_conv=0==t._Receipt.itemscomponent[e].final_conv?1:t._Receipt.itemscomponent[e].final_conv}},o=0;o<this._Receipt.itemscomponent.length;o++)a(o);this.CheckBalanceForItemInStore(0,!0,!0)}else this.ShowPopUpFinancialPeriod();else this.activeNav="INVALID"==e.form.controls.CostCenter.status||"INVALID"==e.form.controls.Department.status||"INVALID"==e.form.controls.Classes.status||"INVALID"==e.form.controls.Location.status||"INVALID"==e.form.controls.Division.status?5:1}},{key:"SaveReceipt",value:function(){var e=this;if(this._Receipt.lang=this.lang,"ar"!=this._Receipt.lang&&(this._Receipt.lang="en-US"),this._Receipt.details.filter(function(e){return 0==e.allowqtyselectforitem}).length>0)return this.toastr.error(this.qtyErrorSaveMsg),this.DuringSaveDisable=!1,void this.cd.markForCheck();if(1==this.CashCustomerSetting.salesreturneffect){var t=[];if(this._Receipt.details.forEach(function(e){3==e.isrequireserial&&(e.allowqtyselectforitem=!0,0==e.batcheslist.length?(e.allowqtyselectforitem=!1,t.push(!1)):0==e.validrow&&(e.allowqtyselectforitem=!1,t.push(!0)))}),t.length>0)return t.includes(!1)&&(this.toastr.error(this.InValidNumberOfBatch),this.cd.markForCheck()),t.includes(!0)&&(this.toastr.error(this.QtyIsValidWithAvailableQty),this.cd.markForCheck()),void(this.DuringSaveDisable=!1);if(t=[],this._Receipt.details.forEach(function(n){if(3==n.isrequireserial)if(n.allowqtyselectforitem=!0,0==n.batcheslist.length)n.allowqtyselectforitem=!1,t.push(!1);else{var i=0;n.batcheslist.forEach(function(e){var t;i+=null!==(t=+e.qty)&&void 0!==t?t:0});var r=e.ItemUnitsList.filter(function(e){return e.item_id==n.item_id&&e.id==n.unit_id});i!=n.qty*(n.conv*r[0].finalconv/r[0].conv)&&(n.allowqtyselectforitem=!1,t.push(!1))}}),t.length>0)return t.includes(!1)&&(this.toastr.error(this.InValidNumberOfBatch),this.cd.markForCheck()),void(this.DuringSaveDisable=!1)}console.log("con..."),this.DuringSaveDisable=!0;for(var n=0;n<this._Receipt.linkedreceipts.length;n++)0==this._Receipt.linkedreceipts[n].fire&&(this._Receipt.linkedreceipts.splice(n,1),n--);null==this._Receipt.id||0==this._Receipt.id?(this._Receipt.totalitem=this._Receipt.details.length,this._ReceiptSharedService.ReceiptCreate(this._Receipt).subscribe(function(t){e.DuringSaveDisable=!1,e.toastr.success(e.SaveMsg),e.ReceiptID=t.id,e._router.navigate(["/page/inventorytransiction/giftissue/"+e.ReceiptID]).then(function(){window.location.reload()})})):(this._Receipt_h_Edit=new S.Iu,this._Receipt_h_Edit.Receipt_h=this._Receipt,this._Receipt_h_Edit.ReceiptOriginal=this._ReceiptOriginal,this._ReceiptSharedService.ReceiptUpdate(this._Receipt_h_Edit).subscribe(function(t){e.DuringSaveDisable=!1,e.toastr.success(e.SaveMsg),e._router.navigate(["/page/inventorytransiction/giftissue/"+e.ReceiptID]).then(function(){window.location.reload()})}))}},{key:"ChangePropFinish",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.DuringSaveDisable=!0,this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.timeout=null,"EntryCode"==t?e.CheckEntryCode():"EntryDate"==t&&e.ChangeEntryDate()},1e3*n)}},{key:"CheckEntryCode",value:function(){var e=this;this._ReceiptSharedService.CheckEntryNo(this._Receipt.id,this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.entry_no,this._Receipt.branch_id).subscribe(function(t){e.DuringSaveDisable=!1,e.cd.markForCheck(),null!=t&&Me().fire({title:e.swalTitleEntry,text:e.swalTextEntry,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:e.swalConfirmButtonEntry,cancelButtonText:e.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.value?e._router.navigate(["/page/inventorytransiction/giftissue/"+t.id]).then(function(){}):(e._Receipt.entry_no=e.entry_no,e.cd.markForCheck())})})}},{key:"GetReceiptEntryCode",value:function(){var e=this;this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(function(t){e._Receipt.entry_no=0==t.length?1:t[0].entry_no+1,e.entry_no=e._Receipt.entry_no,e.cd.markForCheck()})}},{key:"GetBranchList",value:function(){var e=this;this._ReceiptSharedService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(function(t){e.BranchList=t,e.cd.markForCheck()})}},{key:"changeBranch",value:function(e){var t=this;if(this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id||null!=this._Receipt.vendor_id)Me().fire({title:this.warning,text:this.WarningInfoLost,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){if(n.value){t._Receipt.details=new Array,t._Receipt.itemscomponent=new Array,t._Receipt.linkedreceipts=new Array,t.ItemUnitsList=[],t.ItemComponentUnitsList=[],t._Receipt.branch_id="null"==e.target.value?null:e.target.value;var i=JSON.parse(localStorage.getItem("Branch"));null!=i&&null!=i&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:t._Receipt.branch_id})),null!=t._Receipt.branch_id?(t.GetReceiptEntryCode(),t.GetDefaultStoreCostCenterByBranch(!0)):t._Receipt.entry_no=null}else{var r=JSON.parse(localStorage.getItem("Branch"));null!=r&&null!=r&&(t._Receipt.branch_id="null"==r.branchId||0==r.branchId?null:r.branchId)}});else{this._Receipt.branch_id="null"==e.target.value?null:e.target.value;var n=JSON.parse(localStorage.getItem("Branch"));null!=n&&null!=n&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._Receipt.branch_id})),null!=this._Receipt.branch_id?(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch()):this._Receipt.entry_no=null}}},{key:"GetDefaultStoreCostCenterByBranch",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];1==i&&(this._Receipt.vendor_id=null,this._Receipt.cashcustomerid=null,this._Receipt.cashcustomer_vendor_code=null,this._Receipt.cashcustomer_vendor_name=null,this._Receipt.costcenterid=null,this._Receipt.costcenterfieldname=null),1==n&&this.Calculate_Total_Tax_Net(),this._ReceiptSharedService.DefaultStoreCostCenterByBranch(this._Receipt.branch_id).subscribe(function(n){if(n.length>0?(e.StoreCostCenterSetting=n[0],e.BranchApplyTax=n[0].applytax):e.StoreCostCenterSetting={storeid:null,storecode:null,costcenterid:null,costcentername:null,costcentername_ar:null},null!=e.StoreCostCenterSetting.storeid){if(0==e._Receipt.details.length){e._CashSalesDetailsReceipt=new S.hm,e._CashSalesDetailsReceipt.transaction_move=e.Transaction_move;var r=Math.max.apply(Math,t(e._Receipt.details.map(function(e){return e.rowno})).concat([0]));e._CashSalesDetailsReceipt.rowno=r+1,e._Receipt.details.push(e._CashSalesDetailsReceipt),e._Receipt.details[0].store_id=e.StoreCostCenterSetting.storeid,e._Receipt.details[0].storecode={code:e.StoreCostCenterSetting.storecode}}1==i&&e._Receipt.details.length>0&&(e._Receipt.details.forEach(function(t){t.store_id=e.StoreCostCenterSetting.storeid,t.storecode={code:e.StoreCostCenterSetting.storecode}}),e._Receipt.itemscomponent.forEach(function(t){t.store_id=e.StoreCostCenterSetting.storeid,t.storecode={code:e.StoreCostCenterSetting.storecode}}),e.CheckBalanceForItemInStore(0,!0))}null!=e.StoreCostCenterSetting.costcenterid&&(e._Receipt.costcenterid=e.StoreCostCenterSetting.costcenterid,e._Receipt.costcenterfieldname={costcenterfieldname:"ar"==e.lang?e.StoreCostCenterSetting.costcentername_ar:e.StoreCostCenterSetting.costcentername}),e.cd.markForCheck()})}},{key:"GetCurrentUserSetting",value:function(){var e=this;this._ReceiptSharedService.GetCurrentUserSetting().subscribe(function(t){e.CurrentUserSetting=t})}},{key:"GetCashCustomerSettings",value:function(){var e=this;this._ReceiptSharedService.GetCashCustomerSettings(this.subsidiaryID).subscribe(function(t){null!=t||null!=t?(e.CashCustomerSetting=t,e.CashCustomerSetting.allowdecimalpack=1==e.CashCustomerSetting.allowdecimalpack?".01":"1"):e.CashCustomerSetting={allowdecimalpack:"1",enablecashcustomer:!1,salesreturneffect:1,allowpack:!1,dispensingpolicy:1},e.cd.markForCheck()})}},{key:"GetAllInventroySettingsBySubSidary",value:function(){var e=this;this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID).subscribe(function(t){e.InventorySetting=t,e.cd.markForCheck()})}},{key:"GetSubsaidarySetting",value:function(){var e=this;this._ReceiptSharedService.GetSubsaidarySetting(this.subsidiaryID).subscribe(function(t){null!=t&&(e.subsaidarySetting=t[0],e.cd.markForCheck())})}},{key:"GetCurrencyList",value:function(){var e=this;this._VoucherService.GetSubsidaryCurrencyList(this.subsidiaryID).subscribe(function(t){var n;t.length>0&&(e.CurrencyList=t,e._BaseCurrency=e.CurrencyList.find(function(e){return 1==e.basecurrency}),e._CurrencySelected=e._BaseCurrency,e._Currencyprecision=null!==(n=e._BaseCurrency.currencyprecision)&&void 0!==n?n:3,e._Receipt.currency_id=e._CurrencySelected.id,e._Receipt.currency_rate=Number(1..toFixed(9)),e.cd.markForCheck())})}},{key:"changeCurrency",value:function(e){var t,n=this;(console.log(e.target.value),this._CurrencySelected=this.CurrencyList.find(function(t){return t.id==e.target.value}),null!=this._CurrencySelected)?(t=""!=this._Receipt.entry_time&&null!=this._Receipt.entry_time&&null!=this._Receipt.entry_time?this._Receipt.entry_date+" "+this._Receipt.entry_time:this._Receipt.entry_date+" 23:59",this._VoucherService.GetSubsidaryCurrenciesRate(this.subsidiaryID,this._CurrencySelected.id,t,0).subscribe(function(e){n._Receipt.currency_rate=e&&e.length>0?e[0].rate.toFixed(9):Number(1..toFixed(9)),n.ForeignCurrencyShow=1!=n._CurrencySelected.basecurrency,n.Calculate_Total_Tax_Net(),n.cd.markForCheck()})):(this._CurrencySelected=null,this._Currencyprecision=3,this._Receipt.currency_rate=null,this.cd.markForCheck())}},{key:"ChangeEntryDate",value:function(){if(null!=this._Receipt.entry_date&&""!=this._Receipt.entry_date&&null!=this._Receipt.entry_date){this.CheckValidDateBySubsidaryID();for(var e=0;e<this._Receipt.details.length;e++)1==this._Receipt.details[e].haswarrenty&&null!=this._Receipt.details[e].warrantydate&&null!=this._Receipt.details[e].warrantydate&&Date.parse(this._Receipt.details[e].warrantydate.toString())<Date.parse(this._Receipt.entry_date.toString())&&(this._Receipt.details[e].warrantydate=null)}}},{key:"CheckValidDateBySubsidaryID",value:function(){var e=this;this._ReceiptSharedService.ValidDateBySubsidaryID(this._Receipt.entry_date,this.subsidiaryID).subscribe(function(t){if(e.DuringSaveDisable=!1,e.cd.markForCheck(),null!=t||null!=t){if(null!=t||null!=t){var n=Date.parse(t.subsidarystart.toString()),i=Date.parse(e._Receipt.entry_date.toString());0==t.openperiod?(e.ValidPeriod=!1,e.ShowModeReceipt=!0,e.ShowPopUpFinancialPeriod("close")):1==t.openperiod&&n<i?(e.ValidPeriod=!0,e.ShowModeReceipt=!1,e.GetMaxCostPostedSerDate()):(e.ValidPeriod=!1,e.ShowModeReceipt=!0,e.ShowPopUpFinancialPeriod())}}else e.ValidPeriod=!1,e.ShowModeReceipt=!0,e.ShowPopUpFinancialPeriod()})}},{key:"ShowPopUpFinancialPeriod",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="close"==e?this.FinancialPeriodCloseMsg:this.FinancialPeriodMsg;Me().fire({title:this.warning,text:t,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(function(e){})}},{key:"ShowPopUpCostPostedSerDate",value:function(){Me().fire({title:this.warning,text:this.CostPostingPeriodMessage,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(function(e){})}},{key:"onFocusInCustomerAccounts",value:function(e){this.GetCustomerAccountsList("")}},{key:"CustomerAccountsChangeSearch",value:function(e){this.GetCustomerAccountsList(e.query.trim())}},{key:"CustomerAccountsSelectEvent",value:function(e){this._Receipt.vendor_id=e.accountid,this._Receipt.cashcustomer_vendor_name="ar"!=this.lang?e.name:e.name_ar,this._Receipt.vendor_balance=e.balance,this.PriceListItemsOnly=e.pricelistitemsonly,null!=e.salesmanid&&0!=e.salesmanid&&""!=e.salesmanid&&(this._Receipt.empoyee_id=e.salesmanid),null!=e.cutomerdiscount&&null!=e.cutomerdiscount&&(this._Receipt.discount_percent=e.cutomerdiscount),null!=e.internalreferencenum&&""!=e.internalreferencenum&&null!=e.cutomerdiscount&&(this._Receipt.reference_no=e.internalreferencenum),this.GetCustomerCostCenter()}},{key:"GetCustomerAccountsList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._CustomerService.CustomerAccountsList(this.subsidiaryID,t).subscribe(function(t){e.CustomerAccountsList=[],e.CustomerAccountsList=t,e.cd.markForCheck()})}},{key:"GetCustomerCostCenter",value:function(){var e=this;this._ReceiptSharedService.GetCustomerCostCenter(this.subsidiaryID,this._Receipt.vendor_id).subscribe(function(t){e.CustomerCostCenterList=[],e.CustomerCostCenterList=t,e.CustomerCostCenterList.length>0?(e._Receipt.costcenterid=e.CustomerCostCenterList[0].id,e._Receipt.costcenterfieldname="ar"==e.lang?{costcenterfieldname:e.CustomerCostCenterList[0].sugar}:{costcenterfieldname:e.CustomerCostCenterList[0].sug}):e.GetDefaultStoreCostCenterByBranch(!0,!1),e.cd.markForCheck()})}},{key:"onClearCustomer",value:function(e){this._Receipt.cashcustomer_vendor_name=null,this._Receipt.vendor_balance=null,this._Receipt.vendor_id=null}},{key:"onFocusInStore",value:function(e,t){t==this._Receipt.details.length-1&&this.AddItems(),this.GetStoreList("")}},{key:"StoreChangeSearch",value:function(e,t){this.GetStoreList(e.query.trim())}},{key:"StoreSelectEvent",value:function(e,t){this._Receipt.details[t].store_id=e.id,this._Receipt.details.forEach(function(t){t.store_id=e.id,t.storecode=e}),this._Receipt.itemscomponent.forEach(function(t){t.store_id=e.id,t.storecode=e.code}),this.CheckBalanceForItemInStore(0,!0)}},{key:"GetStoreList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetStoreList(this.subsidiaryID,t).subscribe(function(t){e.StoreList=[],e.StoreList=t,e.cd.markForCheck()})}},{key:"onClearItems",value:function(e){var n=this._Receipt.details[e];if(3==n.item_type&&this._Receipt.itemscomponent.length>0&&this._Receipt.itemscomponent.filter(function(e){return e.finishedproductid==n.item_id}).length>0)if(null!=n.id)for(var i=0;i<this._Receipt.itemscomponent.length;i++)this._Receipt.itemscomponent[i].finishedproductid==n.item_id&&this._Receipt.itemscomponent[i].finishedreceipt_did==n.id&&(this._Receipt.itemscomponent.splice(i,1),i--);else null==n.id&&(this._Receipt.itemscomponent=this._Receipt.itemscomponent.filter(function(e){return e.parentrowno!=n.rowno}));if(null!=this._Receipt.details[e].id){var r=Math.max.apply(Math,t(this._Receipt.details.map(function(e){return e.rowno})).concat([0]));this._Receipt.details[e].rowno=r+1}this._Receipt.details[e].id=null,this._Receipt.details[e].finishedproductid=null,this._Receipt.details[e].finishedreceipt_did=null,this._Receipt.details[e].item_id=null,this._Receipt.details[e].itemname=null,this._Receipt.details[e].itemname_ar=null}},{key:"onFocusInItems",value:function(e,t){this.GetItemsList("")}},{key:"ItemsChangeSearch",value:function(e,t){var n=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){n.timeout=null,n.GetItemsList(e.query.trim())},300)}},{key:"ItemsSelectEvent",value:function(e,t){null!=this._Receipt.details[t].item_id&&this.onClearItems(t),0==e.stopinventorytransactions?(t==this._Receipt.details.length-1&&(this.InventorySetting?this.InventorySetting[0].permissiontorepeatiteminvoucher&&null!=this.InventorySetting[0].permissiontorepeatiteminvoucher&&null!=this.InventorySetting[0].permissiontorepeatiteminvoucher?this.AddItems():this._Receipt.details.some(function(t){return t.item_id==e.id})?this.duplicateItemSwalPopUp(t):this.AddItems():this.AddItems()),this._Receipt.details[t].item_id=e.id,this._Receipt.details[t].itemname=e.name,this._Receipt.details[t].itemname_ar=e.name_ar,this.GetItemDataDetailsLists(e,t)):(this._Receipt.details[t]=new S.hm,0==this._Receipt.id?(this._Receipt.details[t].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[t].storecode={code:this.StoreCostCenterSetting.storecode}):(this._Receipt.details[t].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.details[t].storecode=this._ReceiptOriginal.details[0].storecode),1!=this.CashCustomerSetting.salesreturneffect||1!=this.CashCustomerSetting.dispensingpolicy||2!=this._Receipt.details[t].isrequireserial&&3!=this._Receipt.details[t].isrequireserial||this.OnSerialItems(t,this.serialModel),this.cd.markForCheck(),this.toastr.error(this.StopInventoryErrorMsg))}},{key:"duplicateItemSwalPopUp",value:function(e){var t=this;Me().fire({title:this.warning,text:this.cantNotDuplicateItem,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(function(n){t.onClearItems(e),t._Receipt.details[e].itemcode=null,t.cd.markForCheck()})}},{key:"DispensingPolicy",value:function(e){}},{key:"GetItemsList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetItemsDataList(this.subsidiaryID,t).subscribe(function(t){e.ItemsList=[],e.ItemsList=t,e.cd.markForCheck()})}},{key:"GetItemDataDetailsLists",value:function(e,t){var n=this;this._Receipt.details[t].id=null,this._Receipt.details[t].finishedproductid=null,this._Receipt.details[t].finishedreceipt_did=null,this._Receipt.details[t].conv=1,this._Receipt.details[t].final_conv=1,this._Receipt.details[t].qty=1,this._Receipt.details[t].price=0,this._Receipt.details[t].discount_percent=0,this._Receipt.details[t].discount_value=0,this._Receipt.details[t].total=0,this._Receipt.details[t].notes="",this._Receipt.details[t].unit_id=null,this._ReceiptSharedService.GetItemDataDetailsLists(this.subsidiaryID,e.id).subscribe(function(i){0==i.itemunits.length?(n._Receipt.details[t]=new S.hm,n._Receipt.details[t].isrequireserial=i.item.isrequireserial,0==n._Receipt.id?(n._Receipt.details[t].store_id=n.StoreCostCenterSetting.storeid,n._Receipt.details[t].storecode={code:n.StoreCostCenterSetting.storecode}):(n._Receipt.details[t].store_id=n._ReceiptOriginal.details[0].store_id,n._Receipt.details[t].storecode=n._ReceiptOriginal.details[0].storecode),n.toastr.error(n.NoUnits)):3==e.item_type&&0==i.itemcomponents.length?(n._Receipt.details[t]=new S.hm,n._Receipt.details[t].isrequireserial=i.item.isrequireserial,0==n._Receipt.id?(n._Receipt.details[t].store_id=n.StoreCostCenterSetting.storeid,n._Receipt.details[t].storecode={code:n.StoreCostCenterSetting.storecode}):(n._Receipt.details[t].store_id=n._ReceiptOriginal.details[0].store_id,n._Receipt.details[t].storecode=n._ReceiptOriginal.details[0].storecode),n.toastr.error(n.NOComponents)):(n._Receipt.details[t].isrequireserial=i.item.isrequireserial,n._Receipt.details[t].notes=i.item.notes,n._Receipt.details[t].item_type=i.item.item_type,n._Receipt.details[t].qty=1,n._Receipt.details[t].haswarrenty=i.item.haswarrenty,n._Receipt.details[t].warrantydate=i.item.haswarrenty?n.getwarrantydateDate():null,n.ItemUnitsList.length>0?0==n.ItemUnitsList.filter(function(t){return t.item_id==e.id}).length&&(n.ItemUnitsList=n.ItemUnitsList.concat(i.itemunits)):n.ItemUnitsList=n.ItemUnitsList.concat(i.itemunits),n._Receipt.details[t].unit_id=e.inventory_unitid,i.componentsunits.length>0&&(n.ItemComponentUnitsList=n.ItemComponentUnitsList.concat(i.componentsunits)),i.itemcomponents.length>0&&i.itemcomponents.forEach(function(e){var i=new S.hm;i.item_id=e.itemcomponentid,i.finishedproductid=e.item_id,i.itemname=e.itemname,i.itemname_ar=e.itemname_ar,i.itemcode=e.itemcode,i.unit_id=e.itemcomponentunitid,i.qty=e.itemcomponentqty,i.basicqtycomponent=e.itemcomponentqty,i.conv=e.itemcomponentconv,i.itemcode=e.itemcode,i.price=0,i.total=i.price*i.qty,i.store_id=n._Receipt.details[t].store_id,i.transaction_move=n.Transaction_move,i.item_type=e.item_type,i.storecode=null!=n._Receipt.details[t].storecode?n._Receipt.details[t].storecode.code:null,i.parentrowno=n._Receipt.details[t].rowno,n._Receipt.itemscomponent.push(i)}),n.ChangeItemUnits(e.inventory_unitid,t)),n.cd.markForCheck()})}},{key:"ChangeItemUnits",value:function(e,t){var n=this;e.toString().includes(":")&&(e=e.split(":")[1].trim());var i=this._Receipt.details[t].item_id,r=this.ItemUnitsList.filter(function(t){return t.item_id==i&&t.id==e});5==this._Receipt.customersalesprice&&null!=this._Receipt.details[t].item_id&&null!=this._Receipt.details[t].unit_id&&this._ReceiptSharedService.GetItemCostAtDateStore(this._Receipt.details[t].item_id,this._Receipt.details[t].unit_id,0,this._Receipt.entry_date+" "+this._Receipt.entry_time).subscribe(function(e){console.log(e),e.length>0?(n._Receipt.details[t].price=Number((e[0].avgcost||0).toFixed(n._Currencyprecision)),n._Receipt.details[t].conv=r[0].conv,n._Receipt.details[t].final_conv=r[0].finalconv,n.OnSelectedItem(n._Receipt.details[t],t),n.CalaculteValuesItemsRow(t)):(n._Receipt.details[t].price=Number((0).toFixed(n._Currencyprecision)),n._Receipt.details[t].conv=r[0].conv,n._Receipt.details[t].final_conv=r[0].finalconv,n.OnSelectedItem(n._Receipt.details[t],t),n.CalaculteValuesItemsRow(t)),1!=n.CashCustomerSetting.salesreturneffect||1!=n.CashCustomerSetting.dispensingpolicy||2!=n._Receipt.details[t].isrequireserial&&3!=n._Receipt.details[t].isrequireserial||n.OnSerialItems(t,n.serialModel)}),this.cd.markForCheck()}},{key:"ChangePackItem",value:function(e){var t=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.timeout=null;var n,i=0,r=t.ItemUnitsList.filter(function(n){return n.item_id==t._Receipt.details[e].item_id&&n.id==t._Receipt.details[e].unit_id});n=r[0].conv,5==t._Receipt.customersalesprice&&t._ReceiptSharedService.GetItemCostAtDateStore(t._Receipt.details[e].item_id,t._Receipt.details[e].unit_id,0,t._Receipt.entry_date+" "+t._Receipt.entry_time).subscribe(function(r){console.log(r),r.length>0?(i=Number((r[0].avgcost||0).toFixed(t._Currencyprecision)),t._Receipt.details[e].price=i*t._Receipt.details[e].conv/n,t.OnSelectedItem(t._Receipt.details[e],e),t.CalaculteValuesItemsRow(e)):(i=0,t._Receipt.details[e].price=i*t._Receipt.details[e].conv/n,t.OnSelectedItem(t._Receipt.details[e],e),t.CalaculteValuesItemsRow(e)),1!=t.CashCustomerSetting.salesreturneffect||1!=t.CashCustomerSetting.dispensingpolicy||2!=t._Receipt.details[e].isrequireserial&&3!=t._Receipt.details[e].isrequireserial||t.OnSerialItems(e,t.serialModel)}),t.cd.markForCheck()},1e3)}},{key:"ChangeQty",value:function(e){var t=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){if(t.timeout=null,3==t._Receipt.details[e].item_type)if(t.ItemsComponentList=new Array,null!=t._Receipt.details[e].id)!function(){for(var n=t._Receipt.details[e],i=function(e){if(t._Receipt.itemscomponent[e].finishedproductid==n.item_id&&t._Receipt.itemscomponent[e].finishedreceipt_did==n.id){var i=t._ReceiptOriginal.details.find(function(e){return e.id==n.id}).qty,r=t._ReceiptOriginal.itemscomponent.find(function(i){return i.finishedreceipt_did==n.id&&i.id==t._Receipt.itemscomponent[e].id}).qty;t._Receipt.itemscomponent[e].basicqtycomponent=r/i,t._Receipt.itemscomponent[e].qty=t._Receipt.itemscomponent[e].basicqtycomponent*n.qty,t.ItemsComponentList.push(t._Receipt.itemscomponent[e])}},r=0;r<t._Receipt.itemscomponent.length;r++)i(r)}();else if(null==t._Receipt.details[e].id)for(var n=t._Receipt.details[e],i=0;i<t._Receipt.itemscomponent.length;i++)t._Receipt.itemscomponent[i].finishedproductid==n.item_id&&null==t._Receipt.itemscomponent[i].id&&t._Receipt.itemscomponent[i].parentrowno==n.rowno&&(t._Receipt.itemscomponent[i].qty=t._Receipt.itemscomponent[i].basicqtycomponent*n.qty,t.ItemsComponentList.push(t._Receipt.itemscomponent[i]));t.StockBalances(e),t.CheckBalanceForItemInStore(e),t.CalaculteValuesItemsRow(e),1!=t.CashCustomerSetting.salesreturneffect||1!=t.CashCustomerSetting.dispensingpolicy||2!=t._Receipt.details[e].isrequireserial&&3!=t._Receipt.details[e].isrequireserial||t.OnSerialItems(e,t.serialModel)},1e3)}},{key:"OnSelectedItem",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.show_all_component=i,0==this.show_all_component)if(this.ItemsComponentList=new Array,this.SelectedItem=e,null!=e&&3==e.item_type){var r=e;if(null!=r.id)for(var a=0;a<this._Receipt.itemscomponent.length;a++)this._Receipt.itemscomponent[a].finishedproductid==r.item_id&&this._Receipt.itemscomponent[a].finishedreceipt_did==r.id&&this.ItemsComponentList.push(this._Receipt.itemscomponent[a]);else null==r.id&&(this.ItemsComponentList=this._Receipt.itemscomponent.filter(function(e){return e.finishedproductid==r.item_id&&null==e.id&&e.parentrowno==r.rowno}))}else this.ItemsComponentList=[];else this.show_all_component=!0,this.cd.markForCheck();this.itemqtyview=!1,null!=t&&this.StockBalances(t),""==n&&null!=t&&this.CheckBalanceForItemInStore(t)}},{key:"AddItems",value:function(){if(this._CashSalesDetailsReceipt=new S.hm,this._Receipt.details.length>0){this._CashSalesDetailsReceipt.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,this._CashSalesDetailsReceipt.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode;var e=0;this._Receipt.details.forEach(function(t){e+=t.qty}),this._Receipt.qtotal=e,this._Receipt.totalitem=this._Receipt.details.length}else{0==this._Receipt.id?(this._CashSalesDetailsReceipt.store_id=this.StoreCostCenterSetting.storeid,this._CashSalesDetailsReceipt.storecode={code:this.StoreCostCenterSetting.storecode}):(this._CashSalesDetailsReceipt.store_id=this._ReceiptOriginal.details[0].store_id,this._CashSalesDetailsReceipt.storecode=this._ReceiptOriginal.details[0].storecode);var n=0;this._Receipt.details.forEach(function(e){n+=e.qty}),this._Receipt.qtotal=n,this._Receipt.totalitem=this._Receipt.details.length}this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move;var i=Math.max.apply(Math,t(this._Receipt.details.map(function(e){return e.rowno})).concat([0]));this._CashSalesDetailsReceipt.rowno=i+1,this._Receipt.details.push(this._CashSalesDetailsReceipt),this.cd.markForCheck()}},{key:"DeleteItems",value:function(e){var t=this._Receipt.details[e];if(this._Receipt.itemscomponent.length>0&&this._Receipt.itemscomponent.filter(function(e){return e.finishedproductid==t.item_id}).length>0)if(null!=t.id)for(var n=0;n<this._Receipt.itemscomponent.length;n++)this._Receipt.itemscomponent[n].finishedproductid==t.item_id&&this._Receipt.itemscomponent[n].finishedreceipt_did==t.id&&(this._Receipt.itemscomponent.splice(n,1),n--);else null==t.id&&(this._Receipt.itemscomponent=this._Receipt.itemscomponent.filter(function(e){return e.parentrowno!=t.rowno}));1==this._Receipt.details.filter(function(e){return e.item_id==t.item_id}).length&&(this.ItemUnitsList=this.ItemUnitsList.filter(function(e){return e.item_id!=t.item_id})),this._Receipt.details.splice(e,1),0==this._Receipt.details.length&&(this._Receipt.discount_percent=0,this._Receipt.discount_foreignpercent=0,this._Receipt.deliveryfees=0,this._Receipt.deliveryfeesforeign=0,this._Receipt.discount_value=0,this._Receipt.discount_foreignvalue=0,this._Receipt.value=0,this._Receipt.valueforeign=0,this._Receipt.surchargevalueforeign=0,this._Receipt.surchargevalue=0),this.Calculate_Total_Tax_Net(),this._Receipt.totalitem=this._Receipt.details.length,this.OnSelectedItem(null),this.cd.markForCheck()}},{key:"OnSerialItems",value:function(e,n){var i,r=this;if(1==this.CashCustomerSetting.salesreturneffect&&1==this.CashCustomerSetting.dispensingpolicy&&0==this.ReceiptID&&(this._Receipt.details[this.selectedindex].batcheslist=[]),this.SelectedItem=this._Receipt.details[e],this.selectedindex=e,this._Receipt.details[e].qty<=0)this.toastr.error(this.InValidQty);else{this.requiredserial=this._Receipt.details[e].isrequireserial;var a=this.ItemUnitsList.filter(function(t){return t.item_id==r._Receipt.details[e].item_id&&t.id==r._Receipt.details[e].unit_id}),o=this._Receipt.details[e].conv*a[0].finalconv/a[0].conv;this._batchqty=this._Receipt.details[e].qty*o,this._ReceiptSharedService.GetReceiptItemSerial(this._Receipt.details[e].item_id,this._Receipt.details[e].store_id,null!==(i=this._Receipt.id)&&void 0!==i?i:0,this._Receipt.entry_date+" "+this._Receipt.entry_time).subscribe(function(i){r.BatchesListForEatchRow=[];var a=[];if(i.seriallist.forEach(function(t){var n=r._Receipt.details.filter(function(t){return t.item_id==r._Receipt.details[e].item_id});null!=n&&n.length>1&&n.forEach(function(e){var n=e.batcheslist.filter(function(e){return e.batchno==t.serial&&e.previtemserialid==t.id});null!=n&&n.length>0&&(t.availableqty=(t.availableqty/o-n[0].qty).toFixed(2))})}),a=i.seriallist,console.log(i.seriallist,"d.seriallist"),r._Receipt.details[r.selectedindex].batcheslist.forEach(function(e){var t=a.findIndex(function(t){return t.id==e.previtemserialid});-1!=t&&(e.inv_receipt_d_id>0?null==r._Receipt.details[r.selectedindex].validrow||1==r._Receipt.details[r.selectedindex].validrow?(a[t].qty=e.qty,a[t].oldqty=e.qty,r._Receipt.details[r.selectedindex].validrow=!0):a[t].availableqty=a[t].availableqty+e.qty:1==r._Receipt.details[r.selectedindex].validrow&&(a[t].qty=e.qty,a[t].oldqty=e.qty,a[t].availableqty=a[t].availableqty-e.qty,r._Receipt.details[r.selectedindex].validrow=!0))}),r._Receipt.id>0)for(var c=0;c<a.length;c++)null==a[c].qty&&0==a[c].availableqty||r.BatchesListForEatchRow.push(a[c]);else r.BatchesListForEatchRow=t(a);if(1==r.CashCustomerSetting.salesreturneffect&&1==r.CashCustomerSetting.dispensingpolicy){if(r._Receipt.details[r.selectedindex].id>0&&r.ReceiptID>0){console.log(r.BatchesListForEatchRow);for(var l=0;l<r.BatchesListForEatchRow.length;l++)r.BatchesListForEatchRow[l].availableqty+=r.BatchesListForEatchRow[l].oldqty,r.BatchesListForEatchRow[l].qty=0,r.BatchesListForEatchRow[l].solidquantity=0}var s=0;if(r.BatchesListForEatchRow.forEach(function(e){s+=e.availableqty}),console.log(s,r._Receipt.details[e].qty),r._Receipt.details[e].qty>s)return void r.toastr.error(r.InValidQtyForBatch);if(r._Receipt.details[e].qty==s)r.BatchesListForEatchRow.forEach(function(e){e.qty=e.availableqty,e.oldqty=e.availableqty,e.availableqty=0}),r.saveSerialOnSalesReturnEffectDispensingPolicy();else{var d=r._Receipt.details[e].qty;r.BatchesListForEatchRow.forEach(function(e){0!=d&&(e.availableqty>=d?(e.qty=d,e.oldqty=d,e.availableqty=e.availableqty-d,d=0):(e.qty=e.availableqty,e.oldqty=e.availableqty,d-=e.availableqty,e.availableqty=0))}),r.saveSerialOnSalesReturnEffectDispensingPolicy()}}else r.OpenModal(n);1==r.CashCustomerSetting.salesreturneffect&&1==r.CashCustomerSetting.dispensingpolicy&&r.OpenModal(n)})}}},{key:"saveSerialOnSalesReturnEffectDispensingPolicy",value:function(){var e=this;if(this.BatchesListForEatchRow.some(function(e){return e.qty>e.availableqty+e.oldqty}))return this.toastr.error(this.QtyIsValidWithAvailableQty),void(this._Receipt.details[this.selectedindex].validrow=!1);var t,n=0;if(this.BatchesListForEatchRow.forEach(function(e){var t;n+=null!==(t=+e.qty)&&void 0!==t?t:0}),n!=this._batchqty)return this.toastr.error(this.InValidNumberOfBatch),void(this._Receipt.details[this.selectedindex].validrow=!1);var i=1;this.BatchesListForEatchRow.map(function(n){if(i++,n.qty>0){var r=e._Receipt.details[e.selectedindex].batcheslist.findIndex(function(e){return e.previtemserialid==n.id});-1!=r?e._Receipt.details[e.selectedindex].batcheslist[r].qty=+n.qty.toString():((t=new Ee.WB).id=0,t.qty=+n.qty,t.storeid=n.storeid,t.storename=n.name,t.storename_ar=n.name_ar,t.batchno=n.serial,t.date=n.expire_date,t.previtemserialid=n.id,t.serial=i,t.valid=!1,t.isdublicatebatch=!1,t.isused=!1,t.inv_receipt_d_id=null,t.solidquantity=null,e._Receipt.details[e.selectedindex].batcheslist.push(t)),e._Receipt.details[e.selectedindex].validrow=!0}}),console.log(this._Receipt.details,"this._Receipt.details")}},{key:"saveserial",value:function(e){var t=this;if(e.valid){if(this.BatchesListForEatchRow.some(function(e){return e.qty>e.availableqty+e.oldqty}))return this.toastr.error(this.QtyIsValidWithAvailableQty),void(this._Receipt.details[this.selectedindex].validrow=!1);var n,i=0;if(this.BatchesListForEatchRow.forEach(function(e){var t;i+=null!==(t=+e.qty)&&void 0!==t?t:0}),i!=this._batchqty)return this.toastr.error(this.InValidNumberOfBatch),void(this._Receipt.details[this.selectedindex].validrow=!1);var r=1;this.BatchesListForEatchRow.map(function(e){if(r++,e.qty>0){var i=t._Receipt.details[t.selectedindex].batcheslist.findIndex(function(t){return t.previtemserialid==e.id});-1!=i?t._Receipt.details[t.selectedindex].batcheslist[i].qty=+e.qty.toString():((n=new Ee.WB).id=0,n.qty=+e.qty,n.storeid=e.storeid,n.storename=e.name,n.storename_ar=e.name_ar,n.batchno=e.serial,n.date=e.expire_date,n.previtemserialid=e.id,n.serial=r,n.valid=!1,n.isdublicatebatch=!1,n.isused=!1,n.inv_receipt_d_id=null,n.solidquantity=null,t._Receipt.details[t.selectedindex].batcheslist.push(n)),t._Receipt.details[t.selectedindex].validrow=!0}}),this.CloseModal()}console.log(this._Receipt.details,"this._Receipt.details")}},{key:"ChangeBatchQty",value:function(e,t){if(+t>(null==e?void 0:e.availableqty)+(null==e?void 0:e.oldqty))return this.toastr.error(this.QtyIsValidWithAvailableQty),this._Receipt.details[this.selectedindex].validrow=!1,e.qty=null,e.availableqty=e.availableqty+e.oldqty,void(e.oldqty=0);e.qty=+t,e.availableqty=this.dealWith(e.availableqty+e.oldqty-+t),e.oldqty=+t}},{key:"dealWith",value:function(e){return e%1==0?e:e.toString().split(".")[1].length>4?+e.toFixed(4):e}},{key:"CalaculteValuesItemsRow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"percent";this._Receipt.details[e].qty=this._Receipt.details[e].qty||0,this._Receipt.details[e].price=this._Receipt.details[e].price||0,this._Receipt.details[e].discount_value=this._Receipt.details[e].discount_value||0,this._Receipt.details[e].discount_percent=this._Receipt.details[e].discount_percent||0;var n=Number((this._Receipt.details[e].price*this._Receipt.details[e].qty).toFixed(this._Currencyprecision));"percent"==t&&(this._Receipt.details[e].discount_value=Number(((n*this._Receipt.details[e].discount_percent||0)/100).toFixed(this._Currencyprecision))),"value"==t&&(this._Receipt.details[e].discount_percent=100*(this._Receipt.details[e].discount_value/n%(1/0)||0)),this._Receipt.details[e].total=Number((n-this._Receipt.details[e].discount_value).toFixed(this._Currencyprecision)),this.Calculate_Total_Tax_Net(),this.cd.markForCheck()}},{key:"ReCalaculteValuesChangeItemsRow",value:function(e){this._Receipt.details[e].qty=this._Receipt.details[e].qty||1,this._Receipt.details[e].price=this._Receipt.details[e].price||0,this._Receipt.details[e].discount_value=this._Receipt.details[e].discount_value||0,this._Receipt.details[e].discount_percent=this._Receipt.details[e].discount_percent||0,this._Receipt.details[e].total=Number((this._Receipt.details[e].total||0).toFixed(this._Currencyprecision)),0==this._Receipt.details[e].discount_value?this._Receipt.details[e].price=Number((this._Receipt.details[e].total/this._Receipt.details[e].qty%(1/0)||0).toFixed(this._Currencyprecision)):0!=this._Receipt.details[e].discount_value&&(this._Receipt.details[e].price=Number(((this._Receipt.details[e].total+this._Receipt.details[e].discount_value)/this._Receipt.details[e].qty%(1/0)||0).toFixed(this._Currencyprecision)),this._Receipt.details[e].discount_percent=100*(this._Receipt.details[e].discount_value/(this._Receipt.details[e].price*this._Receipt.details[e].qty)%(1/0)||0)),this.Calculate_Total_Tax_Net(),this.cd.markForCheck()}},{key:"onFocusInCostCenter",value:function(e){this.GetCostCenterList("")}},{key:"CostCenterChangeSearch",value:function(e,t){this.GetCostCenterList(e.query.trim())}},{key:"CostCenterSelectEvent",value:function(e){this._Receipt.costcenterid=e.id}},{key:"GetCostCenterList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetCostcenterTransactionsbycertainIDS(this.subsidiaryID,t,this._Receipt.vendor_id).subscribe(function(t){e.CostCenterList=[],e.CostCenterList=t,e.CostCenterList.length>0&&e.setFieldNameForArray(e.CostCenterList,"costcenter"),e.cd.markForCheck()})}},{key:"onFocusInLocations",value:function(e){this.GetLocationsList("")}},{key:"LocationsChangeSearch",value:function(e,t){this.GetLocationsList(e.query.trim())}},{key:"LocationsSelectEvent",value:function(e){this._Receipt.locationid=e.id}},{key:"GetLocationsList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetSubsidaryLocations(this.subsidiaryID,t).subscribe(function(t){e.CostCenterList=[],e.LocationList=[],e.LocationList=t,e.LocationList.length>0&&e.setFieldNameForArray(e.LocationList,"location"),e.cd.markForCheck()})}},{key:"onFocusInClasses",value:function(e){this.GetClassesList("")}},{key:"ClassesChangeSearch",value:function(e,t){this.GetClassesList(e.query.trim())}},{key:"ClassesSelectEvent",value:function(e){this._Receipt.classid=e.id}},{key:"GetClassesList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetSubsidaryClasses(this.subsidiaryID,t).subscribe(function(t){e.CostCenterList=[],e.ClassList=[],e.ClassList=t,e.ClassList.length>0&&e.setFieldNameForArray(e.ClassList,"class"),e.cd.markForCheck()})}},{key:"onFocusInDepartment",value:function(e){this.GetDepartmentList("")}},{key:"DepartmentChangeSearch",value:function(e,t){this.GetDepartmentList(e.query.trim())}},{key:"DepartmentSelectEvent",value:function(e){this._Receipt.departmentid=e.id}},{key:"GetDepartmentList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetSubsidaryDepartments(this.subsidiaryID,t).subscribe(function(t){e.CostCenterList=[],e.DepartmentList=[],e.DepartmentList=t,e.DepartmentList.length>0&&e.setFieldNameForArray(e.DepartmentList,"department"),e.cd.markForCheck()})}},{key:"onFocusInDivision",value:function(e){this.GetDivisionList("")}},{key:"DivisionChangeSearch",value:function(e,t){this.GetDivisionList(e.query.trim())}},{key:"DivisionSelectEvent",value:function(e){this._Receipt.divisionid=e.id}},{key:"GetDivisionList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetSubsidaryDivisions(this.subsidiaryID,t).subscribe(function(t){e.CostCenterList=[],e.DivisionList=[],e.DivisionList=t,console.log(t),e.DivisionList.length>0&&e.setFieldNameForArray(e.DivisionList,"division"),e.cd.markForCheck()})}},{key:"setFieldNameForArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=0;n<e.length;n++){var i=e[n];"costcenter"==t?i.costcenterfieldname="ar"==this.lang?i.sugar:i.sug:"location"==t?i.locationfieldname="ar"==this.lang?i.sugar:i.sug:"class"==t?i.classfieldname="ar"==this.lang?i.sugar:i.sug:"department"==t?i.departmentfieldname="ar"==this.lang?i.sugar:i.sug:"division"==t&&(i.divisionfieldname="ar"==this.lang?i.sugar:i.sug)}}},{key:"CarByDriverID",value:function(){var e=this;this._ReceiptSharedService.CarByDriverID(this.subsidiaryID,this._Receipt.driverid).subscribe(function(t){e.CarsList=t,e.CarsList.length>0&&null!=e._Receipt.driverid&&(e._Receipt.carid=e.CarsList[0].id),e.cd.markForCheck()})}},{key:"DriverUsersByCarID",value:function(){var e=this;this._ReceiptSharedService.DriverUsersByCarID(this.subsidiaryID,this._Receipt.carid).subscribe(function(t){e.DriversList=t,e.DriversList.length>0&&null!=e._Receipt.carid&&(e._Receipt.driverid=e.DriversList[0].id),e.cd.markForCheck()})}},{key:"ChangeDriver",value:function(){this.CarByDriverID(),null==this._Receipt.driverid&&(this._Receipt.carid=null,this.DriverUsersByCarID())}},{key:"ChangeCar",value:function(){this.DriverUsersByCarID(),null==this._Receipt.carid&&(this._Receipt.driverid=null,this.DriverUsersByCarID())}},{key:"GetReceiptCodeList",value:function(){var e=this;this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID).subscribe(function(t){e.ReceiptCodeList=t;var n=e.ReceiptCodeList.find(function(t){return t.code==e.BasicCodeReceipt});e.Transaction_move=n.items,e.cd.markForCheck()})}},{key:"AddLinkedReceipt",value:function(){this._LinkedReceipt=new S.Cb,this._LinkedReceipt.code=this.BasicCodeReceipt,this._LinkedReceipt.branch_id=this._Receipt.branch_id,this._Receipt.linkedreceipts.push(this._LinkedReceipt),this.cd.markForCheck()}},{key:"GetLinkedReceipt",value:function(e){var t=this,n=this._Receipt.linkedreceipts[e];this.ItemLinkedReceipt=[],this.ItemComponentsLinkedReceipt=[],null!=n.branch_id&&null!=n.code&&null!=n.entry_no&&n.entry_no>0&&0==n.fire&&(this._Receipt.linkedreceipts[e].fire=1,this.spinner.show(),this._ReceiptSharedService.GetReceiptForLinkedReceipt(n.branch_id,n.code,n.entry_no).subscribe(function(n){if(t.spinner.hide(),null==n.receipt.id)t._Receipt.linkedreceipts[e].fire=0,t.toastr.error(t.ReceiptNotFound);else if(n.items.length>0){1==t._Receipt.linkedreceipts.length&&(t._Receipt.subsidiaryid=n.receipt.subsidiaryid,t._Receipt.customersalesprice=null!=n.receipt.customersalesprice?n.receipt.customersalesprice:t._Receipt.customersalesprice,t._Receipt.payment_type=null!=n.receipt.payment_type?n.receipt.payment_type:t._Receipt.payment_type,t._Receipt.vendor_id=null!=n.receipt.vendor_id?n.receipt.vendor_id:t._Receipt.vendor_id,t._Receipt.cashcustomerid=null!=n.receipt.cashcustomerid?n.receipt.cashcustomerid:t._Receipt.cashcustomerid,t._Receipt.discount_foreignpercent=n.receipt.discount_foreignpercent,t._Receipt.discount_percent=n.receipt.discount_percent,t._Receipt.discount_foreignvalue=n.receipt.discount_foreignvalue,t._Receipt.discount_value=n.receipt.discount_value,null!=t._Receipt.vendor_id&&(t._Receipt.cashcustomer_vendor_code={code:n.receipt.vendorcode},t._Receipt.cashcustomer_vendor_name="ar"==t.lang?n.receipt.vendornamear:n.receipt.vendorname,t._Receipt.vendor_balance=null!=n.receipt.vendor_balance?n.receipt.vendor_balance:t._Receipt.vendor_balance,t.PriceListItemsOnly=n.receipt.pricelistitemsonly),null!=t._Receipt.cashcustomerid&&(t._Receipt.cashcustomer_vendor_code={phonenumber:n.receipt.phonenumber},t._Receipt.cashcustomer_vendor_name="ar"==t.lang?n.receipt.cashcustomername_ar:n.receipt.cashcustomername,t.PriceListItemsOnly=!1),t._Receipt.currency_id=n.receipt.currency_id,t._Receipt.currency_rate=n.receipt.currency_rate,t._Receipt.empoyee_id=null!=n.receipt.empoyee_id?n.receipt.empoyee_id:t._Receipt.empoyee_id,t._Receipt.memo=n.receipt.memo,t._Receipt.reference_no=n.receipt.reference_no,t._CurrencySelected=t.CurrencyList.find(function(e){return e.id==t._Receipt.currency_id}),t.ForeignCurrencyShow=1!=t._CurrencySelected.basecurrency),t._Receipt.linkedreceipts[e].fire=1,t._Receipt.linkedreceipts[e].receiptid=n.receipt.id,t._Receipt.linkedreceipts[e].subsidiaryid=t.subsidiaryID,t._Receipt.linkedreceipts[e].parentreceiptid=t._Receipt.id;for(var i=0;i<t._Receipt.details.length;i++)null==t._Receipt.details[i].item_id&&(t._Receipt.details.splice(i,1),i--);n.itemunits.forEach(function(e){0==t.ItemUnitsList.filter(function(t){return t.item_id==e.item_id&&t.id==e.unit_id}).length&&t.ItemUnitsList.push(e)}),n.itemcomponents.length>0&&(t.ItemComponentsLinkedReceipt=n.itemcomponents,81==n.receipt.code&&(t.ItemComponentsLinkedReceipt=t.ItemComponentsLinkedReceipt.filter(function(e){return-1==e.transaction_move})),t.ItemComponentUnitsList=t.ItemComponentUnitsList.concat(n.componentsunits)),t.ItemLinkedReceipt=n.items,81==n.receipt.code&&(t.ItemLinkedReceipt=t.ItemLinkedReceipt.filter(function(e){return-1==e.transaction_move})),t.SetLinkReceiptItemRow(0,t.ItemLinkedReceipt[0])}else t.spinner.hide(),t._Receipt.linkedreceipts[e].fire=0,t.toastr.error(t.Receiptnoitems),t._Receipt.linkedreceipts[e].entry_no=null,t.cd.markForCheck()}))}},{key:"SetLinkReceiptItemRow",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1?arguments[1]:void 0;this._CashSalesDetailsReceipt=new S.hm;var r=this._Receipt.details.findIndex(function(e){return e.item_id==i.item_id&&e.unit_id==i.unit_id&&e.conv==i.conv});if(-1==r){this._Receipt.details.length>0?(this._CashSalesDetailsReceipt.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,this._CashSalesDetailsReceipt.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode):(this._CashSalesDetailsReceipt.store_id=i.store_id,this._CashSalesDetailsReceipt.storecode={code:i.storecode}),this._CashSalesDetailsReceipt.item_id=i.item_id,this._CashSalesDetailsReceipt.itemcode={code:i.itemcode},this._CashSalesDetailsReceipt.itemname=i.itemname,this._CashSalesDetailsReceipt.itemname_ar=i.itemname_ar,this._CashSalesDetailsReceipt.unit_id=i.unit_id,this._CashSalesDetailsReceipt.conv=i.conv,this._CashSalesDetailsReceipt.qty=i.qty,this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move,this._CashSalesDetailsReceipt.isrequireserial=i.isrequireserial,this._CashSalesDetailsReceipt.item_type=i.item_type,this._CashSalesDetailsReceipt.notes=i.notes,this._CashSalesDetailsReceipt.haswarrenty=i.haswarrenty,this._CashSalesDetailsReceipt.warrantydate=i.warrantydate,this._CashSalesDetailsReceipt.detailshtml=i.detailshtml,this._CashSalesDetailsReceipt.customitemname=i.customitemname,this._CashSalesDetailsReceipt.salesmanid=i.salesmanid,this._CashSalesDetailsReceipt.price=0!=i.priceafterincrease&&null!=i.priceafterincrease?i.priceafterincrease:i.price,this._CashSalesDetailsReceipt.discount_percent=i.discount_percent,this._CashSalesDetailsReceipt.discount_value=i.discount_value,this._CashSalesDetailsReceipt.total=i.total;var a=Math.max.apply(Math,t(this._Receipt.details.map(function(e){return e.rowno})).concat([0]));this._CashSalesDetailsReceipt.rowno=a+1,3==i.item_type&&this.ItemComponentsLinkedReceipt.filter(function(e){return e.finishedproductid==i.item_id&&e.finishedreceipt_did==i.id}).forEach(function(t){var n=new S.hm;n.store_id=e._CashSalesDetailsReceipt.store_id,n.storecode=e._CashSalesDetailsReceipt.storecode.code,n.item_id=t.item_id,n.itemcode=t.itemcode,n.itemname=t.itemname,n.itemname_ar=t.itemname_ar,n.unit_id=t.unit_id,n.conv=t.conv,n.qty=t.qty,n.basicqtycomponent=t.qty/e._CashSalesDetailsReceipt.qty||0,n.price=t.price,n.discount_value=t.discount_value,n.discount_percent=t.discount_percent,n.total=t.total,n.transaction_move=e.Transaction_move,n.finishedproductid=t.finishedproductid,n.item_type=t.item_type,n.notes=t.notes,n.haswarrenty=t.haswarrenty,n.warrantydate=t.warrantydate,n.detailshtml=t.detailshtml,n.customitemname=t.customitemname,n.salesmanid=t.salesmanid,n.parentrowno=e._CashSalesDetailsReceipt.rowno,e._Receipt.itemscomponent.push(n)}),this.ItemUnitsList.filter(function(e){return e.item_id==i.item_id&&e.id==i.unit_id}),this._Receipt.details.push(this._CashSalesDetailsReceipt),this.CalaculteValuesItemsRow(this._Receipt.details.length-1),n+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(n+1,this.ItemLinkedReceipt[n+1]):this.SetLinkReceiptItemFinished()}else{if(this._Receipt.details[r].qty=this._Receipt.details[r].qty+parseFloat(i.qty),3==i.item_type){var o=this.ItemComponentsLinkedReceipt.filter(function(e){return e.finishedproductid==i.item_id&&e.finishedreceipt_did==i.id});if(null!=this._Receipt.details[r].id)for(var c=this._Receipt.details[r],l=function(t){e._Receipt.itemscomponent[t].finishedproductid==c.item_id&&e._Receipt.itemscomponent[t].finishedreceipt_did==c.id&&(d=o.find(function(n){return n.item_id==e._Receipt.itemscomponent[t].item_id}),e._Receipt.itemscomponent[t].qty=e._Receipt.itemscomponent[t].qty+parseFloat(d.qty))},s=0;s<this._Receipt.itemscomponent.length;s++){var d;l(s)}else if(null==this._Receipt.details[r].id)for(var p=this._Receipt.details[r],u=function(t){e._Receipt.itemscomponent[t].finishedproductid==p.item_id&&null==e._Receipt.itemscomponent[t].id&&e._Receipt.itemscomponent[t].parentrowno==p.rowno&&(d=o.find(function(n){return n.item_id==e._Receipt.itemscomponent[t].item_id}),e._Receipt.itemscomponent[t].qty=e._Receipt.itemscomponent[t].qty+parseFloat(d.qty))},m=0;m<this._Receipt.itemscomponent.length;m++)u(m)}this.CalaculteValuesItemsRow(r),n+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(n+1,this.ItemLinkedReceipt[n+1]):this.SetLinkReceiptItemFinished()}}},{key:"SetLinkReceiptItemFinished",value:function(){if(this.spinner.hide(),this.IxLRS+1<this.LinkedReceiptListSelected.length){this.IxLRS=this.IxLRS+1;var e=this._Receipt.linkedreceipts.length-(this.IxLRS+1);1!=this._Receipt.linkedreceipts[e].fire&&(this.GetLinkedReceipt(e),console.log("(this._Receipt.linkedreceipts.length)-(this.IxLRS+1)"),console.log(e))}else this.CheckBalanceForItemInStore(0,!0),this.StockBalances(0)}},{key:"OnOpenLinkedReceipt",value:function(e){var t=this,n=this._Receipt.linkedreceipts[e],i=this._ReceiptSharedService.ReceiptsLinked_Url_Codes.find(function(e){return e.Code==n.code});null!=this._Receipt.linkedreceipts[e].receiptid?""!=i.Url&&window.open(i.Url+this._Receipt.linkedreceipts[e].receiptid+"/show","_blank"):null!=n.branch_id&&null!=n.code&&null!=n.entry_no&&n.entry_no>0&&this._ReceiptSharedService.GetLinkedReceiptID(n.branch_id,n.code,n.entry_no).subscribe(function(e){""!=i.Url&&null!=e?window.open(i.Url+e.id+"/show","_blank"):t.toastr.error(t.ReceiptNotFound)})}},{key:"DeleteLinkedReceipt",value:function(e){this._Receipt.linkedreceipts.splice(e,1),this.cd.markForCheck()}},{key:"OnSignatureSet",value:function(e){this._Receipt.signature=e.signature}},{key:"Calculate_Total_Tax_Net",value:function(){var e=0;this._Receipt.details.forEach(function(t){e+=Number(t.total)}),1==this._Receipt.currency_rate?(this._Receipt.value=Number(e.toFixed(this._Currencyprecision)),this._Receipt.valueforeign=Number(e.toFixed(this._Currencyprecision))):(this._Receipt.valueforeign=Number(e.toFixed(this._Currencyprecision)),this._Receipt.value=Number((e/this._Receipt.currency_rate).toFixed(this._Currencyprecision))),this._Receipt.deliveryfees=this._Receipt.deliveryfees||0,this._Receipt.deliveryfeesforeign=this._Receipt.deliveryfeesforeign||0,this._Receipt.surchargepercent=this._Receipt.surchargepercent||0,this._Receipt.surchargevalue=this._Receipt.surchargevalue||0,this._Receipt.discount_percent>0?this.Calculate_Disc("local","percent"):this._Receipt.discount_value>0?this.Calculate_Disc("local","value"):this._Receipt.discount_foreignvalue>0?this.Calculate_Disc("foreign","value"):this.CalculateTax_Net(e);var t=0;this._Receipt.details.forEach(function(e){t+=e.qty}),this._Receipt.qtotal=t}},{key:"CalculateTax_Net",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;1==this._Receipt.currency_rate?(this._Receipt.netvalue=Number((e-this._Receipt.discount_value).toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0,this._Receipt.netvalueforeign=this._Receipt.netvalue):(this._Receipt.netvalueforeign=Number((e-this._Receipt.discount_foreignvalue).toFixed(this._Currencyprecision)),this._Receipt.netvalueforeign=this._Receipt.netvalueforeign>=0?this._Receipt.netvalueforeign:0,this._Receipt.netvalue=Number((this._Receipt.netvalueforeign/this._Receipt.currency_rate).toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0)}},{key:"Calculate_Disc",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"local",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"percent";this._Receipt.discount_percent=this._Receipt.discount_percent||0,this._Receipt.discount_foreignpercent=this._Receipt.discount_foreignpercent||0,this._Receipt.discount_value=this._Receipt.discount_value||0,this._Receipt.discount_foreignvalue=this._Receipt.discount_foreignvalue||0,"local"==e?("percent"==t&&(this._Receipt.discount_foreignpercent=this._Receipt.discount_percent,this._Receipt.discount_value=Number(((this._Receipt.value*this._Receipt.discount_percent||0)/100).toFixed(this._Currencyprecision)),this._Receipt.discount_foreignvalue=Number(((this._Receipt.valueforeign*this._Receipt.discount_foreignpercent||0)/100).toFixed(this._Currencyprecision))),"value"==t&&(this._Receipt.discount_percent=Number((100*(this._Receipt.discount_value/this._Receipt.value%(1/0)||0)).toFixed(8)),this._Receipt.discount_foreignpercent=this._Receipt.discount_percent,this._Receipt.discount_foreignvalue=Number(((this._Receipt.valueforeign*this._Receipt.discount_foreignpercent||0)/100).toFixed(this._Currencyprecision)))):"foreign"==e&&("percent"==t&&(this._Receipt.discount_percent=this._Receipt.discount_foreignpercent,this._Receipt.discount_value=Number(((this._Receipt.value*this._Receipt.discount_percent||0)/100).toFixed(this._Currencyprecision)),this._Receipt.discount_foreignvalue=Number(((this._Receipt.valueforeign*this._Receipt.discount_foreignpercent||0)/100).toFixed(this._Currencyprecision))),"value"==t&&(this._Receipt.discount_foreignpercent=Number((100*(this._Receipt.discount_foreignvalue/this._Receipt.valueforeign%(1/0)||0)).toFixed(8)),this._Receipt.discount_percent=this._Receipt.discount_foreignpercent,this._Receipt.discount_value=Number(((this._Receipt.value*this._Receipt.discount_percent||0)/100).toFixed(this._Currencyprecision)))),1==this._Receipt.currency_rate?(this._Receipt.surchargevalue=0,this._Receipt.surchargevalueforeign=0,this._Receipt.netvalue=Number((this._Receipt.value-this._Receipt.discount_value).toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0,this._Receipt.netvalueforeign=this._Receipt.netvalue):(this._Receipt.surchargevalue=0,this._Receipt.surchargevalueforeign=0,this._Receipt.netvalueforeign=Number((this._Receipt.valueforeign-this._Receipt.discount_foreignvalue).toFixed(this._Currencyprecision)),this._Receipt.netvalueforeign=this._Receipt.netvalueforeign>=0?this._Receipt.netvalueforeign:0,this._Receipt.netvalue=Number((this._Receipt.value-this._Receipt.discount_value).toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0)}},{key:"StockBalances",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!=e&&3!=this._Receipt.details[e].item_type?(this.itemqtyview=!1,this._itemstoreqtyobj=new S.I$,this._itemstoreqtyobj.subsidairyid=this.subsidiaryID,this._itemstoreqtyobj.ReceiptCode=this.BasicCodeReceipt,this._itemstoreqtyobj.BranchID=this._Receipt.branch_id,this._itemstoreqtyobj.Entrydate=this._Receipt.entry_date,this._itemstoreqtyobj.Unit_ID=this._Receipt.details[e].unit_id,this._itemstoreqtyobj.conv=this._Receipt.details[e].conv,this._itemstoreqtyobj.itemid=this._Receipt.details[e].item_id,this.itemqtyview=!0):(this.itemqtyview=!1,this._itemstoreqtyobj=new S.I$)}},{key:"CheckBalanceForItemInStore",value:function(e){var t,n=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];1==r&&(this.DuringSaveDisable=!0,this.cd.markForCheck());var a=!0,o=new S.I$;if(null!=this._Receipt.details[e].item_id){o.ReceiptCode=this.BasicCodeReceipt,o.BranchID=this._Receipt.branch_id,o.Entrydate=this._Receipt.entry_date+" "+this._Receipt.entry_time,o.Unit_ID=this._Receipt.details[e].unit_id,o.conv=this._Receipt.details[e].conv,o.Qty=0,o.itemid=this._Receipt.details[e].item_id,o.StoreID=this._Receipt.details[e].store_id,o.subsidairyid=this.subsidiaryID,o.ReceiptID=this._Receipt.id,console.log(o);var c=null!==(t=this.ReceiptCodeList.filter(function(e){return e.code==n.BasicCodeReceipt})[0].items)&&void 0!==t?t:-1,l=this.InventorySetting[0].physicalnegativeinventoryid;console.log(this._Receipt.details[e].item_type),2!=this._Receipt.details[e].item_type&&(-1==c||1==c&&this._Receipt.details[e].id>0)&&1==l?this._ReceiptSharedService.CheckBalanceForItemInStore(o).subscribe(function(t){var o=0,l=0,s=0,d=[],p=!0;if(0==t.consignment.consignment){if(null!=t.totalqty.totalqty){if(o=t.totalqty.totalqty,d=t.itemcomponent,n._Receipt.details.filter(function(t){return t.item_id==n._Receipt.details[e].item_id}).forEach(function(e){var t=n.ItemUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=t){var i=null!=t.finalconv?t.finalconv:1,r=null!=t.conv?t.conv:1,a=e.conv;l=parseFloat(l.toString())+i*(a/r)*parseFloat(e.qty.toString())}}),3!=n._Receipt.details[e].item_type&&function(){n._Receipt.itemscomponent.filter(function(t){return t.item_id==n._Receipt.details[e].item_id&&null!=t.id}).forEach(function(e){var t=n.ItemComponentUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=t){var i=(null!=t.finalconv?t.finalconv:1)*(e.conv/(null!=t.conv?t.conv:1))*parseFloat(e.qty.toString());l=parseFloat(l.toString())+i}});for(var t=[],i=n._Receipt.details.filter(function(e){return 3==e.item_type&&null==e.id}),r=function(r){t=[],t=n._Receipt.itemscomponent.filter(function(t){return t.parentrowno==i[r].rowno&&t.finishedproductid==i[r].item_id&&null==t.id&&t.item_id==n._Receipt.details[e].item_id});for(var a=function(e){var i=t[e].qty,r=n.ItemComponentUnitsList.find(function(n){return n.item_id==t[e].item_id&&n.id==t[e].unit_id});if(null!=r){var a=(null!=r.finalconv?r.finalconv:1)*(t[e].conv/(null!=r.conv?r.conv:1))*parseFloat(i.toString());l=parseFloat(l.toString())+a}},o=0;o<t.length;o++)a(o)},a=0;a<i.length;a++)r(a)}(),-1==c?s=o-l:1==c&&(s=o+l),3==n._Receipt.details[e].item_type)for(var u=function(e){if(2!=d[e].item_type){var t=function(){var t=n._Receipt.details.filter(function(t){return t.item_id==d[e].item_id}),i=0;t.forEach(function(e){var t=n.ItemUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=t){var r=null!=t.finalconv?t.finalconv:1,a=null!=t.conv?t.conv:1,o=e.conv;i=parseFloat(i.toString())+r*(o/a)*parseFloat(e.qty.toString())}}),n._Receipt.itemscomponent.filter(function(t){return t.item_id==d[e].item_id&&null!=t.id}).forEach(function(e){var t=n.ItemComponentUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=t){var r=(null!=t.finalconv?t.finalconv:1)*(e.conv/(null!=t.conv?t.conv:1))*parseFloat(e.qty.toString());i=parseFloat(i.toString())+r}});for(var r=[],a=n._Receipt.details.filter(function(e){return 3==e.item_type&&null==e.id}),o=function(t){r=[],r=n._Receipt.itemscomponent.filter(function(n){return n.parentrowno==a[t].rowno&&n.finishedproductid==a[t].item_id&&null==n.id&&n.item_id==d[e].item_id});for(var o=function(e){var t=r[e].qty,a=n.ItemComponentUnitsList.find(function(t){return t.item_id==r[e].item_id&&t.id==r[e].unit_id});if(null!=a){var o=(null!=a.finalconv?a.finalconv:1)*(r[e].conv/(null!=a.conv?a.conv:1))*parseFloat(t.toString());i=parseFloat(i.toString())+o}},c=0;c<r.length;c++)o(c)},c=0;c<a.length;c++)o(c);if(!(i<=d[e].totalqty))return p=!1,{v:"break"};p=!0}();if("object"==typeof t)return t.v}},m=0;m<d.length;m++){if("break"===u(m))break}a=s>=0&&1==p}else a=!1;0==a?(n._Receipt.details[e].allowqtyselectforitem=!1,n.cd.markForCheck(),n.toastr.warning(n.qtyErrorMsg+o)):(n._Receipt.details[e].allowqtyselectforitem=!0,n.cd.markForCheck())}1==i&&e+1<n._Receipt.details.length?n.CheckBalanceForItemInStore(e+1,!0,r):1==r&&n.SaveReceipt()}):1==i&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,r):1==r&&this.SaveReceipt()}else 1==i&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,r):1==r&&this.SaveReceipt()}},{key:"CreateNewAction",value:function(){var e=this;JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||1==this.ShowModeReceipt||this.ReceiptID>0&&!this.checkRoleParms(621)?this._router.navigate(["/page/inventorytransiction/giftissue/0"]).then(function(){window.location.reload()}):Me().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(t){t.value?e.CheckPre_SaveReceipt(e.RForm):t.dismiss===Me().DismissReason.cancel&&e._router.navigate(["/page/inventorytransiction/giftissue/0"]).then(function(){window.location.reload()})})}},{key:"DeleteAction",value:function(){var e=this;Me().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(t){t.isConfirmed&&1==t.isConfirmed&&e._ReceiptSharedService.DeleteReceipts(e._Receipt.id).subscribe(function(t){0==t.bcount?(e.toastr.success(e.toastrSuccessDelete),e._router.navigate(["/page/inventorytransiction/giftissue"])):-1==t.bcount?(t.usedserials.forEach(function(t){var n=e._Receipt.details.findIndex(function(e){return e.item_id==t.itemid&&e.batcheslist[0].id==t.id});-1!=n&&(e._Receipt.details[n].allowqtyselectforitem=!1)}),e.toastr.error(e.RelatedwithSerialsOrBatches)):e.toastr.error(e.DeleteRelationmsg)})})}},{key:"GetMaxCostPostedSerDate",value:function(){var e=this;this._ReceiptSharedService.GetMaxCostPostedSerDate(this._Receipt.entry_date,this.subsidiaryID).subscribe(function(t){var n=e.datepipe.transform(t[0].maxpostingdate,"yyyy-MM-dd");Date.parse(n.toString())<Date.parse(e._Receipt.entry_date.toString())?(e.ShowModeReceipt=!1,e.ValidPeriod=!0):(e.ShowModeReceipt=!0,e.ValidPeriod=!1,e.ShowPopUpCostPostedSerDate()),e.cd.markForCheck()})}},{key:"DupilcateAction",value:function(){var e=this;this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(function(t){e._Receipt.entry_no=0==t.length?1:t[0].entry_no+1,e.entry_no=e._Receipt.entry_no,e.location.replaceState("/page/inventorytransiction/giftissue/0"),e.ReceiptID=0,e._Receipt.id=null,e.CheckBalanceForItemInStore(0,!0),e.cd.markForCheck()})}},{key:"DocumentAction",value:function(){this._router.navigate(["/page/setupsettings/documents/3/"+this._Receipt.id+"/giftissue"],{relativeTo:this._activeRoute,queryParams:{show:this.LockedRecepit}})}},{key:"PrintPreview",value:function(e){var t=this,n=this.getReportfilter(0==e?1:0);this.spinner.show(),this._ReceiptSharedService.GetReport(n).subscribe(function(n){t.spinner.hide(),1==e?t._authService.showPdfInNewTab(n.bytes,""):t._authService.printJS(n.bytes)}),this.cd.markForCheck()}},{key:"onPrint",value:function(){var e=this,t=this.getReportfilter(0);this._VerifyReportsService.SaveVerifyReports(this.subsidiaryID,this.lang).subscribe(function(n){e.reporturl="".concat(e.reportdomainUrl,"?q=").concat(t.reportName,"&ID=").concat(t.ReceiptID),""!=t.lang&&(e.reporturl=e.reporturl+"&Lang=".concat(t.lang)),""!=t.DomainName&&(e.reporturl=e.reporturl+"&DomainName=".concat(t.DomainName)),""!=t.toEmail&&(e.reporturl=e.reporturl+"&email=".concat(t.toEmail,"+&Subject=").concat(t.Subject,"+&boby=").concat(t.boby)),e.reporturl=e.reporturl+"&Info=".concat(n),e._authService.showReportInNextTab(e.reporturl),e.cd.markForCheck()})}},{key:"sendEmail",value:function(e){var t=this;this._emailobj=e.list;var n=this.getReportfilter(0);this.spinner.show(),this._ReceiptSharedService.GetReport(n).subscribe(function(e){t.spinner.hide(),alert(t.mailmsg)}),this.cd.markForCheck()}},{key:"getReportfilter",value:function(){var e=this._authService.userInfo().clientdatabase,t="",n="";"ar"==this.lang&&(n="_ar");var i={reportName:t="P_I_60_IssueVoucher"+n,SubsidaryID:this.subsidiaryID,ReceiptID:this._Receipt.id,lang:"",DomainName:"",toEmail:"",Subject:"",boby:""};return e.indexOf("darshgf")>-1?t="P_All_Inv_Receipt_gl_web_darshgf"+n:e.indexOf("alshaimaa")>-1&&(t="P_I_60_IssueVoucher_GL_WEB_alshaimaa"),i.reportName=t,i.toEmail=this._emailobj.email,i.Subject=this._emailobj.subject,i}},{key:"BackAction",value:function(){var e=this;JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||this.ReceiptID>0&&!this.checkRoleParms(621)||0==this.ReceiptID&&!this.checkRoleParms(589)||1==this.ShowModeReceipt?this._router.navigate(["/page/inventorytransiction/giftissue"]):Me().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(t){t.value?e.CheckPre_SaveReceipt(e.RForm):t.dismiss===Me().DismissReason.cancel&&e._router.navigate(["/page/inventorytransiction/giftissue"])})}},{key:"getCurrentDate",value:function(){var e=new Date,t=e.getFullYear();return e.getMonth()+1+"/"+e.getDate()+"/"+t}},{key:"getwarrantydateDate",value:function(){var e=new Date,t=e.getFullYear()+1;return e.getMonth()+1+"/"+e.getDate()+"/"+t}},{key:"SetTimeNow",value:function(){var e=new Date;return("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)}},{key:"OpenModal",value:function(e){this.modalReference=this.modalService.open(e,{size:"xl",backdrop:"static"})}},{key:"CloseModal",value:function(){this.modalReference.close()}},{key:"formateDecimal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return e.toFixed(t)}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(M["\u0275\u0275directiveInject"](b.n),M["\u0275\u0275directiveInject"](Pe.v),M["\u0275\u0275directiveInject"](R.t),M["\u0275\u0275directiveInject"](Oe.H),M["\u0275\u0275directiveInject"](M.ChangeDetectorRef),M["\u0275\u0275directiveInject"](I._W),M["\u0275\u0275directiveInject"](m.F0),M["\u0275\u0275directiveInject"](P.m),M["\u0275\u0275directiveInject"](h.sK),M["\u0275\u0275directiveInject"](O.K),M["\u0275\u0275directiveInject"](m.gz),M["\u0275\u0275directiveInject"](F.FF),M["\u0275\u0275directiveInject"](k.t2),M["\u0275\u0275directiveInject"](E.e),M["\u0275\u0275directiveInject"](w.$),M["\u0275\u0275directiveInject"](x.J),M["\u0275\u0275directiveInject"](l.uU),M["\u0275\u0275directiveInject"](l.Ye))},e.\u0275cmp=M["\u0275\u0275defineComponent"]({type:e,selectors:[["app-gift-issue-details"]],viewQuery:function(e,t){var n;(1&e&&(M["\u0275\u0275viewQuery"](n_,5),M["\u0275\u0275viewQuery"](i_,5)),2&e)&&(M["\u0275\u0275queryRefresh"](n=M["\u0275\u0275loadQuery"]())&&(t.serialModel=n.first),M["\u0275\u0275queryRefresh"](n=M["\u0275\u0275loadQuery"]())&&(t.RForm=n.first))},features:[M["\u0275\u0275ProvidersFeature"]([b.n,Pe.v,R.t,l.uU,Oe.H,x.J])],decls:5,vars:4,consts:[["class","row",4,"ngIf"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"row"],[1,"HasNotPermission",2,"margin","auto","width","auto","margin-top","200px"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"container-fluid","py-4","pl-0","pr-0"],[1,"card","my-2","mx-2","px-3","pb-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"col-12","text-right","actionBtns"],["type","submit",1,"btn","btn-success","mr-2","mb-2"],[1,"ft-check-square","mr-1"],["type","button",1,"btn","btn-success","mr-2","mb-2",3,"click"],["class","btn btn-primary mr-2 mb-2","type","button",3,"click",4,"ngIf"],["class","btn btn-warning mr-2 mb-2","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-danger","mr-2","mb-2",3,"click"],[1,"btn-group","mr-2","mb-2","mt-3"],["type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-primary","dropdown-toggle"],[1,"dropdown-menu"],[1,"col-12","col-md-3","mb-2","mb-md-0"],[1,"form-group"],["for","Category",1,"col-form-label"],[2,"color","red","font-weight","bold"],["name","Branch","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["Branch","ngModel"],["Value","null",4,"ngIf"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["for","VendorCode",1,"col-form-label"],["type","text","id","entry_no","name","entry_no","PositiveNumbersOrDecimalOnly","","required","","customMin","",1,"form-control",3,"stepallow","ngModel","readonly","Min","CheckMin","ngClass","ngModelChange","keydown.space"],["entry_no","ngModel"],[1,"col-form-label"],["minLength","0","delay","0","field","code","name","CreditAccount","required","",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","ngClass","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoCustomerAccounts","","customer","ngModel"],["pTemplate","CustomerAccountsTemplate"],["for","cashcustomer_vendor_phone",1,"col-form-label"],["type","text","id","cashcustomer_vendor_name","name","cashcustomer_vendor_name",1,"form-control",3,"ngModel","readonly","ngModelChange"],["cashcustomer_vendor_name","ngModel"],["for","entry_date",1,"col-form-label"],["type","date","id","entry_date","name","entry_date","required","",1,"form-control",3,"ngModel","readonly","ngClass","ngModelChange"],["entry_date","ngModel"],["for","entry_time",1,"col-form-label"],["type","time","id","entry_time","name","entry_time",1,"form-control",3,"readonly","ngModel","ngModelChange"],["entry_time","ngModel"],["for","memo",1,"col-form-label"],["type","text","id","memo","name","memo",1,"form-control",3,"ngModel","ngModelChange"],["memo","ngModel"],["for","reference_no",1,"col-form-label"],["type","text","id","reference_no","name","reference_no",1,"form-control",3,"ngModel","ngModelChange"],["reference_no","ngModel"],[1,"card","my-2","mx-2","px-3","pb-3","pt-3"],[1,"col-12","nav-wrapper","position-relative","end-0","mt-3"],[1,"col-xl-7","col-md-7"],["ngbNav","",1,"nav","nav-pills","nav-fill","p-1",3,"destroyOnHide","activeId","activeIdChange"],["nav","ngbNav"],[1,"nav-item",3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavItem",4,"ngIf"],[3,"ngbNavItem"],[1,"mt-2",3,"ngbNavOutlet"],[1,"col-md-5",2,"margin-top","4rem"],[1,"table-responsive","table","table-accountdetails"],[1,"table"],["scope","col"],["scope","col",3,"hidden"],[3,"hidden"],["PositiveNumbersOnly","","type","number","name","ovr_ForiegnTotal",1,"form-control",3,"readonly","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalTotal",1,"form-control","totalValInput","font-weight-bold","ng-pristine","ng-valid","ng-touched",3,"readonly","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","number","min","0","name","ovr_ForiegnDiscountPerc",1,"form-control",3,"readonly","ngModel","customMax","ngClass","keyup","ngModelChange"],["ovr_ForiegnDiscountPerc","ngModel"],["style","color: red",4,"ngIf"],["PositiveNumbersOnly","","type","number","min","0","name","ovr_LocalDiscountPerc",1,"form-control",3,"readonly","ngModel","customMax","ngClass","keyup","ngModelChange"],["ovr_LocalDiscountPerc","ngModel"],["PositiveNumbersOnly","","type","number","name","ovr_ForiegnDiscountVal",1,"form-control",3,"readonly","ngModel","ngModelChange","keyup"],["PositiveNumbersOnly","","type","number","name","ovr_LocalDiscountVal",1,"form-control",3,"readonly","ngModel","ngModelChange","keyup"],["PositiveNumbersOnly","","type","number","name","ovr_ForiegnNet",1,"form-control",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalNet",1,"form-control","totalValInput","font-weight-bold","ng-pristine","ng-valid","ng-touched",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalTotalqty",1,"form-control","totalValInput","font-weight-bold",3,"readonly","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalTotalitem",1,"form-control","totalValInput","font-weight-bold",3,"readonly","ngModel","ngModelChange"],[1,"col-md-7"],["type","button",1,"btn","btn-primary","mr-2","mb-2",3,"click"],["type","button",1,"btn","btn-warning","mr-2","mb-2",3,"click"],["class","dropdown-item","type","button",3,"click",4,"ngIf"],[3,"entryno","_savedemailobj"],["type","button",1,"dropdown-item",3,"click"],["Value","null"],[3,"value"],[1,"row",2,"margin-top","10px"],[1,"col"],[1,"table-responsive","table","table-accountdetails",3,"ngClass"],["scope","col",2,"width","5%"],["scope","col",2,"width","9%"],["scope","col",4,"ngIf"],["scope","col",2,"min-width","30px"],[4,"ngFor","ngForOf","ngForTrackBy"],["type","button",1,"btn","btn-success",3,"click"],[2,"padding-top","15px !important"],["minLength","0","delay","0","field","code",3,"ngModel","disabled","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoStore",""],["pTemplate","servstoreTemplate"],["minLength","0","delay","0","field","code",3,"ngModel","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoItems",""],["pTemplate","servCodeTemplate"],[3,"click"],[3,"ngClass",4,"ngIf"],[1,"form-control",3,"name","ngModel","required","ngClass","ngModelChange","change"],["itemunit","ngModel"],[3,"ngValue",4,"ngIf"],[3,"ngValue","selected",4,"ngFor","ngForOf"],["customMin","","PositiveNumbersOnly","","type","number",1,"form-control",3,"Min","CheckMin","ngModel","name","ngClass","keyup","ngModelChange"],["item_qty","ngModel"],[1,"gridActionsTd","text-center"],["href","javascript:;",1,"btn","btn-primary","ransparent-BG",3,"click"],[1,"fa","fa-trash","font-medium-3"],[3,"ngClass"],[3,"ngValue"],[3,"ngValue","selected"],["customMin","","PositiveNumbersOrDecimalOnly","","type","number",1,"form-control",3,"readonly","step","Min","CheckMin","stepallow","ngModel","name","required","ngClass","keyup","ngModelChange"],["item_conv","ngModel"],["PositiveNumbersOnly","","type","number","customMin","",1,"form-control",3,"ngModel","name","readonly","Min","CheckMin","ngClass","keyup","ngModelChange"],["price","ngModel"],["PositiveNumbersOnly","","type","number",1,"form-control",2,"background-color","silver",3,"ngModel","name","readonly","keyup","ngModelChange"],["href","javascript:;","class","info p-0",3,"click",4,"ngIf"],["href","javascript:;",1,"info","p-0",3,"click"],[1,"fa","fa-list","font-medium-3","mr-2"],[4,"ngFor","ngForOf"],["type","text",1,"form-control",3,"readonly","ngModel","name","ngModelChange"],[1,"form-control",3,"name","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["PositiveNumbersOnly","","type","text",1,"form-control",3,"ngModel","name","readonly","ngModelChange"],["PositiveNumbersOnly","","type","text",1,"form-control",3,"readonly","ngModel","name","ngModelChange"],[1,"form-control","red",3,"name","ngModel","ngModelChange"],["type","number",1,"form-control","red",3,"ngModel","name","ngModelChange"],["LinkedReceiptsentry_no","ngModel"],["href","javascript:;",1,"btn","btn-primary","transparent-BG",3,"click"],["aria-hidden","true",1,"fa","fa-plus-square","font-medium-3"],["aria-hidden","true",1,"fa","fa-eye","font-medium-3"],[3,"signature","signatureoutput"],[1,"col-md-12","row"],[1,"col-md-3","form-group"],["minLength","0","delay","0","field","costcenterfieldname","name","CostCenter",3,"required","ngModel","suggestions","ngClass","onFocus","ngModelChange","onSelect","completeMethod"],["autoCostCenter","","CostCenter","ngModel"],["pTemplate","CostCenterTemplate"],["class","col-md-3 form-group",4,"ngIf"],["for","Cars",1,"col-form-label"],["name","Cars",1,"form-control",3,"ngModel","ngModelChange","change"],["for","Drivers",1,"col-form-label"],["name","Drivers",1,"form-control",3,"ngModel","ngModelChange","change"],["style","color: red; font-weight: bold",4,"ngIf"],["minLength","0","delay","0","field","classfieldname","name","Classes",3,"required","ngModel","suggestions","ngClass","onFocus","ngModelChange","onSelect","completeMethod"],["autoClasses","","Classes","ngModel"],["pTemplate","ClassesTemplate"],["minLength","0","delay","0","field","locationfieldname","name","Location",3,"required","ngModel","suggestions","ngClass","onFocus","ngModelChange","onSelect","completeMethod"],["autoLocation","","Location","ngModel"],["pTemplate","LocationTemplate"],["minLength","0","delay","0","field","departmentfieldname","name","Department",3,"required","ngModel","suggestions","ngClass","onFocus","ngModelChange","onSelect","completeMethod"],["autoDepartment","","Department","ngModel"],["pTemplate","DepartmentTemplate"],["minLength","0","delay","0","field","divisionfieldname","name","Division",3,"required","ngModel","suggestions","ngClass","onFocus","ngModelChange","onSelect","completeMethod"],["autoDivion","","Division","ngModel"],["pTemplate","DivisionTemplate"],[2,"color","red"],[3,"wrappe"],["ItemStoreQty",""]],template:function(e,t){1&e&&(M["\u0275\u0275template"](0,r_,4,3,"div",0),M["\u0275\u0275template"](1,Mf,192,168,"ng-container",1),M["\u0275\u0275elementStart"](2,"ngx-spinner",2),M["\u0275\u0275elementStart"](3,"p",3),M["\u0275\u0275text"](4,"Loading..."),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275property"]("ngIf",!(t.checkRoleParms(588)||t.checkRoleParms(589)||t.checkRoleParms(590)||t.checkRoleParms(621)||t.checkRoleParms(591))),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",t.checkRolesParms(M["\u0275\u0275pureFunction0"](3,If))),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("fullScreen",!0))},directives:[l.O5,k.Ro,d._Y,d.JL,d.F,d.EJ,d.Q7,d.JJ,d.On,l.mk,l.sg,d.Fj,we.L,De.a,u.Qc,Be.jx,F.Pz,F.nv,F.Vx,F.uN,F.tO,d.wV,L.K,d.qQ,Fe.Z,Le.k,d.YN,d.Kr,Ve.t,qe.T],pipes:[h.X$,l.uU,Te.N],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important;text-align:center}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}']}),e}();function Of(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"div",4),M["\u0275\u0275elementStart"](1,"h1",5),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function kf(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.name)}}function Ef(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.name_ar)}}function wf(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",51),M["\u0275\u0275template"](1,kf,2,1,"span",1),M["\u0275\u0275template"](2,Ef,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275propertyInterpolate"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function Df(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",52),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).OnAdd()}),M["\u0275\u0275element"](1,"i",27),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"]()}2&e&&(M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](3,1,"Add")," "))}function Bf(e,t){1&e&&M["\u0275\u0275element"](0,"i",53)}function Lf(e,t){1&e&&M["\u0275\u0275element"](0,"i",54)}function Ff(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275element"](1,"i",47),M["\u0275\u0275template"](2,Bf,1,0,"i",48),M["\u0275\u0275template"](3,Lf,1,0,"i",49),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("hidden","BranchName"==n.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","BranchName"==n.sortColumn&&"asc"==n.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","BranchName"==n.sortColumn&&"desc"==n.sortDirection)}}function Nf(e,t){1&e&&M["\u0275\u0275element"](0,"i",53)}function Vf(e,t){1&e&&M["\u0275\u0275element"](0,"i",54)}function qf(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275element"](1,"i",47),M["\u0275\u0275template"](2,Nf,1,0,"i",48),M["\u0275\u0275template"](3,Vf,1,0,"i",49),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("hidden","BranchNameAR"==n.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","BranchNameAR"==n.sortColumn&&"asc"==n.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","BranchNameAR"==n.sortColumn&&"desc"==n.sortDirection)}}function Tf(e,t){1&e&&M["\u0275\u0275element"](0,"i",53)}function Af(e,t){1&e&&M["\u0275\u0275element"](0,"i",54)}function Gf(e,t){1&e&&M["\u0275\u0275element"](0,"i",53)}function Uf(e,t){1&e&&M["\u0275\u0275element"](0,"i",54)}function jf(e,t){1&e&&M["\u0275\u0275element"](0,"i",53)}function $f(e,t){1&e&&M["\u0275\u0275element"](0,"i",54)}function zf(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275element"](1,"i",47),M["\u0275\u0275template"](2,jf,1,0,"i",48),M["\u0275\u0275template"](3,$f,1,0,"i",49),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("hidden","CustomerName"==n.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","CustomerName"==n.sortColumn&&"asc"==n.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","CustomerName"==n.sortColumn&&"desc"==n.sortDirection)}}function Wf(e,t){1&e&&M["\u0275\u0275element"](0,"i",53)}function Jf(e,t){1&e&&M["\u0275\u0275element"](0,"i",54)}function Qf(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275element"](1,"i",47),M["\u0275\u0275template"](2,Wf,1,0,"i",55),M["\u0275\u0275template"](3,Jf,1,0,"i",56),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("hidden","CustomerNamear"==n.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","CustomerNamear"==n.sortColumn&&"asc"==n.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","CustomerNamear"==n.sortColumn&&"desc"==n.sortDirection)}}function Yf(e,t){1&e&&M["\u0275\u0275element"](0,"i",53)}function Hf(e,t){1&e&&M["\u0275\u0275element"](0,"i",54)}function Zf(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th"),M["\u0275\u0275text"](1,"\xa0"),M["\u0275\u0275elementEnd"]())}function Kf(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n?null:n.branchname)}}function Xf(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n?null:n.branchnamear)}}function eC(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.customername)}}function tC(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.customernamear)}}function nC(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"td",61),M["\u0275\u0275elementStart"](1,"a",62),M["\u0275\u0275element"](2,"i",63),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate1"]("routerLink","/page/inventorytransiction/issuereturn/",null==n?null:n.id,"")}}function iC(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"tr"),M["\u0275\u0275template"](1,Kf,2,1,"td",1),M["\u0275\u0275template"](2,Xf,2,1,"td",1),M["\u0275\u0275elementStart"](3,"td"),M["\u0275\u0275text"](4),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](5,"td"),M["\u0275\u0275text"](6),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](7,eC,2,1,"td",1),M["\u0275\u0275template"](8,tC,2,1,"td",1),M["\u0275\u0275elementStart"](9,"td"),M["\u0275\u0275text"](10),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](11,nC,3,1,"td",58),M["\u0275\u0275elementStart"](12,"td"),M["\u0275\u0275elementStart"](13,"a",59),M["\u0275\u0275elementStart"](14,"span"),M["\u0275\u0275element"](15,"i",60),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](null==n?null:n.entry_no),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](null==n?null:n.entry_date),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](1==(null==i.CurrentUserSetting?null:i.CurrentUserSetting.showcostprice)?null==n?null:n.netvalue:"****"),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(623)),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("routerLink","/page/inventorytransiction/issuereturn/",null==n?null:n.id,"/show")}}function rC(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"tbody"),M["\u0275\u0275template"](1,iC,16,9,"tr",57),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",n.ReceiptList)}}function aC(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"tbody"),M["\u0275\u0275elementStart"](1,"tr"),M["\u0275\u0275elementStart"](2,"td",64),M["\u0275\u0275text"](3),M["\u0275\u0275pipe"](4,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](4,1,"NoData")))}function oC(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",65),M["\u0275\u0275elementStart"](1,"ngb-pagination",66),M["\u0275\u0275listener"]("pageChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).onPageChange(e)})("pageChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).PageNo=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](2,"p"),M["\u0275\u0275text"](3),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](4,"select",67),M["\u0275\u0275listener"]("change",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).onPageSizeChange(e.target.value)})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).PageSize=e}),M["\u0275\u0275elementStart"](5,"option",68),M["\u0275\u0275text"](6,"10 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](7,"option",69),M["\u0275\u0275text"](8,"50 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](9,"option",70),M["\u0275\u0275text"](10,"100 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275element"](11,"br"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("collectionSize",i.totalCount)("page",i.PageNo)("pageSize",i.PageSize)("maxSize",5)("boundaryLinks",!0),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",i._generalService.TotalDetailsTextShow(i.PageNo,i.PageSize,i.totalCount,i.lang)," "),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngModel",i.PageSize)}}function cC(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275elementStart"](1,"div",6),M["\u0275\u0275elementStart"](2,"div",7),M["\u0275\u0275elementStart"](3,"div",8),M["\u0275\u0275elementStart"](4,"h6",9),M["\u0275\u0275text"](5),M["\u0275\u0275pipe"](6,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](7,"div",10),M["\u0275\u0275elementStart"](8,"div",11),M["\u0275\u0275elementStart"](9,"section"),M["\u0275\u0275elementStart"](10,"div",4),M["\u0275\u0275elementStart"](11,"div",12),M["\u0275\u0275elementStart"](12,"form",13,14),M["\u0275\u0275listener"]("ngSubmit",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().SearchReceiptByEntryNo()}),M["\u0275\u0275elementStart"](14,"div",4),M["\u0275\u0275elementStart"](15,"div",15),M["\u0275\u0275elementStart"](16,"div",16),M["\u0275\u0275elementStart"](17,"label",17),M["\u0275\u0275text"](18),M["\u0275\u0275pipe"](19,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](20,"select",18,19),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._ReceiptSearch.BranchID=e})("change",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().ChangeBranch(e.target.value)}),M["\u0275\u0275elementStart"](22,"option",20),M["\u0275\u0275text"](23),M["\u0275\u0275pipe"](24,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](25,wf,3,3,"option",21),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](26,"div",15),M["\u0275\u0275elementStart"](27,"div",16),M["\u0275\u0275elementStart"](28,"label",22),M["\u0275\u0275text"](29),M["\u0275\u0275pipe"](30,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](31,"input",23,24),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._ReceiptSearch.EntryNo=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](33,"div",25),M["\u0275\u0275elementStart"](34,"button",26),M["\u0275\u0275element"](35,"i",27),M["\u0275\u0275text"](36),M["\u0275\u0275pipe"](37,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](38,"button",28),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().ShowAll()}),M["\u0275\u0275element"](39,"i",27),M["\u0275\u0275text"](40),M["\u0275\u0275pipe"](41,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](42,"div",29),M["\u0275\u0275elementStart"](43,"div",30),M["\u0275\u0275elementStart"](44,"div",31),M["\u0275\u0275template"](45,Df,4,3,"button",32),M["\u0275\u0275elementStart"](46,"button",33),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().OnPrint()}),M["\u0275\u0275element"](47,"i",27),M["\u0275\u0275text"](48),M["\u0275\u0275pipe"](49,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](50,"button",34),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().OnPrint(1)}),M["\u0275\u0275element"](51,"i",27),M["\u0275\u0275text"](52),M["\u0275\u0275pipe"](53,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](54,"button",35),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().OnExcel()}),M["\u0275\u0275element"](55,"i",27),M["\u0275\u0275text"](56),M["\u0275\u0275pipe"](57,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](58,"div",36),M["\u0275\u0275elementStart"](59,"div",37),M["\u0275\u0275elementStart"](60,"label",38),M["\u0275\u0275text"](61),M["\u0275\u0275pipe"](62,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](63,"input",39,40),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._ReceiptSearch.SearchValue=e})("keyup",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().ChangePropFinish()}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](65,"div",4),M["\u0275\u0275elementStart"](66,"div",41),M["\u0275\u0275elementStart"](67,"div",42),M["\u0275\u0275elementStart"](68,"div",43),M["\u0275\u0275elementStart"](69,"div",44),M["\u0275\u0275elementStart"](70,"table",45),M["\u0275\u0275elementStart"](71,"thead"),M["\u0275\u0275elementStart"](72,"tr"),M["\u0275\u0275elementStart"](73,"th",46),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().GetReceiptList("BranchName")}),M["\u0275\u0275text"](74),M["\u0275\u0275pipe"](75,"translate"),M["\u0275\u0275template"](76,Ff,4,3,"ng-container",1),M["\u0275\u0275template"](77,qf,4,3,"ng-container",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](78,"th",46),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().GetReceiptList("Entry_No")}),M["\u0275\u0275text"](79),M["\u0275\u0275pipe"](80,"translate"),M["\u0275\u0275elementContainerStart"](81),M["\u0275\u0275element"](82,"i",47),M["\u0275\u0275template"](83,Tf,1,0,"i",48),M["\u0275\u0275template"](84,Af,1,0,"i",49),M["\u0275\u0275elementContainerEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](85,"th",46),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().GetReceiptList("Entry_Date")}),M["\u0275\u0275text"](86),M["\u0275\u0275pipe"](87,"translate"),M["\u0275\u0275elementContainerStart"](88),M["\u0275\u0275element"](89,"i",47),M["\u0275\u0275template"](90,Gf,1,0,"i",48),M["\u0275\u0275template"](91,Uf,1,0,"i",49),M["\u0275\u0275elementContainerEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](92,"th",46),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().GetReceiptList("CustomerName")}),M["\u0275\u0275text"](93),M["\u0275\u0275pipe"](94,"translate"),M["\u0275\u0275template"](95,zf,4,3,"ng-container",1),M["\u0275\u0275template"](96,Qf,4,3,"ng-container",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](97,"th",46),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().GetReceiptList("NetValue")}),M["\u0275\u0275text"](98),M["\u0275\u0275pipe"](99,"translate"),M["\u0275\u0275elementContainerStart"](100),M["\u0275\u0275element"](101,"i",47),M["\u0275\u0275template"](102,Yf,1,0,"i",48),M["\u0275\u0275template"](103,Hf,1,0,"i",49),M["\u0275\u0275elementContainerEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](104,Zf,2,0,"th",1),M["\u0275\u0275elementStart"](105,"th"),M["\u0275\u0275text"](106,"\xa0"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](107,rC,2,1,"tbody",1),M["\u0275\u0275template"](108,aC,5,3,"tbody",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](109,oC,12,7,"div",50),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](6,37,"Issue Return"),""),M["\u0275\u0275advance"](13),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](19,39,"Branch")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i._ReceiptSearch.BranchID),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](24,41,"All")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngForOf",i.BranchList),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](30,43,"EntryNo")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i._ReceiptSearch.EntryNo),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](37,45,"Search")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](41,47,"All")," "),M["\u0275\u0275advance"](5),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(234)),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](49,49,"Print")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](53,51,"pdf")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](57,53,"Excel")," "),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](62,55,"Search")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i._ReceiptSearch.SearchValue),M["\u0275\u0275advance"](11),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](75,57,"Branch")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](80,59,"EntryNo")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("hidden","Entry_No"==i.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Entry_No"==i.sortColumn&&"asc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Entry_No"==i.sortColumn&&"desc"==i.sortDirection),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](87,61,"Date")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("hidden","Entry_Date"==i.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Entry_Date"==i.sortColumn&&"asc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Entry_Date"==i.sortColumn&&"desc"==i.sortDirection),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](94,63,"custvendor")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](99,65,"value")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("hidden","NetValue"==i.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","NetValue"==i.sortColumn&&"asc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","NetValue"==i.sortColumn&&"desc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(623)),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngIf",i.ReceiptList.length>0),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",0==i.ReceiptList.length),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.totalCount>0)}}var lC=function(){var e=function(){function e(t,n,i,r,a,o,l,s,d,p,u,m,h,g,_){var v=this;c(this,e),this._cashsalesService=t,this.cd=n,this.toastr=i,this._router=r,this._generalService=a,this.translate=o,this._translateGlobalService=l,this.spinner=s,this._ReceiptSharedService=p,this._authService=u,this._printService=m,this._Excel=h,this._convertToPDF=g,this._VerifyReportsService=_,this.loaded=!1,this.subsidiaryID=0,this.PageSize=10,this.PageNo=1,this.ReceiptList=[],this.totalCount=0,this.BranchList=[],this.list=[],this._ReceiptSearch=new S.Wb,this.NumNotExist="",this.title="",this.timeout=null,this.sortDirection="asc",this.sortColumn="",this.SelectBranchMsg="",this.EntryNumberMsg="",this.subsidiaryID=this._generalService.SubsidiaryID,this.GetBranchList(),this.GetCurrentUserSetting(),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(function(e){v.lang=e.lang,v.dir=e.dir,v.translate.use(e.lang),v.ngTransUnsubscribe=v.translate.get("SelectBranchError").subscribe(function(e){v.SelectBranchMsg=e}),v.ngTransUnsubscribe=v.translate.get("EntryNumberMsg").subscribe(function(e){v.EntryNumberMsg=e})}),d.params.subscribe(function(e){var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t?(console.log(t.branchId),v._ReceiptSearch.BranchID="null"!=t.branchId?t.branchId:0):v._ReceiptSearch.BranchID=0}),this.ngTransUnsubscribe=this.translate.get(["Issue Return"]).subscribe(function(e){v.title=e["Issue Return"],document.title=v.title}),this.ngTransUnsubscribe=this.translate.get(["NumNotExist"]).subscribe(function(e){v.NumNotExist=e.NumNotExist}),this.ngUnsubscribe=a.proadCastSubsidiaryID.subscribe(function(e){if(0==v.subsidiaryID&&(v.subsidiaryID=v._generalService.SubsidiaryID,v.ReceiptSearch()),v.subsidiaryID!=v._generalService.SubsidiaryID&&v.subsidiaryID>0){v.subsidiaryID=v._generalService.SubsidiaryID;var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),v._ReceiptSearch.BranchID=0,localStorage.setItem("Branch",JSON.stringify({branchId:v._ReceiptSearch.BranchID})),v._ReceiptSearch.PageNo=1,v._ReceiptSearch.PageSize=10,v.GetBranchList(),v.ReceiptSearch()}})}return o(e,[{key:"ngOnInit",value:function(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this._ReceiptSearch.ReceiptCode="63",this._ReceiptSearch.sortColumn="Entry_Date.desc",0!=this.subsidiaryID&&(this.GetReceiptList(),this.GetReceiptListCount())}},{key:"GetCurrentUserSetting",value:function(){var e=this;this._ReceiptSharedService.GetCurrentUserSetting().subscribe(function(t){e.CurrentUserSetting=t})}},{key:"ReceiptSearch",value:function(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this.GetReceiptList(),this.GetReceiptListCount()}},{key:"GetBranchList",value:function(){var e=this;this._cashsalesService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(function(t){e.BranchList=t,e.cd.markForCheck()})}},{key:"ChangeBranch",value:function(e){var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),this._ReceiptSearch.BranchID="0"!=e?e:0,localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this._ReceiptSearch.PageNo=1,this._ReceiptSearch.PageSize=10,this.ReceiptSearch()}},{key:"ChangePropFinish",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.timeout=null,e.ReceiptSearch()},1e3*t)}},{key:"GetReceiptList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.sortColumn=null==t?null:t,this.sortDirection="asc"==this.sortDirection?"desc":"asc","ar"==this.lang&&("branch"!=this.sortColumn&&"accountname"!=this.sortColumn||(this.sortColumn=this.sortColumn+"ar")),null!=t&&(this.PageNo=1),null!=this.sortColumn&&""!=this.sortDirection&&(this._ReceiptSearch.sortColumn=this.sortColumn+"."+this.sortDirection),this.spinner.show(),this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._ReceiptSearch.EntryNo.toString().length>10&&(this.ReceiptList=[],this.toastr.warning(this.NumNotExist),this.spinner.hide()),this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(function(t){e.ReceiptList=[],e.list=t,1==e.list.length&&e._ReceiptSearch.EntryNo>0?e._router.navigate(["/page/inventorytransiction/issuereturn/"+e.list[0].id]):0==e.list.length&&e._ReceiptSearch.EntryNo>0?e.toastr.warning(e.NumNotExist):e.ReceiptList=t,e.cd.markForCheck(),e.spinner.hide()})}},{key:"GetReceiptListCount",value:function(){var e=this;this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptListCount(this._ReceiptSearch).subscribe(function(t){e.totalCount=t[0].total,e.cd.markForCheck()})}},{key:"OnAdd",value:function(){this._router.navigate(["/page/inventorytransiction/issuereturn/0"])}},{key:"OnView",value:function(e){this._router.navigate(["/page/inventorytransiction/issuereturn/"+e.id+"/show"])}},{key:"onEdit",value:function(e){var t;t="/page/inventorytransiction/issuereturn/".concat(e.id),this._router.navigate([t])}},{key:"ShowAll",value:function(){this._ReceiptSearch.BranchID=0,this._ReceiptSearch.EntryNo=0;var e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this.GetReceiptList(),this.GetReceiptListCount()}},{key:"SearchReceiptByEntryNo",value:function(){null!=this._ReceiptSearch.EntryNo&&null!=this._ReceiptSearch.EntryNo?(this.PageNo=1,this.PageSize=10,this.GetReceiptList(),this.GetReceiptListCount()):this.toastr.warning(this.EntryNumberMsg)}},{key:"OnPrint",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n="",i="ar"==this.lang?"rtl":"ltr",r="ar"==this.lang?"\u0627\u0644\u0641\u0631\u0639":"Branch",a="ar"==this.lang?"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":"Entry no",o="ar"==this.lang?"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":"Date",c="ar"==this.lang?"\u0645\u0648\u0631\u062f/\u0639\u0645\u064a\u0644":"Customer / Vendor",l="ar"==this.lang?"\u0627\u0644\u0642\u064a\u0645\u0629":"Total";this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(function(s){e.cd.markForCheck(),n='\n           <table class="table text-center m-0 table table-striped"  border="1px"  dir = '.concat(i,'>\n                 <thead>\n                   <tr style="background: #e9f1f5;color: cornflowerblue;">\n                     <th>').concat(r,"</th>\n                     <th>").concat(a,"</th>\n                     <th>").concat(o,"</th>\n                     <th>").concat(c,"</th>\n                     <th>").concat(l,"</th>\n\n                   </tr>\n                 </thead>\n             <tbody>\n         "),s.map(function(t){var i;n+="\n        <tr>\n         <td>".concat("ar"==e.lang?t.branchnamear:t.branchname,"</td>\n         <td>").concat(t.entry_no,"</td>\n         <td>").concat(t.entry_date,"</td>\n         <td>").concat(null!==(i="ar"==e.lang?t.customernamear:t.customername)&&void 0!==i?i:"","</td>\n         <td>").concat(t.netvalue,"</td>\n        </tr>\n        ")}),n+="</tbody></table>",1==t?e._convertToPDF.by_html2pdf(n):e._printService.OnPrintContent(n)})}},{key:"OnExcel",value:function(){var e=this,t=[];this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(function(n){n.forEach(function(n){t.push("ar"==e.lang?{"\u0627\u0644\u0641\u0631\u0639":n.branchnamear,"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":n.entry_no,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":n.entry_date,"\u0627\u0644\u0645\u0648\u0631\u062f/\u0627\u0644\u0639\u0645\u064a\u0644":n.customernamear,"\u0627\u0644\u0642\u064a\u0645\u0629":n.netvalue}:{Branch:n.branchname,"Entry No":n.entry_no,Date:n.entry_date,"Customer/Vendor":n.customernamear,Total:n.netvalue})}),e._Excel.exportAsExcelFile(t,"IssueReturn")})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"onPageChange",value:function(e){this._ReceiptSearch.PageNo=e,this.PageNo=e,this.GetReceiptList()}},{key:"onPageSizeChange",value:function(e){this._ReceiptSearch.PageSize=e,this.PageSize=e,this.GetReceiptList()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(M["\u0275\u0275directiveInject"](b.n),M["\u0275\u0275directiveInject"](M.ChangeDetectorRef),M["\u0275\u0275directiveInject"](I._W),M["\u0275\u0275directiveInject"](m.F0),M["\u0275\u0275directiveInject"](P.m),M["\u0275\u0275directiveInject"](h.sK),M["\u0275\u0275directiveInject"](O.K),M["\u0275\u0275directiveInject"](k.t2),M["\u0275\u0275directiveInject"](m.gz),M["\u0275\u0275directiveInject"](R.t),M["\u0275\u0275directiveInject"](E.e),M["\u0275\u0275directiveInject"](w.$),M["\u0275\u0275directiveInject"](D.x),M["\u0275\u0275directiveInject"](B.z),M["\u0275\u0275directiveInject"](x.J))},e.\u0275cmp=M["\u0275\u0275defineComponent"]({type:e,selectors:[["app-issue-return"]],features:[M["\u0275\u0275ProvidersFeature"]([b.n,R.t,x.J])],decls:5,vars:3,consts:[["class","row",4,"ngIf"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"row"],[2,"margin","0 30% 0 30%","margin-top","200px"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-1","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-body"],[1,"col-12"],[1,"col-md-8"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"col-lg-4","col-md-4","col-sm-12"],[1,"form-group"],["for","Branch"],["name","Branch","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["Branch","ngModel"],["Value","0"],[3,"value",4,"ngFor","ngForOf"],["for","EntryNumber"],["type","number","id","ReceiptNumber","name","ReceiptNumber","min","0","PositiveNumbersOnly","","required","",1,"form-control",3,"ngModel","ngModelChange"],["ReceiptNumber","ngModel"],[1,"col-lg-4","col-sm-4","mt-3","text-center"],["type","submit",1,"btn","btn-primary","mr-2"],[1,""],["type","button",1,"btn","btn-primary","mr-2",3,"click"],[1,"col-lg-12","mt-2","col-xs-12","text-center-sm"],[1,"row","mb-2"],[1,"col-lg-6","col-md-7","col-xs-12","my-auto","text-center-sm","actionBtns"],["class","btn btn-success\n                    mb-0 ng-star-inserted",3,"click",4,"ngIf"],[1,"btn","btn-warning","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-danger","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-success","mb-0","me-3","ng-star-inserted",3,"click"],[1,"col-lg-6","col-md-6","col-sm-12","pull-right"],[1,"form-group","d-flex","justify-content-end"],["for","SearchValue",1,"pt-1","pl-1","pr-1","form-label"],["type","text","id","SearchValue","name","SearchValue",1,"form-control","col-md-4",3,"ngModel","ngModelChange","keyup"],["SearchValue","ngModel"],[1,"col-12","p-0"],[1,"card","transparent-BG"],[1,"card-content"],[1,"table-responsive","card-body"],[1,"table","m-0","table-striped","table-accountdetails"],[3,"click"],[1,"fa","fa-fw","fa-sort",3,"hidden"],["class","fa fa-fw fa-sort-desc",4,"ngIf"],["class","fa fa-fw fa-sort-asc",4,"ngIf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],[3,"value"],[1,"btn","btn-success","mb-0","ng-star-inserted",3,"click"],[1,"fa","fa-fw","fa-sort-desc"],[1,"fa","fa-fw","fa-sort-asc"],["class","fa fa-fw\n                                fa-sort-desc",4,"ngIf"],["class","fa fa-fw\n                                fa-sort-asc",4,"ngIf"],[4,"ngFor","ngForOf"],["class","text-truncate",4,"ngIf"],[1,"primary","mr-1",3,"routerLink"],["aria-hidden","true",1,"fa","fa-list"],[1,"text-truncate"],["href","javascript:;",1,"primary","p-0",3,"routerLink"],[1,"ft-edit","mr-1"],["colspan","7"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(M["\u0275\u0275template"](0,Of,4,3,"div",0),M["\u0275\u0275template"](1,cC,110,67,"div",1),M["\u0275\u0275elementStart"](2,"ngx-spinner",2),M["\u0275\u0275elementStart"](3,"p",3),M["\u0275\u0275text"](4," Loading... "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275property"]("ngIf",!t.checkRoleParms(233)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",t.checkRoleParms(233)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("fullScreen",!0))},directives:[l.O5,k.Ro,d._Y,d.JL,d.F,d.EJ,d.Q7,d.JJ,d.On,d.YN,d.Kr,l.sg,d.qQ,d.wV,d.Fj,L.K,m.yS,F.N9],pipes:[h.X$],styles:['.headerform[_ngcontent-%COMP%]{border-radius:5px;font-size:1.5rem;padding:5px 2em}.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}.table-accountdetails[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#80808030}.table-accountdetails[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#7b809a}.width-table-input[_ngcontent-%COMP%]{min-width:130px}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important;text-align:center}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}']}),e}(),sC=["RForm"];function dC(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"div",5),M["\u0275\u0275elementStart"](1,"h1",6),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function pC(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",93),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).DocumentAction()}),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,2,"Document")," ")}}function uC(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",94),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).PrintPreview(0)}),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null)("disabled",!i.checkRoleParms(236)||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,3,"PrintPreview")," ")}}function mC(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",96),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).onPrint()}),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,2,"Print")," ")}}function hC(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",96),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](4).DeleteAction()}),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](4);M["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function gC(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275template"](1,hC,3,4,"button",95),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",0==n.ShowModeReceipt&&n.ReceiptID>0&&0==n.VouchersLinkedCount)}}function _C(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",96),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).DupilcateAction()}),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,2,"Dupilcate")," ")}}function vC(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275template"](1,mC,3,4,"button",95),M["\u0275\u0275template"](2,gC,2,1,"div",1),M["\u0275\u0275template"](3,_C,3,4,"button",95),M["\u0275\u0275elementStart"](4,"button",96),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).QualityAction()}),M["\u0275\u0275text"](5),M["\u0275\u0275pipe"](6,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](7,"email-popup",97),M["\u0275\u0275listener"]("_savedemailobj",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).sendEmail(e)}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(236)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(235)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(234)),M["\u0275\u0275advance"](1),M["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](6,6,"Quality")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("entryno",i._Receipt.entry_no)}}function fC(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.text,"")}}function CC(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.text_ar,"")}}function yC(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",98),M["\u0275\u0275template"](1,fC,2,1,"span",1),M["\u0275\u0275template"](2,CC,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275property"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function bC(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",99),M["\u0275\u0275text"](1,"choose"),M["\u0275\u0275elementEnd"]())}function SC(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",99),M["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),M["\u0275\u0275elementEnd"]())}function RC(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function xC(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function MC(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",98),M["\u0275\u0275template"](1,RC,2,1,"span",1),M["\u0275\u0275template"](2,xC,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275property"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function IC(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.sugar)}}function PC(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.sug)}}function OC(e,t){if(1&e&&(M["\u0275\u0275template"](0,IC,2,1,"div",1),M["\u0275\u0275template"](1,PC,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}var kC=function(e,t){return{"invalid-data":e,"valid-data":t}};function EC(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"p-autoComplete",100,101),M["\u0275\u0275listener"]("onFocus",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275reference"](1);return M["\u0275\u0275nextContext"](2).onFocusInCustomerAccounts(e),t.show()})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Receipt.cashcustomer_vendor_code=e})("onSelect",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).CustomerAccountsSelectEvent(e)})("completeMethod",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).CustomerAccountsChangeSearch(e)})("onClear",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).onClearCustomer(e)}),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275template"](4,OC,2,2,"ng-template",102),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](2);M["\u0275\u0275nextContext"]();var r=M["\u0275\u0275reference"](4),a=M["\u0275\u0275nextContext"]();M["\u0275\u0275property"]("ngModel",a._Receipt.cashcustomer_vendor_code)("suggestions",a.CustomerAccountsList)("showEmptyMessage",!0)("emptyMessage",M["\u0275\u0275pipeBind1"](3,6,"NoResultsFound"))("forceSelection",!0)("ngClass",M["\u0275\u0275pureFunction2"](8,kC,i.invalid&&r.submitted,i.valid&&r.submitted))}}function wC(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.sugar)}}function DC(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.sug)}}function BC(e,t){if(1&e&&(M["\u0275\u0275template"](0,wC,2,1,"div",1),M["\u0275\u0275template"](1,DC,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function LC(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"p-autoComplete",103,104),M["\u0275\u0275listener"]("onFocus",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275reference"](1);return M["\u0275\u0275nextContext"](2).onFocusInOtherAccounts(e),t.show()})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Receipt.cashcustomer_vendor_code=e})("onSelect",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).CustomerAccountsSelectEvent(e)})("completeMethod",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).OtherAccountsChangeSearch(e)})("onClear",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).onClearCustomer(e)}),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275template"](4,BC,2,2,"ng-template",105),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](2);M["\u0275\u0275nextContext"]();var r=M["\u0275\u0275reference"](4),a=M["\u0275\u0275nextContext"]();M["\u0275\u0275property"]("ngModel",a._Receipt.cashcustomer_vendor_code)("suggestions",a.OtherAccountsList)("showEmptyMessage",!0)("emptyMessage",M["\u0275\u0275pipeBind1"](3,6,"NoResultsFound"))("forceSelection",!0)("ngClass",M["\u0275\u0275pureFunction2"](8,kC,i.invalid&&r.submitted,i.valid&&r.submitted))}}function FC(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th",76),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Pack")," "))}function NC(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th",76),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Price")," "))}function VC(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th",76),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Total")," "))}function qC(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function TC(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function AC(e,t){if(1&e&&(M["\u0275\u0275template"](0,qC,2,1,"div",1),M["\u0275\u0275template"](1,TC,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function GC(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function UC(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function jC(e,t){if(1&e&&(M["\u0275\u0275template"](0,GC,2,1,"div",1),M["\u0275\u0275template"](1,UC,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}var $C=function(e,t){return{"invalid-qty":e,"valid-qty":t}};function zC(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div",134),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275nextContext"](2);var i=M["\u0275\u0275reference"](4);M["\u0275\u0275property"]("ngClass",M["\u0275\u0275pureFunction2"](2,$C,0==n.allowqtyselectforitem&&i.submitted||0==n.allowqtyselectforitem,1==n.allowqtyselectforitem&&i.submitted||1==n.allowqtyselectforitem)),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.itemname," ")}}function WC(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div",134),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275nextContext"](2);var i=M["\u0275\u0275reference"](4);M["\u0275\u0275property"]("ngClass",M["\u0275\u0275pureFunction2"](2,$C,0==n.allowqtyselectforitem&&i.submitted||0==n.allowqtyselectforitem,1==n.allowqtyselectforitem&&i.submitted||1==n.allowqtyselectforitem)),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.itemname_ar," ")}}function JC(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",135),M["\u0275\u0275text"](1," choose "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function QC(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",135),M["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function YC(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function HC(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function ZC(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",136),M["\u0275\u0275template"](1,YC,2,1,"span",1),M["\u0275\u0275template"](2,HC,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"]().$implicit,r=M["\u0275\u0275nextContext"](3);M["\u0275\u0275property"]("ngValue",null==n?null:n.id)("selected",(null==n?null:n.id)===i.unit_id&&(null==n?null:n.item_id)===(null==i?null:i.item_id)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=r.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==r.lang)}}function KC(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275elementStart"](1,"input",137,138),M["\u0275\u0275listener"]("keyup",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275nextContext"]().index;return M["\u0275\u0275nextContext"](3).ChangePackItem(e)})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().$implicit.conv=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](2),r=M["\u0275\u0275nextContext"](),a=r.index,o=r.$implicit;M["\u0275\u0275nextContext"](2);var c=M["\u0275\u0275reference"](4),l=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate"]("step",null==l.CashCustomerSetting?null:l.CashCustomerSetting.allowdecimalpack),M["\u0275\u0275propertyInterpolate1"]("name","item_conv",a,""),M["\u0275\u0275property"]("readonly",3==(null==o?null:o.item_type)&&null!=(null==o?null:o.item_id))("Min",1e-5)("CheckMin",null!=(null==o?null:o.item_id))("stepallow",null==l.CashCustomerSetting?null:l.CashCustomerSetting.allowdecimalpack)("ngModel",o.conv)("required",null!=(null==o?null:o.item_id))("ngClass",M["\u0275\u0275pureFunction2"](9,kC,i.invalid&&c.submitted,i.valid&&c.submitted))}}function XC(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275elementStart"](1,"input",139,140),M["\u0275\u0275listener"]("keyup",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275nextContext"]().index;return M["\u0275\u0275nextContext"](3).CalaculteValuesItemsRow(e)})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().$implicit.price=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](2),r=M["\u0275\u0275nextContext"](),a=r.index,o=r.$implicit;M["\u0275\u0275nextContext"](2);var c=M["\u0275\u0275reference"](4),l=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate1"]("name","item_price",a,""),M["\u0275\u0275property"]("readonly",5==l._Receipt.customersalesprice)("ngModel",o.price)("Min",0)("CheckMin",null!=(null==o?null:o.item_id))("ngClass",M["\u0275\u0275pureFunction2"](6,kC,i.invalid&&c.submitted,i.valid&&c.submitted))}}function ey(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275elementStart"](1,"input",141),M["\u0275\u0275listener"]("keyup",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275nextContext"]().index;return M["\u0275\u0275nextContext"](3).ReCalaculteValuesChangeItemsRow(e)})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().$implicit.total=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](),r=i.index,a=i.$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate1"]("name","item_total",r,""),M["\u0275\u0275property"]("ngModel",a.total)("readonly",!0)}}var ty=function(e){return{item_id:e}};function ny(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"tr"),M["\u0275\u0275elementStart"](1,"td",114),M["\u0275\u0275text"](2),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](3,"td"),M["\u0275\u0275elementStart"](4,"p-autoComplete",115,116),M["\u0275\u0275listener"]("onFocus",function(e){var t=M["\u0275\u0275restoreView"](n).index,i=M["\u0275\u0275reference"](5),r=M["\u0275\u0275nextContext"](3);return r.onFocusInStore(e,t),i.show(),r.isType=!0})("onClick",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.storecode=e})("onSelect",function(e){var t=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).StoreSelectEvent(e,t)})("completeMethod",function(e){var t=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).StoreChangeSearch(e,t)})("onClear",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3)._Receipt.details[e].store_id=null}),M["\u0275\u0275pipe"](6,"translate"),M["\u0275\u0275template"](7,AC,2,2,"ng-template",117),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](8,"td"),M["\u0275\u0275elementStart"](9,"p-autoComplete",118,119),M["\u0275\u0275listener"]("onFocus",function(e){var t=M["\u0275\u0275restoreView"](n).index,i=M["\u0275\u0275reference"](10),r=M["\u0275\u0275nextContext"](3);return r.onFocusInItems(e,t),i.show(),r.isType=!0})("onClick",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.itemcode=e})("onSelect",function(e){var t=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).ItemsSelectEvent(e,t)})("completeMethod",function(e){var t=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).ItemsChangeSearch(e,t)})("onClear",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).onClearItems(e)}),M["\u0275\u0275pipe"](11,"translate"),M["\u0275\u0275template"](12,jC,2,2,"ng-template",120),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](13,"td",121),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n),t=e.$implicit,i=e.index;return M["\u0275\u0275nextContext"](3).OnSelectedItem(t,i,"selected")}),M["\u0275\u0275template"](14,zC,2,5,"div",122),M["\u0275\u0275template"](15,WC,2,5,"div",122),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](16,"td"),M["\u0275\u0275elementStart"](17,"select",123,124),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e})("change",function(e){var t=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).ChangeItemUnits(e.target.value,t)}),M["\u0275\u0275template"](19,JC,2,1,"option",125),M["\u0275\u0275template"](20,QC,2,1,"option",125),M["\u0275\u0275template"](21,ZC,3,4,"option",126),M["\u0275\u0275pipe"](22,"filterby"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](23,KC,3,12,"td",1),M["\u0275\u0275elementStart"](24,"td"),M["\u0275\u0275elementStart"](25,"input",127,128),M["\u0275\u0275listener"]("keyup",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).ChangeQty(e)})("ngModelChange",function(e){return t.$implicit.qty=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](27,XC,3,9,"td",1),M["\u0275\u0275template"](28,ey,2,3,"td",1),M["\u0275\u0275elementStart"](29,"td",129),M["\u0275\u0275elementStart"](30,"a",130),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n),t=e.index,i=e.$implicit,r=M["\u0275\u0275nextContext"](3),a=M["\u0275\u0275reference"](4);return r.OnSerialItems(t,i,a)}),M["\u0275\u0275element"](31,"i",131),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](32,"a",132),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).DeleteItems(e)}),M["\u0275\u0275element"](33,"i",133),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index,a=t.index,o=M["\u0275\u0275reference"](18),c=M["\u0275\u0275reference"](26);M["\u0275\u0275nextContext"](2);var l=M["\u0275\u0275reference"](4),s=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](a+1),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","storecode",r,""),M["\u0275\u0275property"]("ngModel",i.storecode)("disabled",!(null!=s.CurrentUserSetting&&s.CurrentUserSetting.canchangestore))("suggestions",s.StoreList)("showEmptyMessage",!0)("emptyMessage",M["\u0275\u0275pipeBind1"](6,33,"NoResultsFound"))("forceSelection",!0),M["\u0275\u0275advance"](5),M["\u0275\u0275propertyInterpolate1"]("name","itemcode",r,""),M["\u0275\u0275property"]("ngModel",i.itemcode)("suggestions",s.ItemsList)("showEmptyMessage",!0)("emptyMessage",M["\u0275\u0275pipeBind1"](11,35,"NoResultsFound"))("forceSelection",!0),M["\u0275\u0275advance"](5),M["\u0275\u0275property"]("ngIf","ar"!=s.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==s.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","itemunit",r,""),M["\u0275\u0275property"]("ngModel",i.unit_id)("required",null!=(null==i?null:i.item_id))("ngClass",M["\u0275\u0275pureFunction2"](40,kC,o.invalid&&l.submitted,o.valid&&l.submitted)),M["\u0275\u0275attribute"]("disabled",3==(null==i?null:i.item_type)&&null!=(null==i?null:i.item_id)||null),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=s.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==s.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",M["\u0275\u0275pipeBind2"](22,37,s.ItemUnitsList,M["\u0275\u0275pureFunction1"](43,ty,null==i?null:i.item_id))),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",1==(null==s.CashCustomerSetting?null:s.CashCustomerSetting.allowpack)),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","item_qty",r,""),M["\u0275\u0275property"]("Min",1e-5)("CheckMin",null!=(null==i?null:i.item_id))("ngModel",i.qty)("ngClass",M["\u0275\u0275pureFunction2"](45,kC,c.invalid&&l.submitted,c.valid&&l.submitted)),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",1==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.showcostprice)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",1==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.showcostprice)),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("hidden",!(2==i.isrequireserial||3==i.isrequireserial))}}var iy=function(e){return{"table-for-autocomplete":e}};function ry(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",106),M["\u0275\u0275elementStart"](1,"div",73),M["\u0275\u0275elementStart"](2,"div",107),M["\u0275\u0275elementStart"](3,"table",75),M["\u0275\u0275elementStart"](4,"thead"),M["\u0275\u0275elementStart"](5,"tr"),M["\u0275\u0275element"](6,"th"),M["\u0275\u0275elementStart"](7,"th",108),M["\u0275\u0275text"](8),M["\u0275\u0275pipe"](9,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](10,"th",76),M["\u0275\u0275text"](11),M["\u0275\u0275pipe"](12,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](13,"th",76),M["\u0275\u0275text"](14),M["\u0275\u0275pipe"](15,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](16,"th",109),M["\u0275\u0275text"](17),M["\u0275\u0275pipe"](18,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](19,FC,3,3,"th",110),M["\u0275\u0275elementStart"](20,"th",76),M["\u0275\u0275text"](21),M["\u0275\u0275pipe"](22,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](23,NC,3,3,"th",110),M["\u0275\u0275template"](24,VC,3,3,"th",110),M["\u0275\u0275elementStart"](25,"th",111),M["\u0275\u0275text"](26," \xa0 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275element"](27,"tbody"),M["\u0275\u0275elementStart"](28,"tbody"),M["\u0275\u0275template"](29,ny,34,48,"tr",112),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](30,"button",113),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).AddItems()}),M["\u0275\u0275text"](31),M["\u0275\u0275pipe"](32,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngClass",M["\u0275\u0275pureFunction1"](24,iy,i.isType)),M["\u0275\u0275advance"](6),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](9,12,"Store")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](12,14,"ItemCode")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](15,16,"ItemDescription")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](18,18,"Unit")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",1==(null==i.CashCustomerSetting?null:i.CashCustomerSetting.allowpack)),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](22,20,"qty")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",1==(null==i.CurrentUserSetting?null:i.CurrentUserSetting.showcostprice)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",1==(null==i.CurrentUserSetting?null:i.CurrentUserSetting.showcostprice)),M["\u0275\u0275advance"](5),M["\u0275\u0275property"]("ngForOf",i._Receipt.details)("ngForTrackBy",i._ReceiptSharedService.customTrackBy),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](32,22,"Add")," ")}}function ay(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th",76),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Pack")," "))}function oy(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.itemname," ")}}function cy(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.itemname_ar," ")}}function ly(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",135),M["\u0275\u0275text"](1," choose "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function sy(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",135),M["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function dy(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function py(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function uy(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",98),M["\u0275\u0275template"](1,dy,2,1,"span",1),M["\u0275\u0275template"](2,py,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](5);M["\u0275\u0275property"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function my(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275elementStart"](1,"input",146),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().$implicit.conv=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](),r=i.index,a=i.$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate1"]("name","item_conv_c",r,""),M["\u0275\u0275property"]("readonly",!0)("ngModel",a.conv)}}function hy(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"tr"),M["\u0275\u0275elementStart"](1,"td"),M["\u0275\u0275elementStart"](2,"input",143),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.storecode=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](3,"td"),M["\u0275\u0275elementStart"](4,"input",143),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.itemcode=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](5,"td"),M["\u0275\u0275template"](6,oy,2,1,"div",1),M["\u0275\u0275template"](7,cy,2,1,"div",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](8,"td"),M["\u0275\u0275elementStart"](9,"select",144),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e}),M["\u0275\u0275template"](10,ly,2,1,"option",125),M["\u0275\u0275template"](11,sy,2,1,"option",125),M["\u0275\u0275template"](12,uy,3,3,"option",31),M["\u0275\u0275pipe"](13,"filterby"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](14,my,2,3,"td",1),M["\u0275\u0275elementStart"](15,"td"),M["\u0275\u0275elementStart"](16,"input",145),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.qty=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](17,"td"),M["\u0275\u0275elementStart"](18,"input",145),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.price=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](19,"td"),M["\u0275\u0275elementStart"](20,"input",145),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.total=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=t.index,r=M["\u0275\u0275nextContext"](4);M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","storecode_c",i,""),M["\u0275\u0275property"]("readonly",!0)("ngModel",n.storecode),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","itemcode_c",i,""),M["\u0275\u0275property"]("readonly",!0)("ngModel",n.itemcode),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=r.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==r.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","itemunit_c",i,""),M["\u0275\u0275property"]("ngModel",n.unit_id),M["\u0275\u0275attribute"]("disabled",!0),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=r.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==r.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",M["\u0275\u0275pipeBind2"](13,24,r.ItemComponentUnitsList,M["\u0275\u0275pureFunction1"](27,ty,n.item_id))),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",1==(null==r.CashCustomerSetting?null:r.CashCustomerSetting.allowpack)),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","item_qty_c",i,""),M["\u0275\u0275property"]("ngModel",n.qty)("readonly",!0),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","item_price_c",i,""),M["\u0275\u0275property"]("ngModel",n.price)("readonly",!0),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","item_total_c",i,""),M["\u0275\u0275property"]("ngModel",n.total)("readonly",!0)}}var gy=function(e){return{finishedproductid:e}};function _y(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div",106),M["\u0275\u0275elementStart"](1,"div",73),M["\u0275\u0275elementStart"](2,"div",74),M["\u0275\u0275elementStart"](3,"table",75),M["\u0275\u0275elementStart"](4,"thead"),M["\u0275\u0275elementStart"](5,"tr"),M["\u0275\u0275elementStart"](6,"th",76),M["\u0275\u0275text"](7),M["\u0275\u0275pipe"](8,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](9,"th",76),M["\u0275\u0275text"](10),M["\u0275\u0275pipe"](11,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](12,"th",76),M["\u0275\u0275text"](13),M["\u0275\u0275pipe"](14,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](15,"th",109),M["\u0275\u0275text"](16),M["\u0275\u0275pipe"](17,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](18,ay,3,3,"th",110),M["\u0275\u0275elementStart"](19,"th",76),M["\u0275\u0275text"](20),M["\u0275\u0275pipe"](21,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](22,"th",76),M["\u0275\u0275text"](23),M["\u0275\u0275pipe"](24,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](25,"th",76),M["\u0275\u0275text"](26),M["\u0275\u0275pipe"](27,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](28,"tbody"),M["\u0275\u0275template"](29,hy,21,29,"tr",142),M["\u0275\u0275pipe"](30,"filterby"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](7),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](8,9,"Store")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](11,11,"ItemCode")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](14,13,"ItemDescription")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](17,15,"Unit")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",1==(null==n.CashCustomerSetting?null:n.CashCustomerSetting.allowpack)),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](21,17,"qty")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](24,19,"Price")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](27,21,"Total")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngForOf",0==n.show_all_component?M["\u0275\u0275pipeBind2"](30,23,n.ItemsComponentList,M["\u0275\u0275pureFunction1"](26,gy,null==n.SelectedItem?null:n.SelectedItem.item_id)):n.ItemsComponentList)}}function vy(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"li",70),M["\u0275\u0275elementStart"](1,"a",67),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](4,_y,31,28,"ng-template",68),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275property"]("ngbNavItem",2),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](3,2,"Components")))}function fy(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",99),M["\u0275\u0275text"](1," choose "),M["\u0275\u0275elementEnd"]())}function Cy(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",99),M["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),M["\u0275\u0275elementEnd"]())}function yy(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function by(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function Sy(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",98),M["\u0275\u0275template"](1,yy,2,1,"span",1),M["\u0275\u0275template"](2,by,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function Ry(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",135),M["\u0275\u0275text"](1," choose "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function xy(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",135),M["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function My(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.codename,"")}}function Iy(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.codenamear,"")}}function Py(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",98),M["\u0275\u0275template"](1,My,2,1,"span",1),M["\u0275\u0275template"](2,Iy,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("value",n.code),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function Oy(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"tr"),M["\u0275\u0275elementStart"](1,"td"),M["\u0275\u0275elementStart"](2,"select",147),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.branch_id=e}),M["\u0275\u0275template"](3,fy,2,0,"option",35),M["\u0275\u0275template"](4,Cy,2,0,"option",35),M["\u0275\u0275template"](5,Sy,3,3,"option",31),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](6,"td"),M["\u0275\u0275elementStart"](7,"select",147),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.code=e}),M["\u0275\u0275template"](8,Ry,2,1,"option",125),M["\u0275\u0275template"](9,xy,2,1,"option",125),M["\u0275\u0275template"](10,Py,3,3,"option",31),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](11,"td"),M["\u0275\u0275elementStart"](12,"input",148,149),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.entry_no=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](14,"td"),M["\u0275\u0275elementStart"](15,"a",150),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).GetLinkedReceipt(e)}),M["\u0275\u0275element"](16,"i",151),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](17,"td"),M["\u0275\u0275elementStart"](18,"a",152),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).OnOpenLinkedReceipt(e)}),M["\u0275\u0275element"](19,"i",153),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](20,"td"),M["\u0275\u0275elementStart"](21,"a",132),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).DeleteLinkedReceipt(e)}),M["\u0275\u0275element"](22,"i",133),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index,a=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsbranch",r,""),M["\u0275\u0275property"]("ngModel",i.branch_id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",a.BranchList),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptscode",r,""),M["\u0275\u0275property"]("ngModel",i.code),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",a.ReceiptCodeList),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsentry_no",r,""),M["\u0275\u0275property"]("ngModel",i.entry_no),M["\u0275\u0275advance"](3),M["\u0275\u0275attribute"]("disabled",(null==i?null:i.fire)>0||null)}}function ky(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",106),M["\u0275\u0275elementStart"](1,"div",73),M["\u0275\u0275elementStart"](2,"div",74),M["\u0275\u0275elementStart"](3,"table",75),M["\u0275\u0275elementStart"](4,"thead"),M["\u0275\u0275elementStart"](5,"tr"),M["\u0275\u0275elementStart"](6,"th",76),M["\u0275\u0275text"](7),M["\u0275\u0275pipe"](8,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](9,"th",76),M["\u0275\u0275text"](10),M["\u0275\u0275pipe"](11,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](12,"th",76),M["\u0275\u0275text"](13),M["\u0275\u0275pipe"](14,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](15,"th",111),M["\u0275\u0275text"](16," \xa0 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](17,"th",111),M["\u0275\u0275text"](18," \xa0 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](19,"th",111),M["\u0275\u0275text"](20," \xa0 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](21,"tbody"),M["\u0275\u0275template"](22,Oy,23,13,"tr",142),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](23,"button",113),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).AddLinkedReceipt()}),M["\u0275\u0275text"](24),M["\u0275\u0275pipe"](25,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](7),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](8,5,"Branch")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](11,7,"Receipttype")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](14,9,"EntryNo")," "),M["\u0275\u0275advance"](9),M["\u0275\u0275property"]("ngForOf",i._Receipt.linkedreceipts),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](25,11,"Add")," ")}}function Ey(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",106),M["\u0275\u0275elementStart"](1,"div",73),M["\u0275\u0275elementStart"](2,"Signature",154),M["\u0275\u0275listener"]("signatureoutput",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).OnSignatureSet(e)}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("signature",i._Receipt.signature)}}function wy(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Cost Center"),""))}function Dy(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",null==n.subsaidarySetting?null:n.subsaidarySetting.costcenteralternativetext,"")}}function By(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function Ly(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function Fy(e,t){if(1&e&&(M["\u0275\u0275template"](0,By,2,1,"div",1),M["\u0275\u0275template"](1,Ly,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Ny(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Class"),""))}function Vy(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](5);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n.subsaidarySetting?null:n.subsaidarySetting.classalternativetextar)}}function qy(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](5);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n.subsaidarySetting?null:n.subsaidarySetting.classalternativetext)}}function Ty(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275template"](1,Vy,2,1,"span",1),M["\u0275\u0275template"](2,qy,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Ay(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span",32),M["\u0275\u0275text"](1,"*"),M["\u0275\u0275elementEnd"]())}function Gy(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function Uy(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function jy(e,t){if(1&e&&(M["\u0275\u0275template"](0,Gy,2,1,"div",1),M["\u0275\u0275template"](1,Uy,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function $y(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",156),M["\u0275\u0275elementStart"](1,"label",42),M["\u0275\u0275template"](2,Ny,3,3,"span",1),M["\u0275\u0275template"](3,Ty,3,2,"span",1),M["\u0275\u0275template"](4,Ay,2,0,"span",161),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](5,"p-autoComplete",162,163),M["\u0275\u0275listener"]("onFocus",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275reference"](6);return M["\u0275\u0275nextContext"](3).onFocusInClasses(e),t.show()})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3)._Receipt.classfieldname=e})("onSelect",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).ClassesSelectEvent(e)})("completeMethod",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).ClassesChangeSearch(e)}),M["\u0275\u0275template"](8,jy,2,2,"ng-template",164),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](7);M["\u0275\u0275nextContext"](2);var r=M["\u0275\u0275reference"](4),a=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",null==(null==a.subsaidarySetting?null:a.subsaidarySetting.classalternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null!=(null==a.subsaidarySetting?null:a.subsaidarySetting.classalternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null==a.subsaidarySetting?null:a.subsaidarySetting.classmandatory4invtrans),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("required",null==a.subsaidarySetting?null:a.subsaidarySetting.classmandatory4invtrans)("ngModel",a._Receipt.classfieldname)("suggestions",a.ClassList)("ngClass",M["\u0275\u0275pureFunction2"](7,kC,i.invalid&&r.submitted,i.valid&&r.submitted))}}function zy(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Location")," "))}function Wy(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](5);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n.subsaidarySetting?null:n.subsaidarySetting.locationalternativetext)}}function Jy(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](5);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n.subsaidarySetting?null:n.subsaidarySetting.locationalternativetextar)}}function Qy(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275template"](1,Wy,2,1,"span",1),M["\u0275\u0275template"](2,Jy,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Yy(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span",32),M["\u0275\u0275text"](1,"*"),M["\u0275\u0275elementEnd"]())}function Hy(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function Zy(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function Ky(e,t){if(1&e&&(M["\u0275\u0275template"](0,Hy,2,1,"div",1),M["\u0275\u0275template"](1,Zy,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Xy(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",156),M["\u0275\u0275elementStart"](1,"label",42),M["\u0275\u0275template"](2,zy,3,3,"span",1),M["\u0275\u0275template"](3,Qy,3,2,"span",1),M["\u0275\u0275template"](4,Yy,2,0,"span",161),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](5,"p-autoComplete",165,166),M["\u0275\u0275listener"]("onFocus",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275reference"](6);return M["\u0275\u0275nextContext"](3).onFocusInLocations(e),t.show()})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3)._Receipt.locationfieldname=e})("onSelect",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).LocationsSelectEvent(e)})("completeMethod",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).LocationsChangeSearch(e)}),M["\u0275\u0275template"](8,Ky,2,2,"ng-template",167),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](7);M["\u0275\u0275nextContext"](2);var r=M["\u0275\u0275reference"](4),a=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",null==(null==a.subsaidarySetting?null:a.subsaidarySetting.locationalternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null!=(null==a.subsaidarySetting?null:a.subsaidarySetting.locationalternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null==a.subsaidarySetting?null:a.subsaidarySetting.locationmandatory4invtrans),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("required",null==a.subsaidarySetting?null:a.subsaidarySetting.locationmandatory4invtrans)("ngModel",a._Receipt.locationfieldname)("suggestions",a.LocationList)("ngClass",M["\u0275\u0275pureFunction2"](7,kC,i.invalid&&r.submitted,i.valid&&r.submitted))}}function eb(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Department")," "))}function tb(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](5);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n.subsaidarySetting?null:n.subsaidarySetting.departmentalternativetextar)}}function nb(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](5);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n.subsaidarySetting?null:n.subsaidarySetting.departmentalternativetext)}}function ib(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275template"](1,tb,2,1,"span",1),M["\u0275\u0275template"](2,nb,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function rb(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span",32),M["\u0275\u0275text"](1,"*"),M["\u0275\u0275elementEnd"]())}function ab(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function ob(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function cb(e,t){if(1&e&&(M["\u0275\u0275template"](0,ab,2,1,"div",1),M["\u0275\u0275template"](1,ob,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function lb(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",156),M["\u0275\u0275elementStart"](1,"label",42),M["\u0275\u0275template"](2,eb,3,3,"span",1),M["\u0275\u0275template"](3,ib,3,2,"span",1),M["\u0275\u0275template"](4,rb,2,0,"span",161),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](5,"p-autoComplete",168,169),M["\u0275\u0275listener"]("onFocus",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275reference"](6);return M["\u0275\u0275nextContext"](3).onFocusInDepartment(e),t.show()})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3)._Receipt.departmentfieldname=e})("onSelect",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).DepartmentSelectEvent(e)})("completeMethod",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).DepartmentChangeSearch(e)}),M["\u0275\u0275template"](8,cb,2,2,"ng-template",170),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](7);M["\u0275\u0275nextContext"](2);var r=M["\u0275\u0275reference"](4),a=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",null==(null==a.subsaidarySetting?null:a.subsaidarySetting.departmentalternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null!=(null==a.subsaidarySetting?null:a.subsaidarySetting.departmentalternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null==a.subsaidarySetting?null:a.subsaidarySetting.departmentmandatory4invtrans),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("required",null==a.subsaidarySetting?null:a.subsaidarySetting.departmentmandatory4invtrans)("ngModel",a._Receipt.departmentfieldname)("suggestions",a.DepartmentList)("ngClass",M["\u0275\u0275pureFunction2"](7,kC,i.invalid&&r.submitted,i.valid&&r.submitted))}}function sb(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",5),M["\u0275\u0275elementStart"](1,"div",155),M["\u0275\u0275elementStart"](2,"div",156),M["\u0275\u0275elementStart"](3,"label",42),M["\u0275\u0275template"](4,wy,3,3,"span",1),M["\u0275\u0275template"](5,Dy,2,1,"span",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](6,"p-autoComplete",157,158),M["\u0275\u0275listener"]("onFocus",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275reference"](7);return M["\u0275\u0275nextContext"](2).onFocusInCostCenter(e),t.show()})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Receipt.costcenterfieldname=e})("onSelect",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).CostCenterSelectEvent(e)})("completeMethod",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).CostCenterChangeSearch(e)}),M["\u0275\u0275template"](9,Fy,2,2,"ng-template",159),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](10,$y,9,10,"div",160),M["\u0275\u0275template"](11,Xy,9,10,"div",160),M["\u0275\u0275template"](12,lb,9,10,"div",160),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](8);M["\u0275\u0275nextContext"]();var r=M["\u0275\u0275reference"](4),a=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("ngIf",null==(null==a.subsaidarySetting?null:a.subsaidarySetting.costcenteralternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null!=(null==a.subsaidarySetting?null:a.subsaidarySetting.costcenteralternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("required",null==a.subsaidarySetting?null:a.subsaidarySetting.costcentermandatory4invtrans)("ngModel",a._Receipt.costcenterfieldname)("suggestions",a.CostCenterList)("ngClass",M["\u0275\u0275pureFunction2"](9,kC,i.invalid&&r.submitted,i.valid&&r.submitted)),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("ngIf",null==a.subsaidarySetting?null:a.subsaidarySetting.classisactive),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null==a.subsaidarySetting?null:a.subsaidarySetting.locationisactive),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null==a.subsaidarySetting?null:a.subsaidarySetting.departmentisactive)}}function db(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",135),M["\u0275\u0275text"](1," choose "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function pb(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",135),M["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function ub(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.codename,"")}}function mb(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.codenamear,"")}}function hb(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",98),M["\u0275\u0275template"](1,ub,2,1,"span",1),M["\u0275\u0275template"](2,mb,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("value",n.code),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function gb(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"tr"),M["\u0275\u0275elementStart"](1,"td"),M["\u0275\u0275elementStart"](2,"select",174),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.code=e}),M["\u0275\u0275template"](3,db,2,1,"option",125),M["\u0275\u0275template"](4,pb,2,1,"option",125),M["\u0275\u0275template"](5,hb,3,3,"option",31),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](6,"td"),M["\u0275\u0275elementStart"](7,"input",175,176),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.entry_no=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](9,"td",177),M["\u0275\u0275elementStart"](10,"a",178),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).OnOpenReceiptHistory(e)}),M["\u0275\u0275element"](11,"i",153),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index,a=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","historyReceiptscode",r,""),M["\u0275\u0275property"]("ngModel",i.code),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",a.ReceiptCodeList),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","historyReceiptsentry_no",r,""),M["\u0275\u0275property"]("ngModel",i.entry_no)}}function _b(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div",171),M["\u0275\u0275elementStart"](1,"div",172),M["\u0275\u0275elementStart"](2,"div",173),M["\u0275\u0275elementStart"](3,"table",75),M["\u0275\u0275elementStart"](4,"thead"),M["\u0275\u0275elementStart"](5,"tr"),M["\u0275\u0275elementStart"](6,"th",76),M["\u0275\u0275text"](7),M["\u0275\u0275pipe"](8,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](9,"th",76),M["\u0275\u0275text"](10),M["\u0275\u0275pipe"](11,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](12,"th",76),M["\u0275\u0275text"](13,"\xa0"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](14,"tbody"),M["\u0275\u0275template"](15,gb,12,7,"tr",142),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](7),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](8,3,"Receipttype")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](11,5,"EntryNo")," "),M["\u0275\u0275advance"](5),M["\u0275\u0275property"]("ngForOf",n.ReceiptHistoryList)}}function vb(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"]("Maximum number can be ",null==n.CurrentUserSetting?null:n.CurrentUserSetting.maxreceiptdiscountperc," % Discount")}}function fb(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"]("\u0623\u0643\u0628\u0631 \u0631\u0642\u0645 \u0647\u0648 ",null==n.CurrentUserSetting?null:n.CurrentUserSetting.maxreceiptdiscountperc," % \u062e\u0635\u0645 ")}}function Cb(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div",179),M["\u0275\u0275template"](1,vb,2,1,"span",1),M["\u0275\u0275template"](2,fb,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function yb(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"]("Maximum number can be ",null==n.CurrentUserSetting?null:n.CurrentUserSetting.maxreceiptdiscountperc," % Discount")}}function bb(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"]("\u0623\u0643\u0628\u0631 \u0631\u0642\u0645 \u0647\u0648 ",null==n.CurrentUserSetting?null:n.CurrentUserSetting.maxreceiptdiscountperc," % \u062e\u0635\u0645 ")}}function Sb(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div",179),M["\u0275\u0275template"](1,yb,2,1,"span",1),M["\u0275\u0275template"](2,bb,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Rb(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275element"](1,"Item-StoreQty",180,181),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("wrappe",n._itemstoreqtyobj)}}function xb(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275elementStart"](1,"div",7),M["\u0275\u0275elementStart"](2,"div",8),M["\u0275\u0275elementStart"](3,"form",9,10),M["\u0275\u0275listener"]("ngSubmit",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275reference"](4);return M["\u0275\u0275nextContext"]().CheckPre_SaveReceipt(e)}),M["\u0275\u0275elementStart"](5,"div",11),M["\u0275\u0275elementStart"](6,"div",12),M["\u0275\u0275elementStart"](7,"div",13),M["\u0275\u0275elementStart"](8,"div",14),M["\u0275\u0275elementStart"](9,"h6",15),M["\u0275\u0275text"](10),M["\u0275\u0275pipe"](11,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](12,"div",5),M["\u0275\u0275elementStart"](13,"div",16),M["\u0275\u0275elementStart"](14,"button",17),M["\u0275\u0275element"](15,"i",18),M["\u0275\u0275text"](16),M["\u0275\u0275pipe"](17,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](18,"button",19),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().CreateNewAction()}),M["\u0275\u0275text"](19),M["\u0275\u0275pipe"](20,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](21,pC,3,4,"button",20),M["\u0275\u0275template"](22,uC,3,5,"button",21),M["\u0275\u0275elementStart"](23,"button",22),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().BackAction()}),M["\u0275\u0275text"](24),M["\u0275\u0275pipe"](25,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](26,"div",23),M["\u0275\u0275elementStart"](27,"button",24),M["\u0275\u0275text"](28),M["\u0275\u0275pipe"](29,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](30,"div",25),M["\u0275\u0275template"](31,vC,8,8,"ng-container",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275element"](32,"hr",26),M["\u0275\u0275elementStart"](33,"div",5),M["\u0275\u0275elementStart"](34,"div",27),M["\u0275\u0275elementStart"](35,"div",28),M["\u0275\u0275elementStart"](36,"label",29),M["\u0275\u0275text"](37),M["\u0275\u0275pipe"](38,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](39,"select",30),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.customersalesprice=e})("change",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().changesalesprice(e)}),M["\u0275\u0275template"](40,yC,3,3,"option",31),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](41,"div",27),M["\u0275\u0275elementStart"](42,"div",28),M["\u0275\u0275elementStart"](43,"label",29),M["\u0275\u0275text"](44),M["\u0275\u0275pipe"](45,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](46,"span",32),M["\u0275\u0275text"](47,"*"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](48,"select",33,34),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.branch_id=e})("change",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().changeBranch(e)}),M["\u0275\u0275template"](50,bC,2,0,"option",35),M["\u0275\u0275template"](51,SC,2,0,"option",35),M["\u0275\u0275template"](52,MC,3,3,"option",36),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](53,"div",27),M["\u0275\u0275elementStart"](54,"div",28),M["\u0275\u0275elementStart"](55,"label",37),M["\u0275\u0275text"](56),M["\u0275\u0275pipe"](57,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](58,"span",32),M["\u0275\u0275text"](59,"*"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](60,"input",38,39),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.entry_no=e})("ngModelChange",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().ChangePropFinish("EntryCode",2)})("keydown.space",function(e){return e.preventDefault()}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](62,"div",5),M["\u0275\u0275elementStart"](63,"div",40),M["\u0275\u0275elementStart"](64,"div",28),M["\u0275\u0275elementStart"](65,"label"),M["\u0275\u0275elementStart"](66,"input",41),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().onMainAccountRadioClick()})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.accounttype=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](67,"span",32),M["\u0275\u0275text"](68,"*"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](69,"span",42),M["\u0275\u0275text"](70),M["\u0275\u0275pipe"](71,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](72,"label",43),M["\u0275\u0275elementStart"](73,"input",41),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().onMainAccountRadioClick()})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.accounttype=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](74,"span",32),M["\u0275\u0275text"](75,"*"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](76,"span",42),M["\u0275\u0275text"](77),M["\u0275\u0275pipe"](78,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](79,EC,5,11,"p-autoComplete",44),M["\u0275\u0275template"](80,LC,5,11,"p-autoComplete",45),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](81,"div",40),M["\u0275\u0275elementStart"](82,"div",28),M["\u0275\u0275elementStart"](83,"label",46),M["\u0275\u0275text"](84),M["\u0275\u0275pipe"](85,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](86,"input",47,48),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.cashcustomer_vendor_name=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](88,"div",40),M["\u0275\u0275elementStart"](89,"div",28),M["\u0275\u0275elementStart"](90,"label",49),M["\u0275\u0275text"](91),M["\u0275\u0275pipe"](92,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](93,"input",50,51),M["\u0275\u0275listener"]("ngModelChange",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275nextContext"]();return t._Receipt.entry_date=e,t.ChangePropFinish("EntryDate",2)}),M["\u0275\u0275pipe"](95,"date"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](96,"div",40),M["\u0275\u0275elementStart"](97,"div",28),M["\u0275\u0275elementStart"](98,"label",52),M["\u0275\u0275text"](99),M["\u0275\u0275pipe"](100,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](101,"input",53,54),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.entry_time=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](103,"div",5),M["\u0275\u0275elementStart"](104,"div",40),M["\u0275\u0275elementStart"](105,"div",28),M["\u0275\u0275elementStart"](106,"label",55),M["\u0275\u0275text"](107),M["\u0275\u0275pipe"](108,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](109,"input",56,57),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.memo=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](111,"div",40),M["\u0275\u0275elementStart"](112,"div",28),M["\u0275\u0275elementStart"](113,"label",58),M["\u0275\u0275text"](114),M["\u0275\u0275pipe"](115,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](116,"input",59,60),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.reference_no=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](118,"div",61),M["\u0275\u0275elementStart"](119,"div",62),M["\u0275\u0275elementStart"](120,"div",5),M["\u0275\u0275elementStart"](121,"div",63),M["\u0275\u0275elementStart"](122,"ul",64,65),M["\u0275\u0275listener"]("activeIdChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().activeNav=e}),M["\u0275\u0275elementStart"](124,"li",66),M["\u0275\u0275elementStart"](125,"a",67),M["\u0275\u0275text"](126),M["\u0275\u0275pipe"](127,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](128,ry,33,26,"ng-template",68),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](129,vy,5,4,"li",69),M["\u0275\u0275elementStart"](130,"li",70),M["\u0275\u0275elementStart"](131,"a",67),M["\u0275\u0275text"](132),M["\u0275\u0275pipe"](133,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](134,ky,26,13,"ng-template",68),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](135,"li",70),M["\u0275\u0275elementStart"](136,"a",67),M["\u0275\u0275text"](137),M["\u0275\u0275pipe"](138,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](139,Ey,3,1,"ng-template",68),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](140,"li",70),M["\u0275\u0275elementStart"](141,"a",67),M["\u0275\u0275text"](142),M["\u0275\u0275pipe"](143,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](144,sb,13,12,"ng-template",68),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](145,"li",70),M["\u0275\u0275elementStart"](146,"a",67),M["\u0275\u0275text"](147),M["\u0275\u0275pipe"](148,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](149,_b,16,7,"ng-template",68),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275element"](150,"div",71),M["\u0275\u0275elementStart"](151,"div",5),M["\u0275\u0275elementStart"](152,"div",72),M["\u0275\u0275elementStart"](153,"div",73),M["\u0275\u0275elementStart"](154,"div",74),M["\u0275\u0275elementStart"](155,"table",75),M["\u0275\u0275elementStart"](156,"thead"),M["\u0275\u0275elementStart"](157,"tr"),M["\u0275\u0275element"](158,"th",76),M["\u0275\u0275elementStart"](159,"th",77),M["\u0275\u0275text"](160),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](161,"th",76),M["\u0275\u0275text"](162),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](163,"tbody"),M["\u0275\u0275elementStart"](164,"tr"),M["\u0275\u0275elementStart"](165,"td"),M["\u0275\u0275text"](166),M["\u0275\u0275pipe"](167,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](168,"td",78),M["\u0275\u0275elementStart"](169,"input",79),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.valueforeign=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](170,"td"),M["\u0275\u0275elementStart"](171,"input",80),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.value=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](172,"tr"),M["\u0275\u0275elementStart"](173,"td"),M["\u0275\u0275text"](174),M["\u0275\u0275pipe"](175,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](176,"td",78),M["\u0275\u0275elementStart"](177,"input",81,82),M["\u0275\u0275listener"]("keyup",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().Calculate_Disc("foreign","percent")})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.discount_foreignpercent=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](179,Cb,3,2,"div",83),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](180,"td"),M["\u0275\u0275elementStart"](181,"input",84,85),M["\u0275\u0275listener"]("keyup",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().Calculate_Disc("local","percent")})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.discount_percent=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](183,Sb,3,2,"div",83),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](184,"tr"),M["\u0275\u0275elementStart"](185,"td"),M["\u0275\u0275text"](186),M["\u0275\u0275pipe"](187,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](188,"td",78),M["\u0275\u0275elementStart"](189,"input",86),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.discount_foreignvalue=e})("keyup",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().Calculate_Disc("foreign","value")}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](190,"td"),M["\u0275\u0275elementStart"](191,"input",87),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.discount_value=e})("keyup",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().Calculate_Disc("local","value")}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](192,"tr"),M["\u0275\u0275elementStart"](193,"td"),M["\u0275\u0275text"](194),M["\u0275\u0275pipe"](195,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](196,"td",78),M["\u0275\u0275elementStart"](197,"input",88),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.netvalueforeign=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](198,"td"),M["\u0275\u0275elementStart"](199,"input",89),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.netvalue=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](200,"tr"),M["\u0275\u0275elementStart"](201,"td"),M["\u0275\u0275text"](202),M["\u0275\u0275pipe"](203,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](204,"td"),M["\u0275\u0275elementStart"](205,"input",90),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.qtotal=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](206,"tr"),M["\u0275\u0275elementStart"](207,"td"),M["\u0275\u0275text"](208),M["\u0275\u0275pipe"](209,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](210,"td"),M["\u0275\u0275elementStart"](211,"input",91),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.totalitem=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](212,"div",92),M["\u0275\u0275template"](213,Rb,3,1,"div",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](4),r=M["\u0275\u0275reference"](49),a=M["\u0275\u0275reference"](61),o=M["\u0275\u0275reference"](94),c=M["\u0275\u0275reference"](123),l=M["\u0275\u0275reference"](178),s=M["\u0275\u0275reference"](182),d=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](10),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](11,105,"Issue Return"),""),M["\u0275\u0275advance"](4),M["\u0275\u0275attribute"]("disabled",d.VouchersLinkedCount>0||1==d.ShowModeReceipt||1==d.DuringSaveDisable||d.ReceiptID>0&&!d.checkRoleParms(623)||0==d.ReceiptID&&!d.checkRoleParms(234)||null),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](17,107,"Save")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275attribute"]("disabled",!d.checkRoleParms(234)||1==d.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](20,109,"CreateNew")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",d.ReceiptID>0&&0==d.VouchersLinkedCount),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",d.ReceiptID>0&&d.checkRoleParms(236)),M["\u0275\u0275advance"](1),M["\u0275\u0275attribute"]("disabled",1==d.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](25,111,"Exit")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](29,113,"Action Menu")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngIf",d.ReceiptID>0),M["\u0275\u0275advance"](6),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](38,115,"CostPrice")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",d._Receipt.customersalesprice),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",d.CustomerSalesPriceList),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](45,117,"Branch")),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("ngModel",d._Receipt.branch_id)("ngClass",M["\u0275\u0275pureFunction2"](160,kC,r.invalid&&i.submitted,r.valid&&i.submitted)),M["\u0275\u0275attribute"]("disabled",d.ReceiptID>0||null),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=d.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==d.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",d.BranchList)("ngForTrackBy",d.customTrackBy),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](57,119,"Entry#")),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("stepallow",1)("ngModel",d._Receipt.entry_no)("Min",1)("CheckMin",!0)("readonly",0==(null==d.CurrentUserSetting?null:d.CurrentUserSetting.controlvouchernumanddate)||d.VouchersLinkedCount>0||1==d.LockedRecepit)("ngClass",M["\u0275\u0275pureFunction2"](163,kC,a.invalid&&i.submitted,a.valid&&i.submitted)),M["\u0275\u0275advance"](6),M["\u0275\u0275property"]("ngModel",d._Receipt.accounttype)("value",!1),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](71,121,"Customer#")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngModel",d._Receipt.accounttype)("value",!0),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](78,123,"OtherAccount")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",0==d._Receipt.accounttype),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",1==d._Receipt.accounttype),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](85,125,"CustomerName")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",d._Receipt.cashcustomer_vendor_name)("readonly",!0),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](92,127,"Date")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",M["\u0275\u0275pipeBind2"](95,129,d._Receipt.entry_date,"yyyy-MM-dd"))("readonly",0==(null==d.CurrentUserSetting?null:d.CurrentUserSetting.controlvouchernumanddate)||d.VouchersLinkedCount>0||1==d.LockedRecepit)("ngClass",M["\u0275\u0275pureFunction2"](166,kC,o.invalid&&i.submitted||0==d.ValidPeriod,o.valid&&i.submitted)),M["\u0275\u0275advance"](6),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](100,132,"time")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("readonly",0==(null==d.CurrentUserSetting?null:d.CurrentUserSetting.controlvouchernumanddate)||d.VouchersLinkedCount>0||1==d.LockedRecepit)("ngModel",d._Receipt.entry_time),M["\u0275\u0275advance"](6),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](108,134,"Memo")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",d._Receipt.memo),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](115,136,"ReferenceNo")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",d._Receipt.reference_no),M["\u0275\u0275advance"](6),M["\u0275\u0275property"]("destroyOnHide",!1)("activeId",d.activeNav),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngbNavItem",1),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](127,138,"Items")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngIf",null==d.CurrentUserSetting?null:d.CurrentUserSetting.showreceiptitemcomponent),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngbNavItem",3),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](133,140,"LinkedReceipt")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngbNavItem",4),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](138,142,"Signature")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngbNavItem",5),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](143,144,"AnalyticalAccount")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngbNavItem",6),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](148,146,"History")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngbNavOutlet",c),M["\u0275\u0275advance"](9),M["\u0275\u0275property"]("hidden",!d.ForeignCurrencyShow),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" Total - ",null==d._CurrencySelected?null:d._CurrencySelected.currencysymbol," "),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" Total - ",null==d._BaseCurrency?null:d._BaseCurrency.currencysymbol," "),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](167,148,"Total")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("hidden",!d.ForeignCurrencyShow),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("readonly",!0)("ngModel",d._Receipt.valueforeign),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("readonly",!0)("ngModel",d._Receipt.value),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](175,150,"Disc%")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("hidden",!d.ForeignCurrencyShow),M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate"]("customMax",null==d.CurrentUserSetting?null:d.CurrentUserSetting.maxreceiptdiscountperc),M["\u0275\u0275property"]("readonly",!(null!=d.CurrentUserSetting&&d.CurrentUserSetting.showreceiptoveralldiscount))("ngModel",d._Receipt.discount_foreignpercent)("ngClass",M["\u0275\u0275pureFunction2"](169,kC,l.invalid&&i.submitted,l.valid&&i.submitted)),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",null==l.errors?null:l.errors.customMax),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate"]("customMax",null==d.CurrentUserSetting?null:d.CurrentUserSetting.maxreceiptdiscountperc),M["\u0275\u0275property"]("readonly",!(null!=d.CurrentUserSetting&&d.CurrentUserSetting.showreceiptoveralldiscount))("ngModel",d._Receipt.discount_percent)("ngClass",M["\u0275\u0275pureFunction2"](172,kC,s.invalid&&i.submitted,s.valid&&i.submitted)),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",null==s.errors?null:s.errors.customMax),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](187,152,"Discount")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("hidden",!d.ForeignCurrencyShow),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("readonly",!(null!=d.CurrentUserSetting&&d.CurrentUserSetting.showreceiptoveralldiscount))("ngModel",d._Receipt.discount_foreignvalue),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("readonly",!(null!=d.CurrentUserSetting&&d.CurrentUserSetting.showreceiptoveralldiscount))("ngModel",d._Receipt.discount_value),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](195,154,"Net")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("hidden",!d.ForeignCurrencyShow),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngModel",d._Receipt.netvalueforeign)("readonly",!0),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",d._Receipt.netvalue)("readonly",!0),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](203,156,"totalqty")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("readonly",!0)("ngModel",d._Receipt.qtotal),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](209,158,"totalitem")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("readonly",!0)("ngModel",d._Receipt.totalitem),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",d.itemqtyview)}}function Mb(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"h6",194),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}function Ib(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"h6",194),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Batches")," "))}function Pb(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th",195),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"qty")," "))}function Ob(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th"),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Date")," "))}function kb(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th"),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"BatchNo")," "))}function Eb(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th"),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}var wb=function(e){return{"invalid-data":e}};function Db(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275elementStart"](1,"input",203),M["\u0275\u0275listener"]("change",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275nextContext"](),i=t.$implicit,r=t.index;return M["\u0275\u0275nextContext"](2).ChangeBatchQty(i,e.target.value,r)}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](),r=i.index,a=i.$implicit;M["\u0275\u0275nextContext"]();var o=M["\u0275\u0275reference"](7);M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate1"]("name","Qty",r,""),M["\u0275\u0275property"]("value",null==a?null:a.qty)("ngClass",M["\u0275\u0275pureFunction1"](4,wb,null==(null==a?null:a.qty)&&o.submitted||(null==a?null:a.qty)<=0&&o.submitted))("disabled",null==a||!a.fromOutSide||null)}}function Bb(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275elementStart"](1,"input",204),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().$implicit.date=e}),M["\u0275\u0275pipe"](2,"date"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](),r=i.index,a=i.$implicit;M["\u0275\u0275nextContext"]();var o=M["\u0275\u0275reference"](7);M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate1"]("name","Expire_Date",r,""),M["\u0275\u0275property"]("ngModel",M["\u0275\u0275pipeBind2"](2,4,null==a?null:a.date,"yyyy-MM-dd"))("ngClass",M["\u0275\u0275pureFunction1"](7,wb,null==(null==a?null:a.date)&&o.submitted||""==(null==a?null:a.date)&&o.submitted))("disabled",!!((null==a?null:a.solidquantity)>0||null!=a&&a.fromOutSide)||null)}}function Lb(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"tr"),M["\u0275\u0275elementStart"](1,"td"),M["\u0275\u0275element"](2,"input",196),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](3,"td"),M["\u0275\u0275element"](4,"input",197),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](5,Db,2,6,"td",1),M["\u0275\u0275elementStart"](6,"td"),M["\u0275\u0275element"](7,"input",198),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](8,Bb,3,9,"td",1),M["\u0275\u0275elementStart"](9,"td"),M["\u0275\u0275elementStart"](10,"input",199),M["\u0275\u0275listener"]("change",function(e){var t=M["\u0275\u0275restoreView"](n),i=t.$implicit,r=t.index;return M["\u0275\u0275nextContext"](2).ChangeBatchNo(i,e.target.value,r)}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](11,"td",200),M["\u0275\u0275elementStart"](12,"button",201),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n),t=e.$implicit,i=e.index;return M["\u0275\u0275nextContext"](2).DeleteRow(t,i)}),M["\u0275\u0275element"](13,"i",202),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index,a=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","Vaild",r,""),M["\u0275\u0275property"]("checked",null==i?null:i.valid),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","Serial",r,""),M["\u0275\u0275property"]("value",null==i?null:i.serial),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",3==a.requiredserial),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","Store",r,""),M["\u0275\u0275propertyInterpolate"]("value","ar"!=a.lang?null==i?null:i.storename:null==i?null:i.storename_ar),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",3==a.requiredserial),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","BatchNo",r,""),M["\u0275\u0275property"]("value",null==i?null:i.batchno)("ngClass",M["\u0275\u0275pureFunction1"](13,wb,null==i?null:i.isdublicatebatch))("disabled",!!((null==i?null:i.solidquantity)>0||null!=i&&i.fromOutSide)||null),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("disabled",(null==i?null:i.solidquantity)>0||null)}}function Fb(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"div",5),M["\u0275\u0275elementStart"](1,"button",205),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](4,"button",206),M["\u0275\u0275text"](5),M["\u0275\u0275pipe"](6,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](7,"button",207),M["\u0275\u0275text"](8),M["\u0275\u0275pipe"](9,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](3,3,"SampleFile")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](6,5,"SelectExcleFile")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](9,7,"Upload")," "))}function Nb(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",182),M["\u0275\u0275template"](1,Mb,3,3,"h6",183),M["\u0275\u0275template"](2,Ib,3,3,"h6",183),M["\u0275\u0275elementStart"](3,"button",184),M["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),M["\u0275\u0275elementStart"](4,"span",185),M["\u0275\u0275text"](5,"\xd7"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](6,"form",9,10),M["\u0275\u0275listener"]("ngSubmit",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275reference"](7);return M["\u0275\u0275nextContext"]().SubmitOk(e)}),M["\u0275\u0275elementStart"](8,"div",186),M["\u0275\u0275elementStart"](9,"div",187),M["\u0275\u0275elementStart"](10,"div",5),M["\u0275\u0275elementStart"](11,"form"),M["\u0275\u0275elementStart"](12,"div",188),M["\u0275\u0275elementStart"](13,"table",75),M["\u0275\u0275elementStart"](14,"thead"),M["\u0275\u0275elementStart"](15,"tr"),M["\u0275\u0275elementStart"](16,"th"),M["\u0275\u0275text"](17),M["\u0275\u0275pipe"](18,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](19,"th",189),M["\u0275\u0275text"](20),M["\u0275\u0275pipe"](21,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](22,Pb,3,3,"th",190),M["\u0275\u0275elementStart"](23,"th",191),M["\u0275\u0275text"](24),M["\u0275\u0275pipe"](25,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](26,Ob,3,3,"th",1),M["\u0275\u0275template"](27,kb,3,3,"th",1),M["\u0275\u0275template"](28,Eb,3,3,"th",1),M["\u0275\u0275element"](29,"th"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](30,"tbody"),M["\u0275\u0275template"](31,Lb,14,15,"tr",112),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](32,Fb,10,9,"div",0),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](33,"div",192),M["\u0275\u0275elementStart"](34,"button",193),M["\u0275\u0275text"](35),M["\u0275\u0275pipe"](36,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",2==i.requiredserial),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",3==i.requiredserial),M["\u0275\u0275advance"](15),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](18,13,"Valid")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](21,15,"Serial")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",3==i.requiredserial),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](25,17,"Store")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",3==i.requiredserial),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",3==i.requiredserial),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",2==i.requiredserial),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngForOf",i._Receipt.details[i.SelectedRowIndex].batcheslist)("ngForTrackBy",i.trackByFn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",2==i.requiredserial),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](36,19,"Cancel")," ")}}var Vb=function(){return[233,234,235,236,623]},qb=function(){var e=function(){function e(t,n,i,r,a,o,l,s,d,p,u,m,h,g,_,v,f,C){var y=this;c(this,e),this._cashsalesService=t,this._CustomerService=n,this._ReceiptSharedService=i,this._VoucherService=r,this.cd=a,this.toastr=o,this._router=l,this._generalService=s,this.translate=d,this._translateGlobalService=p,this._activeRoute=u,this.modalService=m,this.spinner=h,this._authService=g,this._printService=_,this._VerifyReportsService=v,this.datepipe=f,this.location=C,this.isType=!1,this.subsidiaryID=0,this.ReceiptID=0,this.PriceListItemsOnly=!1,this.BasicCodeReceipt=63,this.Transaction_move=0,this._Receipt=new S.tY,this._ReceiptOriginal=new S.tY,this._Receipt_h_Edit=new S.Iu,this._CashSalesDetailsReceipt=new S.hm,this.ItemsComponentList=new Array,this.DescriptionItem=new S.tH,this._LinkedReceipt=new S.Cb,this.ShowWarrantyDateCols=!1,this.IsSalesManImplemented=!1,this._Currencyprecision=3,this.NOComponents="",this.ForeignCurrencyShow=!1,this.ValidPeriod=!0,this.deliverdateValid=!0,this.VouchersLinkedCount=0,this.BranchList=[],this.PaymentTypeList=[],this.CustomerAccountsList=[],this.OtherAccountsList=[],this.CashCustomerList=[],this.CostCenterList=[],this.ReceiptCodeList=[],this.TransactionAccountList=[],this.DepartmentList=[],this.LocationList=[],this.ClassList=[],this.CurrencyList=[],this.StoreList=[],this.ItemsList=[],this.ItemUnitsList=[],this.ItemComponentUnitsList=[],this.CustomerSalesPriceList=[],this.reporturl="",this.reportdomainUrl=ke.N.aspDomain,this._emailobj={email:"",subject:""},this.mailmsg="",this.allowDelete=!1,this.ShowModeReceipt=!1,this.LockedRecepit=!1,this.swalTitleEntry="",this.swalTextEntry="",this.swalConfirmButtonEntry="",this.Cancel="",this.WarningInfoLost="",this.warning="",this.Yes="",this.FinancialPeriodMsg="",this.Close="",this.FinancialPeriodCloseMsg="",this.CostPostingPeriodMessage="",this.StopInventoryErrorMsg="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.DeleteRelationmsg="",this.ItemsZeroErrorMsg="",this.MultiPayErrorMsg="",this.ItemsEqualZeroMsg="",this.ReceiptNotFound="",this.CustomerPricelistMsg="",this.Receiptnoitems="",this.NoUnits="",this.ItemWarrantyValidMsg="",this.DeliverDateMsg="",this.qtyErrorSaveMsg="",this.qtyErrorMsg="",this.qtyZeroErrorSaveMsg="",this.SaveMsg="",this.No="",this.swalNewActionTitle="",this.swalNewActionText="",this.RelatedwithSerialsOrBatches="",this.UpdateReceiptItemService="",this.DuringSaveDisable=!1,this.show_all_component=!1,this.timeout=null,this.ItemLinkedReceipt=[],this.ItemComponentsLinkedReceipt=[],this.LinkedReceiptListSelected=[],this.IxLRS=0,this.itemqtyview=!1,this._itemstoreqtyobj=new S.I$,this._itemqtyList=new Array,this._totalcost=0,this.quillConfig={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"]]},this.requiredserial=2,this.RowItem=null,this.SelectedRowIndex=0,this.BatchesAndSeialsList=[],this.InValidQty="",this.InValidNumberOfBatch="",this.DublicateBatchMassage="",this.DeleteUsedBatchesOrSerials="",this.ReceiptHistoryList=[],this.CustomerCostCenterList=[],u.params.subscribe(function(e){y.ReceiptID=e.id,y.ShowModeReceipt=null!=e.show&&"show"==e.show&&e.id>0,y.LockedRecepit=y.ShowModeReceipt,y.subsidiaryID=y._generalService.SubsidiaryID,y.subsidiaryID>0&&y.SetInitialMethods(),y._UserLogin=y._authService.userInfo()}),this.ngUnsubscribe=s.proadCastSubsidiaryID.subscribe(function(e){0==y.subsidiaryID&&(y.subsidiaryID=y._generalService.SubsidiaryID,y.SetInitialMethods()),y.subsidiaryID!=y._generalService.SubsidiaryID&&y.subsidiaryID>0&&(y.subsidiaryID=y._generalService.SubsidiaryID,y._router.navigate(["/page/inventorytransiction/issuereturn/0"]).then(function(){window.location.reload()}))}),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(function(e){y.lang=e.lang,y.dir=e.dir,y.translate.use(e.lang),y.ngTransUnsubscribe=y.translate.get(["Cancel","swalTitleEntryno","swalEntrynoText","swalEntrynoConfirmButton","WarningInfoLost","warning","Yes","mailmsg","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","DeleteRelationmsg","successMsg","ItemsZeroErrorMsg","MultiPayErrorMsg","ItemsEqualZeroMsg","ReceiptNotFound","CustomerPricelistMsg","Receiptnoitems","NoUnits","ItemWarrantyValidMsg","FinancialPeriodMsg","CloseFinancialPeriodMsg","StopInventoryErrorMsg","Close","DeliverDateMsg","qtyErrorSaveMsg","qtyErrorMsg","qtyZeroErrorSaveMsg","NOComponents","CostPostingPeriodMessage","SaveMsg","Issue Return","No","swalNewActionTitle","swalNewActionText","InValidQty","InValidNumberOfBatch","DublicateBatchMassage","DeleteUsedBatchesOrSerials","RelatedwithSerialsOrBatches","cantNotDuplicateItem","UpdateReceiptItemService"]).subscribe(function(e){document.title=e["Issue Return"],y.Cancel=e.Cancel,y.swalTitleEntry=e.swalTitleEntryno,y.swalTextEntry=e.swalEntrynoText,y.swalConfirmButtonEntry=e.swalEntrynoConfirmButton,y.WarningInfoLost=e.WarningInfoLost,y.warning=e.warning,y.Yes=e.Yes,y.mailmsg=e.mailmsg,y.swalDeleteTitle=e.swalDeleteTitle,y.swalDetlateText=e.swalDetlateText,y.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,y.DeleteRelationmsg=e.DeleteRelationmsg,y.toastrSuccessDelete=e.successMsg,y.ItemsZeroErrorMsg=e.ItemsZeroErrorMsg,y.NOComponents=e.NOComponents,y.MultiPayErrorMsg=e.MultiPayErrorMsg,y.ItemsEqualZeroMsg=e.ItemsEqualZeroMsg,y.ReceiptNotFound=e.ReceiptNotFound,y.CustomerPricelistMsg=e.CustomerPricelistMsg,y.Receiptnoitems=e.Receiptnoitems,y.NoUnits=e.NoUnits,y.ItemWarrantyValidMsg=e.ItemWarrantyValidMsg,y.FinancialPeriodMsg=e.FinancialPeriodMsg,y.StopInventoryErrorMsg=e.StopInventoryErrorMsg,y.FinancialPeriodCloseMsg=e.CloseFinancialPeriodMsg,y.Close=e.Close,y.DeliverDateMsg=e.DeliverDateMsg,y.qtyErrorMsg=e.qtyErrorMsg,y.qtyErrorSaveMsg=e.qtyErrorSaveMsg,y.qtyZeroErrorSaveMsg=e.qtyZeroErrorSaveMsg,y.SaveMsg=e.SaveMsg,y.No=e.No,y.swalNewActionTitle=e.swalNewActionTitle,y.swalNewActionText=e.swalNewActionText,y.CostPostingPeriodMessage=e.CostPostingPeriodMessage,y.InValidQty=e.InValidQty,y.InValidNumberOfBatch=e.InValidNumberOfBatch,y.DublicateBatchMassage=e.DublicateBatchMassage,y.DeleteUsedBatchesOrSerials=e.DeleteUsedBatchesOrSerials,y.RelatedwithSerialsOrBatches=e.RelatedwithSerialsOrBatches,y.cantNotDuplicateItem=e.cantNotDuplicateItem,y.UpdateReceiptItemService=e.UpdateReceiptItemService})})}return o(e,[{key:"ngOnInit",value:function(){}},{key:"SetInitialMethods",value:function(){this._Receipt=new S.tY,this.GetCurrentUserSetting(),this.GetBranchList(),this.GetCashCustomerSettings(),this.GetSubsaidarySetting(),this.GetCurrencyList(),this.GetReceipt_AfterReceiptCode_InventroySettings()}},{key:"GetReceipt_AfterReceiptCode_InventroySettings",value:function(){var e=this,t=this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID),i=this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID);(0,Ie.D)([t,i]).subscribe(function(t){var i=n(t,2),r=i[0],a=i[1];e.ReceiptCodeList=r,e.InventorySetting=a;var o=e.ReceiptCodeList.find(function(t){return t.code==e.BasicCodeReceipt});e.Transaction_move=o.items,e.GetReceipt(),e.cd.markForCheck()})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"checkRolesParms",value:function(e){var t=!0;return this._authService.isHasRole(e)||(t=!1),t}},{key:"GetReceipt",value:function(){var e=this;if(this._Receipt.subsidiaryid=this.subsidiaryID,0==this.ReceiptID){this._Receipt.code=this.BasicCodeReceipt,this._Receipt.accounttype=!1,this._Receipt.entry_date=this.datepipe.transform(new Date,"yyyy-MM-dd"),console.log(this._Receipt.entry_date),this.CheckValidDateBySubsidaryID(),this._Receipt.entry_time=this.SetTimeNow();var n=JSON.parse(localStorage.getItem("Branch"));null!=n&&null!=n&&(this._Receipt.branch_id="null"==n.branchId||0==n.branchId?null:n.branchId,null!=this._Receipt.branch_id&&(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch())),setTimeout(function(){e._ReceiptOriginal=JSON.parse(JSON.stringify(e._Receipt)),console.log(e._Receipt)},1e3)}else this._ReceiptSharedService.GetReceiptAndDetailsByID(this.ReceiptID).subscribe(function(n){if(null!=n.receipt){if(e.VouchersLinkedCount=n.voucherslinkedcount.voucherslinkedcount,e._Receipt.id=n.receipt.id,e._Receipt.subsidiaryid=n.receipt.subsidiaryid,e._Receipt.code=n.receipt.code,e._Receipt.entry_no=n.receipt.entry_no,e._Receipt.branch_id=n.receipt.branch_id,e._Receipt.transaction_code=n.receipt.transaction_code,e._Receipt.customersalesprice=n.receipt.customersalesprice,e._Receipt.qtotal=n.items.qty,e._Receipt.totalitem=n.items.length,e._Receipt.entry_date=e.datepipe.transform(n.receipt.entry_date,"yyyy-MM-dd"),e._Receipt.entry_time=n.receipt.entry_time,e._Receipt.reservedflag=n.receipt.reservedflag,e._Receipt.payment_type=n.receipt.payment_type,e._Receipt.vendor_id=n.receipt.vendor_id,e._Receipt.cashcustomerid=n.receipt.cashcustomerid,e._Receipt.accounttype=n.receipt.accounttype,null!=e._Receipt.vendor_id&&(e._Receipt.cashcustomer_vendor_code=1==e._Receipt.accounttype?{code:n.receipt.othercode}:{code:n.receipt.vendorcode},e._Receipt.cashcustomer_vendor_name="ar"==e.lang?n.receipt.vendornamear:n.receipt.vendorname,e.PriceListItemsOnly=n.receipt.pricelistitemsonly),null!=e._Receipt.cashcustomerid&&(e._Receipt.cashcustomer_vendor_code={phonenumber:n.receipt.phonenumber},e._Receipt.cashcustomer_vendor_name="ar"==e.lang?n.receipt.cashcustomername_ar:n.receipt.cashcustomername,e.PriceListItemsOnly=!1),e._Receipt.currency_id=n.receipt.currency_id,e._Receipt.currency_rate=n.receipt.currency_rate,e._Receipt.customerdeliverdate=e.datepipe.transform(n.receipt.customerdeliverdate,"yyyy-MM-dd"),e._Receipt.customerdeliverdate_time=n.receipt.customerdeliverdate_time,e._Receipt.ordertype=n.receipt.ordertype,e._Receipt.empoyee_id=n.receipt.empoyee_id,e._Receipt.memo=n.receipt.memo,e._Receipt.reference_no=n.receipt.reference_no,e._Receipt.salestypeid=n.receipt.salestypeid,e._Receipt.commisionaccountid=n.receipt.commisionaccountid,e._Receipt.commisionaccountfieldname="ar"==e.lang?{commisionaccountfieldname:n.receipt.commisionaccount_sug_ar}:{commisionaccountfieldname:n.receipt.commisionaccount_sug},e._Receipt.commissiontype=n.receipt.commissiontype,e._Receipt.commission=n.receipt.commission,e._Receipt.commissionnet=n.receipt.commissionnet,e._Receipt.commisionaccountid1=n.receipt.commisionaccountid1,e._Receipt.commisionaccountfieldname1="ar"==e.lang?{commisionaccountfieldname1:n.receipt.commisionaccount1_sug_ar}:{commisionaccountfieldname1:n.receipt.commisionaccount1_sug},e._Receipt.commissiontype1=n.receipt.commissiontype1,e._Receipt.commission1=n.receipt.commission1,e._Receipt.commissionnet1=n.receipt.commissionnet1,e._Receipt.costcenterid=n.receipt.costcenterid,e._Receipt.costcenterfieldname=null!=e._Receipt.costcenterid?"ar"==e.lang?{costcenterfieldname:n.receipt.costcenter_sug_ar}:{costcenterfieldname:n.receipt.costcenter_sug}:null,e._Receipt.classid=n.receipt.classid,e._Receipt.classfieldname=null!=e._Receipt.classid?"ar"==e.lang?{classfieldname:n.receipt.classes_sug_ar}:{classfieldname:n.receipt.classes_sug}:null,e._Receipt.locationid=n.receipt.locationid,e._Receipt.locationfieldname=null!=e._Receipt.locationid?"ar"==e.lang?{locationfieldname:n.receipt.location_sug_ar}:{locationfieldname:n.receipt.location_sug}:null,e._Receipt.departmentid=n.receipt.departmentid,e._Receipt.departmentfieldname=null!=e._Receipt.departmentid?"ar"==e.lang?{departmentfieldname:n.receipt.department_sug_ar}:{departmentfieldname:n.receipt.department_sug}:null,e._Receipt.carid=n.receipt.carid,e._Receipt.driverid=n.receipt.driverid,e._Receipt.valueforeign=n.receipt.valueforeign,e._Receipt.value=n.receipt.value,e._Receipt.discount_foreignpercent=n.receipt.discount_foreignpercent,e._Receipt.discount_percent=n.receipt.discount_percent,e._Receipt.discount_foreignvalue=n.receipt.discount_foreignvalue,e._Receipt.discount_value=n.receipt.discount_value,e._Receipt.deliveryfeesforeign=n.receipt.deliveryfeesforeign,e._Receipt.deliveryfees=n.receipt.deliveryfees,e._Receipt.surchargevalueforeign=n.receipt.surchargevalueforeign,e._Receipt.surchargevalue=n.receipt.surchargevalue,e._Receipt.surchargepercent=n.receipt.surchargepercent,e._Receipt.netvalueforeign=n.receipt.netvalueforeign,e._Receipt.netvalue=n.receipt.netvalue,e._Receipt.signature=n.receipt.signature,e._Receipt.related_voucher_type=n.receipt.related_voucher_type,e._Receipt.related_voucher_code=n.receipt.related_voucher_code,e._Receipt.status_id=n.receipt.status_id,e._Receipt.approvalstatus_id=n.receipt.approvalstatus_id,e._Receipt.costing_rate=n.receipt.costing_rate,e._Receipt.approvedby_id=n.receipt.approvedby_id,e._Receipt.shipmentterm_id=n.receipt.shipmentterm_id,e._Receipt.paymentterm_id=n.receipt.paymentterm_id,e._Receipt.supplieraccount_id=n.receipt.supplieraccount_id,e._Receipt.planneddeliverydate=n.receipt.planneddeliverydate,e._Receipt.actualdeliverydate=n.receipt.actualdeliverydate,e._Receipt.deliverylocation=n.receipt.deliverylocation,e._Receipt.contactedperson=n.receipt.contactedperson,e._Receipt.othernotes=n.receipt.othernotes,e._Receipt.cashdrawerid=n.receipt.cashdrawerid,e._Receipt.leadid=n.receipt.leadid,e._Receipt.deliverynotes=n.receipt.deliverynotes,e._Receipt.cashcustomerdetailid=n.receipt.cashcustomerdetailid,e._Receipt.is_canceled=n.receipt.is_canceled,e._Receipt.fromstoreid=n.receipt.fromstoreid,e._Receipt.tostoreid=n.receipt.tostoreid,e._Receipt.isdeliveryprint=n.receipt.isdeliveryprint,e._Receipt.printcount=n.receipt.printcount,e._Receipt.iskitchendone=n.receipt.iskitchendone,e._Receipt.paidamount=n.receipt.paidamount,e._Receipt.isholded=n.receipt.isholded,e._Receipt.branchtableid=n.receipt.branchtableid,e._Receipt.customeractualdeliverdate=n.receipt.customeractualdeliverdate,e._Receipt.deliverystatusid=n.receipt.deliverystatusid,e._Receipt.deposite=n.receipt.deposite,e._Receipt.paymentandconditions=n.receipt.paymentandconditions,e._Receipt.notes=n.receipt.notes,e._Receipt.chefid=n.receipt.chefid,e._Receipt.changeamount=n.receipt.changeamount,e._Receipt.divisionid=n.receipt.divisionid,e._Receipt.divisionfieldname="ar"==e.lang?{divisionfieldname:n.receipt.division_sug_ar}:{divisionfieldname:n.receipt.division_sug},e._Receipt.courierid=n.receipt.courierid,e._Receipt.depositepaymenttypeid=n.receipt.depositepaymenttypeid,e._Receipt.creationdate=n.receipt.creationdate,e._Receipt.lastupdatedate=n.receipt.lastupdatedate,e._Receipt.createdbyid=n.receipt.createdbyid,e._Receipt.updatedbyid=n.receipt.updatedbyid,e._Receipt.receiptattributeid=n.receipt.receiptattributeid,e._Receipt.costposted=n.receipt.costposted,e._Receipt.lcaccountid=n.receipt.lcaccountid,e._Receipt.lcno=n.receipt.lcno,e._Receipt.lcbank=n.receipt.lcbank,e._Receipt.lcstartdate=n.receipt.lcstartdate,e._Receipt.lcenddate=n.receipt.lcenddate,e._Receipt.lcrenewdate=n.receipt.lcrenewdate,e._Receipt.lcrenewenddate=n.receipt.lcrenewenddate,e._Receipt.lcinsurancecompany=n.receipt.lcinsurancecompany,e._Receipt.lcpolicyno=n.receipt.lcpolicyno,e._Receipt.insurancedate=n.receipt.insurancedate,e._Receipt.gooddeliverydate=n.receipt.gooddeliverydate,e._Receipt.lccondition=n.receipt.lccondition,e._Receipt.shippingmethod=n.receipt.shippingmethod,e._Receipt.exportport=n.receipt.exportport,e._Receipt.shipname=n.receipt.shipname,e._Receipt.lcnotes=n.receipt.lcnotes,e._Receipt.quotationcustomername=n.receipt.quotationcustomername,e._Receipt.duedate=n.receipt.duedate,e._Receipt.schedule_date=n.receipt.schedule_date,e._Receipt.storetype=n.receipt.storetype,e._Receipt.quotationenddate=n.receipt.quotationenddate,e._Receipt.wostatusid=n.receipt.wostatusid,e._Receipt.parentreceiptid=n.receipt.parentreceiptid,e._Receipt.isapproved=n.receipt.isapproved,e._Receipt.replenshimenttype=n.receipt.replenshimenttype,e._Receipt.reference=n.receipt.reference,e._Receipt.replenshimentfromdate=n.receipt.replenshimentfromdate,e._Receipt.replenshimenttodate=n.receipt.replenshimenttodate,e._Receipt.cancelreasonid=n.receipt.cancelreasonid,e._Receipt.contractstartdate=n.receipt.contractstartdate,e._Receipt.contractenddate=n.receipt.contractenddate,e._Receipt.previouscontractid=n.receipt.previouscontractid,e._Receipt.erpstatus=n.receipt.erpstatus,e._Receipt.loyalitybalance=n.receipt.loyalitybalance,e._Receipt.cpno=n.receipt.cpno,e._Receipt.printing=n.receipt.printing,e._Receipt.storedelivery=n.receipt.storedelivery,e._Receipt.customerrecieve=n.receipt.customerrecieve,e._Receipt.promotionid=n.receipt.promotionid,e._Receipt.promotionpercent=n.receipt.promotionpercent,e._Receipt.promotionvalue=n.receipt.promotionvalue,e._Receipt.purchaserequeststatusid=n.receipt.purchaserequeststatusid,e._Receipt.urgent=n.receipt.urgent,e._Receipt.quotationstatusid=n.receipt.quotationstatusid,e._Receipt.salesorderstatusid=n.receipt.salesorderstatusid,e._Receipt.purchaseorderstatusid=n.receipt.purchaseorderstatusid,e._Receipt.expensesdistributionvoucherno=n.receipt.expensesdistributionvoucherno,e._Receipt.totalproductioncost=n.receipt.totalproductioncost,e._Receipt.totalvouchercost=n.receipt.totalvouchercost,e._Receipt.totalproductioncostforeign=n.receipt.totalproductioncostforeign,e._Receipt.totalvouchercostforeign=n.receipt.totalvouchercostforeign,e._Receipt.taxvalue=n.receipt.taxvalue,e._Receipt.sourceid=n.receipt.sourceid,e._Receipt.contractid=n.receipt.contractid,e._Receipt.type_id=n.receipt.type_id,e._Receipt.productionlineid=n.receipt.productionlineid,e._Receipt.linescheduleddate=n.receipt.linescheduleddate,e._Receipt.inchargepersonname=n.receipt.inchargepersonname,e._Receipt.inchargephoneno=n.receipt.inchargephoneno,e._Receipt.details=n.items,e._Receipt.details.forEach(function(e){e.storecode={code:e.storecode},e.itemcode={code:e.itemcode},e.allowqtyselectforitem=!0,e.rowno=0,e.parentrowno=0}),e._Receipt.itemscomponent=n.itemcomponents,e._Receipt.itemscomponent.forEach(function(e){e.allowqtyselectforitem=!0,e.rowno=0,e.parentrowno=0}),e.ItemUnitsList=n.itemunits,e.ItemComponentUnitsList=n.componentsunits,e._Receipt.linkedreceipts=n.linkedreceipts,e._Receipt.receiptmultipayment=n.receiptmultipayment,e.ItemsComponentList=JSON.parse(JSON.stringify(e._Receipt.itemscomponent)),e._Receipt.details.map(function(e){e.batcheslist=new Array;var i=n.batches.filter(function(t){return t.inv_receipt_d_id==e.id});e.batcheslist=t(i)}),e.ReceiptHistoryList=n.receipthistory,null==e._Receipt.qtotal||null==e._Receipt.totalitem){var i=0;e._Receipt.details.forEach(function(e){i+=e.qty}),e._Receipt.qtotal=i,e._Receipt.totalitem=n.items.length}e._ReceiptOriginal=JSON.parse(JSON.stringify(e._Receipt)),console.log(e._ReceiptOriginal),console.log(e._Receipt),e.entry_no=e._Receipt.entry_no,e.originalSalesPrice=e._Receipt.customersalesprice,e._CurrencySelected=e.CurrencyList.find(function(t){return t.id==e._Receipt.currency_id}),e.ForeignCurrencyShow=1!=e._CurrencySelected.basecurrency,1==!e.ShowModeReceipt&&e.CheckValidDateBySubsidaryID(),e.OnSelectedItem(e._Receipt.details[0],0,"selected",!0),e.cd.markForCheck()}})}},{key:"CheckPre_SaveReceipt",value:function(e){var t=this;if(e.form.valid)if(0!=this.ValidPeriod){if(1==this._Receipt.details.length&&null==this._Receipt.details[0].item_id)return this.toastr.error(this.ItemsZeroErrorMsg),this._Receipt.details.splice(0,1),void this.AddItems();for(var n=function(e){if(null==t._Receipt.details[e].item_id)t._Receipt.details.splice(e,1),e--;else{if(!(t._Receipt.details[e].qty>0))return i=e,{v:void t.toastr.error(t.qtyZeroErrorSaveMsg)};0!=t._Receipt.value?(t._Receipt.details[e].h_discount_value=t._Receipt.discount_percent/100*t._Receipt.details[e].total/t._Receipt.details[e].qty%(1/0)||0,t._Receipt.details[e].h_discount_percentage=100*(t._Receipt.details[e].h_discount_value/(t._Receipt.details[e].total/t._Receipt.details[e].qty)%(1/0)||0)):(t._Receipt.details[e].h_discount_value=0,t._Receipt.details[e].h_discount_percentage=0);var n=t.ItemUnitsList.find(function(n){return n.item_id==t._Receipt.details[e].item_id&&n.id==t._Receipt.details[e].unit_id});t._Receipt.details[e].final_conv=null!=n?(null!=n.finalconv?n.finalconv:1)*(t._Receipt.details[e].conv/n.conv):t._Receipt.details[e].conv,t._Receipt.details[e].final_conv=0==t._Receipt.details[e].final_conv?1:t._Receipt.details[e].final_conv}i=e},i=0;i<this._Receipt.details.length;i++){var r=n(i);if("object"==typeof r)return r.v}if(0==this._Receipt.details.length)return this.toastr.error(this.ItemsZeroErrorMsg),void this.AddItems();for(var a=function(e){if(t._Receipt.itemscomponent[e].qty>0){0!=t._Receipt.value?(t._Receipt.itemscomponent[e].h_discount_value=t._Receipt.discount_percent/100*t._Receipt.itemscomponent[e].total/t._Receipt.itemscomponent[e].qty%(1/0)||0,t._Receipt.itemscomponent[e].h_discount_percentage=100*(t._Receipt.itemscomponent[e].h_discount_value/(t._Receipt.itemscomponent[e].total/t._Receipt.itemscomponent[e].qty)%(1/0)||0)):(t._Receipt.itemscomponent[e].h_discount_value=0,t._Receipt.itemscomponent[e].h_discount_percentage=0);var n=t.ItemComponentUnitsList.find(function(n){return n.item_id==t._Receipt.itemscomponent[e].item_id&&n.id==t._Receipt.itemscomponent[e].unit_id});t._Receipt.itemscomponent[e].final_conv=null!=n?(null!=n.finalconv?n.finalconv:1)*(t._Receipt.itemscomponent[e].conv/n.conv):t._Receipt.itemscomponent[e].conv,t._Receipt.itemscomponent[e].final_conv=0==t._Receipt.itemscomponent[e].final_conv?1:t._Receipt.itemscomponent[e].final_conv}},o=0;o<this._Receipt.itemscomponent.length;o++)a(o);this.CheckBalanceForItemInStore(0,!0,!0)}else this.ShowPopUpFinancialPeriod();else this.activeNav="INVALID"==e.form.controls.CostCenter.status||"INVALID"==e.form.controls.Department.status||"INVALID"==e.form.controls.Classes.status||"INVALID"==e.form.controls.Location.status||"INVALID"==e.form.controls.Division.status?5:1}},{key:"SaveReceipt",value:function(){if(this._Receipt.lang=this.lang,"ar"!=this._Receipt.lang&&(this._Receipt.lang="en-US"),this._Receipt.details.filter(function(e){return 0==e.allowqtyselectforitem}).length>0)return this.toastr.error(this.qtyErrorSaveMsg),this.DuringSaveDisable=!1,void this.cd.markForCheck();this.DuringSaveDisable=!0;for(var e=0;e<this._Receipt.linkedreceipts.length;e++)0==this._Receipt.linkedreceipts[e].fire&&(this._Receipt.linkedreceipts.splice(e,1),e--);this.CheckBatchesAndSerials()}},{key:"Save",value:function(){var e=this;null==this._Receipt.id||0==this._Receipt.id?(this._Receipt.totalitem=this._Receipt.details.length,this._ReceiptSharedService.ReceiptCreate(this._Receipt).subscribe(function(t){e.DuringSaveDisable=!1,e.toastr.success(e.SaveMsg),e.ReceiptID=t.id,e._router.navigate(["/page/inventorytransiction/issuereturn/"+e.ReceiptID]).then(function(){window.location.reload()})})):(this._Receipt_h_Edit=new S.Iu,this._Receipt_h_Edit.Receipt_h=this._Receipt,this._Receipt_h_Edit.ReceiptOriginal=this._ReceiptOriginal,this._ReceiptSharedService.ReceiptUpdate(this._Receipt_h_Edit).subscribe(function(t){e.DuringSaveDisable=!1,e.toastr.success(e.SaveMsg),e._router.navigate(["/page/inventorytransiction/issuereturn/"+e.ReceiptID]).then(function(){window.location.reload()})}))}},{key:"ChangePropFinish",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.DuringSaveDisable=!0,this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.timeout=null,"EntryCode"==t?e.CheckEntryCode():"EntryDate"==t&&e.ChangeEntryDate()},1e3*n)}},{key:"CheckEntryCode",value:function(){var e=this;this._ReceiptSharedService.CheckEntryNo(this._Receipt.id,this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.entry_no,this._Receipt.branch_id).subscribe(function(t){e.DuringSaveDisable=!1,e.cd.markForCheck(),null!=t&&Me().fire({title:e.swalTitleEntry,text:e.swalTextEntry,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:e.swalConfirmButtonEntry,cancelButtonText:e.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.value?e._router.navigate(["/page/inventorytransiction/issuereturn/"+t.id]).then(function(){}):(e._Receipt.entry_no=e.entry_no,e.cd.markForCheck())})})}},{key:"GetReceiptEntryCode",value:function(){var e=this;this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(function(t){e._Receipt.entry_no=0==t.length?1:t[0].entry_no+1,e.entry_no=e._Receipt.entry_no,e.cd.markForCheck()})}},{key:"changesalesprice",value:function(e){var t=this,n=JSON.parse(localStorage.getItem("IssuePricePolicy "));null!=n&&null!=n&&localStorage.removeItem("IssuePricePolicy "),this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id||null!=this._Receipt.vendor_id?Me().fire({title:this.warning,text:this.WarningInfoLost,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(e){e.value?(t._Receipt.details=new Array,t._Receipt.itemscomponent=new Array,t._Receipt.linkedreceipts=new Array,t.ItemUnitsList=[],t.ItemComponentUnitsList=[],t.GetDefaultStoreCostCenterByBranch(!0)):t._Receipt.customersalesprice=t.originalSalesPrice,localStorage.setItem("IssuePricePolicy ",JSON.stringify({IssuePricePolicy:t._Receipt.customersalesprice}))}):(this.originalSalesPrice=this._Receipt.customersalesprice,localStorage.setItem("IssuePricePolicy ",JSON.stringify({IssuePricePolicy:this._Receipt.customersalesprice})))}},{key:"GetBranchList",value:function(){var e=this;this._ReceiptSharedService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(function(t){e.BranchList=t,e.cd.markForCheck()})}},{key:"changeBranch",value:function(e){var t=this;if(this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id||null!=this._Receipt.vendor_id)Me().fire({title:this.warning,text:this.WarningInfoLost,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){if(n.value){t._Receipt.details=new Array,t._Receipt.itemscomponent=new Array,t._Receipt.linkedreceipts=new Array,t.ItemUnitsList=[],t.ItemComponentUnitsList=[],t._Receipt.branch_id="null"==e.target.value?null:e.target.value;var i=JSON.parse(localStorage.getItem("Branch"));null!=i&&null!=i&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:t._Receipt.branch_id})),null!=t._Receipt.branch_id?(t.GetReceiptEntryCode(),t.GetDefaultStoreCostCenterByBranch(!0)):t._Receipt.entry_no=null}else{var r=JSON.parse(localStorage.getItem("Branch"));null!=r&&null!=r&&(t._Receipt.branch_id="null"==r.branchId||0==r.branchId?null:r.branchId)}});else{this._Receipt.branch_id="null"==e.target.value?null:e.target.value;var n=JSON.parse(localStorage.getItem("Branch"));null!=n&&null!=n&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._Receipt.branch_id})),null!=this._Receipt.branch_id?(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch()):this._Receipt.entry_no=null}}},{key:"GetDefaultStoreCostCenterByBranch",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];1==i&&(this._Receipt.vendor_id=null,this._Receipt.cashcustomerid=null,this._Receipt.cashcustomer_vendor_code=null,this._Receipt.cashcustomer_vendor_name=null,this._Receipt.costcenterid=null,this._Receipt.costcenterfieldname=null),1==n&&this.Calculate_Total_Tax_Net(),this._ReceiptSharedService.DefaultStoreCostCenterByBranch(this._Receipt.branch_id).subscribe(function(n){if(e.StoreCostCenterSetting=n.length>0?n[0]:{storeid:null,storecode:null,costcenterid:null,costcentername:null,costcentername_ar:null},null!=e.StoreCostCenterSetting.storeid){if(0==e._Receipt.details.length){e._CashSalesDetailsReceipt=new S.hm,e._CashSalesDetailsReceipt.transaction_move=e.Transaction_move;var r=Math.max.apply(Math,t(e._Receipt.details.map(function(e){return e.rowno})).concat([0]));e._CashSalesDetailsReceipt.rowno=r+1,e._Receipt.details.push(e._CashSalesDetailsReceipt),e._Receipt.details[0].store_id=e.StoreCostCenterSetting.storeid,e._Receipt.details[0].storecode={code:e.StoreCostCenterSetting.storecode}}1==i&&e._Receipt.details.length>0&&(e._Receipt.details.forEach(function(t){t.store_id=e.StoreCostCenterSetting.storeid,t.storecode={code:e.StoreCostCenterSetting.storecode}}),e._Receipt.itemscomponent.forEach(function(t){t.store_id=e.StoreCostCenterSetting.storeid,t.storecode={code:e.StoreCostCenterSetting.storecode}}),e.CheckBalanceForItemInStore(0,!0))}null!=e.StoreCostCenterSetting.costcenterid&&(e._Receipt.costcenterid=e.StoreCostCenterSetting.costcenterid,e._Receipt.costcenterfieldname={costcenterfieldname:"ar"==e.lang?e.StoreCostCenterSetting.costcentername_ar:e.StoreCostCenterSetting.costcentername}),e.cd.markForCheck()})}},{key:"GetCurrentUserSetting",value:function(){var e=this;this._ReceiptSharedService.GetCurrentUserSetting().subscribe(function(t){e.CurrentUserSetting=t,console.log(t),e.SetCustomerSalesPriceList()})}},{key:"SetCustomerSalesPriceList",value:function(){var e=this.CurrentUserSetting.issuepricepolicy;if(null==e||0==e){this.CustomerSalesPriceList=[{id:0,text:"Customer Price",text_ar:"\u0633\u0639\u0631 \u0627\u0644\u0639\u0645\u064a\u0644"},{id:1,text:"Price 1",text_ar:"\u0633\u0639\u0631 1"},{id:2,text:"Price 2",text_ar:"\u0633\u0639\u0631 2"},{id:3,text:"Price 3",text_ar:"\u0633\u0639\u0631 3"},{id:4,text:"Price 4",text_ar:"\u0633\u0639\u0631 4"},{id:5,text:"Cost Price",text_ar:"\u0633\u0639\u0631 \u0627\u0644\u062a\u0643\u0644\u0641\u0629"}];var t=JSON.parse(localStorage.getItem("IssuePricePolicy "));this._Receipt.customersalesprice=null!=t&&null!=t?parseInt(t.IssuePricePolicy):this.CustomerSalesPriceList[6].id}else 1==e?this.CustomerSalesPriceList=[{id:0,text:"Customer Price",text_ar:"\u0633\u0639\u0631 \u0627\u0644\u0639\u0645\u064a\u0644"}]:2==e?this.CustomerSalesPriceList=[{id:1,text:"Price 1",text_ar:"\u0633\u0639\u0631 1"}]:3==e?this.CustomerSalesPriceList=[{id:2,text:"Price 2",text_ar:"\u0633\u0639\u0631 2"}]:4==e?this.CustomerSalesPriceList=[{id:3,text:"Price 3",text_ar:"\u0633\u0639\u0631 3"}]:5==e?this.CustomerSalesPriceList=[{id:4,text:"Price 4",text_ar:"\u0633\u0639\u0631 4"}]:6==e&&(this.CustomerSalesPriceList=[{id:5,text:"Cost Price",text_ar:"\u0633\u0639\u0631 \u0627\u0644\u062a\u0643\u0644\u0641\u0629"}]),this._Receipt.customersalesprice=this.CustomerSalesPriceList[0].id;this.originalSalesPrice=this._Receipt.customersalesprice}},{key:"GetCashCustomerSettings",value:function(){var e=this;this._ReceiptSharedService.GetCashCustomerSettings(this.subsidiaryID).subscribe(function(t){null!=t||null!=t?(e.CashCustomerSetting=t,e.CashCustomerSetting.allowdecimalpack=1==e.CashCustomerSetting.allowdecimalpack?".01":"1"):e.CashCustomerSetting={allowdecimalpack:"1",enablecashcustomer:!1,salesreturneffect:"1",allowpack:!1},e.cd.markForCheck()})}},{key:"GetAllInventroySettingsBySubSidary",value:function(){var e=this;this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID).subscribe(function(t){e.InventorySetting=t,e.cd.markForCheck()})}},{key:"GetSubsaidarySetting",value:function(){var e=this;this._ReceiptSharedService.GetSubsaidarySetting(this.subsidiaryID).subscribe(function(t){null!=t&&(e.subsaidarySetting=t[0],e.cd.markForCheck())})}},{key:"GetCurrencyList",value:function(){var e=this;this._VoucherService.GetSubsidaryCurrencyList(this.subsidiaryID).subscribe(function(t){var n;t.length>0&&(e.CurrencyList=t,e._BaseCurrency=e.CurrencyList.find(function(e){return 1==e.basecurrency}),e._CurrencySelected=e._BaseCurrency,e._Currencyprecision=null!==(n=e._BaseCurrency.currencyprecision)&&void 0!==n?n:3,e._Receipt.currency_id=e._CurrencySelected.id,e._Receipt.currency_rate=Number(1..toFixed(9)),e.cd.markForCheck())})}},{key:"changeCurrency",value:function(e){var t,n=this;(console.log(e.target.value),this._CurrencySelected=this.CurrencyList.find(function(t){return t.id==e.target.value}),null!=this._CurrencySelected)?(t=""!=this._Receipt.entry_time&&null!=this._Receipt.entry_time&&null!=this._Receipt.entry_time?this._Receipt.entry_date+" "+this._Receipt.entry_time:this._Receipt.entry_date+" 23:59",this._VoucherService.GetSubsidaryCurrenciesRate(this.subsidiaryID,this._CurrencySelected.id,t,0).subscribe(function(e){n._Receipt.currency_rate=e&&e.length>0?e[0].rate.toFixed(9):Number(1..toFixed(9)),n.ForeignCurrencyShow=1!=n._CurrencySelected.basecurrency,n.Calculate_Total_Tax_Net(),n.cd.markForCheck()})):(this._CurrencySelected=null,this._Currencyprecision=3,this._Receipt.currency_rate=null,this.cd.markForCheck())}},{key:"ChangeEntryDate",value:function(){if(null!=this._Receipt.entry_date&&""!=this._Receipt.entry_date&&null!=this._Receipt.entry_date){this.CheckValidDateBySubsidaryID();for(var e=0;e<this._Receipt.details.length;e++)1==this._Receipt.details[e].haswarrenty&&null!=this._Receipt.details[e].warrantydate&&null!=this._Receipt.details[e].warrantydate&&Date.parse(this._Receipt.details[e].warrantydate.toString())<Date.parse(this._Receipt.entry_date.toString())&&(this._Receipt.details[e].warrantydate=null)}}},{key:"CheckValidDateBySubsidaryID",value:function(){var e=this;this._ReceiptSharedService.ValidDateBySubsidaryID(this._Receipt.entry_date,this.subsidiaryID).subscribe(function(t){if(e.DuringSaveDisable=!1,e.cd.markForCheck(),null!=t||null!=t){if(null!=t||null!=t){var n=Date.parse(t.subsidarystart.toString()),i=Date.parse(e._Receipt.entry_date.toString());0==t.openperiod?(e.ValidPeriod=!1,e.ShowModeReceipt=!0,e.ShowPopUpFinancialPeriod("close")):1==t.openperiod&&n<i?(e.ValidPeriod=!0,e.ShowModeReceipt=!1,e.GetMaxCostPostedSerDate()):(e.ValidPeriod=!1,e.ShowModeReceipt=!0,e.ShowPopUpFinancialPeriod())}}else e.ValidPeriod=!1,e.ShowModeReceipt=!0,e.ShowPopUpFinancialPeriod()})}},{key:"ShowPopUpFinancialPeriod",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="close"==e?this.FinancialPeriodCloseMsg:this.FinancialPeriodMsg;Me().fire({title:this.warning,text:t,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(function(e){})}},{key:"ShowPopUpCostPostedSerDate",value:function(){Me().fire({title:this.warning,text:this.CostPostingPeriodMessage,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(function(e){})}},{key:"onFocusInCustomerAccounts",value:function(e){this.GetCustomerAccountsList("")}},{key:"CustomerAccountsChangeSearch",value:function(e){this.GetCustomerAccountsList(e.query.trim())}},{key:"CustomerAccountsSelectEvent",value:function(e){var t=this;1==e.pricelistitemsonly&&(this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id)?Me().fire({title:this.warning,text:this.CustomerPricelistMsg,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.value?(t._Receipt.details=new Array,t._Receipt.itemscomponent=new Array,t._Receipt.linkedreceipts=new Array,t.ItemUnitsList=[],t.ItemComponentUnitsList=[],t._Receipt.vendor_id=e.accountid,t._Receipt.cashcustomer_vendor_name="ar"!=t.lang?e.name:e.name_ar,t.PriceListItemsOnly=e.pricelistitemsonly,null!=e.salesmanid&&0!=e.salesmanid&&""!=e.salesmanid&&(t._Receipt.empoyee_id=e.salesmanid),null!=e.cutomerdiscount&&null!=e.cutomerdiscount&&(t._Receipt.discount_percent=e.cutomerdiscount),null!=e.internalreferencenum&&""!=e.internalreferencenum&&null!=e.cutomerdiscount&&(t._Receipt.reference_no=e.internalreferencenum),t.GetCustomerCostCenter()):t.GetDefaultStoreCostCenterByBranch(!1)}):(this._Receipt.vendor_id=e.accountid,this._Receipt.cashcustomer_vendor_name="ar"!=this.lang?e.name:e.name_ar,this.PriceListItemsOnly=e.pricelistitemsonly,null!=e.salesmanid&&0!=e.salesmanid&&""!=e.salesmanid&&(this._Receipt.empoyee_id=e.salesmanid),null!=e.cutomerdiscount&&null!=e.cutomerdiscount&&(this._Receipt.discount_percent=e.cutomerdiscount),null!=e.internalreferencenum&&""!=e.internalreferencenum&&null!=e.cutomerdiscount&&(this._Receipt.reference_no=e.internalreferencenum),this.GetCustomerCostCenter())}},{key:"GetCustomerAccountsList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._CustomerService.CustomerAccountsList(this.subsidiaryID,t).subscribe(function(t){e.CustomerAccountsList=[],e.CustomerAccountsList=t,e.cd.markForCheck()})}},{key:"GetCustomerCostCenter",value:function(){var e=this;this._ReceiptSharedService.GetCustomerCostCenter(this.subsidiaryID,this._Receipt.vendor_id).subscribe(function(t){e.CustomerCostCenterList=[],e.CustomerCostCenterList=t,e.CustomerCostCenterList.length>0?(e._Receipt.costcenterid=e.CustomerCostCenterList[0].id,e._Receipt.costcenterfieldname="ar"==e.lang?{costcenterfieldname:e.CustomerCostCenterList[0].sugar}:{costcenterfieldname:e.CustomerCostCenterList[0].sug}):e.GetDefaultStoreCostCenterByBranch(!0,!1),e.cd.markForCheck()})}},{key:"onFocusInOtherAccounts",value:function(e){this.GetOtherAccountsList("")}},{key:"OtherAccountsChangeSearch",value:function(e){this.GetOtherAccountsList(e.query.trim())}},{key:"GetOtherAccountsList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetTransactionAccountList(this.subsidiaryID,t).subscribe(function(t){e.OtherAccountsList=[],e.OtherAccountsList=t,e.cd.markForCheck()})}},{key:"onFocusInStore",value:function(e,t){t==this._Receipt.details.length-1&&this.AddItems(),this.GetStoreList("")}},{key:"StoreChangeSearch",value:function(e,t){this.GetStoreList(e.query.trim())}},{key:"StoreSelectEvent",value:function(e,t){this._Receipt.details[t].store_id=e.id,this._Receipt.details.forEach(function(t){t.store_id=e.id,t.storecode=e}),this._Receipt.itemscomponent.forEach(function(t){t.store_id=e.id,t.storecode=e.code}),this.CheckBalanceForItemInStore(0,!0)}},{key:"GetStoreList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetStoreList(this.subsidiaryID,t).subscribe(function(t){e.StoreList=[],e.StoreList=t,e.cd.markForCheck()})}},{key:"onClearItems",value:function(e){var n=this._Receipt.details[e];if(3==n.item_type&&this._Receipt.itemscomponent.length>0&&this._Receipt.itemscomponent.filter(function(e){return e.finishedproductid==n.item_id}).length>0)if(null!=n.id)for(var i=0;i<this._Receipt.itemscomponent.length;i++)this._Receipt.itemscomponent[i].finishedproductid==n.item_id&&this._Receipt.itemscomponent[i].finishedreceipt_did==n.id&&(this._Receipt.itemscomponent.splice(i,1),i--);else null==n.id&&(this._Receipt.itemscomponent=this._Receipt.itemscomponent.filter(function(e){return e.parentrowno!=n.rowno}));if(null!=this._Receipt.details[e].id){var r=Math.max.apply(Math,t(this._Receipt.details.map(function(e){return e.rowno})).concat([0]));this._Receipt.details[e].rowno=r+1}this._Receipt.details[e].id=null,this._Receipt.details[e].finishedproductid=null,this._Receipt.details[e].finishedreceipt_did=null,this._Receipt.details[e].item_id=null,this._Receipt.details[e].itemname=null,this._Receipt.details[e].itemname_ar=null}},{key:"onFocusInItems",value:function(e,t){this.GetItemsList("")}},{key:"ItemsChangeSearch",value:function(e,t){var n=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){n.timeout=null,n.GetItemsList(e.query.trim())},300)}},{key:"ItemsSelectEvent",value:function(e,t){null!=this._Receipt.details[t].item_id&&this.onClearItems(t),0==e.stopinventorytransactions?(t==this._Receipt.details.length-1&&(this.InventorySetting?this.InventorySetting[0].permissiontorepeatiteminvoucher&&null!=this.InventorySetting[0].permissiontorepeatiteminvoucher&&null!=this.InventorySetting[0].permissiontorepeatiteminvoucher?this.AddItems():this._Receipt.details.some(function(t){return t.item_id==e.id})?this.duplicateItemSwalPopUp(t):this.AddItems():this.AddItems()),this._Receipt.details[t].item_id=e.id,this._Receipt.details[t].itemname=e.name,this._Receipt.details[t].itemname_ar=e.name_ar,this.GetItemDataDetailsLists(e,t)):(this._Receipt.details[t]=new S.hm,0==this._Receipt.id?(this._Receipt.details[t].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[t].storecode={code:this.StoreCostCenterSetting.storecode}):(this._Receipt.details[t].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.details[t].storecode=this._ReceiptOriginal.details[0].storecode),this.cd.markForCheck(),this.toastr.error(this.StopInventoryErrorMsg))}},{key:"duplicateItemSwalPopUp",value:function(e){var t=this;Me().fire({title:this.warning,text:this.cantNotDuplicateItem,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(function(n){t.onClearItems(e),t._Receipt.details[e].itemcode=null,t.cd.markForCheck()})}},{key:"GetItemsList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";0==this.PriceListItemsOnly?this._ReceiptSharedService.GetItemsDataList(this.subsidiaryID,t).subscribe(function(t){e.ItemsList=[],e.ItemsList=t,e.cd.markForCheck()}):1==this.PriceListItemsOnly&&this._ReceiptSharedService.GetItemsDataFromCustomerPriceList(this.subsidiaryID,this._Receipt.vendor_id,t).subscribe(function(t){e.ItemsList=[],e.ItemsList=t,e.cd.markForCheck()})}},{key:"GetItemDataDetailsLists",value:function(e,t){var n=this;this._Receipt.details[t].id=null,this._Receipt.details[t].finishedproductid=null,this._Receipt.details[t].finishedreceipt_did=null,this._Receipt.details[t].conv=1,this._Receipt.details[t].final_conv=1,this._Receipt.details[t].qty=1,this._Receipt.details[t].price=0,this._Receipt.details[t].discount_percent=0,this._Receipt.details[t].discount_value=0,this._Receipt.details[t].total=0,this._Receipt.details[t].notes="",this._Receipt.details[t].unit_id=null,this._ReceiptSharedService.GetItemDataDetailsLists(this.subsidiaryID,e.id).subscribe(function(i){0==i.itemunits.length?(n._Receipt.details[t]=new S.hm,n._Receipt.details[t].isrequireserial=i.item.isrequireserial,n._Receipt.details[t].allowtax=i.item.allowtax,0==n._Receipt.id?(n._Receipt.details[t].store_id=n.StoreCostCenterSetting.storeid,n._Receipt.details[t].storecode={code:n.StoreCostCenterSetting.storecode}):(n._Receipt.details[t].store_id=n._ReceiptOriginal.details[0].store_id,n._Receipt.details[t].storecode=n._ReceiptOriginal.details[0].storecode),n.toastr.error(n.NoUnits)):3==e.item_type&&0==i.itemcomponents.length?(n._Receipt.details[t]=new S.hm,n._Receipt.details[t].isrequireserial=i.item.isrequireserial,n._Receipt.details[t].allowtax=i.item.allowtax,0==n._Receipt.id?(n._Receipt.details[t].store_id=n.StoreCostCenterSetting.storeid,n._Receipt.details[t].storecode={code:n.StoreCostCenterSetting.storecode}):(n._Receipt.details[t].store_id=n._ReceiptOriginal.details[0].store_id,n._Receipt.details[t].storecode=n._ReceiptOriginal.details[0].storecode),n.toastr.error(n.NOComponents)):(n._Receipt.details[t].isrequireserial=i.item.isrequireserial,n._Receipt.details[t].allowtax=i.item.allowtax,n._Receipt.details[t].notes=i.item.notes,n._Receipt.details[t].item_type=i.item.item_type,n._Receipt.details[t].qty=1,n._Receipt.details[t].haswarrenty=i.item.haswarrenty,n._Receipt.details[t].warrantydate=i.item.haswarrenty?n.getwarrantydateDate():null,n.ItemUnitsList.length>0?0==n.ItemUnitsList.filter(function(t){return t.item_id==e.id}).length&&(n.ItemUnitsList=n.ItemUnitsList.concat(i.itemunits)):n.ItemUnitsList=n.ItemUnitsList.concat(i.itemunits),n._Receipt.details[t].unit_id=e.inventory_unitid,i.componentsunits.length>0&&(n.ItemComponentUnitsList=n.ItemComponentUnitsList.concat(i.componentsunits)),i.itemcomponents.length>0&&i.itemcomponents.forEach(function(e){var i=new S.hm;i.item_id=e.itemcomponentid,i.finishedproductid=e.item_id,i.itemname=e.itemname,i.itemname_ar=e.itemname_ar,i.itemcode=e.itemcode,i.unit_id=e.itemcomponentunitid,i.qty=e.itemcomponentqty,i.basicqtycomponent=e.itemcomponentqty,i.conv=e.itemcomponentconv,i.itemcode=e.itemcode,i.price=0,i.total=i.price*i.qty,i.store_id=n._Receipt.details[t].store_id,i.transaction_move=n.Transaction_move,i.item_type=e.item_type,i.storecode=null!=n._Receipt.details[t].storecode?n._Receipt.details[t].storecode.code:null,i.parentrowno=n._Receipt.details[t].rowno,n._Receipt.itemscomponent.push(i)}),n.ChangeItemUnits(e.inventory_unitid,t)),n.cd.markForCheck()})}},{key:"ChangeItemUnits",value:function(e,t){var n=this;e.toString().includes(":")&&(e=e.split(":")[1].trim());var i=this._Receipt.details[t].item_id,r=this.ItemUnitsList.filter(function(t){return t.item_id==i&&t.id==e});5==this._Receipt.customersalesprice?null!=this._Receipt.details[t].item_id&&null!=this._Receipt.details[t].unit_id&&this._ReceiptSharedService.GetItemCostAtDateStore(this._Receipt.details[t].item_id,this._Receipt.details[t].unit_id,0,this._Receipt.entry_date+" "+this._Receipt.entry_time).subscribe(function(e){console.log(e),e.length>0?(n._Receipt.details[t].price=Number((e[0].avgcost||0).toFixed(n._Currencyprecision)),n._Receipt.details[t].conv=r[0].conv,n._Receipt.details[t].final_conv=r[0].finalconv,n.OnSelectedItem(n._Receipt.details[t],t),n.CalaculteValuesItemsRow(t)):(n._Receipt.details[t].price=Number((0).toFixed(n._Currencyprecision)),n._Receipt.details[t].conv=r[0].conv,n._Receipt.details[t].final_conv=r[0].finalconv,n.OnSelectedItem(n._Receipt.details[t],t),n.CalaculteValuesItemsRow(t))}):this._ReceiptSharedService.GetItemSalesPrice(this._Receipt.vendor_id,i,e,this._Receipt.customersalesprice).subscribe(function(e){e.customerprice.length>0&&(n._Receipt.details[t].price=e.customerprice[0].saleprice,5==e.customerdiscount.customersalesprice?(n._Receipt.details[t].conv=e.customerprice[0].itemconv,n._Receipt.details[t].discount_value=e.customerprice[0].discountvalue,n._Receipt.details[t].discount_percent=e.customerprice[0].discountpercentage,n._Receipt.details[t].unit_id=e.customerprice[0].itemunitid):(n._Receipt.details[t].conv=r[0].conv,n._Receipt.details[t].final_conv=r[0].finalconv),n.OnSelectedItem(n._Receipt.details[t],t),n.CalaculteValuesItemsRow(t))}),this.cd.markForCheck()}},{key:"ChangePackItem",value:function(e){var t=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.timeout=null;var n=0,i=0,r=t.ItemUnitsList.filter(function(n){return n.item_id==t._Receipt.details[e].item_id&&n.id==t._Receipt.details[e].unit_id});i=r[0].conv,5==t._Receipt.customersalesprice?t._ReceiptSharedService.GetItemCostAtDateStore(t._Receipt.details[e].item_id,t._Receipt.details[e].unit_id,0,t._Receipt.entry_date+" "+t._Receipt.entry_time).subscribe(function(r){console.log(r),r.length>0?(n=Number((r[0].avgcost||0).toFixed(t._Currencyprecision)),t._Receipt.details[e].price=n*t._Receipt.details[e].conv/i,t.OnSelectedItem(t._Receipt.details[e],e),t.CalaculteValuesItemsRow(e)):(n=0,t._Receipt.details[e].price=n*t._Receipt.details[e].conv/i,t.OnSelectedItem(t._Receipt.details[e],e),t.CalaculteValuesItemsRow(e))}):t._ReceiptSharedService.GetItemSalesPrice(t._Receipt.vendor_id,t._Receipt.details[e].item_id,t._Receipt.details[e].unit_id,t._Receipt.customersalesprice).subscribe(function(r){r.customerprice.length>0&&(n=r.customerprice[0].saleprice,5==r.customerdiscount.customersalesprice&&(i=r.customerprice[0].itemconv),t._Receipt.details[e].price=n*t._Receipt.details[e].conv/i,t.OnSelectedItem(t._Receipt.details[e],e),t.CalaculteValuesItemsRow(e))}),t.cd.markForCheck()},1e3)}},{key:"ChangeQty",value:function(e){var t=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){if(t.timeout=null,3==t._Receipt.details[e].item_type)if(t.ItemsComponentList=new Array,null!=t._Receipt.details[e].id)!function(){for(var n=t._Receipt.details[e],i=function(e){if(t._Receipt.itemscomponent[e].finishedproductid==n.item_id&&t._Receipt.itemscomponent[e].finishedreceipt_did==n.id){var i=t._ReceiptOriginal.details.find(function(e){return e.id==n.id}).qty,r=t._ReceiptOriginal.itemscomponent.find(function(i){return i.finishedreceipt_did==n.id&&i.id==t._Receipt.itemscomponent[e].id}).qty;t._Receipt.itemscomponent[e].basicqtycomponent=r/i,t._Receipt.itemscomponent[e].qty=t._Receipt.itemscomponent[e].basicqtycomponent*n.qty,t.ItemsComponentList.push(t._Receipt.itemscomponent[e])}},r=0;r<t._Receipt.itemscomponent.length;r++)i(r)}();else if(null==t._Receipt.details[e].id)for(var n=t._Receipt.details[e],i=0;i<t._Receipt.itemscomponent.length;i++)t._Receipt.itemscomponent[i].finishedproductid==n.item_id&&null==t._Receipt.itemscomponent[i].id&&t._Receipt.itemscomponent[i].parentrowno==n.rowno&&(t._Receipt.itemscomponent[i].qty=t._Receipt.itemscomponent[i].basicqtycomponent*n.qty,t.ItemsComponentList.push(t._Receipt.itemscomponent[i]));t.StockBalances(e),t.CheckBalanceForItemInStore(e),t.CalaculteValuesItemsRow(e)},1e3)}},{key:"OnSelectedItem",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.show_all_component=i,0==this.show_all_component)if(this.ItemsComponentList=new Array,this.SelectedItem=e,null!=e&&3==e.item_type){var r=e;if(null!=r.id)for(var a=0;a<this._Receipt.itemscomponent.length;a++)this._Receipt.itemscomponent[a].finishedproductid==r.item_id&&this._Receipt.itemscomponent[a].finishedreceipt_did==r.id&&this.ItemsComponentList.push(this._Receipt.itemscomponent[a]);else null==r.id&&(this.ItemsComponentList=this._Receipt.itemscomponent.filter(function(e){return e.finishedproductid==r.item_id&&null==e.id&&e.parentrowno==r.rowno}))}else this.ItemsComponentList=[];else this.show_all_component=!0,this.cd.markForCheck();this.itemqtyview=!1,null!=t&&this.StockBalances(t),""==n&&null!=t&&this.CheckBalanceForItemInStore(t)}},{key:"AddItems",value:function(){if(this._CashSalesDetailsReceipt=new S.hm,this._Receipt.details.length>0){this._CashSalesDetailsReceipt.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,this._CashSalesDetailsReceipt.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode;var e=0;this._Receipt.details.forEach(function(t){e+=t.qty}),this._Receipt.qtotal=e,this._Receipt.totalitem=this._Receipt.details.length}else{0==this._Receipt.id?(this._CashSalesDetailsReceipt.store_id=this.StoreCostCenterSetting.storeid,this._CashSalesDetailsReceipt.storecode={code:this.StoreCostCenterSetting.storecode}):(this._CashSalesDetailsReceipt.store_id=this._ReceiptOriginal.details[0].store_id,this._CashSalesDetailsReceipt.storecode=this._ReceiptOriginal.details[0].storecode);var n=0;this._Receipt.details.forEach(function(e){n+=e.qty}),this._Receipt.qtotal=n,this._Receipt.totalitem=this._Receipt.details.length}this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move;var i=Math.max.apply(Math,t(this._Receipt.details.map(function(e){return e.rowno})).concat([0]));this._CashSalesDetailsReceipt.rowno=i+1,this._Receipt.details.push(this._CashSalesDetailsReceipt),this.cd.markForCheck()}},{key:"DeleteItems",value:function(e){this.itemqtyview=!1;var t=this._Receipt.details[e];if(null==t.batcheslist||-1==t.batcheslist.findIndex(function(e){return e.solidquantity>0})){if(this._Receipt.itemscomponent.length>0&&this._Receipt.itemscomponent.filter(function(e){return e.finishedproductid==t.item_id}).length>0)if(null!=t.id)for(var n=0;n<this._Receipt.itemscomponent.length;n++)this._Receipt.itemscomponent[n].finishedproductid==t.item_id&&this._Receipt.itemscomponent[n].finishedreceipt_did==t.id&&(this._Receipt.itemscomponent.splice(n,1),n--);else null==t.id&&(this._Receipt.itemscomponent=this._Receipt.itemscomponent.filter(function(e){return e.parentrowno!=t.rowno}));1==this._Receipt.details.filter(function(e){return e.item_id==t.item_id}).length&&(this.ItemUnitsList=this.ItemUnitsList.filter(function(e){return e.item_id!=t.item_id})),this._Receipt.details.splice(e,1),0==this._Receipt.details.length&&(this._Receipt.discount_percent=0,this._Receipt.discount_foreignpercent=0,this._Receipt.deliveryfees=0,this._Receipt.deliveryfeesforeign=0,this._Receipt.discount_value=0,this._Receipt.discount_foreignvalue=0,this._Receipt.value=0,this._Receipt.valueforeign=0,this._Receipt.surchargevalueforeign=0,this._Receipt.surchargevalue=0),this.Calculate_Total_Tax_Net(),this._Receipt.totalitem=this._Receipt.details.length,this.OnSelectedItem(null),this.cd.markForCheck()}else this.toastr.error(this.DeleteUsedBatchesOrSerials)}},{key:"CalaculteValuesItemsRow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"percent";this._Receipt.details[e].qty=this._Receipt.details[e].qty||0,this._Receipt.details[e].price=this._Receipt.details[e].price||0,this._Receipt.details[e].discount_value=this._Receipt.details[e].discount_value||0,this._Receipt.details[e].discount_percent=this._Receipt.details[e].discount_percent||0;var n=Number((this._Receipt.details[e].price*this._Receipt.details[e].qty).toFixed(this._Currencyprecision));"percent"==t&&(this._Receipt.details[e].discount_value=Number(((n*this._Receipt.details[e].discount_percent||0)/100).toFixed(this._Currencyprecision))),"value"==t&&(this._Receipt.details[e].discount_percent=100*(this._Receipt.details[e].discount_value/n%(1/0)||0)),this._Receipt.details[e].total=Number((n-this._Receipt.details[e].discount_value).toFixed(this._Currencyprecision)),this.Calculate_Total_Tax_Net(),this.cd.markForCheck()}},{key:"ReCalaculteValuesChangeItemsRow",value:function(e){this._Receipt.details[e].qty=this._Receipt.details[e].qty||1,this._Receipt.details[e].price=this._Receipt.details[e].price||0,this._Receipt.details[e].discount_value=this._Receipt.details[e].discount_value||0,this._Receipt.details[e].discount_percent=this._Receipt.details[e].discount_percent||0,this._Receipt.details[e].total=Number((this._Receipt.details[e].total||0).toFixed(this._Currencyprecision)),0==this._Receipt.details[e].discount_value?this._Receipt.details[e].price=Number((this._Receipt.details[e].total/this._Receipt.details[e].qty%(1/0)||0).toFixed(this._Currencyprecision)):0!=this._Receipt.details[e].discount_value&&(this._Receipt.details[e].price=Number(((this._Receipt.details[e].total+this._Receipt.details[e].discount_value)/this._Receipt.details[e].qty%(1/0)||0).toFixed(this._Currencyprecision)),this._Receipt.details[e].discount_percent=100*(this._Receipt.details[e].discount_value/(this._Receipt.details[e].price*this._Receipt.details[e].qty)%(1/0)||0)),this.Calculate_Total_Tax_Net(),this.cd.markForCheck()}},{key:"onFocusInCostCenter",value:function(e){this.GetCostCenterList("")}},{key:"CostCenterChangeSearch",value:function(e,t){this.GetCostCenterList(e.query.trim())}},{key:"CostCenterSelectEvent",value:function(e){this._Receipt.costcenterid=e.id}},{key:"GetCostCenterList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetCostcenterTransactionsbycertainIDS(this.subsidiaryID,t,this._Receipt.vendor_id).subscribe(function(t){e.CostCenterList=[],e.CostCenterList=t,e.CostCenterList.length>0&&e.setFieldNameForArray(e.CostCenterList,"costcenter"),e.cd.markForCheck()})}},{key:"onFocusInLocations",value:function(e){this.GetLocationsList("")}},{key:"LocationsChangeSearch",value:function(e,t){this.GetLocationsList(e.query.trim())}},{key:"LocationsSelectEvent",value:function(e){this._Receipt.locationid=e.id}},{key:"GetLocationsList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetSubsidaryLocations(this.subsidiaryID,t).subscribe(function(t){e.CostCenterList=[],e.LocationList=[],e.LocationList=t,e.LocationList.length>0&&e.setFieldNameForArray(e.LocationList,"location"),e.cd.markForCheck()})}},{key:"onFocusInClasses",value:function(e){this.GetClassesList("")}},{key:"ClassesChangeSearch",value:function(e,t){this.GetClassesList(e.query.trim())}},{key:"ClassesSelectEvent",value:function(e){this._Receipt.classid=e.id}},{key:"GetClassesList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetSubsidaryClasses(this.subsidiaryID,t).subscribe(function(t){e.CostCenterList=[],e.ClassList=[],e.ClassList=t,e.ClassList.length>0&&e.setFieldNameForArray(e.ClassList,"class"),e.cd.markForCheck()})}},{key:"onFocusInDepartment",value:function(e){this.GetDepartmentList("")}},{key:"DepartmentChangeSearch",value:function(e,t){this.GetDepartmentList(e.query.trim())}},{key:"DepartmentSelectEvent",value:function(e){this._Receipt.departmentid=e.id}},{key:"GetDepartmentList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetSubsidaryDepartments(this.subsidiaryID,t).subscribe(function(t){e.CostCenterList=[],e.DepartmentList=[],e.DepartmentList=t,e.DepartmentList.length>0&&e.setFieldNameForArray(e.DepartmentList,"department"),e.cd.markForCheck()})}},{key:"setFieldNameForArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=0;n<e.length;n++){var i=e[n];"costcenter"==t?i.costcenterfieldname="ar"==this.lang?i.sugar:i.sug:"location"==t?i.locationfieldname="ar"==this.lang?i.sugar:i.sug:"class"==t?i.classfieldname="ar"==this.lang?i.sugar:i.sug:"department"==t?i.departmentfieldname="ar"==this.lang?i.sugar:i.sug:"division"==t&&(i.divisionfieldname="ar"==this.lang?i.sugar:i.sug)}}},{key:"GetReceiptCodeList",value:function(){var e=this;this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID).subscribe(function(t){e.ReceiptCodeList=t;var n=e.ReceiptCodeList.find(function(t){return t.code==e.BasicCodeReceipt});e.Transaction_move=n.items,e.cd.markForCheck()})}},{key:"AddLinkedReceipt",value:function(){this._LinkedReceipt=new S.Cb,this._LinkedReceipt.code=this.BasicCodeReceipt,this._LinkedReceipt.branch_id=this._Receipt.branch_id,this._Receipt.linkedreceipts.push(this._LinkedReceipt),this.cd.markForCheck()}},{key:"GetLinkedReceipt",value:function(e){var t=this,n=this._Receipt.linkedreceipts[e];this.ItemLinkedReceipt=[],this.ItemComponentsLinkedReceipt=[],null!=n.branch_id&&null!=n.code&&null!=n.entry_no&&n.entry_no>0&&0==n.fire&&(this._Receipt.linkedreceipts[e].fire=1,this.spinner.show(),this._ReceiptSharedService.GetReceiptForLinkedReceipt(n.branch_id,n.code,n.entry_no).subscribe(function(i){if(t.spinner.hide(),null==i.receipt.id)t._Receipt.linkedreceipts[e].fire=0,t.toastr.error(t.ReceiptNotFound);else if(i.items.length>0)if(1==t._Receipt.linkedreceipts.length&&(t._Receipt.subsidiaryid=i.receipt.subsidiaryid,t._Receipt.customersalesprice=null!=i.receipt.customersalesprice?i.receipt.customersalesprice:t._Receipt.customersalesprice,t._Receipt.payment_type=null!=i.receipt.payment_type?i.receipt.payment_type:t._Receipt.payment_type,t._Receipt.vendor_id=null!=i.receipt.vendor_id?i.receipt.vendor_id:t._Receipt.vendor_id,t._Receipt.cashcustomerid=null!=i.receipt.cashcustomerid?i.receipt.cashcustomerid:t._Receipt.cashcustomerid,t._Receipt.discount_foreignpercent=i.receipt.discount_foreignpercent,t._Receipt.discount_percent=i.receipt.discount_percent,t._Receipt.discount_foreignvalue=i.receipt.discount_foreignvalue,t._Receipt.discount_value=i.receipt.discount_value,null!=t._Receipt.vendor_id&&(t._Receipt.cashcustomer_vendor_code={code:i.receipt.vendorcode},t._Receipt.cashcustomer_vendor_name="ar"==t.lang?i.receipt.vendornamear:i.receipt.vendorname,t._Receipt.vendor_balance=null!=i.receipt.vendor_balance?i.receipt.vendor_balance:t._Receipt.vendor_balance,t.PriceListItemsOnly=i.receipt.pricelistitemsonly),null!=t._Receipt.cashcustomerid&&(t._Receipt.cashcustomer_vendor_code={phonenumber:i.receipt.phonenumber},t._Receipt.cashcustomer_vendor_name="ar"==t.lang?i.receipt.cashcustomername_ar:i.receipt.cashcustomername,t.PriceListItemsOnly=!1),t._Receipt.currency_id=i.receipt.currency_id,t._Receipt.currency_rate=i.receipt.currency_rate,t._Receipt.empoyee_id=null!=i.receipt.empoyee_id?i.receipt.empoyee_id:t._Receipt.empoyee_id,t._Receipt.memo=i.receipt.memo,t._Receipt.reference_no=i.receipt.reference_no,t._CurrencySelected=t.CurrencyList.find(function(e){return e.id==t._Receipt.currency_id}),t.ForeignCurrencyShow=1!=t._CurrencySelected.basecurrency),0==t.PriceListItemsOnly||i.receipt.vendor_id==t._Receipt.vendor_id){t._Receipt.linkedreceipts[e].fire=1,t._Receipt.linkedreceipts[e].receiptid=i.receipt.id,t._Receipt.linkedreceipts[e].subsidiaryid=t.subsidiaryID,t._Receipt.linkedreceipts[e].parentreceiptid=t._Receipt.id;for(var r=0;r<t._Receipt.details.length;r++)null==t._Receipt.details[r].item_id&&(t._Receipt.details.splice(r,1),r--);if(i.itemunits.forEach(function(e){0==t.ItemUnitsList.filter(function(t){return t.item_id==e.item_id&&t.id==e.unit_id}).length&&t.ItemUnitsList.push(e)}),i.itemcomponents.length>0&&(t.ItemComponentsLinkedReceipt=i.itemcomponents,81==i.receipt.code&&(t.ItemComponentsLinkedReceipt=t.ItemComponentsLinkedReceipt.filter(function(e){return-1==e.transaction_move})),t.ItemComponentUnitsList=t.ItemComponentUnitsList.concat(i.componentsunits)),t.ItemLinkedReceipt=i.items,81==i.receipt.code&&(t.ItemLinkedReceipt=t.ItemLinkedReceipt.filter(function(e){return-1==e.transaction_move})),t.SetLinkReceiptItemRow(0,t.ItemLinkedReceipt[0]),60==n.code||51==n.code||52==n.code){var a=i.batches;a.length>0&&t._Receipt.details.map(function(e){e.batcheslist=new Array;for(var n=function(n){a[n].inv_receipt_d_id==e.linkedreceiptid&&t._ReceiptSharedService.GetStoreByID(e.store_id).subscribe(function(i){var r,o,c=new Ee.WB;c.storeid=e.store_id,c.storename=null!==(r=null==i?void 0:i.name)&&void 0!==r?r:"",c.storename_ar=null!==(o=null==i?void 0:i.name_ar)&&void 0!==o?o:"",c.qty=a[n].quantity,c.date=a[n].expire_date.split("T")[0],c.batchno=a[n].serial,c.serial=e.batcheslist.length>0?e.batcheslist.length+1:1,c.fromOutSide=!0,e.batcheslist.push(c),t.cd.markForCheck()})},i=0;i<a.length;i++)n(i)})}}else t._Receipt.linkedreceipts[e].fire=0,t.spinner.hide(),t.toastr.info(t.CustomerPricelistMsg);else t._Receipt.linkedreceipts[e].fire=0,t.toastr.error(t.Receiptnoitems),t._Receipt.linkedreceipts[e].entry_no=null,t.cd.markForCheck()}))}},{key:"SetLinkReceiptItemRow",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1?arguments[1]:void 0;this._CashSalesDetailsReceipt=new S.hm;var r=this._Receipt.details.findIndex(function(e){return e.item_id==i.item_id&&e.unit_id==i.unit_id&&e.conv==i.conv});if(-1==r){this._Receipt.details.length>0?(this._CashSalesDetailsReceipt.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,this._CashSalesDetailsReceipt.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode):(this._CashSalesDetailsReceipt.store_id=i.store_id,this._CashSalesDetailsReceipt.storecode={code:i.storecode}),this._CashSalesDetailsReceipt.linkedreceiptid=i.id,this._CashSalesDetailsReceipt.item_id=i.item_id,this._CashSalesDetailsReceipt.itemcode={code:i.itemcode},this._CashSalesDetailsReceipt.itemname=i.itemname,this._CashSalesDetailsReceipt.itemname_ar=i.itemname_ar,this._CashSalesDetailsReceipt.unit_id=i.unit_id,this._CashSalesDetailsReceipt.conv=i.conv,this._CashSalesDetailsReceipt.qty=i.qty,this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move,this._CashSalesDetailsReceipt.isrequireserial=i.isrequireserial,this._CashSalesDetailsReceipt.item_type=i.item_type,this._CashSalesDetailsReceipt.notes=i.notes,this._CashSalesDetailsReceipt.haswarrenty=i.haswarrenty,this._CashSalesDetailsReceipt.warrantydate=i.warrantydate,this._CashSalesDetailsReceipt.detailshtml=i.detailshtml,this._CashSalesDetailsReceipt.customitemname=i.customitemname,this._CashSalesDetailsReceipt.salesmanid=i.salesmanid,this._CashSalesDetailsReceipt.price=0!=i.priceafterincrease&&null!=i.priceafterincrease?i.priceafterincrease:i.price,this._CashSalesDetailsReceipt.discount_percent=i.discount_percent,this._CashSalesDetailsReceipt.discount_value=i.discount_value,this._CashSalesDetailsReceipt.total=i.total;var a=Math.max.apply(Math,t(this._Receipt.details.map(function(e){return e.rowno})).concat([0]));this._CashSalesDetailsReceipt.rowno=a+1,3==i.item_type&&this.ItemComponentsLinkedReceipt.filter(function(e){return e.finishedproductid==i.item_id&&e.finishedreceipt_did==i.id}).forEach(function(t){var n=new S.hm;n.store_id=e._CashSalesDetailsReceipt.store_id,n.storecode=e._CashSalesDetailsReceipt.storecode.code,n.item_id=t.item_id,n.itemcode=t.itemcode,n.itemname=t.itemname,n.itemname_ar=t.itemname_ar,n.unit_id=t.unit_id,n.conv=t.conv,n.qty=t.qty,n.basicqtycomponent=t.qty/e._CashSalesDetailsReceipt.qty||0,n.price=t.price,n.discount_value=t.discount_value,n.discount_percent=t.discount_percent,n.total=t.total,n.transaction_move=e.Transaction_move,n.finishedproductid=t.finishedproductid,n.item_type=t.item_type,n.notes=t.notes,n.haswarrenty=t.haswarrenty,n.warrantydate=t.warrantydate,n.detailshtml=t.detailshtml,n.customitemname=t.customitemname,n.salesmanid=t.salesmanid,n.parentrowno=e._CashSalesDetailsReceipt.rowno,e._Receipt.itemscomponent.push(n)}),this.ItemUnitsList.filter(function(e){return e.item_id==i.item_id&&e.id==i.unit_id}),this._Receipt.details.push(this._CashSalesDetailsReceipt),this.CalaculteValuesItemsRow(this._Receipt.details.length-1),n+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(n+1,this.ItemLinkedReceipt[n+1]):this.SetLinkReceiptItemFinished()}else{if(this._Receipt.details[r].qty=this._Receipt.details[r].qty+parseFloat(i.qty),3==i.item_type){var o=this.ItemComponentsLinkedReceipt.filter(function(e){return e.finishedproductid==i.item_id&&e.finishedreceipt_did==i.id});if(null!=this._Receipt.details[r].id)for(var c=this._Receipt.details[r],l=function(t){e._Receipt.itemscomponent[t].finishedproductid==c.item_id&&e._Receipt.itemscomponent[t].finishedreceipt_did==c.id&&(d=o.find(function(n){return n.item_id==e._Receipt.itemscomponent[t].item_id}),e._Receipt.itemscomponent[t].qty=e._Receipt.itemscomponent[t].qty+parseFloat(d.qty))},s=0;s<this._Receipt.itemscomponent.length;s++){var d;l(s)}else if(null==this._Receipt.details[r].id)for(var p=this._Receipt.details[r],u=function(t){e._Receipt.itemscomponent[t].finishedproductid==p.item_id&&null==e._Receipt.itemscomponent[t].id&&e._Receipt.itemscomponent[t].parentrowno==p.rowno&&(d=o.find(function(n){return n.item_id==e._Receipt.itemscomponent[t].item_id}),e._Receipt.itemscomponent[t].qty=e._Receipt.itemscomponent[t].qty+parseFloat(d.qty))},m=0;m<this._Receipt.itemscomponent.length;m++)u(m)}this.CalaculteValuesItemsRow(r),n+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(n+1,this.ItemLinkedReceipt[n+1]):this.SetLinkReceiptItemFinished()}}},{key:"SetLinkReceiptItemFinished",value:function(){if(this.spinner.hide(),this.IxLRS+1<this.LinkedReceiptListSelected.length){this.IxLRS=this.IxLRS+1;var e=this._Receipt.linkedreceipts.length-(this.IxLRS+1);1!=this._Receipt.linkedreceipts[e].fire&&(this.GetLinkedReceipt(e),console.log("(this._Receipt.linkedreceipts.length)-(this.IxLRS+1)"),console.log(e))}else this.CheckBalanceForItemInStore(0,!0),this.StockBalances(0)}},{key:"OnOpenLinkedReceipt",value:function(e){var t=this,n=this._Receipt.linkedreceipts[e],i=this._ReceiptSharedService.ReceiptsLinked_Url_Codes.find(function(e){return e.Code==n.code});null!=this._Receipt.linkedreceipts[e].receiptid?""!=i.Url&&window.open(i.Url+this._Receipt.linkedreceipts[e].receiptid+"/show","_blank"):null!=n.branch_id&&null!=n.code&&null!=n.entry_no&&n.entry_no>0&&this._ReceiptSharedService.GetLinkedReceiptID(n.branch_id,n.code,n.entry_no).subscribe(function(e){""!=i.Url&&null!=e?window.open(i.Url+e.id+"/show","_blank"):t.toastr.error(t.ReceiptNotFound)})}},{key:"DeleteLinkedReceipt",value:function(e){this._Receipt.linkedreceipts.splice(e,1),this.cd.markForCheck()}},{key:"OnOpenReceiptHistory",value:function(e){var t=this.ReceiptHistoryList[e],n=this._ReceiptSharedService.ReceiptsLinked_Url_Codes.find(function(e){return e.Code==t.code});""!=n.Url&&window.open(n.Url+this.ReceiptHistoryList[e].receiptid+"/show","_blank")}},{key:"OnSignatureSet",value:function(e){this._Receipt.signature=e.signature}},{key:"Calculate_Total_Tax_Net",value:function(){var e=0;this._Receipt.details.forEach(function(t){e+=t.total}),1==this._Receipt.currency_rate?(this._Receipt.value=Number(e.toFixed(this._Currencyprecision)),this._Receipt.valueforeign=Number(e.toFixed(this._Currencyprecision))):(this._Receipt.valueforeign=Number(e.toFixed(this._Currencyprecision)),this._Receipt.value=Number((e/this._Receipt.currency_rate).toFixed(this._Currencyprecision))),this._Receipt.deliveryfees=this._Receipt.deliveryfees||0,this._Receipt.deliveryfeesforeign=this._Receipt.deliveryfeesforeign||0,this._Receipt.surchargepercent=this._Receipt.surchargepercent||0,this._Receipt.surchargevalue=this._Receipt.surchargevalue||0,this._Receipt.discount_percent>0?this.Calculate_Disc("local","percent"):this._Receipt.discount_value>0?this.Calculate_Disc("local","value"):this._Receipt.discount_foreignvalue>0?this.Calculate_Disc("foreign","value"):this.CalculateTax_Net(e);var t=0;this._Receipt.details.forEach(function(e){t+=e.qty}),this._Receipt.qtotal=t}},{key:"CalculateTax_Net",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;1==this._Receipt.currency_rate?(this._Receipt.netvalue=Number((e-this._Receipt.discount_value).toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0,this._Receipt.netvalueforeign=this._Receipt.netvalue):(this._Receipt.netvalueforeign=Number((e-this._Receipt.discount_foreignvalue).toFixed(this._Currencyprecision)),this._Receipt.netvalueforeign=this._Receipt.netvalueforeign>=0?this._Receipt.netvalueforeign:0,this._Receipt.netvalue=Number((this._Receipt.netvalueforeign/this._Receipt.currency_rate).toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0)}},{key:"Calculate_Disc",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"local",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"percent";this._Receipt.discount_percent=this._Receipt.discount_percent||0,this._Receipt.discount_foreignpercent=this._Receipt.discount_foreignpercent||0,this._Receipt.discount_value=this._Receipt.discount_value||0,this._Receipt.discount_foreignvalue=this._Receipt.discount_foreignvalue||0,"local"==e?("percent"==t&&(this._Receipt.discount_foreignpercent=this._Receipt.discount_percent,this._Receipt.discount_value=Number(((this._Receipt.value*this._Receipt.discount_percent||0)/100).toFixed(this._Currencyprecision)),this._Receipt.discount_foreignvalue=Number(((this._Receipt.valueforeign*this._Receipt.discount_foreignpercent||0)/100).toFixed(this._Currencyprecision))),"value"==t&&(this._Receipt.discount_percent=Number((100*(this._Receipt.discount_value/this._Receipt.value%(1/0)||0)).toFixed(8)),this._Receipt.discount_foreignpercent=this._Receipt.discount_percent,this._Receipt.discount_foreignvalue=Number(((this._Receipt.valueforeign*this._Receipt.discount_foreignpercent||0)/100).toFixed(this._Currencyprecision)))):"foreign"==e&&("percent"==t&&(this._Receipt.discount_percent=this._Receipt.discount_foreignpercent,this._Receipt.discount_value=Number(((this._Receipt.value*this._Receipt.discount_percent||0)/100).toFixed(this._Currencyprecision)),this._Receipt.discount_foreignvalue=Number(((this._Receipt.valueforeign*this._Receipt.discount_foreignpercent||0)/100).toFixed(this._Currencyprecision))),"value"==t&&(this._Receipt.discount_foreignpercent=Number((100*(this._Receipt.discount_foreignvalue/this._Receipt.valueforeign%(1/0)||0)).toFixed(8)),this._Receipt.discount_percent=this._Receipt.discount_foreignpercent,this._Receipt.discount_value=Number(((this._Receipt.value*this._Receipt.discount_percent||0)/100).toFixed(this._Currencyprecision)))),1==this._Receipt.currency_rate?(this._Receipt.surchargevalue=0,this._Receipt.surchargevalueforeign=0,this._Receipt.netvalue=Number((this._Receipt.value-this._Receipt.discount_value).toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0,this._Receipt.netvalueforeign=this._Receipt.netvalue):(this._Receipt.surchargevalue=0,this._Receipt.surchargevalueforeign=0,this._Receipt.netvalueforeign=Number((this._Receipt.valueforeign-this._Receipt.discount_foreignvalue).toFixed(this._Currencyprecision)),this._Receipt.netvalueforeign=this._Receipt.netvalueforeign>=0?this._Receipt.netvalueforeign:0,this._Receipt.netvalue=Number((this._Receipt.value-this._Receipt.discount_value).toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0)}},{key:"StockBalances",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!=e&&3!=this._Receipt.details[e].item_type?(this.itemqtyview=!1,this._itemstoreqtyobj=new S.I$,this._itemstoreqtyobj.subsidairyid=this.subsidiaryID,this._itemstoreqtyobj.ReceiptCode=this.BasicCodeReceipt,this._itemstoreqtyobj.BranchID=this._Receipt.branch_id,this._itemstoreqtyobj.Entrydate=this._Receipt.entry_date,this._itemstoreqtyobj.Unit_ID=this._Receipt.details[e].unit_id,this._itemstoreqtyobj.conv=this._Receipt.details[e].conv,this._itemstoreqtyobj.itemid=this._Receipt.details[e].item_id,this.itemqtyview=!0):(this.itemqtyview=!1,this._itemstoreqtyobj=new S.I$)}},{key:"CheckBalanceForItemInStore",value:function(e){var t,n=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];1==r&&(this.DuringSaveDisable=!0,this.cd.markForCheck());var a=!0,o=new S.I$;if(null!=this._Receipt.details[e].item_id){o.ReceiptCode=this.BasicCodeReceipt,o.BranchID=this._Receipt.branch_id,o.Entrydate=this._Receipt.entry_date+" "+this._Receipt.entry_time,o.Unit_ID=this._Receipt.details[e].unit_id,o.conv=this._Receipt.details[e].conv,o.Qty=0,o.itemid=this._Receipt.details[e].item_id,o.StoreID=this._Receipt.details[e].store_id,o.subsidairyid=this.subsidiaryID,o.ReceiptID=this._Receipt.id,console.log(o);var c=null!==(t=this.ReceiptCodeList.filter(function(e){return e.code==n.BasicCodeReceipt})[0].items)&&void 0!==t?t:-1,l=this.InventorySetting[0].physicalnegativeinventoryid;2!=this._Receipt.details[e].item_type&&(-1==c||1==c&&this._Receipt.details[e].id>0)&&1==l?this._ReceiptSharedService.CheckBalanceForItemInStore(o).subscribe(function(t){var o=0,l=0,s=0,d=[],p=!0;if(0==t.consignment.consignment){if(null!=t.totalqty.totalqty){if(o=t.totalqty.totalqty,d=t.itemcomponent,n._Receipt.details.filter(function(t){return t.item_id==n._Receipt.details[e].item_id}).forEach(function(e){var t=n.ItemUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=t){var i=null!=t.finalconv?t.finalconv:1,r=null!=t.conv?t.conv:1,a=e.conv;l=parseFloat(l.toString())+i*(a/r)*parseFloat(e.qty.toString())}}),3!=n._Receipt.details[e].item_type&&function(){n._Receipt.itemscomponent.filter(function(t){return t.item_id==n._Receipt.details[e].item_id&&null!=t.id}).forEach(function(e){var t=n.ItemComponentUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=t){var i=(null!=t.finalconv?t.finalconv:1)*(e.conv/(null!=t.conv?t.conv:1))*parseFloat(e.qty.toString());l=parseFloat(l.toString())+i}});for(var t=[],i=n._Receipt.details.filter(function(e){return 3==e.item_type&&null==e.id}),r=function(r){t=[],t=n._Receipt.itemscomponent.filter(function(t){return t.parentrowno==i[r].rowno&&t.finishedproductid==i[r].item_id&&null==t.id&&t.item_id==n._Receipt.details[e].item_id});for(var a=function(e){var i=t[e].qty,r=n.ItemComponentUnitsList.find(function(n){return n.item_id==t[e].item_id&&n.id==t[e].unit_id});if(null!=r){var a=(null!=r.finalconv?r.finalconv:1)*(t[e].conv/(null!=r.conv?r.conv:1))*parseFloat(i.toString());l=parseFloat(l.toString())+a}},o=0;o<t.length;o++)a(o)},a=0;a<i.length;a++)r(a)}(),-1==c?s=o-l:1==c&&(s=o+l),3==n._Receipt.details[e].item_type)for(var u=function(e){if(2!=d[e].item_type){var t=function(){var t=n._Receipt.details.filter(function(t){return t.item_id==d[e].item_id}),i=0;t.forEach(function(e){var t=n.ItemUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=t){var r=null!=t.finalconv?t.finalconv:1,a=null!=t.conv?t.conv:1,o=e.conv;i=parseFloat(i.toString())+r*(o/a)*parseFloat(e.qty.toString())}}),n._Receipt.itemscomponent.filter(function(t){return t.item_id==d[e].item_id&&null!=t.id}).forEach(function(e){var t=n.ItemComponentUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=t){var r=(null!=t.finalconv?t.finalconv:1)*(e.conv/(null!=t.conv?t.conv:1))*parseFloat(e.qty.toString());i=parseFloat(i.toString())+r}});for(var r=[],a=n._Receipt.details.filter(function(e){return 3==e.item_type&&null==e.id}),o=function(t){r=[],r=n._Receipt.itemscomponent.filter(function(n){return n.parentrowno==a[t].rowno&&n.finishedproductid==a[t].item_id&&null==n.id&&n.item_id==d[e].item_id});for(var o=function(e){var t=r[e].qty,a=n.ItemComponentUnitsList.find(function(t){return t.item_id==r[e].item_id&&t.id==r[e].unit_id});if(null!=a){var o=(null!=a.finalconv?a.finalconv:1)*(r[e].conv/(null!=a.conv?a.conv:1))*parseFloat(t.toString());i=parseFloat(i.toString())+o}},c=0;c<r.length;c++)o(c)},c=0;c<a.length;c++)o(c);if(!(i<=d[e].totalqty))return p=!1,{v:"break"};p=!0}();if("object"==typeof t)return t.v}},m=0;m<d.length;m++){if("break"===u(m))break}a=s>=0&&1==p}else a=!1;0==a?(n._Receipt.details[e].allowqtyselectforitem=!1,n.cd.markForCheck(),n.toastr.warning(n.qtyErrorMsg+o)):(n._Receipt.details[e].allowqtyselectforitem=!0,n.cd.markForCheck())}1==i&&e+1<n._Receipt.details.length?n.CheckBalanceForItemInStore(e+1,!0,r):1==r&&n.SaveReceipt()}):1==i&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,r):1==r&&this.SaveReceipt()}else 1==i&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,r):1==r&&this.SaveReceipt()}},{key:"CreateNewAction",value:function(){var e=this;JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||1==this.ShowModeReceipt||this.ReceiptID>0&&!this.checkRoleParms(623)?this._router.navigate(["/page/inventorytransiction/issuereturn/0"]).then(function(){window.location.reload()}):Me().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(t){t.value?e.CheckPre_SaveReceipt(e.RForm):t.dismiss===Me().DismissReason.cancel&&e._router.navigate(["/page/inventorytransiction/issuereturn/0"]).then(function(){window.location.reload()})})}},{key:"DeleteAction",value:function(){var e=this;Me().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(t){t.isConfirmed&&1==t.isConfirmed&&e._ReceiptSharedService.DeleteReceipts(e._Receipt.id).subscribe(function(t){0==t.bcount?(e.toastr.success(e.toastrSuccessDelete),e._router.navigate(["/page/inventorytransiction/issuereturn"])):-1==t.bcount?(t.usedserials.forEach(function(t){var n=e._Receipt.details.findIndex(function(e){return e.item_id==t.itemid&&e.batcheslist[0].id==t.id});-1!=n&&(e._Receipt.details[n].allowqtyselectforitem=!1)}),e.toastr.error(e.RelatedwithSerialsOrBatches)):e.toastr.error(e.DeleteRelationmsg)})})}},{key:"CheckServiceItemComponentsInUpdate",value:function(){var e=this;this._ReceiptSharedService.CheckServiceItemComponentsInUpdate(this._Receipt.id).subscribe(function(t){t[0].exist?(e.ShowModeReceipt=!0,e.toastr.warning(e.UpdateReceiptItemService)):e.ShowModeReceipt=!1,e.cd.markForCheck()})}},{key:"GetMaxCostPostedSerDate",value:function(){var e=this;this._ReceiptSharedService.GetMaxCostPostedSerDate(this._Receipt.entry_date,this.subsidiaryID).subscribe(function(t){var n=e.datepipe.transform(t[0].maxpostingdate,"yyyy-MM-dd");Date.parse(n.toString())<Date.parse(e._Receipt.entry_date.toString())?(e.ShowModeReceipt=!1,e.ValidPeriod=!0,e.CheckServiceItemComponentsInUpdate()):(e.ShowModeReceipt=!0,e.ValidPeriod=!1,e.ShowPopUpCostPostedSerDate()),e.cd.markForCheck()})}},{key:"DupilcateAction",value:function(){var e=this;this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(function(t){e._Receipt.entry_no=0==t.length?1:t[0].entry_no+1,e.entry_no=e._Receipt.entry_no,e.location.replaceState("/page/inventorytransiction/issuereturn/0"),e.ReceiptID=0,e._Receipt.id=null,e.CheckBalanceForItemInStore(0,!0),e.cd.markForCheck()})}},{key:"QualityAction",value:function(){}},{key:"DocumentAction",value:function(){this._router.navigate(["/page/setupsettings/documents/3/"+this._Receipt.id+"/issuereturn"],{relativeTo:this._activeRoute,queryParams:{show:this.LockedRecepit}})}},{key:"PrintPreview",value:function(e){var t=this,n=this.getReportfilter(0==e?1:0);this.spinner.show(),this._ReceiptSharedService.GetReport(n).subscribe(function(n){t.spinner.hide(),1==e?t._authService.showPdfInNewTab(n.bytes,""):t._authService.printJS(n.bytes)}),this.cd.markForCheck()}},{key:"onPrint",value:function(){var e=this,t=this.getReportfilter(0);this._VerifyReportsService.SaveVerifyReports(this.subsidiaryID,this.lang).subscribe(function(n){e.reporturl="".concat(e.reportdomainUrl,"?q=").concat(t.reportName,"&ID=").concat(t.ReceiptID),""!=t.lang&&(e.reporturl=e.reporturl+"&Lang=".concat(t.lang)),""!=t.DomainName&&(e.reporturl=e.reporturl+"&DomainName=".concat(t.DomainName)),""!=t.toEmail&&(e.reporturl=e.reporturl+"&email=".concat(t.toEmail,"+&Subject=").concat(t.Subject,"+&boby=").concat(t.boby)),e.reporturl=e.reporturl+"&Info=".concat(n),e._authService.showReportInNextTab(e.reporturl),e.cd.markForCheck()})}},{key:"sendEmail",value:function(e){var t=this;this._emailobj=e.list;var n=this.getReportfilter(0);this.spinner.show(),this._ReceiptSharedService.GetReport(n).subscribe(function(e){t.spinner.hide(),alert(t.mailmsg)}),this.cd.markForCheck()}},{key:"getReportfilter",value:function(){var e=this._authService.userInfo().clientdatabase,t="",n="";"ar"==this.lang&&(n="_ar");var i={reportName:t="P_I_63_ReturnIssue_GL_WEB_alromaih"+n,SubsidaryID:this.subsidiaryID,ReceiptID:this._Receipt.id,lang:"",DomainName:"",toEmail:"",Subject:"",boby:""};return e.indexOf("alshaima")>-1?t="P_I_60_63_GL_WEB_alshaimaa"+n:e.indexOf("192.168.1.90")>-1||e.indexOf("rafc.matixerp.com")>-1?i={reportName:t="P_S_52_CashSales_rahtElKhalig",SubsidaryID:this.subsidiaryID,ReceiptID:this._Receipt.id,lang:n,DomainName:window.location.origin,toEmail:"",Subject:"",boby:""}:e.indexOf("alromaih")>-1?t="P_I_63_ReturnIssue_GL_WEB_alromaih":e.indexOf("darshgf")>-1&&(t="P_I_63_IssueReturn_GL_WEB_darshgf"),i.reportName=t,i.toEmail=this._emailobj.email,i.Subject=this._emailobj.subject,i}},{key:"BackAction",value:function(){var e=this;JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||this.ReceiptID>0&&!this.checkRoleParms(623)||0==this.ReceiptID&&!this.checkRoleParms(234)||1==this.ShowModeReceipt?this._router.navigate(["/page/inventorytransiction/issuereturn"]):Me().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(t){t.value?e.CheckPre_SaveReceipt(e.RForm):t.dismiss===Me().DismissReason.cancel&&e._router.navigate(["/page/inventorytransiction/issuereturn"])})}},{key:"getCurrentDate",value:function(){var e=new Date,t=e.getFullYear();return e.getMonth()+1+"/"+e.getDate()+"/"+t}},{key:"getwarrantydateDate",value:function(){var e=new Date,t=e.getFullYear()+1;return e.getMonth()+1+"/"+e.getDate()+"/"+t}},{key:"SetTimeNow",value:function(){var e=new Date;return("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)}},{key:"OpenModal",value:function(e){this.modalReference=this.modalService.open(e,{size:"xl",backdrop:"static"})}},{key:"CloseModal",value:function(){this.modalReference.close()}},{key:"formateDecimal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return e.toFixed(t)}},{key:"onMainAccountRadioClick",value:function(){this._Receipt.vendor_id=null,this._Receipt.cashcustomer_vendor_code=null,this._Receipt.cashcustomer_vendor_name=null,this.cd.markForCheck()}},{key:"OnSerialItems",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(console.log(e,"ix",t),this.SelectedRowIndex=e,this.RowItem=t,t.qty<=0)this.toastr.error(this.InValidQty);else{if(this.requiredserial=this._Receipt.details[e].isrequireserial,0==this._Receipt.details[e].batcheslist.length)this.AddNewRow(e);else{var r=this.ItemUnitsList.filter(function(t){return t.item_id==n._Receipt.details[e].item_id&&t.id==n._Receipt.details[e].unit_id}),a=this._Receipt.details[e].conv*r[0].finalconv/r[0].conv;this._Receipt.details[e].batcheslist.map(function(e){e.qty=e.qty*a})}this.OpenModal(i)}}},{key:"AddNewRow",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._ReceiptSharedService.GetStoreByID(this.RowItem.store_id).subscribe(function(n){var i,r;console.log(n,"dd",e.RowItem);var a=new Ee.WB;a.storeid=e.RowItem.store_id,a.storename=null!==(i=null==n?void 0:n.name)&&void 0!==i?i:"",a.storename_ar=null!==(r=null==n?void 0:n.name_ar)&&void 0!==r?r:"";var o=e.ItemUnitsList.filter(function(n){return n.item_id==e._Receipt.details[t].item_id&&n.id==e._Receipt.details[t].unit_id}),c=e._Receipt.details[t].conv*o[0].finalconv/o[0].conv;a.qty=e._Receipt.details[t].qty*c,console.log(o,"_selectedunit",c,a.qty),a.serial=e._Receipt.details[t].batcheslist.length>0?e._Receipt.details[t].batcheslist.length+1:1,e._Receipt.details[t].batcheslist.push(a),e.cd.markForCheck(),console.log(e._Receipt.details[t].batcheslist,"this.BatchesList")})}},{key:"SubmitOk",value:function(e){e.valid&&this.CloseModal()}},{key:"ChangeBatchQty",value:function(e,t,n){this._Receipt.details[this.SelectedRowIndex].batcheslist[n].qty=t}},{key:"ChangeBatchNo",value:function(e,t,n){this._Receipt.details[this.SelectedRowIndex].batcheslist[n].batchno=t,console.log(this._Receipt.details,"ChangeBatchNo")}},{key:"DeleteRow",value:function(e,t){this._Receipt.details[this.SelectedRowIndex].batcheslist.pop(),console.log(this._Receipt.details,"DeleteRow")}},{key:"CheckBatchesAndSerials",value:function(){var e=this;this.BatchesAndSeialsList=[],console.log(this.BatchesAndSeialsList,"BatchesAndSeialsList"),this._Receipt.details.some(function(e){return 3==e.isrequireserial})?(console.log("Validate"),this._Receipt.details.forEach(function(n){e.BatchesAndSeialsList=[].concat(t(e.BatchesAndSeialsList),t(n.batcheslist))}),this.ValidateInFrontEnd()?(this.DuringSaveDisable=!0,this.Save()):this.DuringSaveDisable=!1):(this.DuringSaveDisable=!0,console.log("Saved"),this.Save())}},{key:"ValidateInFrontEnd",value:function(){return 0==this.ValidateBatchesAndSerialsList()?(this.toastr.error(this.InValidNumberOfBatch),!1):(this._Receipt.details.map(function(e){e.batcheslist.length>0&&""==e.batcheslist[0].batchno&&(e.batcheslist[0].batchno=new Date(e.batcheslist[0].date).toLocaleDateString()+"_"+e.item_id)}),!0)}},{key:"ValidateBatchesAndSerialsList",value:function(){var e=this,t=!0;this.BatchesAndSeialsList.forEach(function(e){return 0==e.qty||null==e.qty||null==e.date||""==e.date?t=!1:void 0});for(var n=0,i=function(t){if(3==e._Receipt.details[t].isrequireserial){var i=e.ItemUnitsList.filter(function(n){return n.item_id==e._Receipt.details[t].item_id&&n.id==e._Receipt.details[t].unit_id});n+=e._Receipt.details[t].qty*(e._Receipt.details[t].conv*i[0].finalconv/i[0].conv)}},r=0;r<this._Receipt.details.length;r++)i(r);return n!=this.BatchesAndSeialsList.reduce(function(e,t){return e+t.qty},0)&&(t=!1),t}},{key:"ValidateDublicateBatchesInFrontEnd",value:function(){for(var e=[],t=0;t<this._Receipt.details.length;t++)if(0!=this._Receipt.details[t].batcheslist.length){var n=this._Receipt.details[t].batcheslist[0];if(1==n.isdublicatebatch)continue;n.isdublicatebatch=!1;for(var i=t+1;i<this._Receipt.details.length;i++)0!=this._Receipt.details[i].batcheslist.length&&n.batchno.toLowerCase().trim()==this._Receipt.details[i].batcheslist[0].batchno.toLowerCase().trim()&&new Date(n.date).toLocaleDateString()!=new Date(this._Receipt.details[i].batcheslist[0].date).toLocaleDateString()&&(this._Receipt.details[i].batcheslist[0].isdublicatebatch=!0,e.push(this._Receipt.details[i].batcheslist[0]))}return e}},{key:"ValidateDublicateBatchesInBackEnd",value:function(){var e=this;console.log(this._Receipt.details,"this._Receipt.details"),this._ReceiptSharedService.ValidateDublicateBatches(this._Receipt.details).subscribe(function(t){if(e._Receipt.details=[],e._Receipt.details=null!=t?t:[],console.log(e._Receipt.details,"details"),e.cd.markForCheck(),e._Receipt.details.some(function(e){if(e.batcheslist.length>0)return 1==e.batcheslist[0].isdublicatebatch}))return Me().fire(e.DublicateBatchMassage),void(e.DuringSaveDisable=!1);e.DuringSaveDisable=!0,e.Save()})}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}},{key:"customTrackBy",value:function(e,t){return e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(M["\u0275\u0275directiveInject"](b.n),M["\u0275\u0275directiveInject"](Pe.v),M["\u0275\u0275directiveInject"](R.t),M["\u0275\u0275directiveInject"](Oe.H),M["\u0275\u0275directiveInject"](M.ChangeDetectorRef),M["\u0275\u0275directiveInject"](I._W),M["\u0275\u0275directiveInject"](m.F0),M["\u0275\u0275directiveInject"](P.m),M["\u0275\u0275directiveInject"](h.sK),M["\u0275\u0275directiveInject"](O.K),M["\u0275\u0275directiveInject"](m.gz),M["\u0275\u0275directiveInject"](F.FF),M["\u0275\u0275directiveInject"](k.t2),M["\u0275\u0275directiveInject"](E.e),M["\u0275\u0275directiveInject"](w.$),M["\u0275\u0275directiveInject"](x.J),M["\u0275\u0275directiveInject"](l.uU),M["\u0275\u0275directiveInject"](l.Ye))},e.\u0275cmp=M["\u0275\u0275defineComponent"]({type:e,selectors:[["app-issue-return-details"]],viewQuery:function(e,t){var n;(1&e&&M["\u0275\u0275viewQuery"](sC,5),2&e)&&(M["\u0275\u0275queryRefresh"](n=M["\u0275\u0275loadQuery"]())&&(t.RForm=n.first))},features:[M["\u0275\u0275ProvidersFeature"]([b.n,Pe.v,R.t,l.uU,Oe.H,x.J])],decls:8,vars:4,consts:[["class","row",4,"ngIf"],[4,"ngIf"],["_AddPatchModal",""],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"row"],[2,"margin","0 30% 0 30%","margin-top","200px"],[1,"col-md-12","col-lg-12"],[1,"row","match-height"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"container-fluid","py-4","pl-0","pr-0"],[1,"card","my-2","mx-2","px-3","pb-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-1","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"col-12","text-right","actionBtns"],["type","submit",1,"btn","btn-success","btn-md","mr-2","mb-2"],[1,""],["type","button",1,"btn","btn-success","btn-md","mr-2","mb-2",3,"click"],["class","btn btn-primary btn-md\n                  mr-2 mb-2","type","button",3,"click",4,"ngIf"],["class","btn\n                  btn-warning btn-md mr-2 mb-2","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-danger","btn-md","mr-2","mb-2",3,"click"],[1,"btn-group"],["type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-primary","dropdown-toggle","btn-md","mr-2","mb-2"],[1,"dropdown-menu"],["_ngcontent-xws-c281","",1,"horizontal","dark","my-2"],[1,"col-12","col-md-4","mb-2","mb-md-0"],[1,"form-group"],["for","Category",1,"col-form-label"],["name","customersalesprice",1,"form-control",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[2,"color","red","font-weight","bold"],["name","Branch","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["Branch","ngModel"],["Value","null",4,"ngIf"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["for","VendorCode",1,"col-form-label"],["type","text","id","entry_no","name","entry_no","PositiveNumbersOrDecimalOnly","","required","","customMin","",1,"form-control",3,"stepallow","ngModel","Min","CheckMin","readonly","ngClass","ngModelChange","keydown.space"],["entry_no","ngModel"],[1,"col-12","col-md-3","mb-2","mb-md-0"],["type","radio","name","AccountType","id","mainAccountType",1,"radio-col-green",3,"ngModel","value","click","ngModelChange"],[1,"col-form-label"],[1,"ml-2"],["minLength","0","delay","0","field","code","name","CreditAccount","required","",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","ngClass","onFocus","ngModelChange","onSelect","completeMethod","onClear",4,"ngIf"],["minLength","0","delay","0","field","code","name","OtherAccount","required","",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","ngClass","onFocus","ngModelChange","onSelect","completeMethod","onClear",4,"ngIf"],["for","cashcustomer_vendor_phone",1,"col-form-label"],["type","text","id","cashcustomer_vendor_name","name","cashcustomer_vendor_name",1,"form-control",3,"ngModel","readonly","ngModelChange"],["cashcustomer_vendor_name","ngModel"],["for","entry_date",1,"col-form-label"],["type","date","id","entry_date","name","entry_date","required","",1,"form-control",3,"ngModel","readonly","ngClass","ngModelChange"],["entry_date","ngModel"],["for","entry_time",1,"col-form-label"],["type","time","id","entry_time","name","entry_time",1,"form-control",3,"readonly","ngModel","ngModelChange"],["entry_time","ngModel"],["for","memo",1,"col-form-label"],["type","text","id","memo","name","memo",1,"form-control",3,"ngModel","ngModelChange"],["memo","ngModel"],["for","reference_no",1,"col-form-label"],["type","text","id","reference_no","name","reference_no",1,"form-control",3,"ngModel","ngModelChange"],["reference_no","ngModel"],[1,"card","my-2","mx-2","px-3","pb-3","pt-3"],[1,"col-12","nav-wrapper","position-relative","end-0","mt-3"],[1,"col-xl-7","col-md-7"],["ngbNav","",1,"nav","nav-pills","nav-fill","p-1",3,"destroyOnHide","activeId","activeIdChange"],["nav","ngbNav"],[1,"nav-item",3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavItem",4,"ngIf"],[3,"ngbNavItem"],[1,"mt-2",3,"ngbNavOutlet"],[1,"col-md-5",2,"margin-top","4rem"],[1,"col"],[1,"table-responsive","table","table-accountdetails"],[1,"table"],["scope","col"],["scope","col",3,"hidden"],[3,"hidden"],["PositiveNumbersOnly","","type","number","name","ovr_ForiegnTotal",1,"form-control",3,"readonly","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalTotal",1,"form-control","totalValInput","font-weight-bold","ng-pristine","ng-valid","ng-touched",3,"readonly","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","number","min","0","name","ovr_ForiegnDiscountPerc",1,"form-control",3,"readonly","ngModel","customMax","ngClass","keyup","ngModelChange"],["ovr_ForiegnDiscountPerc","ngModel"],["style","color: red",4,"ngIf"],["PositiveNumbersOnly","","type","number","min","0","name","ovr_LocalDiscountPerc",1,"form-control",3,"readonly","ngModel","customMax","ngClass","keyup","ngModelChange"],["ovr_LocalDiscountPerc","ngModel"],["PositiveNumbersOnly","","type","number","name","ovr_ForiegnDiscountVal",1,"form-control",3,"readonly","ngModel","ngModelChange","keyup"],["PositiveNumbersOnly","","type","number","name","ovr_LocalDiscountVal",1,"form-control",3,"readonly","ngModel","ngModelChange","keyup"],["PositiveNumbersOnly","","type","number","name","ovr_ForiegnNet",1,"form-control","totalValInput","font-weight-bold","ng-pristine","ng-valid","ng-touched",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalNet",1,"form-control","totalValInput","font-weight-bold","ng-pristine","ng-valid","ng-touched",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalTotalqty",1,"form-control","totalValInput","font-weight-bold",3,"readonly","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalTotalitem",1,"form-control","totalValInput","font-weight-bold",3,"readonly","ngModel","ngModelChange"],[1,"row","col-md-7"],["type","button",1,"btn","btn-primary","btn-md","mr-2","mb-2",3,"click"],["type","button",1,"btn","btn-warning","btn-md","mr-2","mb-2",3,"click"],["class","dropdown-item","type","button",3,"click",4,"ngIf"],["type","button",1,"dropdown-item",3,"click"],[3,"entryno","_savedemailobj"],[3,"value"],["Value","null"],["minLength","0","delay","0","field","code","name","CreditAccount","required","",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","ngClass","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoCustomerAccounts","","customer","ngModel"],["pTemplate","CustomerAccountsTemplate"],["minLength","0","delay","0","field","code","name","OtherAccount","required","",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","ngClass","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoOtherAccounts","","Other","ngModel"],["pTemplate","OtherAccountsTemplate"],[1,"row",2,"margin-top","10px"],[1,"table-responsive","table","table-accountdetails",3,"ngClass"],["scope","col",2,"width","5%"],["scope","col",2,"width","9%"],["scope","col",4,"ngIf"],["scope","col",2,"min-width","30px"],[4,"ngFor","ngForOf","ngForTrackBy"],["type","button",1,"btn","btn-primary",3,"click"],[2,"padding-top","15px !important"],["minLength","0","delay","0","field","code",3,"ngModel","disabled","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoStore",""],["pTemplate","servstoreTemplate"],["minLength","0","delay","0","field","code",3,"ngModel","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoItems",""],["pTemplate","servCodeTemplate"],[3,"click"],[3,"ngClass",4,"ngIf"],[1,"form-control",3,"name","ngModel","required","ngClass","ngModelChange","change"],["itemunit","ngModel"],[3,"ngValue",4,"ngIf"],[3,"ngValue","selected",4,"ngFor","ngForOf"],["customMin","","PositiveNumbersOnly","","type","number",1,"form-control",3,"Min","CheckMin","ngModel","name","ngClass","keyup","ngModelChange"],["item_qty","ngModel"],[2,"width","55px"],["href","javascript:;",1,"btn","btn-primary","transparent-BG","mb-2","mr-1",2,"padding","0","margin","0","background-color","transparent !important",3,"hidden","click"],[1,"fa","fa-list","font-medium-3","mr-0",2,"padding","7px","margin","0px 0px 0px","font-size","15px !important","color","#4ba6ec","background-color","transparent"],["href","javascript:;",2,"color","red",3,"click"],[1,"fa","fa-trash","fa-lg"],[3,"ngClass"],[3,"ngValue"],[3,"ngValue","selected"],["customMin","","PositiveNumbersOrDecimalOnly","","type","number",1,"form-control",3,"readonly","step","Min","CheckMin","stepallow","ngModel","name","required","ngClass","keyup","ngModelChange"],["item_conv","ngModel"],["PositiveNumbersOnly","","type","number","customMin","",1,"form-control",3,"readonly","ngModel","name","Min","CheckMin","ngClass","keyup","ngModelChange"],["price","ngModel"],["PositiveNumbersOnly","","type","number",1,"form-control",2,"background-color","silver",3,"ngModel","name","readonly","keyup","ngModelChange"],[4,"ngFor","ngForOf"],["type","text",1,"form-control",3,"readonly","ngModel","name","ngModelChange"],[1,"form-control",3,"name","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","text",1,"form-control",3,"ngModel","name","readonly","ngModelChange"],["PositiveNumbersOnly","","type","text",1,"form-control",3,"readonly","ngModel","name","ngModelChange"],[1,"form-control","red",3,"name","ngModel","ngModelChange"],["type","number",1,"form-control","red",3,"ngModel","name","ngModelChange"],["LinkedReceiptsentry_no","ngModel"],["href","javascript:;",2,"color","green",3,"click"],["aria-hidden","true",1,"fa","fa-plus-square","fa-lg"],["href","javascript:;",1,"info","p-0",3,"click"],["aria-hidden","true",1,"fa","fa-eye","fa-lg"],[3,"signature","signatureoutput"],[1,"col-md-12","row"],[1,"col-md-3","form-group"],["minLength","0","delay","0","field","costcenterfieldname","name","CostCenter",3,"required","ngModel","suggestions","ngClass","onFocus","ngModelChange","onSelect","completeMethod"],["autoCostCenter","","CostCenter","ngModel"],["pTemplate","CostCenterTemplate"],["class","col-md-3 form-group",4,"ngIf"],["style","color: red; font-weight: bold",4,"ngIf"],["minLength","0","delay","0","field","classfieldname","name","Classes",3,"required","ngModel","suggestions","ngClass","onFocus","ngModelChange","onSelect","completeMethod"],["autoClasses","","Classes","ngModel"],["pTemplate","ClassesTemplate"],["minLength","0","delay","0","field","locationfieldname","name","Location",3,"required","ngModel","suggestions","ngClass","onFocus","ngModelChange","onSelect","completeMethod"],["autoLocation","","Location","ngModel"],["pTemplate","LocationTemplate"],["minLength","0","delay","0","field","departmentfieldname","name","Department",3,"required","ngModel","suggestions","ngClass","onFocus","ngModelChange","onSelect","completeMethod"],["autoDepartment","","Department","ngModel"],["pTemplate","DepartmentTemplate"],[1,"row","mb-6"],[1,"col-12"],[1,"table-responsive","table-accountdetails"],["disabled","",1,"form-control","red",3,"name","ngModel","ngModelChange"],["type","number","disabled","",1,"form-control","red",3,"ngModel","name","ngModelChange"],["historyReceiptsentry_no","ngModel"],[1,"gridActionsTd","text-center"],["href","javascript:;",1,"btn","btn-primary","transparent-BG",3,"click"],[2,"color","red"],[3,"wrappe"],["ItemStoreQty",""],[1,"modal-header"],["class","modal-title",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"col-md-12"],[1,"table-responsive"],[2,"width","10%"],["style","width: 15%",4,"ngIf"],[2,"width","20%"],[1,"modal-footer"],["type","submit",1,"btn","btn-secondary","mx-2"],[1,"modal-title"],[2,"width","15%"],["type","checkbox","disabled","",3,"name","checked"],["type","number","disabled","",1,"form-control",3,"name","value"],["type","text","disabled","",1,"form-control",3,"name","value"],["type","text",1,"form-control",3,"name","value","ngClass","disabled","change"],[1,"text-center"],[1,"btn","btn-sm","btn-danger",3,"disabled","click"],[1,"icon-trash"],["type","number","PositiveNumbersOnly","","min","0",1,"form-control",3,"name","value","ngClass","disabled","change"],["type","date","required","",1,"form-control",3,"name","ngModel","ngClass","disabled","ngModelChange"],["type","button",1,"btn","btn-primary","col-md-4"],["type","button",1,"btn","btn-info","col-md-2","mx-2"],["type","button",1,"btn","btn-primary","col-md-2"]],template:function(e,t){1&e&&(M["\u0275\u0275template"](0,dC,4,3,"div",0),M["\u0275\u0275template"](1,xb,214,175,"ng-container",1),M["\u0275\u0275elementStart"](2,"div"),M["\u0275\u0275template"](3,Nb,37,21,"ng-template",null,2,M["\u0275\u0275templateRefExtractor"]),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](5,"ngx-spinner",3),M["\u0275\u0275elementStart"](6,"p",4),M["\u0275\u0275text"](7,"Loading..."),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275property"]("ngIf",!(t.checkRoleParms(233)||t.checkRoleParms(234)||t.checkRoleParms(235)||t.checkRoleParms(623)||t.checkRoleParms(236))),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",t.checkRolesParms(M["\u0275\u0275pureFunction0"](3,Vb))),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("fullScreen",!0))},directives:[l.O5,k.Ro,d._Y,d.JL,d.F,d.EJ,d.JJ,d.On,l.sg,d.Q7,l.mk,d.Fj,we.L,De.a,d._,F.Pz,F.nv,F.Vx,F.uN,F.tO,d.wV,L.K,d.qQ,Fe.Z,Le.k,d.YN,d.Kr,u.Qc,Be.jx,Ve.t,qe.T],pipes:[h.X$,l.uU,Te.N],styles:['.headerform[_ngcontent-%COMP%]{border-radius:5px;font-size:1.5rem;padding:5px 2em}.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}.table-accountdetails[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#80808030}.table-accountdetails[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#7b809a}.width-table-input[_ngcontent-%COMP%]{min-width:130px}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important;text-align:center}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}']}),e}();function Tb(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"div",4),M["\u0275\u0275elementStart"](1,"h1",5),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function Ab(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.name)}}function Gb(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.name_ar)}}function Ub(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",51),M["\u0275\u0275template"](1,Ab,2,1,"span",1),M["\u0275\u0275template"](2,Gb,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275propertyInterpolate"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function jb(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",52),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).OnAdd()}),M["\u0275\u0275element"](1,"i",27),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"]()}2&e&&(M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](3,1,"Add")," "))}function $b(e,t){1&e&&M["\u0275\u0275element"](0,"i",53)}function zb(e,t){1&e&&M["\u0275\u0275element"](0,"i",54)}function Wb(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275element"](1,"i",47),M["\u0275\u0275template"](2,$b,1,0,"i",48),M["\u0275\u0275template"](3,zb,1,0,"i",49),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("hidden","BranchName"==n.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","BranchName"==n.sortColumn&&"asc"==n.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","BranchName"==n.sortColumn&&"desc"==n.sortDirection)}}function Jb(e,t){1&e&&M["\u0275\u0275element"](0,"i",53)}function Qb(e,t){1&e&&M["\u0275\u0275element"](0,"i",54)}function Yb(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275element"](1,"i",47),M["\u0275\u0275template"](2,Jb,1,0,"i",48),M["\u0275\u0275template"](3,Qb,1,0,"i",49),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("hidden","BranchNameAR"==n.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","BranchNameAR"==n.sortColumn&&"asc"==n.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","BranchNameAR"==n.sortColumn&&"desc"==n.sortDirection)}}function Hb(e,t){1&e&&M["\u0275\u0275element"](0,"i",53)}function Zb(e,t){1&e&&M["\u0275\u0275element"](0,"i",54)}function Kb(e,t){1&e&&M["\u0275\u0275element"](0,"i",53)}function Xb(e,t){1&e&&M["\u0275\u0275element"](0,"i",54)}function eS(e,t){1&e&&M["\u0275\u0275element"](0,"i",53)}function tS(e,t){1&e&&M["\u0275\u0275element"](0,"i",54)}function nS(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th"),M["\u0275\u0275text"](1,"\xa0"),M["\u0275\u0275elementEnd"]())}function iS(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n?null:n.branchname)}}function rS(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n?null:n.branchnamear)}}function aS(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"td",59),M["\u0275\u0275elementStart"](1,"a",60),M["\u0275\u0275element"](2,"i",61),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate1"]("routerLink","/page/inventorytransiction/destroyvoucher/",null==n?null:n.id,"")}}function oS(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"tr"),M["\u0275\u0275template"](1,iS,2,1,"td",1),M["\u0275\u0275template"](2,rS,2,1,"td",1),M["\u0275\u0275elementStart"](3,"td"),M["\u0275\u0275text"](4),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](5,"td"),M["\u0275\u0275text"](6),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](7,"td"),M["\u0275\u0275text"](8),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](9,aS,3,1,"td",56),M["\u0275\u0275elementStart"](10,"td"),M["\u0275\u0275elementStart"](11,"a",57),M["\u0275\u0275elementStart"](12,"span"),M["\u0275\u0275element"](13,"i",58),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](null==n?null:n.entry_no),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](null==n?null:n.entry_date),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](1==(null==i.CurrentUserSetting?null:i.CurrentUserSetting.showcostprice)?null==n?null:n.netvalue:"****"),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(625)),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("routerLink","/page/inventorytransiction/destroyvoucher/",null==n?null:n.id,"/show")}}function cS(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"tbody"),M["\u0275\u0275template"](1,oS,14,7,"tr",55),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",n.ReceiptList)}}function lS(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"tbody"),M["\u0275\u0275elementStart"](1,"tr",62),M["\u0275\u0275elementStart"](2,"td",63),M["\u0275\u0275text"](3),M["\u0275\u0275pipe"](4,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](4,1,"NoData")))}function sS(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",64),M["\u0275\u0275elementStart"](1,"ngb-pagination",65),M["\u0275\u0275listener"]("pageChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).onPageChange(e)})("pageChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).PageNo=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](2,"p"),M["\u0275\u0275text"](3),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](4,"select",66),M["\u0275\u0275listener"]("change",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).onPageSizeChange(e.target.value)})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).PageSize=e}),M["\u0275\u0275elementStart"](5,"option",67),M["\u0275\u0275text"](6,"10 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](7,"option",68),M["\u0275\u0275text"](8,"50 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](9,"option",69),M["\u0275\u0275text"](10,"100 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275element"](11,"br"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("collectionSize",i.totalCount)("page",i.PageNo)("pageSize",i.PageSize)("maxSize",5)("boundaryLinks",!0),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",i._generalService.TotalDetailsTextShow(i.PageNo,i.PageSize,i.totalCount,i.lang)," "),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngModel",i.PageSize)}}function dS(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275elementStart"](1,"div",6),M["\u0275\u0275elementStart"](2,"div",7),M["\u0275\u0275elementStart"](3,"div",8),M["\u0275\u0275elementStart"](4,"h6",9),M["\u0275\u0275text"](5),M["\u0275\u0275pipe"](6,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](7,"div",10),M["\u0275\u0275elementStart"](8,"div",11),M["\u0275\u0275elementStart"](9,"section"),M["\u0275\u0275elementStart"](10,"div",4),M["\u0275\u0275elementStart"](11,"div",12),M["\u0275\u0275elementStart"](12,"form",13,14),M["\u0275\u0275listener"]("ngSubmit",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().SearchReceiptByEntryNo()}),M["\u0275\u0275elementStart"](14,"div",4),M["\u0275\u0275elementStart"](15,"div",15),M["\u0275\u0275elementStart"](16,"div",16),M["\u0275\u0275elementStart"](17,"label",17),M["\u0275\u0275text"](18),M["\u0275\u0275pipe"](19,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](20,"select",18,19),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._ReceiptSearch.BranchID=e})("change",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().ChangeBranch(e.target.value)}),M["\u0275\u0275elementStart"](22,"option",20),M["\u0275\u0275text"](23),M["\u0275\u0275pipe"](24,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](25,Ub,3,3,"option",21),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](26,"div",15),M["\u0275\u0275elementStart"](27,"div",16),M["\u0275\u0275elementStart"](28,"label",22),M["\u0275\u0275text"](29),M["\u0275\u0275pipe"](30,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](31,"input",23,24),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._ReceiptSearch.EntryNo=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](33,"div",25),M["\u0275\u0275elementStart"](34,"button",26),M["\u0275\u0275element"](35,"i",27),M["\u0275\u0275text"](36),M["\u0275\u0275pipe"](37,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](38,"button",28),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().ShowAll()}),M["\u0275\u0275element"](39,"i",27),M["\u0275\u0275text"](40),M["\u0275\u0275pipe"](41,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](42,"div",29),M["\u0275\u0275elementStart"](43,"div",30),M["\u0275\u0275elementStart"](44,"div",31),M["\u0275\u0275template"](45,jb,4,3,"button",32),M["\u0275\u0275elementStart"](46,"button",33),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().OnPrint()}),M["\u0275\u0275element"](47,"i",27),M["\u0275\u0275text"](48),M["\u0275\u0275pipe"](49,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](50,"button",34),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().OnPrint(1)}),M["\u0275\u0275element"](51,"i",27),M["\u0275\u0275text"](52),M["\u0275\u0275pipe"](53,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](54,"button",35),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().OnExcel()}),M["\u0275\u0275element"](55,"i",27),M["\u0275\u0275text"](56),M["\u0275\u0275pipe"](57,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](58,"div",36),M["\u0275\u0275elementStart"](59,"div",37),M["\u0275\u0275elementStart"](60,"label",38),M["\u0275\u0275text"](61),M["\u0275\u0275pipe"](62,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](63,"input",39,40),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._ReceiptSearch.SearchValue=e})("keyup",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().ChangePropFinish()}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](65,"div",4),M["\u0275\u0275elementStart"](66,"div",41),M["\u0275\u0275elementStart"](67,"div",42),M["\u0275\u0275elementStart"](68,"div",43),M["\u0275\u0275elementStart"](69,"div",44),M["\u0275\u0275elementStart"](70,"table",45),M["\u0275\u0275elementStart"](71,"thead"),M["\u0275\u0275elementStart"](72,"tr"),M["\u0275\u0275elementStart"](73,"th",46),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().GetReceiptList("BranchName")}),M["\u0275\u0275text"](74),M["\u0275\u0275pipe"](75,"translate"),M["\u0275\u0275template"](76,Wb,4,3,"ng-container",1),M["\u0275\u0275template"](77,Yb,4,3,"ng-container",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](78,"th",46),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().GetReceiptList("Entry_No")}),M["\u0275\u0275text"](79),M["\u0275\u0275pipe"](80,"translate"),M["\u0275\u0275elementContainerStart"](81),M["\u0275\u0275element"](82,"i",47),M["\u0275\u0275template"](83,Hb,1,0,"i",48),M["\u0275\u0275template"](84,Zb,1,0,"i",49),M["\u0275\u0275elementContainerEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](85,"th",46),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().GetReceiptList("Entry_Date")}),M["\u0275\u0275text"](86),M["\u0275\u0275pipe"](87,"translate"),M["\u0275\u0275elementContainerStart"](88),M["\u0275\u0275element"](89,"i",47),M["\u0275\u0275template"](90,Kb,1,0,"i",48),M["\u0275\u0275template"](91,Xb,1,0,"i",49),M["\u0275\u0275elementContainerEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](92,"th",46),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().GetReceiptList("NetValue")}),M["\u0275\u0275text"](93),M["\u0275\u0275pipe"](94,"translate"),M["\u0275\u0275elementContainerStart"](95),M["\u0275\u0275element"](96,"i",47),M["\u0275\u0275template"](97,eS,1,0,"i",48),M["\u0275\u0275template"](98,tS,1,0,"i",49),M["\u0275\u0275elementContainerEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](99,nS,2,0,"th",1),M["\u0275\u0275elementStart"](100,"th"),M["\u0275\u0275text"](101,"\xa0"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](102,cS,2,1,"tbody",1),M["\u0275\u0275template"](103,lS,5,3,"tbody",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](104,sS,12,7,"div",50),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](6,34,"Destroy Voucher"),""),M["\u0275\u0275advance"](13),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](19,36,"Branch")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i._ReceiptSearch.BranchID),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](24,38,"All")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngForOf",i.BranchList),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](30,40,"EntryNo")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i._ReceiptSearch.EntryNo),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](37,42,"Search")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](41,44,"All")," "),M["\u0275\u0275advance"](5),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(243)),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](49,46,"Print")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](53,48,"pdf")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](57,50,"Excel")," "),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](62,52,"Search")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i._ReceiptSearch.SearchValue),M["\u0275\u0275advance"](11),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](75,54,"Branch")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](80,56,"EntryNo")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("hidden","Entry_No"==i.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Entry_No"==i.sortColumn&&"asc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Entry_No"==i.sortColumn&&"desc"==i.sortDirection),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](87,58,"Date")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("hidden","Entry_Date"==i.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Entry_Date"==i.sortColumn&&"asc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Entry_Date"==i.sortColumn&&"desc"==i.sortDirection),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](94,60,"value")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("hidden","NetValue"==i.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","NetValue"==i.sortColumn&&"asc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","NetValue"==i.sortColumn&&"desc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(625)),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngIf",i.ReceiptList.length>0),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",0==i.ReceiptList.length),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.totalCount>0)}}var pS=function(){var e=function(){function e(t,n,i,r,a,o,l,s,d,p,u,m,h,g,_){var v=this;c(this,e),this._cashsalesService=t,this.cd=n,this.toastr=i,this._router=r,this._generalService=a,this.translate=o,this._translateGlobalService=l,this.spinner=s,this._ReceiptSharedService=p,this._authService=u,this._printService=m,this._Excel=h,this._convertToPDF=g,this._VerifyReportsService=_,this.loaded=!1,this.subsidiaryID=0,this.PageSize=10,this.PageNo=1,this.ReceiptList=[],this.totalCount=0,this.BranchList=[],this.list=[],this._ReceiptSearch=new S.Wb,this.NumNotExist="",this.title="",this.timeout=null,this.sortDirection="asc",this.sortColumn="",this.SelectBranchMsg="",this.EntryNumberMsg="",this.subsidiaryID=this._generalService.SubsidiaryID,this.GetBranchList(),this.GetCurrentUserSetting(),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(function(e){v.lang=e.lang,v.dir=e.dir,v.translate.use(e.lang),v.ngTransUnsubscribe=v.translate.get("SelectBranchError").subscribe(function(e){v.SelectBranchMsg=e}),v.ngTransUnsubscribe=v.translate.get("EntryNumberMsg").subscribe(function(e){v.EntryNumberMsg=e})}),d.params.subscribe(function(e){var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t?(console.log(t.branchId),v._ReceiptSearch.BranchID="null"!=t.branchId?t.branchId:0):v._ReceiptSearch.BranchID=0}),this.ngTransUnsubscribe=this.translate.get(["Destroy Voucher"]).subscribe(function(e){v.title=e["Destroy Voucher"],document.title=v.title}),this.ngTransUnsubscribe=this.translate.get(["NumNotExist"]).subscribe(function(e){v.NumNotExist=e.NumNotExist}),this.ngUnsubscribe=a.proadCastSubsidiaryID.subscribe(function(e){if(0==v.subsidiaryID&&(v.subsidiaryID=v._generalService.SubsidiaryID,v.ReceiptSearch()),v.subsidiaryID!=v._generalService.SubsidiaryID&&v.subsidiaryID>0){v.subsidiaryID=v._generalService.SubsidiaryID;var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),v._ReceiptSearch.BranchID=0,localStorage.setItem("Branch",JSON.stringify({branchId:v._ReceiptSearch.BranchID})),v._ReceiptSearch.PageNo=1,v._ReceiptSearch.PageSize=10,v.GetBranchList(),v.ReceiptSearch()}})}return o(e,[{key:"ngOnInit",value:function(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this._ReceiptSearch.ReceiptCode="61",this._ReceiptSearch.sortColumn="Entry_Date.desc",0!=this.subsidiaryID&&(this.GetReceiptList(),this.GetReceiptListCount())}},{key:"GetCurrentUserSetting",value:function(){var e=this;this._ReceiptSharedService.GetCurrentUserSetting().subscribe(function(t){e.CurrentUserSetting=t})}},{key:"ReceiptSearch",value:function(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this.GetReceiptList(),this.GetReceiptListCount()}},{key:"GetBranchList",value:function(){var e=this;this._cashsalesService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(function(t){e.BranchList=t,e.cd.markForCheck()})}},{key:"ChangeBranch",value:function(e){var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),this._ReceiptSearch.BranchID="0"!=e?e:0,localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this._ReceiptSearch.PageNo=1,this._ReceiptSearch.PageSize=10,this.ReceiptSearch()}},{key:"ChangePropFinish",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.timeout=null,e.ReceiptSearch()},1e3*t)}},{key:"GetReceiptList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.sortColumn=null==t?null:t,this.sortDirection="asc"==this.sortDirection?"desc":"asc","ar"==this.lang&&("branch"!=this.sortColumn&&"accountname"!=this.sortColumn||(this.sortColumn=this.sortColumn+"ar")),null!=t&&(this.PageNo=1),null!=this.sortColumn&&""!=this.sortDirection&&(this._ReceiptSearch.sortColumn=this.sortColumn+"."+this.sortDirection),this.spinner.show(),this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._ReceiptSearch.EntryNo.toString().length>10&&(this.ReceiptList=[],this.toastr.warning(this.NumNotExist),this.spinner.hide()),this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(function(t){e.ReceiptList=[],e.list=t,1==e.list.length&&e._ReceiptSearch.EntryNo>0?e._router.navigate(["/page/inventorytransiction/destroyvoucher/"+e.list[0].id]):0==e.list.length&&e._ReceiptSearch.EntryNo>0?e.toastr.warning(e.NumNotExist):e.ReceiptList=t,e.cd.markForCheck(),e.spinner.hide()})}},{key:"GetReceiptListCount",value:function(){var e=this;this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptListCount(this._ReceiptSearch).subscribe(function(t){e.totalCount=t[0].total,e.cd.markForCheck()})}},{key:"OnAdd",value:function(){this._router.navigate(["/page/inventorytransiction/destroyvoucher/0"])}},{key:"OnView",value:function(e){this._router.navigate(["/page/inventorytransiction/destroyvoucher/"+e.id+"/show"])}},{key:"onEdit",value:function(e){var t;t="/page/inventorytransiction/destroyvoucher/".concat(e.id),this._router.navigate([t])}},{key:"ShowAll",value:function(){this._ReceiptSearch.BranchID=0,this._ReceiptSearch.EntryNo=0;var e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this.GetReceiptList(),this.GetReceiptListCount()}},{key:"SearchReceiptByEntryNo",value:function(){null!=this._ReceiptSearch.EntryNo&&null!=this._ReceiptSearch.EntryNo?(this.PageNo=1,this.PageSize=10,this.GetReceiptList(),this.GetReceiptListCount()):this.toastr.warning(this.EntryNumberMsg)}},{key:"OnPrint",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n="",i="ar"==this.lang?"rtl":"ltr",r="ar"==this.lang?"\u0627\u0644\u0641\u0631\u0639":"Branch",a="ar"==this.lang?"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":"Entry no",o="ar"==this.lang?"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":"Date",c="ar"==this.lang?"\u0627\u0644\u0642\u064a\u0645\u0629":"Total";this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(function(l){e.cd.markForCheck(),n='\n           <table class="table text-center m-0 table table-striped"  border="1px"  dir = '.concat(i,'>\n                 <thead>\n                   <tr style="background: #e9f1f5;color: cornflowerblue;">\n                     <th>').concat(r,"</th>\n                     <th>").concat(a,"</th>\n                     <th>").concat(o,"</th>\n                     <th>").concat(c,"</th>\n\n                   </tr>\n                 </thead>\n             <tbody>\n         "),l.map(function(t){n+="\n        <tr>\n         <td>".concat("ar"==e.lang?t.branchnamear:t.branchname,"</td>\n         <td>").concat(t.entry_no,"</td>\n         <td>").concat(t.entry_date,"</td>\n         <td>").concat(t.netvalue,"</td>\n        </tr>\n        ")}),n+="</tbody></table>",1==t?e._convertToPDF.by_html2pdf(n):e._printService.OnPrintContent(n)})}},{key:"OnExcel",value:function(){var e=this,t=[];this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(function(n){n.forEach(function(n){t.push("ar"==e.lang?{"\u0627\u0644\u0641\u0631\u0639":n.branchnamear,"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":n.entry_no,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":n.entry_date,"\u0627\u0644\u0642\u064a\u0645\u0629":n.netvalue}:{Branch:n.branchname,"Entry No":n.entry_no,Date:n.entry_date,Total:n.netvalue})}),e._Excel.exportAsExcelFile(t,"DestoryVoucher")})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"onPageChange",value:function(e){this._ReceiptSearch.PageNo=e,this.PageNo=e,this.GetReceiptList()}},{key:"onPageSizeChange",value:function(e){this._ReceiptSearch.PageSize=e,this.PageSize=e,this.GetReceiptList()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(M["\u0275\u0275directiveInject"](b.n),M["\u0275\u0275directiveInject"](M.ChangeDetectorRef),M["\u0275\u0275directiveInject"](I._W),M["\u0275\u0275directiveInject"](m.F0),M["\u0275\u0275directiveInject"](P.m),M["\u0275\u0275directiveInject"](h.sK),M["\u0275\u0275directiveInject"](O.K),M["\u0275\u0275directiveInject"](k.t2),M["\u0275\u0275directiveInject"](m.gz),M["\u0275\u0275directiveInject"](R.t),M["\u0275\u0275directiveInject"](E.e),M["\u0275\u0275directiveInject"](w.$),M["\u0275\u0275directiveInject"](D.x),M["\u0275\u0275directiveInject"](B.z),M["\u0275\u0275directiveInject"](x.J))},e.\u0275cmp=M["\u0275\u0275defineComponent"]({type:e,selectors:[["app-destroy-voucher"]],features:[M["\u0275\u0275ProvidersFeature"]([b.n,R.t,x.J])],decls:5,vars:3,consts:[["class","row",4,"ngIf"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"row"],[2,"margin","0 30% 0 30%","margin-top","200px"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-1","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-body"],[1,"col-12"],[1,"col-md-8"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"col-lg-4","col-md-4","col-sm-12"],[1,"form-group"],["for","Branch"],["name","Branch","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["Branch","ngModel"],["Value","0"],[3,"value",4,"ngFor","ngForOf"],["for","EntryNumber"],["type","number","id","ReceiptNumber","name","ReceiptNumber","min","0","PositiveNumbersOnly","","required","",1,"form-control",3,"ngModel","ngModelChange"],["ReceiptNumber","ngModel"],[1,"col-lg-4","col-sm-4","mt-3","text-center"],["type","submit",1,"btn","btn-primary","mr-2"],[1,""],["type","button",1,"btn","btn-primary","mr-2",3,"click"],[1,"col-lg-12","mt-2","col-xs-12","text-center-sm"],[1,"row","mb-2"],[1,"col-lg-6","col-md-7","col-xs-12","my-auto","text-center-sm","actionBtns"],["class","btn btn-success\n                    mb-0 ng-star-inserted",3,"click",4,"ngIf"],[1,"btn","btn-warning","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-danger","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-success","mb-0","me-3","ng-star-inserted",3,"click"],[1,"col-lg-6","col-md-6","col-sm-12","pull-right"],[1,"form-group","d-flex","justify-content-end"],["for","SearchValue",1,"pt-1","pl-1","pr-1","form-label"],["type","text","id","SearchValue","name","SearchValue",1,"form-control","col-md-6",3,"ngModel","ngModelChange","keyup"],["SearchValue","ngModel"],[1,"col-12","p-0"],[1,"card","transparent-BG"],[1,"card-content"],[1,"table-responsive","card-body"],[1,"table","m-0","table-striped","table-accountdetails"],[3,"click"],[1,"fa","fa-fw","fa-sort",3,"hidden"],["class","fa fa-fw\n                                fa-sort-desc",4,"ngIf"],["class","fa fa-fw\n                                fa-sort-asc",4,"ngIf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],[3,"value"],[1,"btn","btn-success","mb-0","ng-star-inserted",3,"click"],[1,"fa","fa-fw","fa-sort-desc"],[1,"fa","fa-fw","fa-sort-asc"],[4,"ngFor","ngForOf"],["class","text-truncate",4,"ngIf"],[1,"primary","mr-1",3,"routerLink"],["aria-hidden","true",1,"fa","fa-list"],[1,"text-truncate"],["href","javascript:;",1,"primary","p-0",3,"routerLink"],[1,"ft-edit","mr-2"],[2,"background-color","#B0BED9"],["colspan","7"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(M["\u0275\u0275template"](0,Tb,4,3,"div",0),M["\u0275\u0275template"](1,dS,105,62,"div",1),M["\u0275\u0275elementStart"](2,"ngx-spinner",2),M["\u0275\u0275elementStart"](3,"p",3),M["\u0275\u0275text"](4," Loading... "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275property"]("ngIf",!t.checkRoleParms(242)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",t.checkRoleParms(242)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("fullScreen",!0))},directives:[l.O5,k.Ro,d._Y,d.JL,d.F,d.EJ,d.Q7,d.JJ,d.On,d.YN,d.Kr,l.sg,d.qQ,d.wV,d.Fj,L.K,m.yS,F.N9],pipes:[h.X$],styles:['.headerform[_ngcontent-%COMP%]{border-radius:5px;font-size:1.5rem;padding:5px 2em}.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.headerform[_ngcontent-%COMP%]{background-color:#2f8be6;color:#fff;height:44px;padding-top:9px;margin-bottom:17px}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}.table-accountdetails[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#80808030}.table-accountdetails[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#7b809a}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important;text-align:center}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}.isExpired[_ngcontent-%COMP%]{color:red}']}),e}(),uS=["RForm"];function mS(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"div",5),M["\u0275\u0275elementStart"](1,"h1",6),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function hS(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",70),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).DocumentAction()}),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,2,"Document")," ")}}function gS(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",73),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).onPrint()}),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,2,"Print")," ")}}function _S(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",73),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).DupilcateAction()}),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,2,"Dupilcate")," ")}}function vS(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",73),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](4).DeleteAction()}),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](4);M["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function fS(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275template"](1,vS,3,4,"button",71),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",0==n.ShowModeReceipt&&n.ReceiptID>0&&0==n.VouchersLinkedCount)}}function CS(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275template"](1,gS,3,4,"button",71),M["\u0275\u0275elementStart"](2,"email-popup",72),M["\u0275\u0275listener"]("_savedemailobj",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).sendEmail(e)}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](3,_S,3,4,"button",71),M["\u0275\u0275template"](4,fS,2,1,"div",1),M["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(246)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("entryno",i._Receipt.entry_no),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(243)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(244))}}function yS(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",74),M["\u0275\u0275text"](1,"choose"),M["\u0275\u0275elementEnd"]())}function bS(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",74),M["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),M["\u0275\u0275elementEnd"]())}function SS(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function RS(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function xS(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",75),M["\u0275\u0275template"](1,SS,2,1,"span",1),M["\u0275\u0275template"](2,RS,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275property"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function MS(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th",62),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Pack")," "))}function IS(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th",79),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Price")," "))}function PS(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th",79),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Total")," "))}function OS(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function kS(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function ES(e,t){if(1&e&&(M["\u0275\u0275template"](0,OS,2,1,"div",1),M["\u0275\u0275template"](1,kS,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function wS(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function DS(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function BS(e,t){if(1&e&&(M["\u0275\u0275template"](0,wS,2,1,"div",1),M["\u0275\u0275template"](1,DS,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}var LS=function(e,t){return{"invalid-qty":e,"valid-qty":t}};function FS(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div",104),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275nextContext"](2);var i=M["\u0275\u0275reference"](4);M["\u0275\u0275property"]("ngClass",M["\u0275\u0275pureFunction2"](2,LS,0==n.allowqtyselectforitem&&i.submitted||0==n.allowqtyselectforitem,1==n.allowqtyselectforitem&&i.submitted||1==n.allowqtyselectforitem)),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.itemname," ")}}function NS(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div",104),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275nextContext"](2);var i=M["\u0275\u0275reference"](4);M["\u0275\u0275property"]("ngClass",M["\u0275\u0275pureFunction2"](2,LS,0==n.allowqtyselectforitem&&i.submitted||0==n.allowqtyselectforitem,1==n.allowqtyselectforitem&&i.submitted||1==n.allowqtyselectforitem)),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.itemname_ar," ")}}function VS(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",105),M["\u0275\u0275text"](1," choose "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function qS(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",105),M["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function TS(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function AS(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function GS(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",106),M["\u0275\u0275template"](1,TS,2,1,"span",1),M["\u0275\u0275template"](2,AS,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"]().$implicit,r=M["\u0275\u0275nextContext"](3);M["\u0275\u0275property"]("ngValue",null==n?null:n.id)("selected",(null==n?null:n.id)===i.unit_id&&(null==n?null:n.item_id)===(null==i?null:i.item_id)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=r.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==r.lang)}}var US=function(e,t){return{"invalid-data":e,"valid-data":t}};function jS(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275elementStart"](1,"input",107,108),M["\u0275\u0275listener"]("keyup",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275nextContext"]().index;return M["\u0275\u0275nextContext"](3).ChangePackItem(e)})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().$implicit.conv=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](2),r=M["\u0275\u0275nextContext"](),a=r.index,o=r.$implicit;M["\u0275\u0275nextContext"](2);var c=M["\u0275\u0275reference"](4),l=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate"]("step",null==l.CashCustomerSetting?null:l.CashCustomerSetting.allowdecimalpack),M["\u0275\u0275propertyInterpolate1"]("name","item_conv",a,""),M["\u0275\u0275property"]("readonly",3==(null==o?null:o.item_type)&&null!=(null==o?null:o.item_id))("Min",1e-5)("CheckMin",null!=(null==o?null:o.item_id))("stepallow",null==l.CashCustomerSetting?null:l.CashCustomerSetting.allowdecimalpack)("ngModel",o.conv)("required",null!=(null==o?null:o.item_id))("ngClass",M["\u0275\u0275pureFunction2"](9,US,i.invalid&&c.submitted,i.valid&&c.submitted))}}function $S(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275elementStart"](1,"input",109,110),M["\u0275\u0275listener"]("keyup",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275nextContext"]().index;return M["\u0275\u0275nextContext"](3).CalaculteValuesItemsRow(e)})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().$implicit.price=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](2),r=M["\u0275\u0275nextContext"](),a=r.index,o=r.$implicit;M["\u0275\u0275nextContext"](2);var c=M["\u0275\u0275reference"](4);M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate1"]("name","item_price",a,""),M["\u0275\u0275property"]("ngModel",o.price)("readonly",!0)("Min",0)("CheckMin",null!=(null==o?null:o.item_id))("ngClass",M["\u0275\u0275pureFunction2"](6,US,i.invalid&&c.submitted,i.valid&&c.submitted))}}function zS(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275elementStart"](1,"input",111),M["\u0275\u0275listener"]("keyup",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275nextContext"]().index;return M["\u0275\u0275nextContext"](3).ReCalaculteValuesChangeItemsRow(e)})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().$implicit.total=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](),r=i.index,a=i.$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate1"]("name","item_total",r,""),M["\u0275\u0275property"]("ngModel",a.total)("readonly",!0)}}function WS(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"a",113),M["\u0275\u0275listener"]("click",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275nextContext"](2).index,t=M["\u0275\u0275nextContext"](3),i=M["\u0275\u0275reference"](6);return t.OnSerialItems(e,i)}),M["\u0275\u0275element"](1,"i",114),M["\u0275\u0275elementEnd"]()}}function JS(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275template"](1,WS,2,0,"a",112),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",1!=n.CashCustomerSetting.dispensingpolicy)}}var QS=function(e){return{item_id:e}};function YS(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"tr"),M["\u0275\u0275elementStart"](1,"td",87),M["\u0275\u0275text"](2),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](3,"td"),M["\u0275\u0275elementStart"](4,"p-autoComplete",88,89),M["\u0275\u0275listener"]("onFocus",function(e){var t=M["\u0275\u0275restoreView"](n).index,i=M["\u0275\u0275reference"](5),r=M["\u0275\u0275nextContext"](3);return r.onFocusInStore(e,t),i.show(),r.isType=!0})("onClick",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.storecode=e})("onSelect",function(e){var t=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).StoreSelectEvent(e,t)})("completeMethod",function(e){var t=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).StoreChangeSearch(e,t)})("onClear",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3)._Receipt.details[e].store_id=null}),M["\u0275\u0275pipe"](6,"translate"),M["\u0275\u0275template"](7,ES,2,2,"ng-template",90),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](8,"td"),M["\u0275\u0275elementStart"](9,"p-autoComplete",91,92),M["\u0275\u0275listener"]("onFocus",function(e){var t=M["\u0275\u0275restoreView"](n).index,i=M["\u0275\u0275reference"](10),r=M["\u0275\u0275nextContext"](3);return r.onFocusInItems(e,t),i.show(),r.isType=!0})("onClick",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.itemcode=e})("onSelect",function(e){var t=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).ItemsSelectEvent(e,t)})("completeMethod",function(e){var t=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).ItemsChangeSearch(e,t)})("onClear",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).onClearItems(e)}),M["\u0275\u0275pipe"](11,"translate"),M["\u0275\u0275template"](12,BS,2,2,"ng-template",93),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](13,"td",94),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n),t=e.$implicit,i=e.index;return M["\u0275\u0275nextContext"](3).OnSelectedItem(t,i,"selected")}),M["\u0275\u0275template"](14,FS,2,5,"div",95),M["\u0275\u0275template"](15,NS,2,5,"div",95),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](16,"td"),M["\u0275\u0275elementStart"](17,"select",96,97),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e})("change",function(e){var t=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).ChangeItemUnits(e.target.value,t)}),M["\u0275\u0275template"](19,VS,2,1,"option",98),M["\u0275\u0275template"](20,qS,2,1,"option",98),M["\u0275\u0275template"](21,GS,3,4,"option",99),M["\u0275\u0275pipe"](22,"filterby"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](23,jS,3,12,"td",1),M["\u0275\u0275elementStart"](24,"td"),M["\u0275\u0275elementStart"](25,"input",100,101),M["\u0275\u0275listener"]("keyup",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).ChangeQty(e)})("ngModelChange",function(e){return t.$implicit.qty=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](27,$S,3,9,"td",1),M["\u0275\u0275template"](28,zS,2,3,"td",1),M["\u0275\u0275elementStart"](29,"td"),M["\u0275\u0275elementStart"](30,"a",102),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).DeleteItems(e)}),M["\u0275\u0275element"](31,"i",103),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](32,JS,2,1,"ng-container",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index,a=t.index,o=M["\u0275\u0275reference"](18),c=M["\u0275\u0275reference"](26);M["\u0275\u0275nextContext"](2);var l=M["\u0275\u0275reference"](4),s=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](a+1),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","storecode",r,""),M["\u0275\u0275property"]("ngModel",i.storecode)("disabled",!(null!=s.CurrentUserSetting&&s.CurrentUserSetting.canchangestore))("suggestions",s.StoreList)("showEmptyMessage",!0)("emptyMessage",M["\u0275\u0275pipeBind1"](6,33,"NoResultsFound"))("forceSelection",!0),M["\u0275\u0275advance"](5),M["\u0275\u0275propertyInterpolate1"]("name","itemcode",r,""),M["\u0275\u0275property"]("ngModel",i.itemcode)("suggestions",s.ItemsList)("showEmptyMessage",!0)("emptyMessage",M["\u0275\u0275pipeBind1"](11,35,"NoResultsFound"))("forceSelection",!0),M["\u0275\u0275advance"](5),M["\u0275\u0275property"]("ngIf","ar"!=s.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==s.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","itemunit",r,""),M["\u0275\u0275property"]("ngModel",i.unit_id)("required",null!=(null==i?null:i.item_id))("ngClass",M["\u0275\u0275pureFunction2"](40,US,o.invalid&&l.submitted,o.valid&&l.submitted)),M["\u0275\u0275attribute"]("disabled",3==(null==i?null:i.item_type)&&null!=(null==i?null:i.item_id)||null),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=s.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==s.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",M["\u0275\u0275pipeBind2"](22,37,s.ItemUnitsList,M["\u0275\u0275pureFunction1"](43,QS,null==i?null:i.item_id))),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",1==(null==s.CashCustomerSetting?null:s.CashCustomerSetting.allowpack)),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","item_qty",r,""),M["\u0275\u0275property"]("Min",1e-5)("CheckMin",null!=(null==i?null:i.item_id))("ngModel",i.qty)("ngClass",M["\u0275\u0275pureFunction2"](45,US,c.invalid&&l.submitted,c.valid&&l.submitted)),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",1==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.showcostprice)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",1==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.showcostprice)),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("ngIf",2==i.isrequireserial||3==i.isrequireserial)}}var HS=function(e){return{"table-for-autocomplete":e}};function ZS(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",76),M["\u0275\u0275elementStart"](1,"div",59),M["\u0275\u0275elementStart"](2,"div",77),M["\u0275\u0275elementStart"](3,"table",61),M["\u0275\u0275elementStart"](4,"thead"),M["\u0275\u0275elementStart"](5,"tr"),M["\u0275\u0275element"](6,"th"),M["\u0275\u0275elementStart"](7,"th",78),M["\u0275\u0275text"](8),M["\u0275\u0275pipe"](9,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](10,"th",62),M["\u0275\u0275text"](11),M["\u0275\u0275pipe"](12,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](13,"th",79),M["\u0275\u0275text"](14),M["\u0275\u0275pipe"](15,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](16,"th",80),M["\u0275\u0275text"](17),M["\u0275\u0275pipe"](18,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](19,MS,3,3,"th",81),M["\u0275\u0275elementStart"](20,"th",62),M["\u0275\u0275text"](21),M["\u0275\u0275pipe"](22,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](23,IS,3,3,"th",82),M["\u0275\u0275template"](24,PS,3,3,"th",83),M["\u0275\u0275elementStart"](25,"th",84),M["\u0275\u0275text"](26," \xa0 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275element"](27,"tbody"),M["\u0275\u0275elementStart"](28,"tbody"),M["\u0275\u0275template"](29,YS,33,48,"tr",85),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](30,"button",86),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).AddItems()}),M["\u0275\u0275text"](31),M["\u0275\u0275pipe"](32,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngClass",M["\u0275\u0275pureFunction1"](24,HS,i.isType)),M["\u0275\u0275advance"](6),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](9,12,"Store")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](12,14,"ItemCode")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](15,16,"ItemDescription")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](18,18,"Unit")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",1==(null==i.CashCustomerSetting?null:i.CashCustomerSetting.allowpack)),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](22,20,"qty")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",1==(null==i.CurrentUserSetting?null:i.CurrentUserSetting.showcostprice)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",1==(null==i.CurrentUserSetting?null:i.CurrentUserSetting.showcostprice)),M["\u0275\u0275advance"](5),M["\u0275\u0275property"]("ngForOf",i._Receipt.details)("ngForTrackBy",i._ReceiptSharedService.customTrackBy),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](32,22,"Add")," ")}}function KS(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th",62),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Pack")," "))}function XS(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.itemname," ")}}function eR(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.itemname_ar," ")}}function tR(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",105),M["\u0275\u0275text"](1," choose "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function nR(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",105),M["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function iR(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function rR(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function aR(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",75),M["\u0275\u0275template"](1,iR,2,1,"span",1),M["\u0275\u0275template"](2,rR,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](5);M["\u0275\u0275property"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function oR(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275elementStart"](1,"input",120),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().$implicit.conv=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](),r=i.index,a=i.$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate1"]("name","item_conv_c",r,""),M["\u0275\u0275property"]("readonly",!0)("ngModel",a.conv)}}function cR(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"tr"),M["\u0275\u0275elementStart"](1,"td"),M["\u0275\u0275elementStart"](2,"input",116),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.storecode=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](3,"td"),M["\u0275\u0275elementStart"](4,"input",116),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.itemcode=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](5,"td"),M["\u0275\u0275template"](6,XS,2,1,"div",1),M["\u0275\u0275template"](7,eR,2,1,"div",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](8,"td"),M["\u0275\u0275elementStart"](9,"select",117),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e}),M["\u0275\u0275template"](10,tR,2,1,"option",98),M["\u0275\u0275template"](11,nR,2,1,"option",98),M["\u0275\u0275template"](12,aR,3,3,"option",118),M["\u0275\u0275pipe"](13,"filterby"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](14,oR,2,3,"td",1),M["\u0275\u0275elementStart"](15,"td"),M["\u0275\u0275elementStart"](16,"input",119),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.qty=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](17,"td"),M["\u0275\u0275elementStart"](18,"input",119),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.price=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](19,"td"),M["\u0275\u0275elementStart"](20,"input",119),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.total=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=t.index,r=M["\u0275\u0275nextContext"](4);M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","storecode_c",i,""),M["\u0275\u0275property"]("readonly",!0)("ngModel",n.storecode),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","itemcode_c",i,""),M["\u0275\u0275property"]("readonly",!0)("ngModel",n.itemcode),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=r.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==r.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","itemunit_c",i,""),M["\u0275\u0275property"]("ngModel",n.unit_id),M["\u0275\u0275attribute"]("disabled",!0),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=r.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==r.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",M["\u0275\u0275pipeBind2"](13,24,r.ItemComponentUnitsList,M["\u0275\u0275pureFunction1"](27,QS,n.item_id))),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",1==(null==r.CashCustomerSetting?null:r.CashCustomerSetting.allowpack)),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","item_qty_c",i,""),M["\u0275\u0275property"]("ngModel",n.qty)("readonly",!0),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","item_price_c",i,""),M["\u0275\u0275property"]("ngModel",n.price)("readonly",!0),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","item_total_c",i,""),M["\u0275\u0275property"]("ngModel",n.total)("readonly",!0)}}var lR=function(e){return{finishedproductid:e}};function sR(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div",76),M["\u0275\u0275elementStart"](1,"div",59),M["\u0275\u0275elementStart"](2,"div",60),M["\u0275\u0275elementStart"](3,"table",61),M["\u0275\u0275elementStart"](4,"thead"),M["\u0275\u0275elementStart"](5,"tr"),M["\u0275\u0275elementStart"](6,"th",62),M["\u0275\u0275text"](7),M["\u0275\u0275pipe"](8,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](9,"th",62),M["\u0275\u0275text"](10),M["\u0275\u0275pipe"](11,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](12,"th",62),M["\u0275\u0275text"](13),M["\u0275\u0275pipe"](14,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](15,"th",80),M["\u0275\u0275text"](16),M["\u0275\u0275pipe"](17,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](18,KS,3,3,"th",81),M["\u0275\u0275elementStart"](19,"th",62),M["\u0275\u0275text"](20),M["\u0275\u0275pipe"](21,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](22,"th",62),M["\u0275\u0275text"](23),M["\u0275\u0275pipe"](24,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](25,"th",62),M["\u0275\u0275text"](26),M["\u0275\u0275pipe"](27,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](28,"tbody"),M["\u0275\u0275template"](29,cR,21,29,"tr",115),M["\u0275\u0275pipe"](30,"filterby"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](7),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](8,9,"Store")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](11,11,"ItemCode")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](14,13,"ItemDescription")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](17,15,"Unit")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",1==(null==n.CashCustomerSetting?null:n.CashCustomerSetting.allowpack)),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](21,17,"qty")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](24,19,"Price")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](27,21,"Total")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngForOf",0==n.show_all_component?M["\u0275\u0275pipeBind2"](30,23,n.ItemsComponentList,M["\u0275\u0275pureFunction1"](26,lR,null==n.SelectedItem?null:n.SelectedItem.item_id)):n.ItemsComponentList)}}function dR(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"li",56),M["\u0275\u0275elementStart"](1,"a",53),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](4,sR,31,28,"ng-template",54),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275property"]("ngbNavItem",2),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](3,2,"Components")))}function pR(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",74),M["\u0275\u0275text"](1," choose "),M["\u0275\u0275elementEnd"]())}function uR(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",74),M["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),M["\u0275\u0275elementEnd"]())}function mR(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function hR(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function gR(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",75),M["\u0275\u0275template"](1,mR,2,1,"span",1),M["\u0275\u0275template"](2,hR,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function _R(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",105),M["\u0275\u0275text"](1," choose "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function vR(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",105),M["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function fR(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.codename,"")}}function CR(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.codenamear,"")}}function yR(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",75),M["\u0275\u0275template"](1,fR,2,1,"span",1),M["\u0275\u0275template"](2,CR,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("value",n.code),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function bR(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"tr"),M["\u0275\u0275elementStart"](1,"td"),M["\u0275\u0275elementStart"](2,"select",121),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.branch_id=e}),M["\u0275\u0275template"](3,pR,2,0,"option",30),M["\u0275\u0275template"](4,uR,2,0,"option",30),M["\u0275\u0275template"](5,gR,3,3,"option",118),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](6,"td"),M["\u0275\u0275elementStart"](7,"select",121),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.code=e}),M["\u0275\u0275template"](8,_R,2,1,"option",98),M["\u0275\u0275template"](9,vR,2,1,"option",98),M["\u0275\u0275template"](10,yR,3,3,"option",118),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](11,"td"),M["\u0275\u0275elementStart"](12,"input",122,123),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.entry_no=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](14,"td"),M["\u0275\u0275elementStart"](15,"a",124),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).GetLinkedReceipt(e)}),M["\u0275\u0275element"](16,"i",125),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](17,"td"),M["\u0275\u0275elementStart"](18,"a",113),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).OnOpenLinkedReceipt(e)}),M["\u0275\u0275element"](19,"i",126),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](20,"td"),M["\u0275\u0275elementStart"](21,"a",102),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).DeleteLinkedReceipt(e)}),M["\u0275\u0275element"](22,"i",103),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index,a=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsbranch",r,""),M["\u0275\u0275property"]("ngModel",i.branch_id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",a.BranchList),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptscode",r,""),M["\u0275\u0275property"]("ngModel",i.code),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",a.ReceiptCodeList),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsentry_no",r,""),M["\u0275\u0275property"]("ngModel",i.entry_no),M["\u0275\u0275advance"](3),M["\u0275\u0275attribute"]("disabled",(null==i?null:i.fire)>0||null)}}function SR(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",76),M["\u0275\u0275elementStart"](1,"div",59),M["\u0275\u0275elementStart"](2,"div",60),M["\u0275\u0275elementStart"](3,"table",61),M["\u0275\u0275elementStart"](4,"thead"),M["\u0275\u0275elementStart"](5,"tr"),M["\u0275\u0275elementStart"](6,"th",62),M["\u0275\u0275text"](7),M["\u0275\u0275pipe"](8,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](9,"th",62),M["\u0275\u0275text"](10),M["\u0275\u0275pipe"](11,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](12,"th",62),M["\u0275\u0275text"](13),M["\u0275\u0275pipe"](14,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](15,"th",84),M["\u0275\u0275text"](16," \xa0 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](17,"th",84),M["\u0275\u0275text"](18," \xa0 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](19,"th",84),M["\u0275\u0275text"](20," \xa0 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](21,"tbody"),M["\u0275\u0275template"](22,bR,23,13,"tr",115),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](23,"button",86),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).AddLinkedReceipt()}),M["\u0275\u0275text"](24),M["\u0275\u0275pipe"](25,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](7),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](8,5,"Branch")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](11,7,"Receipttype")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](14,9,"EntryNo")," "),M["\u0275\u0275advance"](9),M["\u0275\u0275property"]("ngForOf",i._Receipt.linkedreceipts),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](25,11,"Add")," ")}}function RR(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",76),M["\u0275\u0275elementStart"](1,"div",59),M["\u0275\u0275elementStart"](2,"Signature",127),M["\u0275\u0275listener"]("signatureoutput",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).OnSignatureSet(e)}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("signature",i._Receipt.signature)}}function xR(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Cost Center"),""))}function MR(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",null==n.subsaidarySetting?null:n.subsaidarySetting.costcenteralternativetext,"")}}function IR(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function PR(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function OR(e,t){if(1&e&&(M["\u0275\u0275template"](0,IR,2,1,"div",1),M["\u0275\u0275template"](1,PR,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function kR(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Class"),""))}function ER(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](5);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n.subsaidarySetting?null:n.subsaidarySetting.classalternativetextar)}}function wR(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](5);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n.subsaidarySetting?null:n.subsaidarySetting.classalternativetext)}}function DR(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275template"](1,ER,2,1,"span",1),M["\u0275\u0275template"](2,wR,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function BR(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span",27),M["\u0275\u0275text"](1,"*"),M["\u0275\u0275elementEnd"]())}function LR(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function FR(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function NR(e,t){if(1&e&&(M["\u0275\u0275template"](0,LR,2,1,"div",1),M["\u0275\u0275template"](1,FR,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function VR(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",129),M["\u0275\u0275elementStart"](1,"label",130),M["\u0275\u0275template"](2,kR,3,3,"span",1),M["\u0275\u0275template"](3,DR,3,2,"span",1),M["\u0275\u0275template"](4,BR,2,0,"span",135),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](5,"p-autoComplete",136,137),M["\u0275\u0275listener"]("onFocus",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275reference"](6);return M["\u0275\u0275nextContext"](3).onFocusInClasses(e),t.show()})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3)._Receipt.classfieldname=e})("onSelect",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).ClassesSelectEvent(e)})("completeMethod",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).ClassesChangeSearch(e)})("onClear",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3)._Receipt.classid=null}),M["\u0275\u0275pipe"](8,"translate"),M["\u0275\u0275template"](9,NR,2,2,"ng-template",138),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](7);M["\u0275\u0275nextContext"](2);var r=M["\u0275\u0275reference"](4),a=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",null==(null==a.subsaidarySetting?null:a.subsaidarySetting.classalternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null!=(null==a.subsaidarySetting?null:a.subsaidarySetting.classalternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null==a.subsaidarySetting?null:a.subsaidarySetting.classmandatory4invtrans),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("required",null==a.subsaidarySetting?null:a.subsaidarySetting.classmandatory4invtrans)("ngModel",a._Receipt.classfieldname)("suggestions",a.ClassList)("ngClass",M["\u0275\u0275pureFunction2"](12,US,i.invalid&&r.submitted,i.valid&&r.submitted))("showEmptyMessage",!0)("emptyMessage",M["\u0275\u0275pipeBind1"](8,10,"NoResultsFound"))("forceSelection",!0)}}function qR(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Location")," "))}function TR(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](5);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n.subsaidarySetting?null:n.subsaidarySetting.locationalternativetext)}}function AR(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](5);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n.subsaidarySetting?null:n.subsaidarySetting.locationalternativetextar)}}function GR(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275template"](1,TR,2,1,"span",1),M["\u0275\u0275template"](2,AR,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function UR(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span",27),M["\u0275\u0275text"](1,"*"),M["\u0275\u0275elementEnd"]())}function jR(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function $R(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function zR(e,t){if(1&e&&(M["\u0275\u0275template"](0,jR,2,1,"div",1),M["\u0275\u0275template"](1,$R,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function WR(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",129),M["\u0275\u0275elementStart"](1,"label",130),M["\u0275\u0275template"](2,qR,3,3,"span",1),M["\u0275\u0275template"](3,GR,3,2,"span",1),M["\u0275\u0275template"](4,UR,2,0,"span",135),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](5,"p-autoComplete",139,140),M["\u0275\u0275listener"]("onFocus",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275reference"](6);return M["\u0275\u0275nextContext"](3).onFocusInLocations(e),t.show()})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3)._Receipt.locationfieldname=e})("onSelect",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).LocationsSelectEvent(e)})("completeMethod",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).LocationsChangeSearch(e)})("onClear",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3)._Receipt.locationid=null}),M["\u0275\u0275pipe"](8,"translate"),M["\u0275\u0275template"](9,zR,2,2,"ng-template",141),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](7);M["\u0275\u0275nextContext"](2);var r=M["\u0275\u0275reference"](4),a=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",null==(null==a.subsaidarySetting?null:a.subsaidarySetting.locationalternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null!=(null==a.subsaidarySetting?null:a.subsaidarySetting.locationalternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null==a.subsaidarySetting?null:a.subsaidarySetting.locationmandatory4invtrans),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("required",null==a.subsaidarySetting?null:a.subsaidarySetting.locationmandatory4invtrans)("ngModel",a._Receipt.locationfieldname)("suggestions",a.LocationList)("ngClass",M["\u0275\u0275pureFunction2"](12,US,i.invalid&&r.submitted,i.valid&&r.submitted))("showEmptyMessage",!0)("emptyMessage",M["\u0275\u0275pipeBind1"](8,10,"NoResultsFound"))("forceSelection",!0)}}function JR(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Department")," "))}function QR(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](5);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n.subsaidarySetting?null:n.subsaidarySetting.departmentalternativetextar)}}function YR(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](5);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n.subsaidarySetting?null:n.subsaidarySetting.departmentalternativetext)}}function HR(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275template"](1,QR,2,1,"span",1),M["\u0275\u0275template"](2,YR,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function ZR(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span",27),M["\u0275\u0275text"](1,"*"),M["\u0275\u0275elementEnd"]())}function KR(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function XR(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function ex(e,t){if(1&e&&(M["\u0275\u0275template"](0,KR,2,1,"div",1),M["\u0275\u0275template"](1,XR,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function tx(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",129),M["\u0275\u0275elementStart"](1,"label",130),M["\u0275\u0275template"](2,JR,3,3,"span",1),M["\u0275\u0275template"](3,HR,3,2,"span",1),M["\u0275\u0275template"](4,ZR,2,0,"span",135),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](5,"p-autoComplete",142,143),M["\u0275\u0275listener"]("onFocus",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275reference"](6);return M["\u0275\u0275nextContext"](3).onFocusInDepartment(e),t.show()})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3)._Receipt.departmentfieldname=e})("onSelect",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).DepartmentSelectEvent(e)})("completeMethod",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).DepartmentChangeSearch(e)})("onClear",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3)._Receipt.debartmentid=null}),M["\u0275\u0275pipe"](8,"translate"),M["\u0275\u0275template"](9,ex,2,2,"ng-template",144),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](7);M["\u0275\u0275nextContext"](2);var r=M["\u0275\u0275reference"](4),a=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",null==(null==a.subsaidarySetting?null:a.subsaidarySetting.departmentalternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null!=(null==a.subsaidarySetting?null:a.subsaidarySetting.departmentalternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null==a.subsaidarySetting?null:a.subsaidarySetting.departmentmandatory4invtrans),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("required",null==a.subsaidarySetting?null:a.subsaidarySetting.departmentmandatory4invtrans)("ngModel",a._Receipt.departmentfieldname)("suggestions",a.DepartmentList)("ngClass",M["\u0275\u0275pureFunction2"](12,US,i.invalid&&r.submitted,i.valid&&r.submitted))("showEmptyMessage",!0)("emptyMessage",M["\u0275\u0275pipeBind1"](8,10,"NoResultsFound"))("forceSelection",!0)}}function nx(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",5),M["\u0275\u0275elementStart"](1,"div",128),M["\u0275\u0275elementStart"](2,"div",129),M["\u0275\u0275elementStart"](3,"label",130),M["\u0275\u0275template"](4,xR,3,3,"span",1),M["\u0275\u0275template"](5,MR,2,1,"span",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](6,"p-autoComplete",131,132),M["\u0275\u0275listener"]("onFocus",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275reference"](7);return M["\u0275\u0275nextContext"](2).onFocusInCostCenter(e),t.show()})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Receipt.costcenterfieldname=e})("onSelect",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).CostCenterSelectEvent(e)})("completeMethod",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).CostCenterChangeSearch(e)})("onClear",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Receipt.costcenterid=null}),M["\u0275\u0275pipe"](9,"translate"),M["\u0275\u0275template"](10,OR,2,2,"ng-template",133),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](11,VR,10,15,"div",134),M["\u0275\u0275template"](12,WR,10,15,"div",134),M["\u0275\u0275template"](13,tx,10,15,"div",134),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](8);M["\u0275\u0275nextContext"]();var r=M["\u0275\u0275reference"](4),a=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("ngIf",null==(null==a.subsaidarySetting?null:a.subsaidarySetting.costcenteralternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null!=(null==a.subsaidarySetting?null:a.subsaidarySetting.costcenteralternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("required",null==a.subsaidarySetting?null:a.subsaidarySetting.costcentermandatory4invtrans)("ngModel",a._Receipt.costcenterfieldname)("suggestions",a.CostCenterList)("ngClass",M["\u0275\u0275pureFunction2"](14,US,i.invalid&&r.submitted,i.valid&&r.submitted))("showEmptyMessage",!0)("emptyMessage",M["\u0275\u0275pipeBind1"](9,12,"NoResultsFound"))("forceSelection",!0),M["\u0275\u0275advance"](5),M["\u0275\u0275property"]("ngIf",null==a.subsaidarySetting?null:a.subsaidarySetting.classisactive),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null==a.subsaidarySetting?null:a.subsaidarySetting.locationisactive),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null==a.subsaidarySetting?null:a.subsaidarySetting.departmentisactive)}}function ix(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275element"](1,"Item-StoreQty",145,146),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("wrappe",n._itemstoreqtyobj)}}function rx(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275elementStart"](1,"div",7),M["\u0275\u0275elementStart"](2,"div",5),M["\u0275\u0275elementStart"](3,"form",8,9),M["\u0275\u0275listener"]("ngSubmit",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275reference"](4);return M["\u0275\u0275nextContext"]().CheckPre_SaveReceipt(e)}),M["\u0275\u0275elementStart"](5,"div",10),M["\u0275\u0275elementStart"](6,"div",11),M["\u0275\u0275elementStart"](7,"div",12),M["\u0275\u0275elementStart"](8,"div",13),M["\u0275\u0275elementStart"](9,"h6",14),M["\u0275\u0275text"](10),M["\u0275\u0275pipe"](11,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](12,"div",5),M["\u0275\u0275elementStart"](13,"div",15),M["\u0275\u0275elementStart"](14,"button",16),M["\u0275\u0275element"](15,"i",17),M["\u0275\u0275text"](16),M["\u0275\u0275pipe"](17,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](18,"button",18),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().CreateNewAction()}),M["\u0275\u0275text"](19),M["\u0275\u0275pipe"](20,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](21,hS,3,4,"button",19),M["\u0275\u0275elementStart"](22,"button",20),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().BackAction()}),M["\u0275\u0275text"](23),M["\u0275\u0275pipe"](24,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](25,"div",21),M["\u0275\u0275elementStart"](26,"button",22),M["\u0275\u0275text"](27),M["\u0275\u0275pipe"](28,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](29,"div",23),M["\u0275\u0275template"](30,CS,5,4,"ng-container",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275element"](31,"hr"),M["\u0275\u0275elementStart"](32,"div",5),M["\u0275\u0275elementStart"](33,"div",24),M["\u0275\u0275elementStart"](34,"div",25),M["\u0275\u0275elementStart"](35,"label",26),M["\u0275\u0275text"](36),M["\u0275\u0275pipe"](37,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](38,"span",27),M["\u0275\u0275text"](39,"*"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](40,"select",28,29),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.branch_id=e})("change",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().changeBranch(e)}),M["\u0275\u0275template"](42,yS,2,0,"option",30),M["\u0275\u0275template"](43,bS,2,0,"option",30),M["\u0275\u0275template"](44,xS,3,3,"option",31),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](45,"div",32),M["\u0275\u0275elementStart"](46,"div",25),M["\u0275\u0275elementStart"](47,"label",33),M["\u0275\u0275text"](48),M["\u0275\u0275pipe"](49,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](50,"span",27),M["\u0275\u0275text"](51,"*"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](52,"input",34,35),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.entry_no=e})("ngModelChange",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().ChangePropFinish("EntryCode",2)})("keydown.space",function(e){return e.preventDefault()}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](54,"div",5),M["\u0275\u0275elementStart"](55,"div",32),M["\u0275\u0275elementStart"](56,"div",25),M["\u0275\u0275elementStart"](57,"label",36),M["\u0275\u0275text"](58),M["\u0275\u0275pipe"](59,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](60,"input",37,38),M["\u0275\u0275listener"]("ngModelChange",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275nextContext"]();return t._Receipt.entry_date=e,t.ChangePropFinish("EntryDate",2)}),M["\u0275\u0275pipe"](62,"date"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](63,"div",32),M["\u0275\u0275elementStart"](64,"div",25),M["\u0275\u0275elementStart"](65,"label",39),M["\u0275\u0275text"](66),M["\u0275\u0275pipe"](67,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](68,"input",40,41),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.entry_time=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](70,"div",32),M["\u0275\u0275elementStart"](71,"div",25),M["\u0275\u0275elementStart"](72,"label",42),M["\u0275\u0275text"](73),M["\u0275\u0275pipe"](74,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](75,"input",43,44),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.reference_no=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](77,"div",32),M["\u0275\u0275elementStart"](78,"div",25),M["\u0275\u0275elementStart"](79,"label",45),M["\u0275\u0275text"](80),M["\u0275\u0275pipe"](81,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](82,"input",46,47),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.memo=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](84,"div",11),M["\u0275\u0275elementStart"](85,"div",48),M["\u0275\u0275elementStart"](86,"div",5),M["\u0275\u0275elementStart"](87,"div",49),M["\u0275\u0275elementStart"](88,"ul",50,51),M["\u0275\u0275listener"]("activeIdChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().activeNav=e}),M["\u0275\u0275elementStart"](90,"li",52),M["\u0275\u0275elementStart"](91,"a",53),M["\u0275\u0275text"](92),M["\u0275\u0275pipe"](93,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](94,ZS,33,26,"ng-template",54),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](95,dR,5,4,"li",55),M["\u0275\u0275elementStart"](96,"li",56),M["\u0275\u0275elementStart"](97,"a",53),M["\u0275\u0275text"](98),M["\u0275\u0275pipe"](99,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](100,SR,26,13,"ng-template",54),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](101,"li",56),M["\u0275\u0275elementStart"](102,"a",53),M["\u0275\u0275text"](103),M["\u0275\u0275pipe"](104,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](105,RR,3,1,"ng-template",54),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](106,"li",56),M["\u0275\u0275elementStart"](107,"a",53),M["\u0275\u0275text"](108),M["\u0275\u0275pipe"](109,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](110,nx,14,17,"ng-template",54),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275element"](111,"div",57),M["\u0275\u0275elementStart"](112,"div",5),M["\u0275\u0275elementStart"](113,"div",58),M["\u0275\u0275elementStart"](114,"div",59),M["\u0275\u0275elementStart"](115,"div",60),M["\u0275\u0275elementStart"](116,"table",61),M["\u0275\u0275elementStart"](117,"thead"),M["\u0275\u0275elementStart"](118,"tr"),M["\u0275\u0275element"](119,"th",62),M["\u0275\u0275elementStart"](120,"th",63),M["\u0275\u0275text"](121),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](122,"th",62),M["\u0275\u0275text"](123),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](124,"tbody"),M["\u0275\u0275elementStart"](125,"tr"),M["\u0275\u0275elementStart"](126,"td"),M["\u0275\u0275text"](127),M["\u0275\u0275pipe"](128,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](129,"td",64),M["\u0275\u0275elementStart"](130,"input",65),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.valueforeign=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](131,"td"),M["\u0275\u0275elementStart"](132,"input",66),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.value=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](133,"tr"),M["\u0275\u0275elementStart"](134,"td"),M["\u0275\u0275text"](135),M["\u0275\u0275pipe"](136,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](137,"td"),M["\u0275\u0275elementStart"](138,"input",67),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.qtotal=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](139,"tr"),M["\u0275\u0275elementStart"](140,"td"),M["\u0275\u0275text"](141),M["\u0275\u0275pipe"](142,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](143,"td"),M["\u0275\u0275elementStart"](144,"input",68),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.totalitem=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](145,"div",69),M["\u0275\u0275template"](146,ix,3,1,"div",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](4),r=M["\u0275\u0275reference"](41),a=M["\u0275\u0275reference"](53),o=M["\u0275\u0275reference"](61),c=M["\u0275\u0275reference"](89),l=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](10),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](11,64,"Destroy Voucher"),""),M["\u0275\u0275advance"](4),M["\u0275\u0275attribute"]("disabled",l.VouchersLinkedCount>0||1==l.ShowModeReceipt||1==l.DuringSaveDisable||l.ReceiptID>0&&!l.checkRoleParms(625)||0==l.ReceiptID&&!l.checkRoleParms(243)||null),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](17,66,"Save")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275attribute"]("disabled",!l.checkRoleParms(243)||1==l.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](20,68,"CreateNew")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",l.ReceiptID>0&&0==l.VouchersLinkedCount),M["\u0275\u0275advance"](1),M["\u0275\u0275attribute"]("disabled",1==l.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](24,70,"Exit")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](28,72,"Action Menu")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngIf",l.ReceiptID>0),M["\u0275\u0275advance"](6),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](37,74,"Branch")),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("ngModel",l._Receipt.branch_id)("ngClass",M["\u0275\u0275pureFunction2"](103,US,r.invalid&&i.submitted,r.valid&&i.submitted)),M["\u0275\u0275attribute"]("disabled",l.ReceiptID>0||null),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=l.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==l.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",l.BranchList)("ngForTrackBy",l.customTrackBy),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](49,76,"Entry#")),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("stepallow",1)("ngModel",l._Receipt.entry_no)("readonly",0==(null==l.CurrentUserSetting?null:l.CurrentUserSetting.controlvouchernumanddate)||l.VouchersLinkedCount>0||1==l.LockedRecepit)("Min",1)("CheckMin",!0)("ngClass",M["\u0275\u0275pureFunction2"](106,US,a.invalid&&i.submitted,a.valid&&i.submitted)),M["\u0275\u0275advance"](6),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](59,78,"Date")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",M["\u0275\u0275pipeBind2"](62,80,l._Receipt.entry_date,"yyyy-MM-dd"))("readonly",0==(null==l.CurrentUserSetting?null:l.CurrentUserSetting.controlvouchernumanddate)||l.VouchersLinkedCount>0||1==l.LockedRecepit)("ngClass",M["\u0275\u0275pureFunction2"](109,US,o.invalid&&i.submitted||0==l.ValidPeriod,o.valid&&i.submitted)),M["\u0275\u0275advance"](6),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](67,83,"time")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("readonly",0==(null==l.CurrentUserSetting?null:l.CurrentUserSetting.controlvouchernumanddate)||l.VouchersLinkedCount>0||1==l.LockedRecepit)("ngModel",l._Receipt.entry_time),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](74,85,"ReferenceNo")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",l._Receipt.reference_no),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](81,87,"Memo")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",l._Receipt.memo),M["\u0275\u0275advance"](6),M["\u0275\u0275property"]("destroyOnHide",!1)("activeId",l.activeNav),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngbNavItem",1),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](93,89,"Items")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngIf",null==l.CurrentUserSetting?null:l.CurrentUserSetting.showreceiptitemcomponent),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngbNavItem",3),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](99,91,"LinkedReceipt")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngbNavItem",4),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](104,93,"Signature")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngbNavItem",5),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](109,95,"AnalyticalAccount")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngbNavOutlet",c),M["\u0275\u0275advance"](9),M["\u0275\u0275property"]("hidden",!l.ForeignCurrencyShow),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" Total - ",null==l._CurrencySelected?null:l._CurrencySelected.currencysymbol," "),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" Total - ",null==l._BaseCurrency?null:l._BaseCurrency.currencysymbol," "),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](128,97,"Total")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("hidden",!l.ForeignCurrencyShow),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("readonly",!0)("ngModel",l._Receipt.valueforeign),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("readonly",!0)("ngModel",l._Receipt.value),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](136,99,"totalqty")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("readonly",!0)("ngModel",l._Receipt.qtotal),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](142,101,"totalitem")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("readonly",!0)("ngModel",l._Receipt.totalitem),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",l.itemqtyview)}}function ax(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"h6",154),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}function ox(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"h6",154),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Batches")," "))}function cx(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th"),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Date")," "))}function lx(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th"),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}function sx(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th"),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"BatchNo")," "))}function dx(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th",159),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Availableqty")," "))}function px(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th",159),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"qty")," "))}var ux=function(e){return{isExpired:e}};function mx(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"td",104),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"date"),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275property"]("ngClass",M["\u0275\u0275pureFunction1"](5,ux,null==n?null:n.isexpired)),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind2"](2,2,null==n?null:n.expire_date,"yyyy-MM-dd")," ")}}function hx(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span",163),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](2,1,"QtyIsValidWithAvailableQty")))}var gx=function(e){return{"invalid-data":e}};function _x(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275elementStart"](1,"input",161),M["\u0275\u0275listener"]("change",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275nextContext"]().$implicit;return M["\u0275\u0275nextContext"](2).ChangeBatchQty(t,e.target.value)}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](2,hx,3,3,"span",162),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](),r=i.index,a=i.$implicit;M["\u0275\u0275nextContext"]();var o=M["\u0275\u0275reference"](7);M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate1"]("name","Qty",r,""),M["\u0275\u0275property"]("value",null==a?null:a.qty)("ngClass",M["\u0275\u0275pureFunction1"](4,gx,(null==a?null:a.qty)>(null==a?null:a.availableqty)+(null==a?null:a.oldqty)&&o.submitted)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",(null==a?null:a.qty)>(null==a?null:a.availableqty)+(null==a?null:a.oldqty)&&o.submitted)}}function vx(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"tr"),M["\u0275\u0275elementStart"](1,"td"),M["\u0275\u0275element"](2,"input",160),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](3,"td"),M["\u0275\u0275text"](4),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](5,mx,3,7,"td",95),M["\u0275\u0275elementStart"](6,"td"),M["\u0275\u0275text"](7),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](8,"td"),M["\u0275\u0275text"](9),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](10,_x,3,6,"td",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=t.index,r=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","Vaild",i,""),M["\u0275\u0275property"]("checked",null==n?null:n.valid),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ","ar"!=r.lang?null==n?null:n.name:null==n?null:n.name_ar," "),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",3==r.requiredserial),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",null==n?null:n.serial," "),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](null==n?null:n.availableqty),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",3==r.requiredserial)}}function fx(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",147),M["\u0275\u0275template"](1,ax,3,3,"h6",148),M["\u0275\u0275template"](2,ox,3,3,"h6",148),M["\u0275\u0275elementStart"](3,"button",149),M["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),M["\u0275\u0275elementStart"](4,"span",150),M["\u0275\u0275text"](5,"\xd7"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](6,"form",8,9),M["\u0275\u0275listener"]("ngSubmit",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275reference"](7);return M["\u0275\u0275nextContext"]().saveserial(e)}),M["\u0275\u0275elementStart"](8,"div",151),M["\u0275\u0275elementStart"](9,"div",152),M["\u0275\u0275elementStart"](10,"div",5),M["\u0275\u0275elementStart"](11,"form"),M["\u0275\u0275elementStart"](12,"div",153),M["\u0275\u0275elementStart"](13,"h6",154),M["\u0275\u0275text"](14),M["\u0275\u0275pipe"](15,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](16,"table",61),M["\u0275\u0275elementStart"](17,"thead"),M["\u0275\u0275elementStart"](18,"tr"),M["\u0275\u0275elementStart"](19,"th"),M["\u0275\u0275text"](20),M["\u0275\u0275pipe"](21,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](22,"th",155),M["\u0275\u0275text"](23),M["\u0275\u0275pipe"](24,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](25,cx,3,3,"th",1),M["\u0275\u0275template"](26,lx,3,3,"th",1),M["\u0275\u0275template"](27,sx,3,3,"th",1),M["\u0275\u0275template"](28,dx,3,3,"th",156),M["\u0275\u0275template"](29,px,3,3,"th",156),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](30,"tbody"),M["\u0275\u0275template"](31,vx,11,7,"tr",85),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](32,"div",157),M["\u0275\u0275elementStart"](33,"button",158),M["\u0275\u0275text"](34),M["\u0275\u0275pipe"](35,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",2==i.requiredserial),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",3==i.requiredserial),M["\u0275\u0275advance"](12),M["\u0275\u0275textInterpolate2"](" ",M["\u0275\u0275pipeBind1"](15,14,"qty")," : ",i._batchqty," "),M["\u0275\u0275advance"](6),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](21,16,"Choose")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](24,18,"Store")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",3==i.requiredserial),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",2==i.requiredserial),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",3==i.requiredserial),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",3==i.requiredserial),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",3==i.requiredserial),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngForOf",i.BatchesListForEatchRow)("ngForTrackBy",i.trackByFn),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](35,20,"save")," ")}}var Cx=function(){return[242,243,244,246,625]},yx=function(){var e=function(){function e(t,n,i,r,a,o,l,s,d,p,u,m,h,g,_,v,f,C){var y=this;c(this,e),this._cashsalesService=t,this._CustomerService=n,this._ReceiptSharedService=i,this._VoucherService=r,this.cd=a,this.toastr=o,this._router=l,this._generalService=s,this.translate=d,this._translateGlobalService=p,this._activeRoute=u,this.modalService=m,this.spinner=h,this._authService=g,this._printService=_,this._VerifyReportsService=v,this.datepipe=f,this.location=C,this.isType=!1,this.subsidiaryID=0,this.ReceiptID=0,this.activeNav=1,this.BasicCodeReceipt=61,this.Transaction_move=0,this._Receipt=new S.tY,this._ReceiptOriginal=new S.tY,this._Receipt_h_Edit=new S.Iu,this._CashSalesDetailsReceipt=new S.hm,this.ItemsComponentList=new Array,this.DescriptionItem=new S.tH,this._LinkedReceipt=new S.Cb,this._Currencyprecision=3,this.ForeignCurrencyShow=!1,this.ValidPeriod=!0,this.VouchersLinkedCount=0,this.DuringSaveDisable=!1,this.show_all_component=!1,this.BranchList=[],this.PaymentTypeList=[],this.CostCenterList=[],this.ReceiptCodeList=[],this.TransactionAccountList=[],this.DepartmentList=[],this.LocationList=[],this.ClassList=[],this.CurrencyList=[],this.StoreList=[],this.ItemsList=[],this.ItemUnitsList=[],this.ItemComponentUnitsList=[],this.QtyIsValidWithAvailableQty="",this.reporturl="",this.reportdomainUrl=ke.N.aspDomain,this._emailobj={email:"",subject:""},this.mailmsg="",this.allowDelete=!1,this.ShowModeReceipt=!1,this.LockedRecepit=!1,this.swalTitleEntry="",this.swalTextEntry="",this.swalConfirmButtonEntry="",this.Cancel="",this.WarningInfoLost="",this.warning="",this.Yes="",this.FinancialPeriodMsg="",this.Close="",this.FinancialPeriodCloseMsg="",this.CostPostingPeriodMessage="",this.StopInventoryErrorMsg="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.CustomerPricelistMsg="",this.DeleteRelationmsg="",this.ItemsZeroErrorMsg="",this.ItemsEqualZeroMsg="",this.ReceiptNotFound="",this.Receiptnoitems="",this.NoUnits="",this.ItemWarrantyValidMsg="",this.qtyErrorSaveMsg="",this.qtyErrorMsg="",this.qtyZeroErrorSaveMsg="",this.SaveMsg="",this.NOComponents="",this.No="",this.swalNewActionTitle="",this.swalNewActionText="",this.RelatedwithSerialsOrBatches="",this.InValidQty="",this.InValidNumberOfBatch="",this.DublicateBatchMassage="",this.DeleteUsedBatchesOrSerials="",this.InValidQtyForBatch="",this.timeout=null,this.ItemLinkedReceipt=[],this.ItemComponentsLinkedReceipt=[],this.LinkedReceiptListSelected=[],this.IxLRS=0,this.itemqtyview=!1,this._itemstoreqtyobj=new S.I$,this.requiredserial=2,this.RowItem=null,this.SelectedRowIndex=0,this.BatchesAndSeialsList=[],this._batchqty=0,this.BatchesListForEatchRow=[],this.selectedindex=0,u.params.subscribe(function(e){y.ReceiptID=e.id,y.ShowModeReceipt=null!=e.show&&"show"==e.show&&e.id>0,y.LockedRecepit=y.ShowModeReceipt,y.subsidiaryID=y._generalService.SubsidiaryID,y.subsidiaryID>0&&y.SetInitialMethods()}),this.ngUnsubscribe=s.proadCastSubsidiaryID.subscribe(function(e){0==y.subsidiaryID&&(y.subsidiaryID=y._generalService.SubsidiaryID,y.SetInitialMethods()),y.subsidiaryID!=y._generalService.SubsidiaryID&&y.subsidiaryID>0&&(y.subsidiaryID=y._generalService.SubsidiaryID,y._router.navigate(["/page/inventorytransiction/destroyvoucher/0"]).then(function(){window.location.reload()}))}),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(function(e){y.lang=e.lang,y.dir=e.dir,y.translate.use(e.lang),y.ngTransUnsubscribe=y.translate.get(["Cancel","swalTitleEntryno","swalEntrynoText","swalEntrynoConfirmButton","WarningInfoLost","warning","Yes","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","DeleteRelationmsg","successMsg","ItemsZeroErrorMsg","MultiPayErrorMsg","ItemsEqualZeroMsg","ReceiptNotFound","CustomerPricelistMsg","Receiptnoitems","NoUnits","ItemWarrantyValidMsg","FinancialPeriodMsg","CloseFinancialPeriodMsg","StopInventoryErrorMsg","Close","DeliverDateMsg","qtyErrorSaveMsg","qtyErrorMsg","qtyZeroErrorSaveMsg","SaveMsg","No","swalNewActionTitle","swalNewActionText","NOComponents","CostPostingPeriodMessage","Destroy Voucher","RelatedwithSerialsOrBatches","InValidQty","InValidNumberOfBatch","DublicateBatchMassage","DeleteUsedBatchesOrSerials","cantNotDuplicateItem","InValidQtyForBatch","QtyIsValidWithAvailableQty"]).subscribe(function(e){document.title=e["Destroy Voucher"],y.Cancel=e.Cancel,y.swalTitleEntry=e.swalTitleEntryno,y.swalTextEntry=e.swalEntrynoText,y.swalConfirmButtonEntry=e.swalEntrynoConfirmButton,y.WarningInfoLost=e.WarningInfoLost,y.warning=e.warning,y.Yes=e.Yes,y.No=e.No,y.NOComponents=e.NOComponents,y.swalNewActionTitle=e.swalNewActionTitle,y.swalNewActionText=e.swalNewActionText,y.swalDeleteTitle=e.swalDeleteTitle,y.swalDetlateText=e.swalDetlateText,y.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,y.DeleteRelationmsg=e.DeleteRelationmsg,y.toastrSuccessDelete=e.successMsg,y.ItemsZeroErrorMsg=e.ItemsZeroErrorMsg,y.ItemsEqualZeroMsg=e.ItemsEqualZeroMsg,y.ReceiptNotFound=e.ReceiptNotFound,y.CustomerPricelistMsg=e.CustomerPricelistMsg,y.Receiptnoitems=e.Receiptnoitems,y.NoUnits=e.NoUnits,y.ItemWarrantyValidMsg=e.ItemWarrantyValidMsg,y.FinancialPeriodMsg=e.FinancialPeriodMsg,y.StopInventoryErrorMsg=e.StopInventoryErrorMsg,y.FinancialPeriodCloseMsg=e.CloseFinancialPeriodMsg,y.Close=e.Close,y.qtyErrorMsg=e.qtyErrorMsg,y.qtyErrorSaveMsg=e.qtyErrorSaveMsg,y.qtyZeroErrorSaveMsg=e.qtyZeroErrorSaveMsg,y.SaveMsg=e.SaveMsg,y.CostPostingPeriodMessage=e.CostPostingPeriodMessage,y.RelatedwithSerialsOrBatches=e.RelatedwithSerialsOrBatches,y.InValidQty=e.InValidQty,y.InValidNumberOfBatch=e.InValidNumberOfBatch,y.DublicateBatchMassage=e.DublicateBatchMassage,y.DeleteUsedBatchesOrSerials=e.DeleteUsedBatchesOrSerials,y.cantNotDuplicateItem=e.cantNotDuplicateItem,y.InValidQtyForBatch=e.InValidQtyForBatch,y.QtyIsValidWithAvailableQty=e.QtyIsValidWithAvailableQty})})}return o(e,[{key:"ngOnInit",value:function(){}},{key:"SetInitialMethods",value:function(){this._Receipt=new S.tY,this.GetCurrentUserSetting(),this.GetBranchList(),this.GetCashCustomerSettings(),this.GetSubsaidarySetting(),this.GetCurrencyList(),this.GetReceipt_AfterReceiptCode_InventroySettings()}},{key:"GetReceipt_AfterReceiptCode_InventroySettings",value:function(){var e=this,t=this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID),i=this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID);(0,Ie.D)([t,i]).subscribe(function(t){var i=n(t,2),r=i[0],a=i[1];e.ReceiptCodeList=r,e.InventorySetting=a;var o=e.ReceiptCodeList.find(function(t){return t.code==e.BasicCodeReceipt});e.Transaction_move=o.items,e.GetReceipt(),e.cd.markForCheck()})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"checkRolesParms",value:function(e){var t=!0;return this._authService.isHasRole(e)||(t=!1),t}},{key:"GetReceipt",value:function(){var e=this;if(this._Receipt.subsidiaryid=this.subsidiaryID,0==this.ReceiptID){this._Receipt.code=this.BasicCodeReceipt,this._Receipt.entry_date=this.datepipe.transform(new Date,"yyyy-MM-dd"),this.CheckValidDateBySubsidaryID(),this._Receipt.entry_time=this.SetTimeNow(),this.cd.markForCheck();var n=JSON.parse(localStorage.getItem("Branch"));null!=n&&null!=n&&(this._Receipt.branch_id="null"==n.branchId||0==n.branchId?null:n.branchId,null!=this._Receipt.branch_id&&(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch())),setTimeout(function(){e._ReceiptOriginal=JSON.parse(JSON.stringify(e._Receipt)),console.log(e._Receipt)},1e3)}else this._ReceiptSharedService.GetReceiptAndDetailsByID(this.ReceiptID).subscribe(function(n){if(null!=n.receipt){if(e.VouchersLinkedCount=n.voucherslinkedcount.voucherslinkedcount,e._Receipt.id=n.receipt.id,e._Receipt.subsidiaryid=n.receipt.subsidiaryid,e._Receipt.code=n.receipt.code,e._Receipt.entry_no=n.receipt.entry_no,e._Receipt.branch_id=n.receipt.branch_id,e._Receipt.transaction_code=n.receipt.transaction_code,e._Receipt.customersalesprice=n.receipt.customersalesprice,e._Receipt.qtotal=n.items.qty,e._Receipt.totalitem=n.items.length,e._Receipt.entry_date=e.datepipe.transform(n.receipt.entry_date,"yyyy-MM-dd"),e._Receipt.entry_time=n.receipt.entry_time,e._Receipt.reservedflag=n.receipt.reservedflag,e._Receipt.payment_type=n.receipt.payment_type,e._Receipt.vendor_id=n.receipt.vendor_id,e._Receipt.cashcustomerid=n.receipt.cashcustomerid,null!=e._Receipt.vendor_id&&(e._Receipt.cashcustomer_vendor_code={code:n.receipt.vendorcode},e._Receipt.cashcustomer_vendor_name="ar"==e.lang?n.receipt.vendornamear:n.receipt.vendorname),null!=e._Receipt.cashcustomerid&&(e._Receipt.cashcustomer_vendor_code={phonenumber:n.receipt.phonenumber},e._Receipt.cashcustomer_vendor_name="ar"==e.lang?n.receipt.cashcustomername_ar:n.receipt.cashcustomername),e._Receipt.currency_id=n.receipt.currency_id,e._Receipt.currency_rate=n.receipt.currency_rate,e._Receipt.customerdeliverdate=e.datepipe.transform(n.receipt.customerdeliverdate,"yyyy-MM-dd"),e._Receipt.customerdeliverdate_time=n.receipt.customerdeliverdate_time,e._Receipt.ordertype=n.receipt.ordertype,e._Receipt.empoyee_id=n.receipt.empoyee_id,e._Receipt.memo=n.receipt.memo,e._Receipt.reference_no=n.receipt.reference_no,e._Receipt.salestypeid=n.receipt.salestypeid,e._Receipt.commisionaccountid=n.receipt.commisionaccountid,e._Receipt.commisionaccountfieldname="ar"==e.lang?{commisionaccountfieldname:n.receipt.commisionaccount_sug_ar}:{commisionaccountfieldname:n.receipt.commisionaccount_sug},e._Receipt.commissiontype=n.receipt.commissiontype,e._Receipt.commission=n.receipt.commission,e._Receipt.commissionnet=n.receipt.commissionnet,e._Receipt.commisionaccountid1=n.receipt.commisionaccountid1,e._Receipt.commisionaccountfieldname1="ar"==e.lang?{commisionaccountfieldname1:n.receipt.commisionaccount1_sug_ar}:{commisionaccountfieldname1:n.receipt.commisionaccount1_sug},e._Receipt.commissiontype1=n.receipt.commissiontype1,e._Receipt.commission1=n.receipt.commission1,e._Receipt.commissionnet1=n.receipt.commissionnet1,e._Receipt.costcenterid=n.receipt.costcenterid,e._Receipt.costcenterfieldname=null!=e._Receipt.costcenterid?"ar"==e.lang?{costcenterfieldname:n.receipt.costcenter_sug_ar}:{costcenterfieldname:n.receipt.costcenter_sug}:null,e._Receipt.classid=n.receipt.classid,e._Receipt.classfieldname=null!=e._Receipt.classid?"ar"==e.lang?{classfieldname:n.receipt.classes_sug_ar}:{classfieldname:n.receipt.classes_sug}:null,e._Receipt.locationid=n.receipt.locationid,e._Receipt.locationfieldname=null!=e._Receipt.locationid?"ar"==e.lang?{locationfieldname:n.receipt.location_sug_ar}:{locationfieldname:n.receipt.location_sug}:null,e._Receipt.departmentid=n.receipt.departmentid,e._Receipt.departmentfieldname=null!=e._Receipt.departmentid?"ar"==e.lang?{departmentfieldname:n.receipt.department_sug_ar}:{departmentfieldname:n.receipt.department_sug}:null,e._Receipt.carid=n.receipt.carid,e._Receipt.driverid=n.receipt.driverid,e._Receipt.valueforeign=n.receipt.valueforeign,e._Receipt.value=n.receipt.value,e._Receipt.discount_foreignpercent=n.receipt.discount_foreignpercent,e._Receipt.discount_percent=n.receipt.discount_percent,e._Receipt.discount_foreignvalue=n.receipt.discount_foreignvalue,e._Receipt.discount_value=n.receipt.discount_value,e._Receipt.deliveryfeesforeign=n.receipt.deliveryfeesforeign,e._Receipt.deliveryfees=n.receipt.deliveryfees,e._Receipt.surchargevalueforeign=n.receipt.surchargevalueforeign,e._Receipt.surchargevalue=n.receipt.surchargevalue,e._Receipt.surchargepercent=n.receipt.surchargepercent,e._Receipt.netvalueforeign=n.receipt.netvalueforeign,e._Receipt.netvalue=n.receipt.netvalue,e._Receipt.signature=n.receipt.signature,e._Receipt.related_voucher_type=n.receipt.related_voucher_type,e._Receipt.related_voucher_code=n.receipt.related_voucher_code,e._Receipt.status_id=n.receipt.status_id,e._Receipt.approvalstatus_id=n.receipt.approvalstatus_id,e._Receipt.costing_rate=n.receipt.costing_rate,e._Receipt.approvedby_id=n.receipt.approvedby_id,e._Receipt.shipmentterm_id=n.receipt.shipmentterm_id,e._Receipt.paymentterm_id=n.receipt.paymentterm_id,e._Receipt.supplieraccount_id=n.receipt.supplieraccount_id,e._Receipt.planneddeliverydate=n.receipt.planneddeliverydate,e._Receipt.actualdeliverydate=n.receipt.actualdeliverydate,e._Receipt.deliverylocation=n.receipt.deliverylocation,e._Receipt.contactedperson=n.receipt.contactedperson,e._Receipt.othernotes=n.receipt.othernotes,e._Receipt.cashdrawerid=n.receipt.cashdrawerid,e._Receipt.leadid=n.receipt.leadid,e._Receipt.deliverynotes=n.receipt.deliverynotes,e._Receipt.cashcustomerdetailid=n.receipt.cashcustomerdetailid,e._Receipt.is_canceled=n.receipt.is_canceled,e._Receipt.fromstoreid=n.receipt.fromstoreid,e._Receipt.tostoreid=n.receipt.tostoreid,e._Receipt.isdeliveryprint=n.receipt.isdeliveryprint,e._Receipt.printcount=n.receipt.printcount,e._Receipt.iskitchendone=n.receipt.iskitchendone,e._Receipt.paidamount=n.receipt.paidamount,e._Receipt.isholded=n.receipt.isholded,e._Receipt.branchtableid=n.receipt.branchtableid,e._Receipt.customeractualdeliverdate=n.receipt.customeractualdeliverdate,e._Receipt.deliverystatusid=n.receipt.deliverystatusid,e._Receipt.deposite=n.receipt.deposite,e._Receipt.paymentandconditions=n.receipt.paymentandconditions,e._Receipt.notes=n.receipt.notes,e._Receipt.chefid=n.receipt.chefid,e._Receipt.changeamount=n.receipt.changeamount,e._Receipt.divisionid=n.receipt.divisionid,e._Receipt.courierid=n.receipt.courierid,e._Receipt.depositepaymenttypeid=n.receipt.depositepaymenttypeid,e._Receipt.creationdate=n.receipt.creationdate,e._Receipt.lastupdatedate=n.receipt.lastupdatedate,e._Receipt.createdbyid=n.receipt.createdbyid,e._Receipt.updatedbyid=n.receipt.updatedbyid,e._Receipt.receiptattributeid=n.receipt.receiptattributeid,e._Receipt.costposted=n.receipt.costposted,e._Receipt.lcaccountid=n.receipt.lcaccountid,e._Receipt.lcno=n.receipt.lcno,e._Receipt.lcbank=n.receipt.lcbank,e._Receipt.lcstartdate=n.receipt.lcstartdate,e._Receipt.lcenddate=n.receipt.lcenddate,e._Receipt.lcrenewdate=n.receipt.lcrenewdate,e._Receipt.lcrenewenddate=n.receipt.lcrenewenddate,e._Receipt.lcinsurancecompany=n.receipt.lcinsurancecompany,e._Receipt.lcpolicyno=n.receipt.lcpolicyno,e._Receipt.insurancedate=n.receipt.insurancedate,e._Receipt.gooddeliverydate=n.receipt.gooddeliverydate,e._Receipt.lccondition=n.receipt.lccondition,e._Receipt.shippingmethod=n.receipt.shippingmethod,e._Receipt.exportport=n.receipt.exportport,e._Receipt.shipname=n.receipt.shipname,e._Receipt.lcnotes=n.receipt.lcnotes,e._Receipt.quotationcustomername=n.receipt.quotationcustomername,e._Receipt.duedate=n.receipt.duedate,e._Receipt.schedule_date=n.receipt.schedule_date,e._Receipt.storetype=n.receipt.storetype,e._Receipt.quotationenddate=n.receipt.quotationenddate,e._Receipt.wostatusid=n.receipt.wostatusid,e._Receipt.parentreceiptid=n.receipt.parentreceiptid,e._Receipt.isapproved=n.receipt.isapproved,e._Receipt.replenshimenttype=n.receipt.replenshimenttype,e._Receipt.reference=n.receipt.reference,e._Receipt.replenshimentfromdate=n.receipt.replenshimentfromdate,e._Receipt.replenshimenttodate=n.receipt.replenshimenttodate,e._Receipt.cancelreasonid=n.receipt.cancelreasonid,e._Receipt.contractstartdate=n.receipt.contractstartdate,e._Receipt.contractenddate=n.receipt.contractenddate,e._Receipt.previouscontractid=n.receipt.previouscontractid,e._Receipt.erpstatus=n.receipt.erpstatus,e._Receipt.loyalitybalance=n.receipt.loyalitybalance,e._Receipt.cpno=n.receipt.cpno,e._Receipt.accounttype=n.receipt.accounttype,e._Receipt.printing=n.receipt.printing,e._Receipt.storedelivery=n.receipt.storedelivery,e._Receipt.customerrecieve=n.receipt.customerrecieve,e._Receipt.promotionid=n.receipt.promotionid,e._Receipt.promotionpercent=n.receipt.promotionpercent,e._Receipt.promotionvalue=n.receipt.promotionvalue,e._Receipt.purchaserequeststatusid=n.receipt.purchaserequeststatusid,e._Receipt.urgent=n.receipt.urgent,e._Receipt.quotationstatusid=n.receipt.quotationstatusid,e._Receipt.salesorderstatusid=n.receipt.salesorderstatusid,e._Receipt.purchaseorderstatusid=n.receipt.purchaseorderstatusid,e._Receipt.expensesdistributionvoucherno=n.receipt.expensesdistributionvoucherno,e._Receipt.totalproductioncost=n.receipt.totalproductioncost,e._Receipt.totalvouchercost=n.receipt.totalvouchercost,e._Receipt.totalproductioncostforeign=n.receipt.totalproductioncostforeign,e._Receipt.totalvouchercostforeign=n.receipt.totalvouchercostforeign,e._Receipt.taxvalue=n.receipt.taxvalue,e._Receipt.sourceid=n.receipt.sourceid,e._Receipt.contractid=n.receipt.contractid,e._Receipt.type_id=n.receipt.type_id,e._Receipt.productionlineid=n.receipt.productionlineid,e._Receipt.linescheduleddate=n.receipt.linescheduleddate,e._Receipt.inchargepersonname=n.receipt.inchargepersonname,e._Receipt.inchargephoneno=n.receipt.inchargephoneno,e._Receipt.details=n.items,e._Receipt.details.forEach(function(t){t.storecode={code:t.storecode},t.itemcode={code:t.itemcode},t.allowqtyselectforitem=!0,t.total=t.total.toFixed(e._Currencyprecision),t.discount_value=t.discount_value.toFixed(e._Currencyprecision),t.price=t.price.toFixed(e._Currencyprecision),t.rowno=0,t.parentrowno=0}),e._Receipt.itemscomponent=n.itemcomponents,e._Receipt.itemscomponent.forEach(function(e){e.allowqtyselectforitem=!0,e.rowno=0,e.parentrowno=0}),e.ItemUnitsList=n.itemunits,e.ItemComponentUnitsList=n.componentsunits,e._Receipt.linkedreceipts=n.linkedreceipts,e._Receipt.receiptmultipayment=n.receiptmultipayment,e.ItemsComponentList=JSON.parse(JSON.stringify(e._Receipt.itemscomponent)),e._Receipt.details.map(function(e){e.batcheslist=new Array;var i=n.batches.filter(function(t){return t.inv_receipt_d_id==e.id});e.batcheslist=t(i)}),null==e._Receipt.qtotal||null==e._Receipt.totalitem){var i=0;e._Receipt.details.forEach(function(e){i+=e.qty}),e._Receipt.qtotal=i,e._Receipt.totalitem=n.items.length}e._ReceiptOriginal=JSON.parse(JSON.stringify(e._Receipt)),e.entry_no=e._Receipt.entry_no,e.originalSalesPrice=e._Receipt.customersalesprice,e._CurrencySelected=e.CurrencyList.find(function(t){return t.id==e._Receipt.currency_id}),e.ForeignCurrencyShow=1!=e._CurrencySelected.basecurrency,1==!e.ShowModeReceipt&&e.CheckValidDateBySubsidaryID(),e.OnSelectedItem(e._Receipt.details[0],0,"selected",!0),e.cd.markForCheck()}})}},{key:"CheckPre_SaveReceipt",value:function(e){var t=this;if(e.form.valid)if(0!=this.ValidPeriod){if(1==this._Receipt.details.length&&null==this._Receipt.details[0].item_id)return this.toastr.error(this.ItemsZeroErrorMsg),this._Receipt.details.splice(0,1),void this.AddItems();for(var n=function(e){if(null==t._Receipt.details[e].item_id)t._Receipt.details.splice(e,1),e--;else{if(!(t._Receipt.details[e].qty>0))return i=e,{v:void t.toastr.error(t.qtyZeroErrorSaveMsg)};0!=t._Receipt.value?(t._Receipt.details[e].h_discount_value=t._Receipt.discount_percent/100*t._Receipt.details[e].total/t._Receipt.details[e].qty%(1/0)||0,t._Receipt.details[e].h_discount_percentage=100*(t._Receipt.details[e].h_discount_value/(t._Receipt.details[e].total/t._Receipt.details[e].qty)%(1/0)||0)):(t._Receipt.details[e].h_discount_value=0,t._Receipt.details[e].h_discount_percentage=0);var n=t.ItemUnitsList.find(function(n){return n.item_id==t._Receipt.details[e].item_id&&n.id==t._Receipt.details[e].unit_id});t._Receipt.details[e].final_conv=null!=n?(null!=n.finalconv?n.finalconv:1)*(t._Receipt.details[e].conv/n.conv):t._Receipt.details[e].conv,t._Receipt.details[e].final_conv=0==t._Receipt.details[e].final_conv?1:t._Receipt.details[e].final_conv}i=e},i=0;i<this._Receipt.details.length;i++){var r=n(i);if("object"==typeof r)return r.v}if(0==this._Receipt.details.length)return this.toastr.error(this.ItemsZeroErrorMsg),void this.AddItems();for(var a=function(e){if(t._Receipt.itemscomponent[e].qty>0){0!=t._Receipt.value?(t._Receipt.itemscomponent[e].h_discount_value=t._Receipt.discount_percent/100*t._Receipt.itemscomponent[e].total/t._Receipt.itemscomponent[e].qty%(1/0)||0,t._Receipt.itemscomponent[e].h_discount_percentage=100*(t._Receipt.itemscomponent[e].h_discount_value/(t._Receipt.itemscomponent[e].total/t._Receipt.itemscomponent[e].qty)%(1/0)||0)):(t._Receipt.itemscomponent[e].h_discount_value=0,t._Receipt.itemscomponent[e].h_discount_percentage=0);var n=t.ItemComponentUnitsList.find(function(n){return n.item_id==t._Receipt.itemscomponent[e].item_id&&n.id==t._Receipt.itemscomponent[e].unit_id});t._Receipt.itemscomponent[e].final_conv=null!=n?(null!=n.finalconv?n.finalconv:1)*(t._Receipt.itemscomponent[e].conv/n.conv):t._Receipt.itemscomponent[e].conv,t._Receipt.itemscomponent[e].final_conv=0==t._Receipt.itemscomponent[e].final_conv?1:t._Receipt.itemscomponent[e].final_conv}},o=0;o<this._Receipt.itemscomponent.length;o++)a(o);this.CheckBalanceForItemInStore(0,!0,!0)}else this.ShowPopUpFinancialPeriod();else this.activeNav="INVALID"==e.form.controls.CostCenter.status||"INVALID"==e.form.controls.Department.status||"INVALID"==e.form.controls.Classes.status||"INVALID"==e.form.controls.Location.status||"INVALID"==e.form.controls.Division.status?5:1}},{key:"SaveReceipt",value:function(){var e=this;if(this._Receipt.lang=this.lang,"ar"!=this._Receipt.lang&&(this._Receipt.lang="en-US"),1==this.CashCustomerSetting.salesreturneffect){var t=[];if(this._Receipt.details.forEach(function(n){if(3==n.isrequireserial){n.allowqtyselectforitem=!0,0==n.batcheslist.length?(n.allowqtyselectforitem=!1,t.push(!1)):0==n.validrow&&(n.allowqtyselectforitem=!1,t.push(!0));var i=[],r=[],a=e._Receipt.details.filter(function(e){return e.item_id==n.item_id});if(null!=a&&a.length>1){a.forEach(function(e){var t=e.final_conv;e.batcheslist.forEach(function(e){var n=new Ee.WB;n.availableqty=e.availableqty*t,n.qty=e.qty*t,n.serial=e.serial,n.batchno=e.batchno,i.push(n)})}),console.log("serialdata:",i),i.forEach(function(e){var t=i.filter(function(t){return t.batchno==e.batchno&&t.serial==e.serial}).map(function(e){return e.qty}).reduce(function(e,t){return e+t});r.push({serial:e.batchno,qty:t,availableqty:e.availableqty})}),console.log("sum:",r);var o=r.filter(function(e){return e.qty>e.availableqty});null!=o&&o.length>0&&(n.validrow=!1,n.allowqtyselectforitem=!1,t.push(!1))}console.log("end:",n.validrow)}}),console.log("_isValidArr:",t),t.length>0)return t.includes(!1)&&(this.toastr.error(this.InValidNumberOfBatch),this.cd.markForCheck()),t.includes(!0)&&(this.toastr.error(this.QtyIsValidWithAvailableQty),this.cd.markForCheck()),void(this.DuringSaveDisable=!1);if(t=[],this._Receipt.details.forEach(function(e){if(3==e.isrequireserial)if(e.allowqtyselectforitem=!0,0==e.batcheslist.length)e.allowqtyselectforitem=!1,t.push(!1);else{var n=0;e.batcheslist.forEach(function(e){var t;n+=null!==(t=+e.qty)&&void 0!==t?t:0}),n!=e.qty&&(e.allowqtyselectforitem=!1,t.push(!1))}}),t.length>0)return t.includes(!1)&&(this.toastr.error(this.InValidNumberOfBatch),this.cd.markForCheck()),void(this.DuringSaveDisable=!1)}if(this._Receipt.details.filter(function(e){return 0==e.allowqtyselectforitem}).length>0)return this.toastr.error(this.qtyErrorSaveMsg),this.DuringSaveDisable=!1,void this.cd.markForCheck();this.DuringSaveDisable=!0;for(var n=0;n<this._Receipt.linkedreceipts.length;n++)0==this._Receipt.linkedreceipts[n].fire&&(this._Receipt.linkedreceipts.splice(n,1),n--);this.Save()}},{key:"Save",value:function(){var e=this;null==this._Receipt.id||0==this._Receipt.id?(this._Receipt.totalitem=this._Receipt.details.length,this._ReceiptSharedService.ReceiptCreate(this._Receipt).subscribe(function(t){e.DuringSaveDisable=!1,e.toastr.success(e.SaveMsg),e.ReceiptID=t.id,e._router.navigate(["/page/inventorytransiction/destroyvoucher/"+e.ReceiptID]).then(function(){window.location.reload()})})):(this._Receipt_h_Edit=new S.Iu,this._Receipt_h_Edit.Receipt_h=this._Receipt,this._Receipt_h_Edit.ReceiptOriginal=this._ReceiptOriginal,this._ReceiptSharedService.ReceiptUpdate(this._Receipt_h_Edit).subscribe(function(t){e.DuringSaveDisable=!1,e.toastr.success(e.SaveMsg),e._router.navigate(["/page/inventorytransiction/destroyvoucher/"+e.ReceiptID]).then(function(){window.location.reload()})}))}},{key:"ChangePropFinish",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.DuringSaveDisable=!0,this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.timeout=null,"EntryCode"==t?e.CheckEntryCode():"EntryDate"==t&&e.ChangeEntryDate()},1e3*n)}},{key:"CheckEntryCode",value:function(){var e=this;this._ReceiptSharedService.CheckEntryNo(this._Receipt.id,this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.entry_no,this._Receipt.branch_id).subscribe(function(t){e.DuringSaveDisable=!1,e.cd.markForCheck(),null!=t&&Me().fire({title:e.swalTitleEntry,text:e.swalTextEntry,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:e.swalConfirmButtonEntry,cancelButtonText:e.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.value?e._router.navigate(["/page/inventorytransiction/destroyvoucher/"+t.id]).then(function(){}):(e._Receipt.entry_no=e.entry_no,e.cd.markForCheck())})})}},{key:"GetReceiptEntryCode",value:function(){var e=this;this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(function(t){e._Receipt.entry_no=0==t.length?1:t[0].entry_no+1,e.entry_no=e._Receipt.entry_no,e.cd.markForCheck()})}},{key:"GetBranchList",value:function(){var e=this;this._ReceiptSharedService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(function(t){e.BranchList=t,e.cd.markForCheck()})}},{key:"changeBranch",value:function(e){var t=this;if(this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id)Me().fire({title:this.warning,text:this.WarningInfoLost,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){if(n.value){t._Receipt.details=new Array,t._Receipt.itemscomponent=new Array,t._Receipt.linkedreceipts=new Array,t.ItemUnitsList=[],t.ItemComponentUnitsList=[],t._Receipt.branch_id="null"==e.target.value?null:e.target.value;var i=JSON.parse(localStorage.getItem("Branch"));null!=i&&null!=i&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:t._Receipt.branch_id})),null!=t._Receipt.branch_id?(t.GetReceiptEntryCode(),t.GetDefaultStoreCostCenterByBranch(!0)):t._Receipt.entry_no=null}else{var r=JSON.parse(localStorage.getItem("Branch"));null!=r&&null!=r&&(t._Receipt.branch_id="null"==r.branchId||0==r.branchId?null:r.branchId)}});else{this._Receipt.branch_id="null"==e.target.value?null:e.target.value;var n=JSON.parse(localStorage.getItem("Branch"));null!=n&&null!=n&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._Receipt.branch_id})),null!=this._Receipt.branch_id?(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch()):this._Receipt.entry_no=null}}},{key:"GetDefaultStoreCostCenterByBranch",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];1==n&&this.Calculate_Total_Tax_Net(),this._ReceiptSharedService.DefaultStoreCostCenterByBranch(this._Receipt.branch_id).subscribe(function(n){if(e.StoreCostCenterSetting=n.length>0?n[0]:{storeid:null,storecode:null,costcenterid:null,costcentername:null,costcentername_ar:null},null!=e.StoreCostCenterSetting.storeid){if(0==e._Receipt.details.length){e._CashSalesDetailsReceipt=new S.hm,e._CashSalesDetailsReceipt.transaction_move=e.Transaction_move;var i=Math.max.apply(Math,t(e._Receipt.details.map(function(e){return e.rowno})).concat([0]));e._CashSalesDetailsReceipt.rowno=i+1,e._Receipt.details.push(e._CashSalesDetailsReceipt),e._Receipt.details[0].store_id=e.StoreCostCenterSetting.storeid,e._Receipt.details[0].storecode={code:e.StoreCostCenterSetting.storecode}}e._Receipt.details.length>0&&(e._Receipt.details.forEach(function(t){t.store_id=e.StoreCostCenterSetting.storeid,t.storecode={code:e.StoreCostCenterSetting.storecode}}),e._Receipt.itemscomponent.forEach(function(t){t.store_id=e.StoreCostCenterSetting.storeid,t.storecode={code:e.StoreCostCenterSetting.storecode}}),e.CheckBalanceForItemInStore(0,!0))}null!=e.StoreCostCenterSetting.costcenterid&&(e._Receipt.costcenterid=e.StoreCostCenterSetting.costcenterid,e._Receipt.costcenterfieldname={costcenterfieldname:"ar"==e.lang?e.StoreCostCenterSetting.costcentername_ar:e.StoreCostCenterSetting.costcentername}),e.cd.markForCheck()})}},{key:"GetCurrentUserSetting",value:function(){var e=this;this._ReceiptSharedService.GetCurrentUserSetting().subscribe(function(t){e.CurrentUserSetting=t})}},{key:"GetCashCustomerSettings",value:function(){var e=this;this._ReceiptSharedService.GetCashCustomerSettings(this.subsidiaryID).subscribe(function(t){null!=t||null!=t?(e.CashCustomerSetting=t,e.CashCustomerSetting.allowdecimalpack=1==e.CashCustomerSetting.allowdecimalpack?".01":"1"):e.CashCustomerSetting={allowdecimalpack:"1",enablecashcustomer:!1,salesreturneffect:"1",allowpack:!1,dispensingpolicy:1},e.cd.markForCheck()})}},{key:"GetAllInventroySettingsBySubSidary",value:function(){var e=this;this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID).subscribe(function(t){e.InventorySetting=t,e.cd.markForCheck()})}},{key:"GetSubsaidarySetting",value:function(){var e=this;this._ReceiptSharedService.GetSubsaidarySetting(this.subsidiaryID).subscribe(function(t){null!=t&&(e.subsaidarySetting=t[0],e.cd.markForCheck())})}},{key:"GetCurrencyList",value:function(){var e=this;this._VoucherService.GetSubsidaryCurrencyList(this.subsidiaryID).subscribe(function(t){var n;t.length>0&&(e.CurrencyList=t,e._BaseCurrency=e.CurrencyList.find(function(e){return 1==e.basecurrency}),e._CurrencySelected=e._BaseCurrency,e._Currencyprecision=null!==(n=e._BaseCurrency.currencyprecision)&&void 0!==n?n:3,e._Receipt.currency_id=e._CurrencySelected.id,e._Receipt.currency_rate=Number(1..toFixed(9)),e.cd.markForCheck())})}},{key:"changeCurrency",value:function(e){var t,n=this;(console.log(e.target.value),this._CurrencySelected=this.CurrencyList.find(function(t){return t.id==e.target.value}),null!=this._CurrencySelected)?(t=""!=this._Receipt.entry_time&&null!=this._Receipt.entry_time&&null!=this._Receipt.entry_time?this._Receipt.entry_date+" "+this._Receipt.entry_time:this._Receipt.entry_date+" 23:59",this._VoucherService.GetSubsidaryCurrenciesRate(this.subsidiaryID,this._CurrencySelected.id,t,0).subscribe(function(e){n._Receipt.currency_rate=e&&e.length>0?e[0].rate.toFixed(9):Number(1..toFixed(9)),n.ForeignCurrencyShow=1!=n._CurrencySelected.basecurrency,n.Calculate_Total_Tax_Net(),n.cd.markForCheck()})):(this._CurrencySelected=null,this._Currencyprecision=3,this._Receipt.currency_rate=null,this.cd.markForCheck())}},{key:"ChangeEntryDate",value:function(){if(null!=this._Receipt.entry_date&&""!=this._Receipt.entry_date&&null!=this._Receipt.entry_date){this.CheckValidDateBySubsidaryID();for(var e=0;e<this._Receipt.details.length;e++)1==this._Receipt.details[e].haswarrenty&&null!=this._Receipt.details[e].warrantydate&&null!=this._Receipt.details[e].warrantydate&&Date.parse(this._Receipt.details[e].warrantydate.toString())<Date.parse(this._Receipt.entry_date.toString())&&(this._Receipt.details[e].warrantydate=null,this.toastr.error(this.ItemWarrantyValidMsg))}else this.DuringSaveDisable=!1,this.cd.markForCheck()}},{key:"CheckValidDateBySubsidaryID",value:function(){var e=this;this._ReceiptSharedService.ValidDateBySubsidaryID(this._Receipt.entry_date,this.subsidiaryID).subscribe(function(t){if(e.DuringSaveDisable=!1,e.cd.markForCheck(),null!=t||null!=t){if(null!=t||null!=t){var n=Date.parse(t.subsidarystart.toString()),i=Date.parse(e._Receipt.entry_date.toString());0==t.openperiod?(e.ValidPeriod=!1,e.ShowModeReceipt=!0,e.ShowPopUpFinancialPeriod("close")):1==t.openperiod&&n<i?(e.ValidPeriod=!0,e.ShowModeReceipt=!1,e.GetMaxCostPostedSerDate()):(e.ValidPeriod=!1,e.ShowModeReceipt=!0,e.ShowPopUpFinancialPeriod())}}else e.ValidPeriod=!1,e.ShowModeReceipt=!0,e.ShowPopUpFinancialPeriod()})}},{key:"ShowPopUpFinancialPeriod",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="close"==e?this.FinancialPeriodCloseMsg:this.FinancialPeriodMsg;Me().fire({title:this.warning,text:t,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(function(e){})}},{key:"ShowPopUpCostPostedSerDate",value:function(){Me().fire({title:this.warning,text:this.CostPostingPeriodMessage,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(function(e){})}},{key:"onFocusInStore",value:function(e,t){t==this._Receipt.details.length-1&&this.AddItems(),this.GetStoreList("")}},{key:"StoreChangeSearch",value:function(e,t){this.GetStoreList(e.query.trim())}},{key:"StoreSelectEvent",value:function(e,t){this._Receipt.details[t].store_id=e.id,this._Receipt.details.forEach(function(t){t.store_id=e.id,t.storecode=e}),this._Receipt.itemscomponent.forEach(function(t){t.store_id=e.id,t.storecode=e.code}),this.CheckBalanceForItemInStore(0,!0)}},{key:"GetStoreList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetStoreList(this.subsidiaryID,t).subscribe(function(t){e.StoreList=[],e.StoreList=t,e.cd.markForCheck()})}},{key:"onClearItems",value:function(e){var n=this._Receipt.details[e];if(3==n.item_type&&this._Receipt.itemscomponent.length>0&&this._Receipt.itemscomponent.filter(function(e){return e.finishedproductid==n.item_id}).length>0)if(null!=n.id)for(var i=0;i<this._Receipt.itemscomponent.length;i++)this._Receipt.itemscomponent[i].finishedproductid==n.item_id&&this._Receipt.itemscomponent[i].finishedreceipt_did==n.id&&(this._Receipt.itemscomponent.splice(i,1),i--);else null==n.id&&(this._Receipt.itemscomponent=this._Receipt.itemscomponent.filter(function(e){return e.parentrowno!=n.rowno}));if(null!=this._Receipt.details[e].id){var r=Math.max.apply(Math,t(this._Receipt.details.map(function(e){return e.rowno})).concat([0]));this._Receipt.details[e].rowno=r+1}this._Receipt.details[e].id=null,this._Receipt.details[e].finishedproductid=null,this._Receipt.details[e].finishedreceipt_did=null,this._Receipt.details[e].item_id=null,this._Receipt.details[e].itemname=null,this._Receipt.details[e].itemname_ar=null}},{key:"onFocusInItems",value:function(e,t){this.GetItemsList("")}},{key:"ItemsChangeSearch",value:function(e,t){var n=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){n.timeout=null,n.GetItemsList(e.query.trim())},300)}},{key:"ItemsSelectEvent",value:function(e,t){null!=this._Receipt.details[t].item_id&&this.onClearItems(t),0==e.stopinventorytransactions?(t==this._Receipt.details.length-1&&(this.InventorySetting?this.InventorySetting[0].permissiontorepeatiteminvoucher&&null!=this.InventorySetting[0].permissiontorepeatiteminvoucher&&null!=this.InventorySetting[0].permissiontorepeatiteminvoucher?this.AddItems():this._Receipt.details.some(function(t){return t.item_id==e.id})?this.duplicateItemSwalPopUp(t):this.AddItems():this.AddItems()),this._Receipt.details[t].item_id=e.id,this._Receipt.details[t].itemname=e.name,this._Receipt.details[t].itemname_ar=e.name_ar,this.GetItemDataDetailsLists(e,t)):(this._Receipt.details[t]=new S.hm,0==this._Receipt.id?(this._Receipt.details[t].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[t].storecode={code:this.StoreCostCenterSetting.storecode}):(this._Receipt.details[t].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.details[t].storecode=this._ReceiptOriginal.details[0].storecode),this.cd.markForCheck(),this.toastr.error(this.StopInventoryErrorMsg))}},{key:"duplicateItemSwalPopUp",value:function(e){var t=this;Me().fire({title:this.warning,text:this.cantNotDuplicateItem,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(function(n){t.onClearItems(e),t._Receipt.details[e].itemcode=null,t.cd.markForCheck()})}},{key:"GetItemsList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetItemsListWithoutService(this.subsidiaryID,t).subscribe(function(t){e.ItemsList=[],e.ItemsList=t,e.cd.markForCheck()})}},{key:"GetItemDataDetailsLists",value:function(e,t){var n=this;this._Receipt.details[t].id=null,this._Receipt.details[t].finishedproductid=null,this._Receipt.details[t].finishedreceipt_did=null,this._Receipt.details[t].conv=1,this._Receipt.details[t].final_conv=1,this._Receipt.details[t].qty=1,this._Receipt.details[t].price=0,this._Receipt.details[t].discount_percent=0,this._Receipt.details[t].discount_value=0,this._Receipt.details[t].total=0,this._Receipt.details[t].notes="",this._Receipt.details[t].unit_id=null,this._ReceiptSharedService.GetItemDataDetailsLists(this.subsidiaryID,e.id).subscribe(function(i){0==i.itemunits.length?(n._Receipt.details[t]=new S.hm,n._Receipt.details[t].isrequireserial=i.item.isrequireserial,0==n._Receipt.id?(n._Receipt.details[t].store_id=n.StoreCostCenterSetting.storeid,n._Receipt.details[t].storecode={code:n.StoreCostCenterSetting.storecode}):(n._Receipt.details[t].store_id=n._ReceiptOriginal.details[0].store_id,n._Receipt.details[t].storecode=n._ReceiptOriginal.details[0].storecode),n.toastr.error(n.NoUnits)):3==e.item_type&&0==i.itemcomponents.length?(n._Receipt.details[t]=new S.hm,n._Receipt.details[t].isrequireserial=i.item.isrequireserial,0==n._Receipt.id?(n._Receipt.details[t].store_id=n.StoreCostCenterSetting.storeid,n._Receipt.details[t].storecode={code:n.StoreCostCenterSetting.storecode}):(n._Receipt.details[t].store_id=n._ReceiptOriginal.details[0].store_id,n._Receipt.details[t].storecode=n._ReceiptOriginal.details[0].storecode),n.toastr.error(n.NOComponents)):(n._Receipt.details[t].isrequireserial=i.item.isrequireserial,n._Receipt.details[t].notes=i.item.notes,n._Receipt.details[t].item_type=i.item.item_type,n._Receipt.details[t].qty=1,n._Receipt.details[t].haswarrenty=i.item.haswarrenty,n._Receipt.details[t].warrantydate=i.item.haswarrenty?n.getwarrantydateDate():null,n.ItemUnitsList.length>0?0==n.ItemUnitsList.filter(function(t){return t.item_id==e.id}).length&&(n.ItemUnitsList=n.ItemUnitsList.concat(i.itemunits)):n.ItemUnitsList=n.ItemUnitsList.concat(i.itemunits),n._Receipt.details[t].unit_id=e.inventory_unitid,i.componentsunits.length>0&&(n.ItemComponentUnitsList=n.ItemComponentUnitsList.concat(i.componentsunits)),i.itemcomponents.length>0&&i.itemcomponents.forEach(function(e){var i=new S.hm;i.item_id=e.itemcomponentid,i.finishedproductid=e.item_id,i.itemname=e.itemname,i.itemname_ar=e.itemname_ar,i.itemcode=e.itemcode,i.unit_id=e.itemcomponentunitid,i.qty=e.itemcomponentqty,i.basicqtycomponent=e.itemcomponentqty,i.conv=e.itemcomponentconv,i.itemcode=e.itemcode,i.price=0,i.total=i.price*i.qty,i.store_id=n._Receipt.details[t].store_id,i.transaction_move=n.Transaction_move,i.item_type=e.item_type,i.storecode=null!=n._Receipt.details[t].storecode?n._Receipt.details[t].storecode.code:null,i.parentrowno=n._Receipt.details[t].rowno,n._Receipt.itemscomponent.push(i)}),n.ChangeItemUnits(e.inventory_unitid,t)),n.cd.markForCheck()})}},{key:"ChangeItemUnits",value:function(e,t){var n=this;e.toString().includes(":")&&(e=e.split(":")[1].trim());var i=this._Receipt.details[t].item_id,r=this.ItemUnitsList.filter(function(t){return t.item_id==i&&t.id==e});null!=this._Receipt.details[t].item_id&&null!=this._Receipt.details[t].unit_id&&this._ReceiptSharedService.GetItemCostAtDateStore(this._Receipt.details[t].item_id,this._Receipt.details[t].unit_id,0,this._Receipt.entry_date+" "+this._Receipt.entry_time).subscribe(function(e){e.length>0?(n._Receipt.details[t].price=Number((e[0].avgcost||0).toFixed(n._Currencyprecision)),n._Receipt.details[t].conv=r[0].conv,n._Receipt.details[t].final_conv=r[0].finalconv,n.OnSelectedItem(n._Receipt.details[t],t),n.CalaculteValuesItemsRow(t)):(n._Receipt.details[t].price=Number((0).toFixed(n._Currencyprecision)),n._Receipt.details[t].conv=r[0].conv,n._Receipt.details[t].final_conv=r[0].finalconv,n.OnSelectedItem(n._Receipt.details[t],t),n.CalaculteValuesItemsRow(t))}),this.cd.markForCheck()}},{key:"ChangePackItem",value:function(e){var t=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.timeout=null;var n,i=0,r=t.ItemUnitsList.filter(function(n){return n.item_id==t._Receipt.details[e].item_id&&n.id==t._Receipt.details[e].unit_id});n=r[0].conv,t._ReceiptSharedService.GetItemCostAtDateStore(t._Receipt.details[e].item_id,t._Receipt.details[e].unit_id,0,t._Receipt.entry_date+" "+t._Receipt.entry_time).subscribe(function(r){r.length>0?(i=Number((r[0].avgcost||0).toFixed(t._Currencyprecision)),t._Receipt.details[e].price=Number((i*t._Receipt.details[e].conv/n).toFixed(t._Currencyprecision)),t.OnSelectedItem(t._Receipt.details[e],e),t.CalaculteValuesItemsRow(e)):(i=0,t._Receipt.details[e].price=Number((i*t._Receipt.details[e].conv/n).toFixed(t._Currencyprecision)),t.OnSelectedItem(t._Receipt.details[e],e),t.CalaculteValuesItemsRow(e))}),t.cd.markForCheck()},1e3)}},{key:"ChangeQty",value:function(e){var t=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){if(t.timeout=null,3==t._Receipt.details[e].item_type)if(t.ItemsComponentList=new Array,null!=t._Receipt.details[e].id)!function(){for(var n=t._Receipt.details[e],i=function(e){if(t._Receipt.itemscomponent[e].finishedproductid==n.item_id&&t._Receipt.itemscomponent[e].finishedreceipt_did==n.id){var i=t._ReceiptOriginal.details.find(function(e){return e.id==n.id}).qty,r=t._ReceiptOriginal.itemscomponent.find(function(i){return i.finishedreceipt_did==n.id&&i.id==t._Receipt.itemscomponent[e].id}).qty;t._Receipt.itemscomponent[e].basicqtycomponent=r/i,t._Receipt.itemscomponent[e].qty=t._Receipt.itemscomponent[e].basicqtycomponent*n.qty,t.ItemsComponentList.push(t._Receipt.itemscomponent[e])}},r=0;r<t._Receipt.itemscomponent.length;r++)i(r)}();else if(null==t._Receipt.details[e].id)for(var n=t._Receipt.details[e],i=0;i<t._Receipt.itemscomponent.length;i++)t._Receipt.itemscomponent[i].finishedproductid==n.item_id&&null==t._Receipt.itemscomponent[i].id&&t._Receipt.itemscomponent[i].parentrowno==n.rowno&&(t._Receipt.itemscomponent[i].qty=t._Receipt.itemscomponent[i].basicqtycomponent*n.qty,t.ItemsComponentList.push(t._Receipt.itemscomponent[i]));t.StockBalances(e),t.CheckBalanceForItemInStore(e),t.CalaculteValuesItemsRow(e)},1e3)}},{key:"OnSelectedItem",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.show_all_component=i,0==this.show_all_component)if(this.ItemsComponentList=new Array,this.SelectedItem=e,null!=e&&3==e.item_type){var r=e;if(null!=r.id)for(var a=0;a<this._Receipt.itemscomponent.length;a++)this._Receipt.itemscomponent[a].finishedproductid==r.item_id&&this._Receipt.itemscomponent[a].finishedreceipt_did==r.id&&this.ItemsComponentList.push(this._Receipt.itemscomponent[a]);else null==r.id&&(this.ItemsComponentList=this._Receipt.itemscomponent.filter(function(e){return e.finishedproductid==r.item_id&&null==e.id&&e.parentrowno==r.rowno}))}else this.ItemsComponentList=[];else this.show_all_component=!0,this.cd.markForCheck();this.itemqtyview=!1,null!=t&&this.StockBalances(t),""==n&&null!=t&&this.CheckBalanceForItemInStore(t)}},{key:"AddItems",value:function(){if(this._CashSalesDetailsReceipt=new S.hm,this._Receipt.details.length>0){this._CashSalesDetailsReceipt.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,this._CashSalesDetailsReceipt.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode;var e=0;this._Receipt.details.forEach(function(t){e+=t.qty}),this._Receipt.qtotal=e,this._Receipt.totalitem=this._Receipt.details.length}else{0==this._Receipt.id?(this._CashSalesDetailsReceipt.store_id=this.StoreCostCenterSetting.storeid,this._CashSalesDetailsReceipt.storecode={code:this.StoreCostCenterSetting.storecode}):(this._CashSalesDetailsReceipt.store_id=this._ReceiptOriginal.details[0].store_id,this._CashSalesDetailsReceipt.storecode=this._ReceiptOriginal.details[0].storecode);var n=0;this._Receipt.details.forEach(function(e){n+=e.qty}),this._Receipt.qtotal=n,this._Receipt.totalitem=this._Receipt.details.length}this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move;var i=Math.max.apply(Math,t(this._Receipt.details.map(function(e){return e.rowno})).concat([0]));this._CashSalesDetailsReceipt.rowno=i+1,this._Receipt.details.push(this._CashSalesDetailsReceipt),this.cd.markForCheck()}},{key:"DeleteItems",value:function(e){this.itemqtyview=!1;var t=this._Receipt.details[e];if(null==t.batcheslist||-1==t.batcheslist.findIndex(function(e){return e.solidquantity>0})){if(this._Receipt.itemscomponent.length>0&&this._Receipt.itemscomponent.filter(function(e){return e.finishedproductid==t.item_id}).length>0)if(null!=t.id)for(var n=0;n<this._Receipt.itemscomponent.length;n++)this._Receipt.itemscomponent[n].finishedproductid==t.item_id&&this._Receipt.itemscomponent[n].finishedreceipt_did==t.id&&(this._Receipt.itemscomponent.splice(n,1),n--);else null==t.id&&(this._Receipt.itemscomponent=this._Receipt.itemscomponent.filter(function(e){return e.parentrowno!=t.rowno}));1==this._Receipt.details.filter(function(e){return e.item_id==t.item_id}).length&&(this.ItemUnitsList=this.ItemUnitsList.filter(function(e){return e.item_id!=t.item_id})),this._Receipt.details.splice(e,1),0==this._Receipt.details.length&&(this._Receipt.discount_percent=0,this._Receipt.discount_foreignpercent=0,this._Receipt.deliveryfees=0,this._Receipt.deliveryfeesforeign=0,this._Receipt.discount_value=0,this._Receipt.discount_foreignvalue=0,this._Receipt.value=0,this._Receipt.valueforeign=0,this._Receipt.surchargevalueforeign=0,this._Receipt.surchargevalue=0),this.Calculate_Total_Tax_Net(),this._Receipt.totalitem=this._Receipt.details.length,this.OnSelectedItem(null),this.cd.markForCheck()}else this.toastr.error(this.DeleteUsedBatchesOrSerials)}},{key:"CalaculteValuesItemsRow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"percent";this._Receipt.details[e].qty=this._Receipt.details[e].qty||0,this._Receipt.details[e].price=this._Receipt.details[e].price||0,this._Receipt.details[e].discount_value=this._Receipt.details[e].discount_value||0,this._Receipt.details[e].discount_percent=this._Receipt.details[e].discount_percent||0;var n=Number((this._Receipt.details[e].price*this._Receipt.details[e].qty).toFixed(this._Currencyprecision));"percent"==t&&(this._Receipt.details[e].discount_value=Number(((n*this._Receipt.details[e].discount_percent||0)/100).toFixed(this._Currencyprecision))),"value"==t&&(this._Receipt.details[e].discount_percent=100*(this._Receipt.details[e].discount_value/n%(1/0)||0)),this._Receipt.details[e].total=Number((n-this._Receipt.details[e].discount_value).toFixed(this._Currencyprecision)),this.Calculate_Total_Tax_Net(),this.cd.markForCheck()}},{key:"ReCalaculteValuesChangeItemsRow",value:function(e){this._Receipt.details[e].qty=this._Receipt.details[e].qty||1,this._Receipt.details[e].price=this._Receipt.details[e].price||0,this._Receipt.details[e].discount_value=this._Receipt.details[e].discount_value||0,this._Receipt.details[e].discount_percent=this._Receipt.details[e].discount_percent||0,this._Receipt.details[e].total=Number((this._Receipt.details[e].total||0).toFixed(this._Currencyprecision)),0==this._Receipt.details[e].discount_value?this._Receipt.details[e].price=Number((this._Receipt.details[e].total/this._Receipt.details[e].qty%(1/0)||0).toFixed(this._Currencyprecision)):0!=this._Receipt.details[e].discount_value&&(this._Receipt.details[e].price=Number(((this._Receipt.details[e].total+this._Receipt.details[e].discount_value)/this._Receipt.details[e].qty%(1/0)||0).toFixed(this._Currencyprecision)),this._Receipt.details[e].discount_percent=100*(this._Receipt.details[e].discount_value/(this._Receipt.details[e].price*this._Receipt.details[e].qty)%(1/0)||0)),this.Calculate_Total_Tax_Net(),this.cd.markForCheck()}},{key:"onFocusInCostCenter",value:function(e){this.GetCostCenterList("")}},{key:"CostCenterChangeSearch",value:function(e,t){this.GetCostCenterList(e.query.trim())}},{key:"CostCenterSelectEvent",value:function(e){this._Receipt.costcenterid=e.id}},{key:"GetCostCenterList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetCostcenterTransactionsbycertainIDS(this.subsidiaryID,t,this._Receipt.vendor_id).subscribe(function(t){e.CostCenterList=[],e.CostCenterList=t,e.CostCenterList.length>0&&e.setFieldNameForArray(e.CostCenterList,"costcenter"),e.cd.markForCheck()})}},{key:"onFocusInLocations",value:function(e){this.GetLocationsList("")}},{key:"LocationsChangeSearch",value:function(e,t){this.GetLocationsList(e.query.trim())}},{key:"LocationsSelectEvent",value:function(e){this._Receipt.locationid=e.id}},{key:"GetLocationsList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetSubsidaryLocations(this.subsidiaryID,t).subscribe(function(t){e.CostCenterList=[],e.LocationList=[],e.LocationList=t,e.LocationList.length>0&&e.setFieldNameForArray(e.LocationList,"location"),e.cd.markForCheck()})}},{key:"onFocusInClasses",value:function(e){this.GetClassesList("")}},{key:"ClassesChangeSearch",value:function(e,t){this.GetClassesList(e.query.trim())}},{key:"ClassesSelectEvent",value:function(e){this._Receipt.classid=e.id}},{key:"GetClassesList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetSubsidaryClasses(this.subsidiaryID,t).subscribe(function(t){e.CostCenterList=[],e.ClassList=[],e.ClassList=t,e.ClassList.length>0&&e.setFieldNameForArray(e.ClassList,"class"),e.cd.markForCheck()})}},{key:"onFocusInDepartment",value:function(e){this.GetDepartmentList("")}},{key:"DepartmentChangeSearch",value:function(e,t){this.GetDepartmentList(e.query.trim())}},{key:"DepartmentSelectEvent",value:function(e){this._Receipt.departmentid=e.id}},{key:"GetDepartmentList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetSubsidaryDepartments(this.subsidiaryID,t).subscribe(function(t){e.CostCenterList=[],e.DepartmentList=[],e.DepartmentList=t,e.DepartmentList.length>0&&e.setFieldNameForArray(e.DepartmentList,"department"),e.cd.markForCheck()})}},{key:"setFieldNameForArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=0;n<e.length;n++){var i=e[n];"costcenter"==t?i.costcenterfieldname="ar"==this.lang?i.sugar:i.sug:"location"==t?i.locationfieldname="ar"==this.lang?i.sugar:i.sug:"class"==t?i.classfieldname="ar"==this.lang?i.sugar:i.sug:"department"==t&&(i.departmentfieldname="ar"==this.lang?i.sugar:i.sug)}}},{key:"GetReceiptCodeList",value:function(){var e=this;this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID).subscribe(function(t){e.ReceiptCodeList=t;var n=e.ReceiptCodeList.find(function(t){return t.code==e.BasicCodeReceipt});e.Transaction_move=n.items,e.cd.markForCheck()})}},{key:"AddLinkedReceipt",value:function(){this._LinkedReceipt=new S.Cb,this._LinkedReceipt.code=this.BasicCodeReceipt,this._LinkedReceipt.branch_id=this._Receipt.branch_id,this._Receipt.linkedreceipts.push(this._LinkedReceipt),this.cd.markForCheck()}},{key:"GetLinkedReceipt",value:function(e){var t=this,n=this._Receipt.linkedreceipts[e];this.ItemLinkedReceipt=[],this.ItemComponentsLinkedReceipt=[],null!=n.branch_id&&null!=n.code&&null!=n.entry_no&&n.entry_no>0&&0==n.fire&&(this._Receipt.linkedreceipts[e].fire=1,this.spinner.show(),this._ReceiptSharedService.GetReceiptForLinkedReceipt(n.branch_id,n.code,n.entry_no).subscribe(function(n){if(t.spinner.hide(),null==n.receipt.id)t._Receipt.linkedreceipts[e].fire=0,t.toastr.error(t.ReceiptNotFound);else if(n.items.length>0){1==t._Receipt.linkedreceipts.length&&(t._Receipt.subsidiaryid=n.receipt.subsidiaryid,t._Receipt.customersalesprice=n.receipt.customersalesprice,t._Receipt.payment_type=n.receipt.payment_type,t._Receipt.currency_id=n.receipt.currency_id,t._Receipt.currency_rate=n.receipt.currency_rate,t._Receipt.empoyee_id=n.receipt.empoyee_id,t._Receipt.memo=n.receipt.memo,t._Receipt.reference_no=n.receipt.reference_no,t._CurrencySelected=t.CurrencyList.find(function(e){return e.id==t._Receipt.currency_id}),t.ForeignCurrencyShow=1!=t._CurrencySelected.basecurrency),t._Receipt.linkedreceipts[e].fire=1,t._Receipt.linkedreceipts[e].receiptid=n.receipt.id,t._Receipt.linkedreceipts[e].subsidiaryid=t.subsidiaryID,t._Receipt.linkedreceipts[e].parentreceiptid=t._Receipt.id;for(var i=0;i<t._Receipt.details.length;i++)null==t._Receipt.details[i].item_id&&(t._Receipt.details.splice(i,1),i--);n.itemunits.forEach(function(e){0==t.ItemUnitsList.filter(function(t){return t.item_id==e.item_id&&t.id==e.unit_id}).length&&t.ItemUnitsList.push(e)}),n.itemcomponents.length>0&&(t.ItemComponentsLinkedReceipt=n.itemcomponents,81==n.receipt.code&&(t.ItemComponentsLinkedReceipt=t.ItemComponentsLinkedReceipt.filter(function(e){return-1==e.transaction_move})),t.ItemComponentUnitsList=t.ItemComponentUnitsList.concat(n.componentsunits)),t.ItemLinkedReceipt=n.items,81==n.receipt.code&&(t.ItemLinkedReceipt=t.ItemLinkedReceipt.filter(function(e){return-1==e.transaction_move})),t.SetLinkReceiptItemRow(0,t.ItemLinkedReceipt[0])}else t.spinner.hide(),t._Receipt.linkedreceipts[e].fire=0,t.toastr.error(t.Receiptnoitems),t._Receipt.linkedreceipts[e].entry_no=null,t.cd.markForCheck()}))}},{key:"SetLinkReceiptItemRow",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1?arguments[1]:void 0;this._CashSalesDetailsReceipt=new S.hm;var r=this._Receipt.details.findIndex(function(e){return e.item_id==i.item_id&&e.unit_id==i.unit_id&&e.conv==i.conv});if(-1==r){this._Receipt.details.length>0?(this._CashSalesDetailsReceipt.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,this._CashSalesDetailsReceipt.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode):(this._CashSalesDetailsReceipt.store_id=i.store_id,this._CashSalesDetailsReceipt.storecode={code:i.storecode}),this._CashSalesDetailsReceipt.item_id=i.item_id,this._CashSalesDetailsReceipt.itemcode={code:i.itemcode},this._CashSalesDetailsReceipt.itemname=i.itemname,this._CashSalesDetailsReceipt.itemname_ar=i.itemname_ar,this._CashSalesDetailsReceipt.unit_id=i.unit_id,this._CashSalesDetailsReceipt.conv=i.conv,this._CashSalesDetailsReceipt.qty=i.qty,this._CashSalesDetailsReceipt.basicqtycomponent=i.basicqtycomponent,this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move,this._CashSalesDetailsReceipt.isrequireserial=i.isrequireserial,this._CashSalesDetailsReceipt.item_type=i.item_type,this._CashSalesDetailsReceipt.notes=i.notes,this._CashSalesDetailsReceipt.haswarrenty=i.haswarrenty,this._CashSalesDetailsReceipt.warrantydate=i.warrantydate,this._CashSalesDetailsReceipt.detailshtml=i.detailshtml,this._CashSalesDetailsReceipt.customitemname=i.customitemname,this._CashSalesDetailsReceipt.salesmanid=i.salesmanid,this._CashSalesDetailsReceipt.price=0!=i.priceafterincrease&&null!=i.priceafterincrease?i.priceafterincrease:i.price,this._CashSalesDetailsReceipt.discount_percent=i.discount_percent,this._CashSalesDetailsReceipt.discount_value=i.discount_value,this._CashSalesDetailsReceipt.total=i.total;var a=Math.max.apply(Math,t(this._Receipt.details.map(function(e){return e.rowno})).concat([0]));this._CashSalesDetailsReceipt.rowno=a+1,3==i.item_type&&this.ItemComponentsLinkedReceipt.filter(function(e){return e.finishedproductid==i.item_id&&e.finishedreceipt_did==i.id}).forEach(function(t){var n=new S.hm;n.store_id=e._CashSalesDetailsReceipt.store_id,n.storecode=e._CashSalesDetailsReceipt.storecode.code,n.item_id=t.item_id,n.itemcode=t.itemcode,n.itemname=t.itemname,n.itemname_ar=t.itemname_ar,n.unit_id=t.unit_id,n.conv=t.conv,n.qty=t.qty,n.basicqtycomponent=t.qty/e._CashSalesDetailsReceipt.qty||0,n.price=t.price,n.discount_value=t.discount_value,n.discount_percent=t.discount_percent,n.total=t.total,n.transaction_move=e.Transaction_move,n.finishedproductid=t.finishedproductid,n.item_type=t.item_type,n.notes=t.notes,n.haswarrenty=t.haswarrenty,n.warrantydate=t.warrantydate,n.detailshtml=t.detailshtml,n.customitemname=t.customitemname,n.salesmanid=t.salesmanid,n.parentrowno=e._CashSalesDetailsReceipt.rowno,e._Receipt.itemscomponent.push(n)}),this.ItemUnitsList.filter(function(e){return e.item_id==i.item_id&&e.id==i.unit_id}),this._Receipt.details.push(this._CashSalesDetailsReceipt),this.CalaculteValuesItemsRow(this._Receipt.details.length-1),n+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(n+1,this.ItemLinkedReceipt[n+1]):this.SetLinkReceiptItemFinished()}else{if(this._Receipt.details[r].qty=this._Receipt.details[r].qty+parseFloat(i.qty),3==i.item_type){var o=this.ItemComponentsLinkedReceipt.filter(function(e){return e.finishedproductid==i.item_id&&e.finishedreceipt_did==i.id});if(null!=this._Receipt.details[r].id)for(var c=this._Receipt.details[r],l=function(t){e._Receipt.itemscomponent[t].finishedproductid==c.item_id&&e._Receipt.itemscomponent[t].finishedreceipt_did==c.id&&(d=o.find(function(n){return n.item_id==e._Receipt.itemscomponent[t].item_id}),e._Receipt.itemscomponent[t].qty=e._Receipt.itemscomponent[t].qty+parseFloat(d.qty))},s=0;s<this._Receipt.itemscomponent.length;s++){var d;l(s)}else if(null==this._Receipt.details[r].id)for(var p=this._Receipt.details[r],u=function(t){e._Receipt.itemscomponent[t].finishedproductid==p.item_id&&null==e._Receipt.itemscomponent[t].id&&e._Receipt.itemscomponent[t].parentrowno==p.rowno&&(d=o.find(function(n){return n.item_id==e._Receipt.itemscomponent[t].item_id}),e._Receipt.itemscomponent[t].qty=e._Receipt.itemscomponent[t].qty+parseFloat(d.qty))},m=0;m<this._Receipt.itemscomponent.length;m++)u(m)}this.CalaculteValuesItemsRow(r),n+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(n+1,this.ItemLinkedReceipt[n+1]):this.SetLinkReceiptItemFinished()}}},{key:"SetLinkReceiptItemFinished",value:function(){if(this.spinner.hide(),this.IxLRS+1<this.LinkedReceiptListSelected.length){this.IxLRS=this.IxLRS+1;var e=this._Receipt.linkedreceipts.length-(this.IxLRS+1);1!=this._Receipt.linkedreceipts[e].fire&&this.GetLinkedReceipt(e)}else this.CheckBalanceForItemInStore(0,!0),this.StockBalances(0)}},{key:"OnOpenLinkedReceipt",value:function(e){var t=this,n=this._Receipt.linkedreceipts[e],i=this._ReceiptSharedService.ReceiptsLinked_Url_Codes.find(function(e){return e.Code==n.code});null!=this._Receipt.linkedreceipts[e].receiptid?""!=i.Url&&window.open(i.Url+this._Receipt.linkedreceipts[e].receiptid+"/show","_blank"):null!=n.branch_id&&null!=n.code&&null!=n.entry_no&&n.entry_no>0&&this._ReceiptSharedService.GetLinkedReceiptID(n.branch_id,n.code,n.entry_no).subscribe(function(e){""!=i.Url&&null!=e?window.open(i.Url+e.id+"/show","_blank"):t.toastr.error(t.ReceiptNotFound)})}},{key:"DeleteLinkedReceipt",value:function(e){this._Receipt.linkedreceipts.splice(e,1),this.cd.markForCheck()}},{key:"OnSignatureSet",value:function(e){this._Receipt.signature=e.signature}},{key:"Calculate_Total_Tax_Net",value:function(){var e=0;this._Receipt.details.forEach(function(t){e+=Number(t.total)}),1==this._Receipt.currency_rate?(this._Receipt.value=Number(e.toFixed(this._Currencyprecision)),this._Receipt.valueforeign=Number(e.toFixed(this._Currencyprecision))):(this._Receipt.valueforeign=Number(e.toFixed(this._Currencyprecision)),this._Receipt.value=Number((e/this._Receipt.currency_rate).toFixed(this._Currencyprecision))),this._Receipt.deliveryfees=this._Receipt.deliveryfees||0,this._Receipt.deliveryfeesforeign=this._Receipt.deliveryfeesforeign||0,this._Receipt.discount_foreignpercent=this._Receipt.discount_foreignpercent||0,this._Receipt.discount_foreignvalue=this._Receipt.discount_foreignvalue||0,this._Receipt.discount_percent=this._Receipt.discount_percent||0,this._Receipt.discount_value=this._Receipt.discount_value||0,this._Receipt.surchargepercent=this._Receipt.surchargepercent||0,this._Receipt.surchargevalue=this._Receipt.surchargevalue||0;var t=0;this._Receipt.details.forEach(function(e){t+=e.qty}),this._Receipt.qtotal=t,this.CalculateTax_Net(e)}},{key:"CalculateTax_Net",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;1==this._Receipt.currency_rate?(this._Receipt.netvalue=Number(e.toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0,this._Receipt.netvalueforeign=this._Receipt.netvalue):(this._Receipt.netvalueforeign=Number(e.toFixed(this._Currencyprecision)),this._Receipt.netvalueforeign=this._Receipt.netvalueforeign>=0?this._Receipt.netvalueforeign:0,this._Receipt.netvalue=Number((this._Receipt.netvalueforeign/this._Receipt.currency_rate).toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0)}},{key:"StockBalances",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!=e&&3!=this._Receipt.details[e].item_type?(this.itemqtyview=!1,this._itemstoreqtyobj=new S.I$,this._itemstoreqtyobj.subsidairyid=this.subsidiaryID,this._itemstoreqtyobj.ReceiptCode=this.BasicCodeReceipt,this._itemstoreqtyobj.BranchID=this._Receipt.branch_id,this._itemstoreqtyobj.Entrydate=this._Receipt.entry_date,this._itemstoreqtyobj.Unit_ID=this._Receipt.details[e].unit_id,this._itemstoreqtyobj.conv=this._Receipt.details[e].conv,this._itemstoreqtyobj.itemid=this._Receipt.details[e].item_id,this.itemqtyview=!0):(this.itemqtyview=!1,this._itemstoreqtyobj=new S.I$)}},{key:"CheckBalanceForItemInStore",value:function(e){var t,n=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];1==r&&(this.DuringSaveDisable=!0,this.cd.markForCheck());var a=!0,o=new S.I$;if(null!=this._Receipt.details[e].item_id){o.ReceiptCode=this.BasicCodeReceipt,o.BranchID=this._Receipt.branch_id,o.Entrydate=this._Receipt.entry_date+" "+this._Receipt.entry_time,o.Unit_ID=this._Receipt.details[e].unit_id,o.conv=this._Receipt.details[e].conv,o.Qty=0,o.itemid=this._Receipt.details[e].item_id,o.StoreID=this._Receipt.details[e].store_id,o.subsidairyid=this.subsidiaryID,o.ReceiptID=this._Receipt.id,console.log(o);var c=null!==(t=this.ReceiptCodeList.filter(function(e){return e.code==n.BasicCodeReceipt})[0].items)&&void 0!==t?t:-1,l=this.InventorySetting[0].physicalnegativeinventoryid;console.log(this._Receipt.details[e].item_type),2!=this._Receipt.details[e].item_type&&(-1==c||1==c&&this._Receipt.details[e].id>0)&&1==l?this._ReceiptSharedService.CheckBalanceForItemInStore(o).subscribe(function(t){var o=0,l=0,s=0,d=[],p=!0;if(0==t.consignment.consignment){if(null!=t.totalqty.totalqty){if(o=t.totalqty.totalqty,d=t.itemcomponent,n._Receipt.details.filter(function(t){return t.item_id==n._Receipt.details[e].item_id}).forEach(function(e){var t=n.ItemUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=t){var i=null!=t.finalconv?t.finalconv:1,r=null!=t.conv?t.conv:1,a=e.conv;l=parseFloat(l.toString())+i*(a/r)*parseFloat(e.qty.toString())}}),3!=n._Receipt.details[e].item_type&&function(){n._Receipt.itemscomponent.filter(function(t){return t.item_id==n._Receipt.details[e].item_id&&null!=t.id}).forEach(function(e){var t=n.ItemComponentUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=t){var i=(null!=t.finalconv?t.finalconv:1)*(e.conv/(null!=t.conv?t.conv:1))*parseFloat(e.qty.toString());l=parseFloat(l.toString())+i}});for(var t=[],i=n._Receipt.details.filter(function(e){return 3==e.item_type&&null==e.id}),r=function(r){t=[],t=n._Receipt.itemscomponent.filter(function(t){return t.parentrowno==i[r].rowno&&t.finishedproductid==i[r].item_id&&null==t.id&&t.item_id==n._Receipt.details[e].item_id});for(var a=function(e){var i=t[e].qty,r=n.ItemComponentUnitsList.find(function(n){return n.item_id==t[e].item_id&&n.id==t[e].unit_id});if(null!=r){var a=(null!=r.finalconv?r.finalconv:1)*(t[e].conv/(null!=r.conv?r.conv:1))*parseFloat(i.toString());l=parseFloat(l.toString())+a}},o=0;o<t.length;o++)a(o)},a=0;a<i.length;a++)r(a)}(),-1==c?s=o-l:1==c&&(s=o+l),3==n._Receipt.details[e].item_type)for(var u=function(e){if(2!=d[e].item_type){var t=function(){var t=n._Receipt.details.filter(function(t){return t.item_id==d[e].item_id}),i=0;t.forEach(function(e){var t=n.ItemUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=t){var r=null!=t.finalconv?t.finalconv:1,a=null!=t.conv?t.conv:1,o=e.conv;i=parseFloat(i.toString())+r*(o/a)*parseFloat(e.qty.toString())}}),n._Receipt.itemscomponent.filter(function(t){return t.item_id==d[e].item_id&&null!=t.id}).forEach(function(e){var t=n.ItemComponentUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=t){var r=(null!=t.finalconv?t.finalconv:1)*(e.conv/(null!=t.conv?t.conv:1))*parseFloat(e.qty.toString());i=parseFloat(i.toString())+r}});for(var r=[],a=n._Receipt.details.filter(function(e){return 3==e.item_type&&null==e.id}),o=function(t){r=[],r=n._Receipt.itemscomponent.filter(function(n){return n.parentrowno==a[t].rowno&&n.finishedproductid==a[t].item_id&&null==n.id&&n.item_id==d[e].item_id});for(var o=function(e){var t=r[e].qty,a=n.ItemComponentUnitsList.find(function(t){return t.item_id==r[e].item_id&&t.id==r[e].unit_id});if(null!=a){var o=(null!=a.finalconv?a.finalconv:1)*(r[e].conv/(null!=a.conv?a.conv:1))*parseFloat(t.toString());i=parseFloat(i.toString())+o}},c=0;c<r.length;c++)o(c)},c=0;c<a.length;c++)o(c);if(!(i<=d[e].totalqty))return p=!1,{v:"break"};p=!0}();if("object"==typeof t)return t.v}},m=0;m<d.length;m++){if("break"===u(m))break}a=s>=0&&1==p}else a=!1;0==a?(n._Receipt.details[e].allowqtyselectforitem=!1,n.cd.markForCheck(),n.toastr.warning(n.qtyErrorMsg+o)):(n._Receipt.details[e].allowqtyselectforitem=!0,n.cd.markForCheck())}1==i&&e+1<n._Receipt.details.length?n.CheckBalanceForItemInStore(e+1,!0,r):1==r&&n.SaveReceipt()}):1==i&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,r):1==r&&this.SaveReceipt()}else 1==i&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,r):1==r&&this.SaveReceipt()}},{key:"CreateNewAction",value:function(){var e=this;JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||1==this.ShowModeReceipt||this.ReceiptID>0&&!this.checkRoleParms(625)?this._router.navigate(["/page/inventorytransiction/destroyvoucher/0"]).then(function(){window.location.reload()}):Me().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(t){t.value?e.CheckPre_SaveReceipt(e.RForm):t.dismiss===Me().DismissReason.cancel&&e._router.navigate(["/page/inventorytransiction/destroyvoucher/0"]).then(function(){window.location.reload()})})}},{key:"DeleteAction",value:function(){var e=this;Me().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(t){t.isConfirmed&&1==t.isConfirmed&&e._ReceiptSharedService.DeleteReceipts(e._Receipt.id).subscribe(function(t){0==t.bcount?(e.toastr.success(e.toastrSuccessDelete),e._router.navigate(["/page/inventorytransiction/destroyvoucher"])):-1==t.bcount?(t.usedserials.forEach(function(t){var n=e._Receipt.details.findIndex(function(e){return e.item_id==t.itemid&&e.batcheslist[0].id==t.id});-1!=n&&(e._Receipt.details[n].allowqtyselectforitem=!1)}),e.toastr.error(e.RelatedwithSerialsOrBatches)):e.toastr.error(e.DeleteRelationmsg)})})}},{key:"GetMaxCostPostedSerDate",value:function(){var e=this;this._ReceiptSharedService.GetMaxCostPostedSerDate(this._Receipt.entry_date,this.subsidiaryID).subscribe(function(t){var n=e.datepipe.transform(t[0].maxpostingdate,"yyyy-MM-dd");Date.parse(n.toString())<Date.parse(e._Receipt.entry_date.toString())?(e.ShowModeReceipt=!1,e.ValidPeriod=!0):(e.ShowModeReceipt=!0,e.ValidPeriod=!1,e.ShowPopUpCostPostedSerDate()),e.cd.markForCheck()})}},{key:"DupilcateAction",value:function(){var e=this;this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(function(t){e._Receipt.entry_no=0==t.length?1:t[0].entry_no+1,e.entry_no=e._Receipt.entry_no,e.location.replaceState("/page/inventorytransiction/destroyvoucher/0"),e.ReceiptID=0,e._Receipt.id=null,e.VouchersLinkedCount=0,e.CheckBalanceForItemInStore(0,!0),e.cd.markForCheck()})}},{key:"DocumentAction",value:function(){this._router.navigate(["/page/setupsettings/documents/3/"+this._Receipt.id+"/destroyvoucher"],{relativeTo:this._activeRoute,queryParams:{show:this.LockedRecepit}})}},{key:"onPrint",value:function(){var e=this,t=this.getReportfilter(0);this._VerifyReportsService.SaveVerifyReports(this.subsidiaryID,this.lang).subscribe(function(n){e.reporturl="".concat(e.reportdomainUrl,"?q=").concat(t.reportName,"&ID=").concat(t.ReceiptID),""!=t.lang&&(e.reporturl=e.reporturl+"&Lang=".concat(t.lang)),""!=t.DomainName&&(e.reporturl=e.reporturl+"&DomainName=".concat(t.DomainName)),""!=t.toEmail&&(e.reporturl=e.reporturl+"&email=".concat(t.toEmail,"+&Subject=").concat(t.Subject,"+&boby=").concat(t.boby)),e.reporturl=e.reporturl+"&Info=".concat(n),e._authService.showReportInNextTab(e.reporturl),e.cd.markForCheck()})}},{key:"sendEmail",value:function(e){var t=this;this._emailobj=e.list;var n=this.getReportfilter(0);this.spinner.show(),this._ReceiptSharedService.GetReport(n).subscribe(function(e){t.spinner.hide(),alert(t.mailmsg)}),this.cd.markForCheck()}},{key:"getReportfilter",value:function(){this._authService.userInfo();var e="",t="";"ar"==this.lang&&(t="_ar");var n={reportName:e="P_I_61_Destruction"+t,SubsidaryID:this.subsidiaryID,ReceiptID:this._Receipt.id,lang:"",DomainName:"",toEmail:"",Subject:"",boby:""};return n.reportName=e,n.toEmail=this._emailobj.email,n.Subject=this._emailobj.subject,n}},{key:"BackAction",value:function(){var e=this;JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||this.ReceiptID>0&&!this.checkRoleParms(625)||0==this.ReceiptID&&!this.checkRoleParms(243)||1==this.ShowModeReceipt?this._router.navigate(["/page/inventorytransiction/destroyvoucher"]):Me().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(t){t.value?e.CheckPre_SaveReceipt(e.RForm):t.dismiss===Me().DismissReason.cancel&&e._router.navigate(["/page/inventorytransiction/destroyvoucher"])})}},{key:"getCurrentDate",value:function(){var e=new Date,t=e.getFullYear();return e.getMonth()+1+"/"+e.getDate()+"/"+t}},{key:"getwarrantydateDate",value:function(){var e=new Date,t=e.getFullYear()+1;return e.getMonth()+1+"/"+e.getDate()+"/"+t}},{key:"SetTimeNow",value:function(){var e=new Date;return("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)}},{key:"OpenModal",value:function(e){this.modalReference=this.modalService.open(e,{size:"xl",backdrop:"static"})}},{key:"CloseModal",value:function(){this.modalReference.close()}},{key:"formateDecimal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return e.toFixed(t)}},{key:"OnSerialItems",value:function(e,n){var i,r=this;if(1==this.CashCustomerSetting.salesreturneffect&&1==this.CashCustomerSetting.dispensingpolicy&&0==this.ReceiptID&&(this._Receipt.details[this.selectedindex].batcheslist=[]),this.SelectedItem=this._Receipt.details[e],this.selectedindex=e,this._Receipt.details[e].qty<=0)this.toastr.error(this.InValidQty);else{this.requiredserial=this._Receipt.details[e].isrequireserial;var a=this.ItemUnitsList.filter(function(t){return t.item_id==r._Receipt.details[e].item_id&&t.id==r._Receipt.details[e].unit_id}),o=this._Receipt.details[e].conv*a[0].finalconv/a[0].conv;this._batchqty=this._Receipt.details[e].qty,this._ReceiptSharedService.GetReceiptItemSerial(this._Receipt.details[e].item_id,this._Receipt.details[e].store_id,null!==(i=this._Receipt.id)&&void 0!==i?i:0,this._Receipt.entry_date+" "+this._Receipt.entry_time,this.subsidiaryID).subscribe(function(i){r.BatchesListForEatchRow=[];var a=[];if(i.seriallist.forEach(function(t){null!=r._Receipt.id&&0!=r._Receipt.id&&null!=r._ReceiptOriginal.details[r.selectedindex]&&r._ReceiptOriginal.details[r.selectedindex].unit_id!=r._Receipt.details[r.selectedindex].unit_id&&(t.availableqty=t.availableqty+r._ReceiptOriginal.details[e].qty*r._ReceiptOriginal.details[e].final_conv-r._Receipt.details[e].qty*r._Receipt.details[e].final_conv),t.availableqtywithsmallestunit=t.availableqty,t.availableqty=parseFloat((t.availableqty/o).toFixed(4))}),a=i.seriallist,console.log(i.seriallist,"d.seriallist"),r._Receipt.details[r.selectedindex].batcheslist.forEach(function(e){var t=a.findIndex(function(t){return t.id==e.previtemserialid});-1!=t&&(e.inv_receipt_d_id>0?null==r._Receipt.details[r.selectedindex].validrow||1==r._Receipt.details[r.selectedindex].validrow?(a[t].qty=e.qty,a[t].oldqty=e.qty,r._ReceiptOriginal.details[r.selectedindex].unit_id!=r._Receipt.details[r.selectedindex].unit_id&&(a[t].qty=r._Receipt.details[r.selectedindex].qty,a[t].oldqty=r._Receipt.details[r.selectedindex].qty),r._Receipt.details[r.selectedindex].validrow=!0):a[t].availableqty=a[t].availableqty+e.qty:1==r._Receipt.details[r.selectedindex].validrow&&a[t].availableqty-e.qty>=0?(a[t].qty=e.qty,a[t].oldqty=e.qty,a[t].availableqty=parseFloat((a[t].availableqty-e.qty).toFixed(4)),r._Receipt.details[r.selectedindex].validrow=!0):(a[t].qty=null,a[t].availableqty=parseFloat(a[t].availableqty.toFixed(4)),r._Receipt.details[r.selectedindex].validrow=!1))}),r._Receipt.id>0)for(var c=0;c<a.length;c++)null==a[c].qty&&0==a[c].availableqty||r.BatchesListForEatchRow.push(a[c]);else r.BatchesListForEatchRow=t(a);if(1==r.CashCustomerSetting.salesreturneffect&&1==r.CashCustomerSetting.dispensingpolicy){if(r._Receipt.details[r.selectedindex].id>0&&r.ReceiptID>0){console.log(r.BatchesListForEatchRow);for(var l=0;l<r.BatchesListForEatchRow.length;l++)r.BatchesListForEatchRow[l].availableqty+=r.BatchesListForEatchRow[l].oldqty,r.BatchesListForEatchRow[l].qty=0,r.BatchesListForEatchRow[l].solidquantity=0}var s=0;if(r.BatchesListForEatchRow.forEach(function(e){s+=e.availableqty}),console.log(s,r._Receipt.details[e].qty),r._Receipt.details[e].qty>s)return void r.toastr.error(r.InValidQtyForBatch);if(r._Receipt.details[e].qty==s)r.BatchesListForEatchRow.forEach(function(e){e.qty=e.availableqty,e.oldqty=e.availableqty,e.availableqty=0}),r.saveSerialOnSalesReturnEffectDispensingPolicy();else{var d=r._Receipt.details[e].qty;r.BatchesListForEatchRow.forEach(function(e){0!=d&&(e.availableqty>=d?(e.qty=d,e.oldqty=d,e.availableqty=parseFloat((e.availableqty-d).toFixed(4)),d=0):(e.qty=e.availableqty,e.oldqty=e.availableqty,d-=e.availableqty,e.availableqty=0))}),r.saveSerialOnSalesReturnEffectDispensingPolicy()}}else r.OpenModal(n);1==r.CashCustomerSetting.salesreturneffect&&1==r.CashCustomerSetting.dispensingpolicy&&r.OpenModal(n)})}}},{key:"saveserial",value:function(e){var t=this;if(e.valid){if(this.BatchesListForEatchRow.some(function(e){return e.qty>e.availableqty+e.oldqty}))return this.toastr.error(this.QtyIsValidWithAvailableQty),void(this._Receipt.details[this.selectedindex].validrow=!1);var n,i=0;if(this.BatchesListForEatchRow.forEach(function(e){var t;i+=null!==(t=+e.qty)&&void 0!==t?t:0}),i!=this._batchqty)return this.toastr.error(this.InValidNumberOfBatch),void(this._Receipt.details[this.selectedindex].validrow=!1);var r=1;this.BatchesListForEatchRow.map(function(e){if(r++,e.qty>0){var i=t._Receipt.details[t.selectedindex].batcheslist.findIndex(function(t){return t.previtemserialid==e.id});-1!=i?t._Receipt.details[t.selectedindex].batcheslist[i].qty=+e.qty.toString():((n=new Ee.WB).id=0,n.qty=+e.qty,n.storeid=e.storeid,n.storename=e.name,n.storename_ar=e.name_ar,n.batchno=e.serial,n.date=e.expire_date,n.previtemserialid=e.id,n.serial=r,n.valid=!1,n.isdublicatebatch=!1,n.isused=!1,n.inv_receipt_d_id=null,n.availableqty=e.availableqty+e.qty,n.solidquantity=null,t._Receipt.details[t.selectedindex].batcheslist.push(n)),t._Receipt.details[t.selectedindex].validrow=!0}else{var a=t._Receipt.details[t.selectedindex].batcheslist.findIndex(function(t){return t.previtemserialid==e.id});-1!=a&&t._Receipt.details[t.selectedindex].batcheslist.splice(a,1)}}),this.CloseModal()}console.log(this._Receipt.details,"this._Receipt.details")}},{key:"saveSerialOnSalesReturnEffectDispensingPolicy",value:function(){var e=this;if(this.BatchesListForEatchRow.some(function(e){return e.qty>e.availableqty+e.oldqty}))return this.toastr.error(this.QtyIsValidWithAvailableQty),void(this._Receipt.details[this.selectedindex].validrow=!1);var t,n=0;if(this.BatchesListForEatchRow.forEach(function(e){var t;n+=null!==(t=+e.qty)&&void 0!==t?t:0}),n!=this._batchqty)return this.toastr.error(this.InValidNumberOfBatch),void(this._Receipt.details[this.selectedindex].validrow=!1);var i=1;this.BatchesListForEatchRow.map(function(n){if(i++,n.qty>0){var r=e._Receipt.details[e.selectedindex].batcheslist.findIndex(function(e){return e.previtemserialid==n.id});-1!=r?e._Receipt.details[e.selectedindex].batcheslist[r].qty=+n.qty.toString():((t=new Ee.WB).id=0,t.qty=+n.qty,t.storeid=n.storeid,t.storename=n.name,t.storename_ar=n.name_ar,t.batchno=n.serial,t.date=n.expire_date,t.previtemserialid=n.id,t.serial=i,t.valid=!1,t.isdublicatebatch=!1,t.isused=!1,t.inv_receipt_d_id=null,t.availableqty=n.availableqty+n.qty,t.solidquantity=null,e._Receipt.details[e.selectedindex].batcheslist.push(t)),e._Receipt.details[e.selectedindex].validrow=!0}}),console.log(this._Receipt.details,"this._Receipt.details")}},{key:"ChangeBatchQty",value:function(e,t){if(+t>(null==e?void 0:e.availableqty)+(null==e?void 0:e.oldqty))return this.toastr.error(this.QtyIsValidWithAvailableQty),this._Receipt.details[this.selectedindex].validrow=!1,e.qty=null,e.availableqty=e.availableqty+e.oldqty,void(e.oldqty=0);e.qty=+t,e.availableqty=this.dealWith(e.availableqty+e.oldqty-+t),e.oldqty=+t}},{key:"dealWith",value:function(e){return e%1==0?e:e.toString().split(".")[1].length>4?+e.toFixed(4):e}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}},{key:"customTrackBy",value:function(e,t){return e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(M["\u0275\u0275directiveInject"](b.n),M["\u0275\u0275directiveInject"](Pe.v),M["\u0275\u0275directiveInject"](R.t),M["\u0275\u0275directiveInject"](Oe.H),M["\u0275\u0275directiveInject"](M.ChangeDetectorRef),M["\u0275\u0275directiveInject"](I._W),M["\u0275\u0275directiveInject"](m.F0),M["\u0275\u0275directiveInject"](P.m),M["\u0275\u0275directiveInject"](h.sK),M["\u0275\u0275directiveInject"](O.K),M["\u0275\u0275directiveInject"](m.gz),M["\u0275\u0275directiveInject"](F.FF),M["\u0275\u0275directiveInject"](k.t2),M["\u0275\u0275directiveInject"](E.e),M["\u0275\u0275directiveInject"](w.$),M["\u0275\u0275directiveInject"](x.J),M["\u0275\u0275directiveInject"](l.uU),M["\u0275\u0275directiveInject"](l.Ye))},e.\u0275cmp=M["\u0275\u0275defineComponent"]({type:e,selectors:[["app-destroy-voucher-details"]],viewQuery:function(e,t){var n;(1&e&&M["\u0275\u0275viewQuery"](uS,5),2&e)&&(M["\u0275\u0275queryRefresh"](n=M["\u0275\u0275loadQuery"]())&&(t.RForm=n.first))},features:[M["\u0275\u0275ProvidersFeature"]([b.n,Pe.v,R.t,l.uU,Oe.H,x.J])],decls:7,vars:4,consts:[["class","row",4,"ngIf"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],["serialModel",""],[1,"row"],[2,"margin","0 30% 0 30%","margin-top","200px"],[1,"col-md-12","col-lg-12"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"container-fluid","py-4","pl-0","pr-0"],[1,"card","my-2","mx-2","px-3","pb-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-1","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"col-12","text-right","actionBtns"],["type","submit",1,"btn","btn-success","btn-md","mr-2","mb-2"],[1,"ft-check-square","mr-1"],["type","button",1,"btn","btn-success","btn-md","mr-2","mb-2",3,"click"],["class","btn btn-primary btn-md\n                  mr-2 mb-2","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-danger","btn-md","mr-2","mb-2",3,"click"],[1,"btn-group"],["type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-primary","dropdown-toggle"],[1,"dropdown-menu"],[1,"col-12","col-md-6","mb-2","mb-md-0"],[1,"form-group"],["for","Category",1,"col-form-label"],[2,"color","red","font-weight","bold"],["name","Branch","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["Branch","ngModel"],["Value","null",4,"ngIf"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12","col-md-3","mb-2","mb-md-0"],["for","VendorCode",1,"col-form-label"],["type","text","id","entry_no","name","entry_no","PositiveNumbersOrDecimalOnly","","required","","customMin","",1,"form-control",3,"stepallow","ngModel","readonly","Min","CheckMin","ngClass","ngModelChange","keydown.space"],["entry_no","ngModel"],["for","entry_date",1,"col-form-label"],["type","date","id","entry_date","name","entry_date","required","",1,"form-control",3,"ngModel","readonly","ngClass","ngModelChange"],["entry_date","ngModel"],["for","entry_time",1,"col-form-label"],["type","time","id","entry_time","name","entry_time",1,"form-control",3,"readonly","ngModel","ngModelChange"],["entry_time","ngModel"],["for","reference_no",1,"col-form-label"],["type","text","id","reference_no","name","reference_no",1,"form-control",3,"ngModel","ngModelChange"],["reference_no","ngModel"],["for","memo",1,"col-form-label"],["type","text","id","memo","name","memo",1,"form-control",3,"ngModel","ngModelChange"],["memo","ngModel"],[1,"col-12","nav-wrapper","position-relative","end-0","mt-3"],[1,"col-xl-7","col-md-7"],["ngbNav","",1,"nav","nav-pills","nav-fill","p-1",3,"destroyOnHide","activeId","activeIdChange"],["nav","ngbNav"],[1,"nav-item",3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavItem",4,"ngIf"],[3,"ngbNavItem"],[1,"mt-2",3,"ngbNavOutlet"],[1,"row","col-md-5",2,"margin-top","4rem"],[1,"col"],[1,"table-responsive","table","table-accountdetails"],[1,"table"],["scope","col"],["scope","col",3,"hidden"],[3,"hidden"],["PositiveNumbersOnly","","type","number","name","ovr_ForiegnTotal",1,"form-control",3,"readonly","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalTotal",1,"form-control",3,"readonly","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalTotalqty",1,"form-control","totalValInput","font-weight-bold",3,"readonly","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalTotalitem",1,"form-control","totalValInput","font-weight-bold",3,"readonly","ngModel","ngModelChange"],[1,"row","col-md-7"],["type","button",1,"btn","btn-primary","btn-md","mr-2","mb-2",3,"click"],["class","dropdown-item","type","button",3,"click",4,"ngIf"],[3,"entryno","_savedemailobj"],["type","button",1,"dropdown-item",3,"click"],["Value","null"],[3,"value"],[1,"row",2,"margin-top","10px"],[1,"table-responsive","table","table-accountdetails",3,"ngClass"],["scope","col",2,"width","5%"],["scope","col",2,"width","15%"],["scope","col",2,"width","9%"],["scope","col",4,"ngIf"],["scope","col","style","width:15%",4,"ngIf"],["scope","col","style","width: 15%",4,"ngIf"],["scope","col",2,"min-width","30px"],[4,"ngFor","ngForOf","ngForTrackBy"],["type","button",1,"btn","btn-success",3,"click"],[2,"padding-top","15px !important"],["minLength","0","delay","0","field","code",3,"ngModel","disabled","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoStore",""],["pTemplate","servstoreTemplate"],["minLength","0","delay","0","field","code",3,"ngModel","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoItems",""],["pTemplate","servCodeTemplate"],[3,"click"],[3,"ngClass",4,"ngIf"],[1,"form-control",3,"name","ngModel","required","ngClass","ngModelChange","change"],["itemunit","ngModel"],[3,"ngValue",4,"ngIf"],[3,"ngValue","selected",4,"ngFor","ngForOf"],["customMin","","PositiveNumbersOnly","","type","number",1,"form-control",3,"Min","CheckMin","ngModel","name","ngClass","keyup","ngModelChange"],["item_qty","ngModel"],["href","javascript:;",2,"color","red",3,"click"],[1,"fa","fa-trash","fa-lg"],[3,"ngClass"],[3,"ngValue"],[3,"ngValue","selected"],["customMin","","PositiveNumbersOrDecimalOnly","","type","number",1,"form-control",3,"readonly","step","Min","CheckMin","stepallow","ngModel","name","required","ngClass","keyup","ngModelChange"],["item_conv","ngModel"],["PositiveNumbersOnly","","type","number","customMin","",1,"form-control",3,"ngModel","name","readonly","Min","CheckMin","ngClass","keyup","ngModelChange"],["price","ngModel"],["PositiveNumbersOnly","","type","number",1,"form-control",2,"background-color","silver",3,"ngModel","name","readonly","keyup","ngModelChange"],["href","javascript:;","class","info p-0",3,"click",4,"ngIf"],["href","javascript:;",1,"info","p-0",3,"click"],[1,"fa","fa-list","font-medium-3","mr-2"],[4,"ngFor","ngForOf"],["type","text",1,"form-control",3,"readonly","ngModel","name","ngModelChange"],[1,"form-control",3,"name","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["PositiveNumbersOnly","","type","text",1,"form-control",3,"ngModel","name","readonly","ngModelChange"],["PositiveNumbersOnly","","type","text",1,"form-control",3,"readonly","ngModel","name","ngModelChange"],[1,"form-control","red",3,"name","ngModel","ngModelChange"],["type","number",1,"form-control","red",3,"ngModel","name","ngModelChange"],["LinkedReceiptsentry_no","ngModel"],["href","javascript:;",2,"color","green",3,"click"],["aria-hidden","true",1,"fa","fa-plus-square","fa-lg"],["aria-hidden","true",1,"fa","fa-eye","fa-lg"],[3,"signature","signatureoutput"],[1,"col-md-12","row"],[1,"col-md-3","form-group"],[1,"col-form-label"],["minLength","0","delay","0","field","costcenterfieldname","name","CostCenter",3,"required","ngModel","suggestions","ngClass","showEmptyMessage","emptyMessage","forceSelection","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoCostCenter","","CostCenter","ngModel"],["pTemplate","CostCenterTemplate"],["class","col-md-3 form-group",4,"ngIf"],["style","color: red; font-weight: bold",4,"ngIf"],["minLength","0","delay","0","field","classfieldname","name","Classes",3,"required","ngModel","suggestions","ngClass","showEmptyMessage","emptyMessage","forceSelection","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoClasses","","Classes","ngModel"],["pTemplate","ClassesTemplate"],["minLength","0","delay","0","field","locationfieldname","name","Location",3,"required","ngModel","suggestions","ngClass","showEmptyMessage","emptyMessage","forceSelection","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoLocation","","Location","ngModel"],["pTemplate","LocationTemplate"],["minLength","0","delay","0","field","departmentfieldname","name","Department",3,"required","ngModel","suggestions","ngClass","showEmptyMessage","emptyMessage","forceSelection","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoDepartment","","Department","ngModel"],["pTemplate","DepartmentTemplate"],[3,"wrappe"],["ItemStoreQty",""],[1,"modal-header"],["class","modal-title",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"col-md-12"],[1,"table-responsive"],[1,"modal-title"],[2,"width","20%"],["style","width: 15%",4,"ngIf"],[1,"modal-footer"],["type","submit",1,"btn","btn-success"],[2,"width","15%"],["type","checkbox",3,"name","checked"],["type","number","PositiveNumbersOrDecimalOnly","","min","0",1,"form-control",3,"name","value","ngClass","change"],["style","color: red",4,"ngIf"],[2,"color","red"]],template:function(e,t){1&e&&(M["\u0275\u0275template"](0,mS,4,3,"div",0),M["\u0275\u0275template"](1,rx,147,112,"ng-container",1),M["\u0275\u0275elementStart"](2,"ngx-spinner",2),M["\u0275\u0275elementStart"](3,"p",3),M["\u0275\u0275text"](4,"Loading..."),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](5,fx,36,22,"ng-template",null,4,M["\u0275\u0275templateRefExtractor"])),2&e&&(M["\u0275\u0275property"]("ngIf",!(t.checkRoleParms(242)||t.checkRoleParms(243)||t.checkRoleParms(244)||t.checkRoleParms(625)||t.checkRoleParms(246))),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",t.checkRolesParms(M["\u0275\u0275pureFunction0"](3,Cx))),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("fullScreen",!0))},directives:[l.O5,k.Ro,d._Y,d.JL,d.F,d.EJ,d.Q7,d.JJ,d.On,l.mk,l.sg,d.Fj,we.L,De.a,F.Pz,F.nv,F.Vx,F.uN,F.tO,d.wV,L.K,Le.k,d.YN,d.Kr,u.Qc,Be.jx,Ve.t,qe.T],pipes:[h.X$,l.uU,Te.N],styles:['.headerform[_ngcontent-%COMP%]{border-radius:5px;font-size:1.5rem;padding:5px 2em}.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.headerform[_ngcontent-%COMP%]{background-color:#2f8be6;color:#fff;height:44px;padding-top:9px;margin-bottom:17px}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}.table-accountdetails[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#80808030}.table-accountdetails[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#7b809a}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important;text-align:center}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}.isExpired[_ngcontent-%COMP%]{color:red}']}),e}();function bx(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"div",4),M["\u0275\u0275elementStart"](1,"h1",5),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function Sx(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.name)}}function Rx(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.name_ar)}}function xx(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",50),M["\u0275\u0275template"](1,Sx,2,1,"span",1),M["\u0275\u0275template"](2,Rx,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275propertyInterpolate"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function Mx(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",51),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).OnAdd()}),M["\u0275\u0275element"](1,"i",27),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"]()}2&e&&(M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](3,1,"Add")," "))}function Ix(e,t){1&e&&M["\u0275\u0275element"](0,"i",52)}function Px(e,t){1&e&&M["\u0275\u0275element"](0,"i",53)}function Ox(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275element"](1,"i",46),M["\u0275\u0275template"](2,Ix,1,0,"i",47),M["\u0275\u0275template"](3,Px,1,0,"i",48),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("hidden","BranchName"==n.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","BranchName"==n.sortColumn&&"asc"==n.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","BranchName"==n.sortColumn&&"desc"==n.sortDirection)}}function kx(e,t){1&e&&M["\u0275\u0275element"](0,"i",52)}function Ex(e,t){1&e&&M["\u0275\u0275element"](0,"i",53)}function wx(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275element"](1,"i",46),M["\u0275\u0275template"](2,kx,1,0,"i",47),M["\u0275\u0275template"](3,Ex,1,0,"i",48),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("hidden","BranchNameAR"==n.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","BranchNameAR"==n.sortColumn&&"asc"==n.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","BranchNameAR"==n.sortColumn&&"desc"==n.sortDirection)}}function Dx(e,t){1&e&&M["\u0275\u0275element"](0,"i",52)}function Bx(e,t){1&e&&M["\u0275\u0275element"](0,"i",53)}function Lx(e,t){1&e&&M["\u0275\u0275element"](0,"i",52)}function Fx(e,t){1&e&&M["\u0275\u0275element"](0,"i",53)}function Nx(e,t){1&e&&M["\u0275\u0275element"](0,"i",52)}function Vx(e,t){1&e&&M["\u0275\u0275element"](0,"i",53)}function qx(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th"),M["\u0275\u0275text"](1,"\xa0"),M["\u0275\u0275elementEnd"]())}function Tx(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n?null:n.branchname)}}function Ax(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n?null:n.branchnamear)}}function Gx(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"td",58),M["\u0275\u0275elementStart"](1,"a",59),M["\u0275\u0275element"](2,"i",60),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate1"]("routerLink","/page/inventorytransiction/adjustmentvoucher/",null==n?null:n.id,"")}}function Ux(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"tr"),M["\u0275\u0275template"](1,Tx,2,1,"td",1),M["\u0275\u0275template"](2,Ax,2,1,"td",1),M["\u0275\u0275elementStart"](3,"td"),M["\u0275\u0275text"](4),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](5,"td"),M["\u0275\u0275text"](6),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](7,"td"),M["\u0275\u0275text"](8),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](9,Gx,3,1,"td",55),M["\u0275\u0275elementStart"](10,"td"),M["\u0275\u0275elementStart"](11,"a",56),M["\u0275\u0275elementStart"](12,"span"),M["\u0275\u0275element"](13,"i",57),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](null==n?null:n.entry_no),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](null==n?null:n.entry_date),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](1==(null==i.CurrentUserSetting?null:i.CurrentUserSetting.showcostprice)?null==n?null:n.value:"****"),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(626)),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("routerLink","/page/inventorytransiction/adjustmentvoucher/",null==n?null:n.id,"/show")}}function jx(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"tbody"),M["\u0275\u0275template"](1,Ux,14,7,"tr",54),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",n.ReceiptList)}}function $x(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"tbody"),M["\u0275\u0275elementStart"](1,"tr",61),M["\u0275\u0275elementStart"](2,"td",62),M["\u0275\u0275text"](3),M["\u0275\u0275pipe"](4,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](4,1,"NoData")))}function zx(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",63),M["\u0275\u0275elementStart"](1,"ngb-pagination",64),M["\u0275\u0275listener"]("pageChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).onPageChange(e)})("pageChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).PageNo=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](2,"p"),M["\u0275\u0275text"](3),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](4,"select",65),M["\u0275\u0275listener"]("change",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).onPageSizeChange(e.target.value)})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).PageSize=e}),M["\u0275\u0275elementStart"](5,"option",66),M["\u0275\u0275text"](6,"10 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](7,"option",67),M["\u0275\u0275text"](8,"50 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](9,"option",68),M["\u0275\u0275text"](10,"100 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275element"](11,"br"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("collectionSize",i.totalCount)("page",i.PageNo)("pageSize",i.PageSize)("maxSize",5)("boundaryLinks",!0),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",i._generalService.TotalDetailsTextShow(i.PageNo,i.PageSize,i.totalCount,i.lang)," "),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngModel",i.PageSize)}}function Wx(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275elementStart"](1,"div",6),M["\u0275\u0275elementStart"](2,"div",7),M["\u0275\u0275elementStart"](3,"div",8),M["\u0275\u0275elementStart"](4,"h6",9),M["\u0275\u0275text"](5),M["\u0275\u0275pipe"](6,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](7,"div",10),M["\u0275\u0275elementStart"](8,"div",11),M["\u0275\u0275elementStart"](9,"section"),M["\u0275\u0275elementStart"](10,"div",4),M["\u0275\u0275elementStart"](11,"div",12),M["\u0275\u0275elementStart"](12,"form",13,14),M["\u0275\u0275listener"]("ngSubmit",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().SearchReceiptByEntryNo()}),M["\u0275\u0275elementStart"](14,"div",4),M["\u0275\u0275elementStart"](15,"div",15),M["\u0275\u0275elementStart"](16,"div",16),M["\u0275\u0275elementStart"](17,"label",17),M["\u0275\u0275text"](18),M["\u0275\u0275pipe"](19,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](20,"select",18,19),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._ReceiptSearch.BranchID=e})("change",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().ChangeBranch(e.target.value)}),M["\u0275\u0275elementStart"](22,"option",20),M["\u0275\u0275text"](23),M["\u0275\u0275pipe"](24,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](25,xx,3,3,"option",21),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](26,"div",15),M["\u0275\u0275elementStart"](27,"div",16),M["\u0275\u0275elementStart"](28,"label",22),M["\u0275\u0275text"](29),M["\u0275\u0275pipe"](30,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](31,"input",23,24),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._ReceiptSearch.EntryNo=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](33,"div",25),M["\u0275\u0275elementStart"](34,"button",26),M["\u0275\u0275element"](35,"i",27),M["\u0275\u0275text"](36),M["\u0275\u0275pipe"](37,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](38,"button",28),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().ShowAll()}),M["\u0275\u0275element"](39,"i",27),M["\u0275\u0275text"](40),M["\u0275\u0275pipe"](41,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](42,"div",29),M["\u0275\u0275elementStart"](43,"div",30),M["\u0275\u0275elementStart"](44,"div",31),M["\u0275\u0275template"](45,Mx,4,3,"button",32),M["\u0275\u0275elementStart"](46,"button",33),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().OnPrint()}),M["\u0275\u0275element"](47,"i",27),M["\u0275\u0275text"](48),M["\u0275\u0275pipe"](49,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](50,"button",34),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().OnPrint(1)}),M["\u0275\u0275element"](51,"i",27),M["\u0275\u0275text"](52),M["\u0275\u0275pipe"](53,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](54,"button",35),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().OnExcel()}),M["\u0275\u0275element"](55,"i",27),M["\u0275\u0275text"](56),M["\u0275\u0275pipe"](57,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](58,"div",36),M["\u0275\u0275elementStart"](59,"div",37),M["\u0275\u0275elementStart"](60,"label",38),M["\u0275\u0275text"](61),M["\u0275\u0275pipe"](62,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](63,"input",39,40),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._ReceiptSearch.SearchValue=e})("keyup",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().ChangePropFinish()}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](65,"div",4),M["\u0275\u0275elementStart"](66,"div",11),M["\u0275\u0275elementStart"](67,"div",41),M["\u0275\u0275elementStart"](68,"div",42),M["\u0275\u0275elementStart"](69,"div",43),M["\u0275\u0275elementStart"](70,"table",44),M["\u0275\u0275elementStart"](71,"thead"),M["\u0275\u0275elementStart"](72,"tr"),M["\u0275\u0275elementStart"](73,"th",45),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().GetReceiptList("BranchName")}),M["\u0275\u0275text"](74),M["\u0275\u0275pipe"](75,"translate"),M["\u0275\u0275template"](76,Ox,4,3,"ng-container",1),M["\u0275\u0275template"](77,wx,4,3,"ng-container",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](78,"th",45),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().GetReceiptList("Entry_No")}),M["\u0275\u0275text"](79),M["\u0275\u0275pipe"](80,"translate"),M["\u0275\u0275elementContainerStart"](81),M["\u0275\u0275element"](82,"i",46),M["\u0275\u0275template"](83,Dx,1,0,"i",47),M["\u0275\u0275template"](84,Bx,1,0,"i",48),M["\u0275\u0275elementContainerEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](85,"th",45),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().GetReceiptList("Entry_Date")}),M["\u0275\u0275text"](86),M["\u0275\u0275pipe"](87,"translate"),M["\u0275\u0275elementContainerStart"](88),M["\u0275\u0275element"](89,"i",46),M["\u0275\u0275template"](90,Lx,1,0,"i",47),M["\u0275\u0275template"](91,Fx,1,0,"i",48),M["\u0275\u0275elementContainerEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](92,"th",45),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().GetReceiptList("NetValue")}),M["\u0275\u0275text"](93),M["\u0275\u0275pipe"](94,"translate"),M["\u0275\u0275elementContainerStart"](95),M["\u0275\u0275element"](96,"i",46),M["\u0275\u0275template"](97,Nx,1,0,"i",47),M["\u0275\u0275template"](98,Vx,1,0,"i",48),M["\u0275\u0275elementContainerEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](99,qx,2,0,"th",1),M["\u0275\u0275elementStart"](100,"th"),M["\u0275\u0275text"](101,"\xa0"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](102,jx,2,1,"tbody",1),M["\u0275\u0275template"](103,$x,5,3,"tbody",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](104,zx,12,7,"div",49),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](6,34,"Adjustment Voucher"),""),M["\u0275\u0275advance"](13),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](19,36,"Branch")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i._ReceiptSearch.BranchID),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](24,38,"All")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngForOf",i.BranchList),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](30,40,"EntryNo")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i._ReceiptSearch.EntryNo),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](37,42,"Search")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](41,44,"All")," "),M["\u0275\u0275advance"](5),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(248)),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](49,46,"Print")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](53,48,"pdf")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](57,50,"Excel")," "),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](62,52,"Search")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i._ReceiptSearch.SearchValue),M["\u0275\u0275advance"](11),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](75,54,"Branch")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](80,56,"EntryNo")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("hidden","Entry_No"==i.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Entry_No"==i.sortColumn&&"asc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Entry_No"==i.sortColumn&&"desc"==i.sortDirection),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](87,58,"Date")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("hidden","Entry_Date"==i.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Entry_Date"==i.sortColumn&&"asc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Entry_Date"==i.sortColumn&&"desc"==i.sortDirection),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](94,60,"value")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("hidden","NetValue"==i.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","NetValue"==i.sortColumn&&"asc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","NetValue"==i.sortColumn&&"desc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(626)),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngIf",i.ReceiptList.length>0),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",0==i.ReceiptList.length),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.totalCount>0)}}var Jx=function(){var e=function(){function e(t,n,i,r,a,o,l,s,d,p,u,m,h,g,_){var v=this;c(this,e),this._cashsalesService=t,this.cd=n,this.toastr=i,this._router=r,this._generalService=a,this.translate=o,this._translateGlobalService=l,this.spinner=s,this._ReceiptSharedService=p,this._authService=u,this._printService=m,this._Excel=h,this._convertToPDF=g,this._VerifyReportsService=_,this.loaded=!1,this.subsidiaryID=0,this.PageSize=10,this.PageNo=1,this.ReceiptList=[],this.totalCount=0,this.BranchList=[],this.list=[],this._ReceiptSearch=new S.Wb,this.NumNotExist="",this.title="",this.timeout=null,this.sortDirection="asc",this.sortColumn="",this.SelectBranchMsg="",this.EntryNumberMsg="",this.subsidiaryID=this._generalService.SubsidiaryID,this.GetBranchList(),this.GetCurrentUserSetting(),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(function(e){v.lang=e.lang,v.dir=e.dir,v.translate.use(e.lang),v.ngTransUnsubscribe=v.translate.get("SelectBranchError").subscribe(function(e){v.SelectBranchMsg=e}),v.ngTransUnsubscribe=v.translate.get("EntryNumberMsg").subscribe(function(e){v.EntryNumberMsg=e})}),d.params.subscribe(function(e){var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t?(console.log(t.branchId),v._ReceiptSearch.BranchID="null"!=t.branchId?t.branchId:0):v._ReceiptSearch.BranchID=0}),this.ngTransUnsubscribe=this.translate.get(["Adjustment Voucher"]).subscribe(function(e){v.title=e["Adjustment Voucher"],document.title=v.title}),this.ngTransUnsubscribe=this.translate.get(["NumNotExist"]).subscribe(function(e){v.NumNotExist=e.NumNotExist}),this.ngUnsubscribe=a.proadCastSubsidiaryID.subscribe(function(e){if(0==v.subsidiaryID&&(v.subsidiaryID=v._generalService.SubsidiaryID,v.ReceiptSearch()),v.subsidiaryID!=v._generalService.SubsidiaryID&&v.subsidiaryID>0){v.subsidiaryID=v._generalService.SubsidiaryID;var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),v._ReceiptSearch.BranchID=0,localStorage.setItem("Branch",JSON.stringify({branchId:v._ReceiptSearch.BranchID})),v._ReceiptSearch.PageNo=1,v._ReceiptSearch.PageSize=10,v.GetBranchList(),v.ReceiptSearch()}})}return o(e,[{key:"ngOnInit",value:function(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this._ReceiptSearch.ReceiptCode="83",this._ReceiptSearch.sortColumn="Entry_Date.desc",0!=this.subsidiaryID&&(this.GetReceiptList(),this.GetReceiptListCount())}},{key:"GetCurrentUserSetting",value:function(){var e=this;this._ReceiptSharedService.GetCurrentUserSetting().subscribe(function(t){e.CurrentUserSetting=t})}},{key:"ReceiptSearch",value:function(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this.GetReceiptList(),this.GetReceiptListCount()}},{key:"GetBranchList",value:function(){var e=this;this._cashsalesService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(function(t){e.BranchList=t,e.cd.markForCheck()})}},{key:"ChangeBranch",value:function(e){var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),this._ReceiptSearch.BranchID="0"!=e?e:0,localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this._ReceiptSearch.PageNo=1,this._ReceiptSearch.PageSize=10,this.ReceiptSearch()}},{key:"ChangePropFinish",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.timeout=null,e.ReceiptSearch()},1e3*t)}},{key:"GetReceiptList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.sortColumn=null==t?null:t,this.sortDirection="asc"==this.sortDirection?"desc":"asc","ar"==this.lang&&("branch"!=this.sortColumn&&"accountname"!=this.sortColumn||(this.sortColumn=this.sortColumn+"ar")),null!=t&&(this.PageNo=1),null!=this.sortColumn&&""!=this.sortDirection&&(this._ReceiptSearch.sortColumn=this.sortColumn+"."+this.sortDirection),this.spinner.show(),this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._ReceiptSearch.EntryNo.toString().length>10&&(this.ReceiptList=[],this.toastr.warning(this.NumNotExist),this.spinner.hide()),this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(function(t){e.ReceiptList=[],e.list=t,1==e.list.length&&e._ReceiptSearch.EntryNo>0?e._router.navigate(["/page/inventorytransiction/adjustmentvoucher/"+e.list[0].id]):0==e.list.length&&e._ReceiptSearch.EntryNo>0?e.toastr.warning(e.NumNotExist):e.ReceiptList=t,e.cd.markForCheck(),e.spinner.hide()})}},{key:"GetReceiptListCount",value:function(){var e=this;this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptListCount(this._ReceiptSearch).subscribe(function(t){e.totalCount=t[0].total,e.cd.markForCheck()})}},{key:"OnAdd",value:function(){this._router.navigate(["/page/inventorytransiction/adjustmentvoucher/0"])}},{key:"OnView",value:function(e){this._router.navigate(["/page/inventorytransiction/adjustmentvoucher/"+e.id+"/show"])}},{key:"onEdit",value:function(e){var t;t="/page/inventorytransiction/adjustmentvoucher/".concat(e.id),this._router.navigate([t])}},{key:"ShowAll",value:function(){this._ReceiptSearch.BranchID=0,this._ReceiptSearch.EntryNo=0;var e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this.GetReceiptList(),this.GetReceiptListCount()}},{key:"SearchReceiptByEntryNo",value:function(){null!=this._ReceiptSearch.EntryNo&&null!=this._ReceiptSearch.EntryNo?(this.PageNo=1,this.PageSize=10,this.GetReceiptList(),this.GetReceiptListCount()):this.toastr.warning(this.EntryNumberMsg)}},{key:"OnPrint",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n="",i="ar"==this.lang?"rtl":"ltr",r="ar"==this.lang?"\u0627\u0644\u0641\u0631\u0639":"Branch",a="ar"==this.lang?"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":"Entry no",o="ar"==this.lang?"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":"Date",c="ar"==this.lang?"\u0627\u0644\u0642\u064a\u0645\u0629":"Total";this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(function(l){e.cd.markForCheck(),n='\n           <table class="table text-center m-0 table table-striped"  border="1px"  dir = '.concat(i,'>\n                 <thead>\n                   <tr style="background: #e9f1f5;color: cornflowerblue;">\n                     <th>').concat(r,"</th>\n                     <th>").concat(a,"</th>\n                     <th>").concat(o,"</th>\n                     <th>").concat(c,"</th>\n\n                   </tr>\n                 </thead>\n             <tbody>\n         "),l.map(function(t){n+="\n        <tr>\n         <td>".concat("ar"==e.lang?t.branchnamear:t.branchname,"</td>\n         <td>").concat(t.entry_no,"</td>\n         <td>").concat(t.entry_date,"</td>\n         <td>").concat(t.netvalue,"</td>\n        </tr>\n        ")}),n+="</tbody></table>",1==t?e._convertToPDF.by_html2pdf(n):e._printService.OnPrintContent(n)})}},{key:"OnExcel",value:function(){var e=this,t=[];this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(function(n){n.forEach(function(n){t.push("ar"==e.lang?{"\u0627\u0644\u0641\u0631\u0639":n.branchnamear,"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":n.entry_no,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":n.entry_date,"\u0627\u0644\u0642\u064a\u0645\u0629":n.netvalue}:{Branch:n.branchname,"Entry No":n.entry_no,Date:n.entry_date,Total:n.netvalue})}),e._Excel.exportAsExcelFile(t,"AdjustmentVoucher")})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"onPageChange",value:function(e){this._ReceiptSearch.PageNo=e,this.PageNo=e,this.GetReceiptList()}},{key:"onPageSizeChange",value:function(e){this._ReceiptSearch.PageSize=e,this.PageSize=e,this.GetReceiptList()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(M["\u0275\u0275directiveInject"](b.n),M["\u0275\u0275directiveInject"](M.ChangeDetectorRef),M["\u0275\u0275directiveInject"](I._W),M["\u0275\u0275directiveInject"](m.F0),M["\u0275\u0275directiveInject"](P.m),M["\u0275\u0275directiveInject"](h.sK),M["\u0275\u0275directiveInject"](O.K),M["\u0275\u0275directiveInject"](k.t2),M["\u0275\u0275directiveInject"](m.gz),M["\u0275\u0275directiveInject"](R.t),M["\u0275\u0275directiveInject"](E.e),M["\u0275\u0275directiveInject"](w.$),M["\u0275\u0275directiveInject"](D.x),M["\u0275\u0275directiveInject"](B.z),M["\u0275\u0275directiveInject"](x.J))},e.\u0275cmp=M["\u0275\u0275defineComponent"]({type:e,selectors:[["app-adjustment-voucher"]],features:[M["\u0275\u0275ProvidersFeature"]([b.n,R.t,x.J])],decls:5,vars:3,consts:[["class","row",4,"ngIf"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"row"],[2,"margin","0 30% 0 30%","margin-top","200px"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-body"],[1,"col-12"],[1,"col-lg-8","col-md-10"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"col-lg-4","col-md-4","col-sm-12"],[1,"form-group"],["for","Branch"],["name","Branch","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["Branch","ngModel"],["Value","0"],[3,"value",4,"ngFor","ngForOf"],["for","EntryNumber"],["type","number","id","ReceiptNumber","name","ReceiptNumber","min","0","PositiveNumbersOnly","","required","",1,"form-control",3,"ngModel","ngModelChange"],["ReceiptNumber","ngModel"],[1,"col-lg-4","col-sm-4","mt-3","text-center"],["type","submit",1,"btn","btn-primary","mr-2"],[1,""],["type","button",1,"btn","btn-primary","mr-2",3,"click"],[1,"col-lg-12","mt-2","col-xs-12","text-center-sm"],[1,"row","mb-2"],[1,"col-lg-6","col-md-7","col-xs-12","my-auto","text-center-sm","actionBtns"],["class","btn btn-success mb-0 ng-star-inserted ",3,"click",4,"ngIf"],[1,"btn","btn-warning","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-danger","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-success","mb-0","me-3","ng-star-inserted",3,"click"],[1,"col-lg-6","col-md-6","col-sm-12","pull-right"],[1,"form-group","d-flex","justify-content-end"],["for","SearchValue",1,"pt-1","pl-1","pr-1","form-label"],["type","text","id","SearchValue","name","SearchValue",1,"form-control","col-md-4",3,"ngModel","ngModelChange","keyup"],["SearchValue","ngModel"],[1,"card"],[1,"card-content"],[1,"card-body","table-responsive"],[1,"table","text-center","m-0","table","table-striped"],[3,"click"],[1,"fa","fa-fw","fa-sort",3,"hidden"],["class","fa fa-fw\n                                fa-sort-desc",4,"ngIf"],["class","fa fa-fw\n                                fa-sort-asc",4,"ngIf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],[3,"value"],[1,"btn","btn-success","mb-0","ng-star-inserted",3,"click"],[1,"fa","fa-fw","fa-sort-desc"],[1,"fa","fa-fw","fa-sort-asc"],[4,"ngFor","ngForOf"],["class","text-truncate",4,"ngIf"],[1,"primary","mr-1",3,"routerLink"],["aria-hidden","true",1,"fa","fa-list"],[1,"text-truncate"],["href","javascript:;",1,"primary","p-0",3,"routerLink"],[1,"ft-edit","mr-2"],[2,"background-color","#B0BED9"],["colspan","7"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(M["\u0275\u0275template"](0,bx,4,3,"div",0),M["\u0275\u0275template"](1,Wx,105,62,"div",1),M["\u0275\u0275elementStart"](2,"ngx-spinner",2),M["\u0275\u0275elementStart"](3,"p",3),M["\u0275\u0275text"](4," Loading... "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275property"]("ngIf",!t.checkRoleParms(247)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",t.checkRoleParms(247)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("fullScreen",!0))},directives:[l.O5,k.Ro,d._Y,d.JL,d.F,d.EJ,d.Q7,d.JJ,d.On,d.YN,d.Kr,l.sg,d.qQ,d.wV,d.Fj,L.K,m.yS,F.N9],pipes:[h.X$],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.headerform[_ngcontent-%COMP%]{background-color:#2f8be6;color:#fff;height:44px;padding-top:9px;margin-bottom:17px}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important;text-align:center}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}.isExpired[_ngcontent-%COMP%]{color:red}']}),e}(),Qx=a(49202),Yx=["RForm"];function Hx(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"div",6),M["\u0275\u0275elementStart"](1,"h1",7),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function Zx(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",70),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).DocumentAction()}),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,2,"Document")," ")}}function Kx(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",73),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).onPrint()}),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,2,"Print")," ")}}function Xx(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",73),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).DupilcateAction()}),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](3);M["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,2,"Dupilcate")," ")}}function eM(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",73),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](4).DeleteAction()}),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](4);M["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function tM(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275template"](1,eM,3,4,"button",71),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",0==n.ShowModeReceipt&&n.ReceiptID>0&&0==n.VouchersLinkedCount)}}function nM(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275template"](1,Kx,3,4,"button",71),M["\u0275\u0275elementStart"](2,"email-popup",72),M["\u0275\u0275listener"]("_savedemailobj",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).sendEmail(e)}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](3,Xx,3,4,"button",71),M["\u0275\u0275template"](4,tM,2,1,"div",1),M["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(250)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("entryno",i._Receipt.entry_no),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(248)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",i.checkRoleParms(249))}}function iM(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",74),M["\u0275\u0275text"](1," choose "),M["\u0275\u0275elementEnd"]())}function rM(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",74),M["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),M["\u0275\u0275elementEnd"]())}function aM(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function oM(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function cM(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",75),M["\u0275\u0275template"](1,aM,2,1,"span",1),M["\u0275\u0275template"](2,oM,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275property"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function lM(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th",62),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Pack")," "))}function sM(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th",62),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Price")," "))}function dM(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th",62),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Total")," "))}function pM(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function uM(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function mM(e,t){if(1&e&&(M["\u0275\u0275template"](0,pM,2,1,"div",1),M["\u0275\u0275template"](1,uM,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function hM(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function gM(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function _M(e,t){if(1&e&&(M["\u0275\u0275template"](0,hM,2,1,"div",1),M["\u0275\u0275template"](1,gM,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}var vM=function(e,t){return{"invalid-qty":e,"valid-qty":t}};function fM(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div",103),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275nextContext"](2);var i=M["\u0275\u0275reference"](4);M["\u0275\u0275property"]("ngClass",M["\u0275\u0275pureFunction2"](2,vM,0==n.allowqtyselectforitem&&i.submitted||0==n.allowqtyselectforitem,1==n.allowqtyselectforitem&&i.submitted||1==n.allowqtyselectforitem)),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.itemname," ")}}function CM(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div",103),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275nextContext"](2);var i=M["\u0275\u0275reference"](4);M["\u0275\u0275property"]("ngClass",M["\u0275\u0275pureFunction2"](2,vM,0==n.allowqtyselectforitem&&i.submitted||0==n.allowqtyselectforitem,1==n.allowqtyselectforitem&&i.submitted||1==n.allowqtyselectforitem)),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.itemname_ar," ")}}function yM(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",104),M["\u0275\u0275text"](1," choose "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function bM(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",104),M["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function SM(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function RM(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function xM(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",105),M["\u0275\u0275template"](1,SM,2,1,"span",1),M["\u0275\u0275template"](2,RM,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"]().$implicit,r=M["\u0275\u0275nextContext"](3);M["\u0275\u0275property"]("ngValue",null==n?null:n.id)("selected",(null==n?null:n.id)===i.unit_id&&(null==n?null:n.item_id)===(null==i?null:i.item_id)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=r.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==r.lang)}}var MM=function(e,t){return{"invalid-data":e,"valid-data":t}};function IM(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275elementStart"](1,"input",106,107),M["\u0275\u0275listener"]("keyup",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275nextContext"]().index;return M["\u0275\u0275nextContext"](3).ChangePackItem(e)})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().$implicit.conv=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](2),r=M["\u0275\u0275nextContext"](),a=r.index,o=r.$implicit;M["\u0275\u0275nextContext"](2);var c=M["\u0275\u0275reference"](4),l=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate"]("step",null==l.CashCustomerSetting?null:l.CashCustomerSetting.allowdecimalpack),M["\u0275\u0275propertyInterpolate1"]("name","item_conv",a,""),M["\u0275\u0275property"]("readonly",3==(null==o?null:o.item_type)&&null!=(null==o?null:o.item_id))("Min",1e-5)("CheckMin",null!=(null==o?null:o.item_id))("stepallow",null==l.CashCustomerSetting?null:l.CashCustomerSetting.allowdecimalpack)("ngModel",o.conv)("required",null!=(null==o?null:o.item_id))("ngClass",M["\u0275\u0275pureFunction2"](9,MM,i.invalid&&c.submitted,i.valid&&c.submitted))}}function PM(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275elementStart"](1,"input",108,109),M["\u0275\u0275listener"]("keyup",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275nextContext"]().index;return M["\u0275\u0275nextContext"](3).CalaculteValuesItemsRow(e)})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().$implicit.price=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](2),r=M["\u0275\u0275nextContext"](),a=r.index,o=r.$implicit;M["\u0275\u0275nextContext"](2);var c=M["\u0275\u0275reference"](4);M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate1"]("name","item_price",a,""),M["\u0275\u0275property"]("ngModel",o.price)("readonly",!0)("Min",0)("CheckMin",null!=(null==o?null:o.item_id))("ngClass",M["\u0275\u0275pureFunction2"](6,MM,i.invalid&&c.submitted,i.valid&&c.submitted))}}function OM(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275elementStart"](1,"input",110),M["\u0275\u0275listener"]("keyup",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275nextContext"]().index;return M["\u0275\u0275nextContext"](3).ReCalaculteValuesChangeItemsRow(e)})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().$implicit.total=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](),r=i.index,a=i.$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate1"]("name","item_total",r,""),M["\u0275\u0275property"]("ngModel",a.total)("readonly",!0)}}var kM=function(e){return{item_id:e}};function EM(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"tr"),M["\u0275\u0275elementStart"](1,"td",84),M["\u0275\u0275text"](2),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](3,"td"),M["\u0275\u0275elementStart"](4,"p-autoComplete",85,86),M["\u0275\u0275listener"]("onFocus",function(e){var t=M["\u0275\u0275restoreView"](n).index,i=M["\u0275\u0275reference"](5),r=M["\u0275\u0275nextContext"](3);return r.onFocusInStore(e,t),i.show(),r.isType=!0})("onClick",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.storecode=e})("onSelect",function(e){var t=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).StoreSelectEvent(e,t)})("completeMethod",function(e){var t=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).StoreChangeSearch(e,t)})("onClear",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3)._Receipt.details[e].store_id=null}),M["\u0275\u0275pipe"](6,"translate"),M["\u0275\u0275template"](7,mM,2,2,"ng-template",87),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](8,"td"),M["\u0275\u0275elementStart"](9,"p-autoComplete",88,89),M["\u0275\u0275listener"]("onFocus",function(e){var t=M["\u0275\u0275restoreView"](n).index,i=M["\u0275\u0275reference"](10),r=M["\u0275\u0275nextContext"](3);return r.onFocusInItems(e,t),i.show(),r.isType=!0})("onClick",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.itemcode=e})("onSelect",function(e){var t=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).ItemsSelectEvent(e,t)})("completeMethod",function(e){var t=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).ItemsChangeSearch(e,t)})("onClear",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).onClearItems(e)}),M["\u0275\u0275pipe"](11,"translate"),M["\u0275\u0275template"](12,_M,2,2,"ng-template",90),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](13,"td",91),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n),t=e.$implicit,i=e.index;return M["\u0275\u0275nextContext"](3).OnSelectedItem(t,i,"selected")}),M["\u0275\u0275template"](14,fM,2,5,"div",92),M["\u0275\u0275template"](15,CM,2,5,"div",92),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](16,"td"),M["\u0275\u0275elementStart"](17,"select",93,94),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e})("change",function(e){var t=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).ChangeItemUnits(e.target.value,t)}),M["\u0275\u0275template"](19,yM,2,1,"option",95),M["\u0275\u0275template"](20,bM,2,1,"option",95),M["\u0275\u0275template"](21,xM,3,4,"option",96),M["\u0275\u0275pipe"](22,"filterby"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](23,IM,3,12,"td",1),M["\u0275\u0275elementStart"](24,"td"),M["\u0275\u0275elementStart"](25,"input",97,98),M["\u0275\u0275listener"]("keyup",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).ChangeQty(e)})("ngModelChange",function(e){return t.$implicit.qty=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](27,PM,3,9,"td",1),M["\u0275\u0275template"](28,OM,2,3,"td",1),M["\u0275\u0275elementStart"](29,"td"),M["\u0275\u0275elementStart"](30,"a",99),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).DeleteItems(e)}),M["\u0275\u0275element"](31,"i",100),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](32,"a",101),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n),t=e.index,i=e.$implicit,r=M["\u0275\u0275nextContext"](3),a=M["\u0275\u0275reference"](7),o=M["\u0275\u0275reference"](9);return r.OnSerialItems(t,i,a,o)}),M["\u0275\u0275element"](33,"i",102),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index,a=t.index,o=M["\u0275\u0275reference"](18),c=M["\u0275\u0275reference"](26);M["\u0275\u0275nextContext"](2);var l=M["\u0275\u0275reference"](4),s=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](a+1),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","storecode",r,""),M["\u0275\u0275property"]("ngModel",i.storecode)("disabled",!(null!=s.CurrentUserSetting&&s.CurrentUserSetting.canchangestore))("suggestions",s.StoreList)("showEmptyMessage",!0)("emptyMessage",M["\u0275\u0275pipeBind1"](6,32,"NoResultsFound"))("forceSelection",!0),M["\u0275\u0275advance"](5),M["\u0275\u0275propertyInterpolate1"]("name","itemcode",r,""),M["\u0275\u0275property"]("ngModel",i.itemcode)("suggestions",s.ItemsList)("showEmptyMessage",!0)("emptyMessage",M["\u0275\u0275pipeBind1"](11,34,"NoResultsFound"))("forceSelection",!0),M["\u0275\u0275advance"](5),M["\u0275\u0275property"]("ngIf","ar"!=s.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==s.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","itemunit",r,""),M["\u0275\u0275property"]("ngModel",i.unit_id)("required",null!=(null==i?null:i.item_id))("ngClass",M["\u0275\u0275pureFunction2"](39,MM,o.invalid&&l.submitted,o.valid&&l.submitted)),M["\u0275\u0275attribute"]("disabled",3==(null==i?null:i.item_type)&&null!=(null==i?null:i.item_id)||null),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=s.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==s.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",M["\u0275\u0275pipeBind2"](22,36,s.ItemUnitsList,M["\u0275\u0275pureFunction1"](42,kM,null==i?null:i.item_id))),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",1==(null==s.CashCustomerSetting?null:s.CashCustomerSetting.allowpack)),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","item_qty",r,""),M["\u0275\u0275property"]("CheckMin",null!=(null==i?null:i.item_id))("ngModel",i.qty)("ngClass",M["\u0275\u0275pureFunction2"](44,MM,c.invalid&&l.submitted,c.valid&&l.submitted)),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",1==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.showcostprice)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",1==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.showcostprice)),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("hidden",!(2==i.isrequireserial||3==i.isrequireserial))}}var wM=function(e){return{"table-for-autocomplete":e}};function DM(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",76),M["\u0275\u0275elementStart"](1,"div",59),M["\u0275\u0275elementStart"](2,"div",77),M["\u0275\u0275elementStart"](3,"table",61),M["\u0275\u0275elementStart"](4,"thead"),M["\u0275\u0275elementStart"](5,"tr"),M["\u0275\u0275element"](6,"th"),M["\u0275\u0275elementStart"](7,"th",78),M["\u0275\u0275text"](8),M["\u0275\u0275pipe"](9,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](10,"th",62),M["\u0275\u0275text"](11),M["\u0275\u0275pipe"](12,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](13,"th",62),M["\u0275\u0275text"](14),M["\u0275\u0275pipe"](15,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](16,"th",79),M["\u0275\u0275text"](17),M["\u0275\u0275pipe"](18,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](19,lM,3,3,"th",80),M["\u0275\u0275elementStart"](20,"th",62),M["\u0275\u0275text"](21),M["\u0275\u0275pipe"](22,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](23,sM,3,3,"th",80),M["\u0275\u0275template"](24,dM,3,3,"th",80),M["\u0275\u0275elementStart"](25,"th",81),M["\u0275\u0275text"](26," \xa0 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275element"](27,"tbody"),M["\u0275\u0275elementStart"](28,"tbody"),M["\u0275\u0275template"](29,EM,34,47,"tr",82),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](30,"button",83),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).AddItems()}),M["\u0275\u0275text"](31),M["\u0275\u0275pipe"](32,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngClass",M["\u0275\u0275pureFunction1"](24,wM,i.isType)),M["\u0275\u0275advance"](6),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](9,12,"Store")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](12,14,"ItemCode")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](15,16,"ItemDescription")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](18,18,"Unit")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",1==(null==i.CashCustomerSetting?null:i.CashCustomerSetting.allowpack)),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](22,20,"qty")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",1==(null==i.CurrentUserSetting?null:i.CurrentUserSetting.showcostprice)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",1==(null==i.CurrentUserSetting?null:i.CurrentUserSetting.showcostprice)),M["\u0275\u0275advance"](5),M["\u0275\u0275property"]("ngForOf",i._Receipt.details)("ngForTrackBy",i._ReceiptSharedService.customTrackBy),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](32,22,"Add")," ")}}function BM(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",74),M["\u0275\u0275text"](1," choose "),M["\u0275\u0275elementEnd"]())}function LM(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",74),M["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),M["\u0275\u0275elementEnd"]())}function FM(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function NM(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function VM(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",75),M["\u0275\u0275template"](1,FM,2,1,"span",1),M["\u0275\u0275template"](2,NM,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function qM(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",104),M["\u0275\u0275text"](1," choose "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function TM(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",104),M["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function AM(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.codename,"")}}function GM(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.codenamear,"")}}function UM(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",75),M["\u0275\u0275template"](1,AM,2,1,"span",1),M["\u0275\u0275template"](2,GM,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("value",n.code),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function jM(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"tr"),M["\u0275\u0275elementStart"](1,"td"),M["\u0275\u0275elementStart"](2,"select",112),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.branch_id=e}),M["\u0275\u0275template"](3,BM,2,0,"option",31),M["\u0275\u0275template"](4,LM,2,0,"option",31),M["\u0275\u0275template"](5,VM,3,3,"option",113),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](6,"td"),M["\u0275\u0275elementStart"](7,"select",112),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.code=e}),M["\u0275\u0275template"](8,qM,2,1,"option",95),M["\u0275\u0275template"](9,TM,2,1,"option",95),M["\u0275\u0275template"](10,UM,3,3,"option",113),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](11,"td"),M["\u0275\u0275elementStart"](12,"input",114,115),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.entry_no=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](14,"td"),M["\u0275\u0275elementStart"](15,"a",116),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).GetLinkedReceipt(e)}),M["\u0275\u0275element"](16,"i",117),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](17,"td"),M["\u0275\u0275elementStart"](18,"a",118),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).OnOpenLinkedReceipt(e)}),M["\u0275\u0275element"](19,"i",119),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](20,"td"),M["\u0275\u0275elementStart"](21,"a",99),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).index;return M["\u0275\u0275nextContext"](3).DeleteLinkedReceipt(e)}),M["\u0275\u0275element"](22,"i",100),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index,a=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsbranch",r,""),M["\u0275\u0275property"]("ngModel",i.branch_id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",a.BranchList),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptscode",r,""),M["\u0275\u0275property"]("ngModel",i.code),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==a.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",a.ReceiptCodeList),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsentry_no",r,""),M["\u0275\u0275property"]("ngModel",i.entry_no),M["\u0275\u0275advance"](3),M["\u0275\u0275attribute"]("disabled",(null==i?null:i.fire)>0||null)}}function $M(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",76),M["\u0275\u0275elementStart"](1,"div",59),M["\u0275\u0275elementStart"](2,"div",60),M["\u0275\u0275elementStart"](3,"table",61),M["\u0275\u0275elementStart"](4,"thead"),M["\u0275\u0275elementStart"](5,"tr"),M["\u0275\u0275elementStart"](6,"th",62),M["\u0275\u0275text"](7),M["\u0275\u0275pipe"](8,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](9,"th",62),M["\u0275\u0275text"](10),M["\u0275\u0275pipe"](11,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](12,"th",62),M["\u0275\u0275text"](13),M["\u0275\u0275pipe"](14,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](15,"th",81),M["\u0275\u0275text"](16," \xa0 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](17,"th",81),M["\u0275\u0275text"](18," \xa0 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](19,"th",81),M["\u0275\u0275text"](20," \xa0 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](21,"tbody"),M["\u0275\u0275template"](22,jM,23,13,"tr",111),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](23,"button",83),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).AddLinkedReceipt()}),M["\u0275\u0275text"](24),M["\u0275\u0275pipe"](25,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](7),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](8,5,"Branch")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](11,7,"Receipttype")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](14,9,"EntryNo")," "),M["\u0275\u0275advance"](9),M["\u0275\u0275property"]("ngForOf",i._Receipt.linkedreceipts),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](25,11,"Add")," ")}}function zM(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",76),M["\u0275\u0275elementStart"](1,"div",59),M["\u0275\u0275elementStart"](2,"Signature",120),M["\u0275\u0275listener"]("signatureoutput",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).OnSignatureSet(e)}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("signature",i._Receipt.signature)}}function WM(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Cost Center"),""))}function JM(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",null==n.subsaidarySetting?null:n.subsaidarySetting.costcenteralternativetext,"")}}function QM(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function YM(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function HM(e,t){if(1&e&&(M["\u0275\u0275template"](0,QM,2,1,"div",1),M["\u0275\u0275template"](1,YM,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function ZM(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Class"),""))}function KM(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](5);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n.subsaidarySetting?null:n.subsaidarySetting.classalternativetextar)}}function XM(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](5);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n.subsaidarySetting?null:n.subsaidarySetting.classalternativetext)}}function eI(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275template"](1,KM,2,1,"span",1),M["\u0275\u0275template"](2,XM,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function tI(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span",28),M["\u0275\u0275text"](1,"*"),M["\u0275\u0275elementEnd"]())}function nI(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function iI(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function rI(e,t){if(1&e&&(M["\u0275\u0275template"](0,nI,2,1,"div",1),M["\u0275\u0275template"](1,iI,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function aI(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",122),M["\u0275\u0275elementStart"](1,"label",123),M["\u0275\u0275template"](2,ZM,3,3,"span",1),M["\u0275\u0275template"](3,eI,3,2,"span",1),M["\u0275\u0275template"](4,tI,2,0,"span",128),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](5,"p-autoComplete",129,130),M["\u0275\u0275listener"]("onFocus",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275reference"](6);return M["\u0275\u0275nextContext"](3).onFocusInClasses(e),t.show()})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3)._Receipt.classfieldname=e})("onSelect",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).ClassesSelectEvent(e)})("completeMethod",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).ClassesChangeSearch(e)})("onClear",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3)._Receipt.classid=null}),M["\u0275\u0275pipe"](8,"translate"),M["\u0275\u0275template"](9,rI,2,2,"ng-template",131),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](7);M["\u0275\u0275nextContext"](2);var r=M["\u0275\u0275reference"](4),a=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",null==(null==a.subsaidarySetting?null:a.subsaidarySetting.classalternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null!=(null==a.subsaidarySetting?null:a.subsaidarySetting.classalternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null==a.subsaidarySetting?null:a.subsaidarySetting.classmandatory4invtrans),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("required",null==a.subsaidarySetting?null:a.subsaidarySetting.classmandatory4invtrans)("ngModel",a._Receipt.classfieldname)("suggestions",a.ClassList)("ngClass",M["\u0275\u0275pureFunction2"](12,MM,i.invalid&&r.submitted,i.valid&&r.submitted))("showEmptyMessage",!0)("emptyMessage",M["\u0275\u0275pipeBind1"](8,10,"NoResultsFound"))("forceSelection",!0)}}function oI(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Location")," "))}function cI(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](5);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n.subsaidarySetting?null:n.subsaidarySetting.locationalternativetext)}}function lI(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](5);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n.subsaidarySetting?null:n.subsaidarySetting.locationalternativetextar)}}function sI(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275template"](1,cI,2,1,"span",1),M["\u0275\u0275template"](2,lI,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function dI(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span",28),M["\u0275\u0275text"](1,"*"),M["\u0275\u0275elementEnd"]())}function pI(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function uI(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function mI(e,t){if(1&e&&(M["\u0275\u0275template"](0,pI,2,1,"div",1),M["\u0275\u0275template"](1,uI,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function hI(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",122),M["\u0275\u0275elementStart"](1,"label",123),M["\u0275\u0275template"](2,oI,3,3,"span",1),M["\u0275\u0275template"](3,sI,3,2,"span",1),M["\u0275\u0275template"](4,dI,2,0,"span",128),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](5,"p-autoComplete",132,133),M["\u0275\u0275listener"]("onFocus",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275reference"](6);return M["\u0275\u0275nextContext"](3).onFocusInLocations(e),t.show()})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3)._Receipt.locationfieldname=e})("onSelect",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).LocationsSelectEvent(e)})("completeMethod",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).LocationsChangeSearch(e)})("onClear",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3)._Receipt.locationid=null}),M["\u0275\u0275pipe"](8,"translate"),M["\u0275\u0275template"](9,mI,2,2,"ng-template",134),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](7);M["\u0275\u0275nextContext"](2);var r=M["\u0275\u0275reference"](4),a=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",null==(null==a.subsaidarySetting?null:a.subsaidarySetting.locationalternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null!=(null==a.subsaidarySetting?null:a.subsaidarySetting.locationalternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null==a.subsaidarySetting?null:a.subsaidarySetting.locationmandatory4invtrans),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("required",null==a.subsaidarySetting?null:a.subsaidarySetting.locationmandatory4invtrans)("ngModel",a._Receipt.locationfieldname)("suggestions",a.LocationList)("ngClass",M["\u0275\u0275pureFunction2"](12,MM,i.invalid&&r.submitted,i.valid&&r.submitted))("showEmptyMessage",!0)("emptyMessage",M["\u0275\u0275pipeBind1"](8,10,"NoResultsFound"))("forceSelection",!0)}}function gI(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Department")," "))}function _I(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](5);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n.subsaidarySetting?null:n.subsaidarySetting.departmentalternativetextar)}}function vI(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](5);M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n.subsaidarySetting?null:n.subsaidarySetting.departmentalternativetext)}}function fI(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275template"](1,_I,2,1,"span",1),M["\u0275\u0275template"](2,vI,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function CI(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span",28),M["\u0275\u0275text"](1,"*"),M["\u0275\u0275elementEnd"]())}function yI(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function bI(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function SI(e,t){if(1&e&&(M["\u0275\u0275template"](0,yI,2,1,"div",1),M["\u0275\u0275template"](1,bI,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](4);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function RI(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",122),M["\u0275\u0275elementStart"](1,"label",123),M["\u0275\u0275template"](2,gI,3,3,"span",1),M["\u0275\u0275template"](3,fI,3,2,"span",1),M["\u0275\u0275template"](4,CI,2,0,"span",128),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](5,"p-autoComplete",135,136),M["\u0275\u0275listener"]("onFocus",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275reference"](6);return M["\u0275\u0275nextContext"](3).onFocusInDepartment(e),t.show()})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3)._Receipt.departmentfieldname=e})("onSelect",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).DepartmentSelectEvent(e)})("completeMethod",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3).DepartmentChangeSearch(e)})("onClear",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](3)._Receipt.debartmentid=null}),M["\u0275\u0275pipe"](8,"translate"),M["\u0275\u0275template"](9,SI,2,2,"ng-template",137),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](7);M["\u0275\u0275nextContext"](2);var r=M["\u0275\u0275reference"](4),a=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",null==(null==a.subsaidarySetting?null:a.subsaidarySetting.departmentalternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null!=(null==a.subsaidarySetting?null:a.subsaidarySetting.departmentalternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null==a.subsaidarySetting?null:a.subsaidarySetting.departmentmandatory4invtrans),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("required",null==a.subsaidarySetting?null:a.subsaidarySetting.departmentmandatory4invtrans)("ngModel",a._Receipt.departmentfieldname)("suggestions",a.DepartmentList)("ngClass",M["\u0275\u0275pureFunction2"](12,MM,i.invalid&&r.submitted,i.valid&&r.submitted))("showEmptyMessage",!0)("emptyMessage",M["\u0275\u0275pipeBind1"](8,10,"NoResultsFound"))("forceSelection",!0)}}function xI(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",6),M["\u0275\u0275elementStart"](1,"div",121),M["\u0275\u0275elementStart"](2,"div",122),M["\u0275\u0275elementStart"](3,"label",123),M["\u0275\u0275template"](4,WM,3,3,"span",1),M["\u0275\u0275template"](5,JM,2,1,"span",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](6,"p-autoComplete",124,125),M["\u0275\u0275listener"]("onFocus",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275reference"](7);return M["\u0275\u0275nextContext"](2).onFocusInCostCenter(e),t.show()})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Receipt.costcenterfieldname=e})("onSelect",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).CostCenterSelectEvent(e)})("completeMethod",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).CostCenterChangeSearch(e)})("onClear",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Receipt.costcenterid=null}),M["\u0275\u0275pipe"](9,"translate"),M["\u0275\u0275template"](10,HM,2,2,"ng-template",126),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](11,aI,10,15,"div",127),M["\u0275\u0275template"](12,hI,10,15,"div",127),M["\u0275\u0275template"](13,RI,10,15,"div",127),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](8);M["\u0275\u0275nextContext"]();var r=M["\u0275\u0275reference"](4),a=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("ngIf",null==(null==a.subsaidarySetting?null:a.subsaidarySetting.costcenteralternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null!=(null==a.subsaidarySetting?null:a.subsaidarySetting.costcenteralternativetext)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("required",null==a.subsaidarySetting?null:a.subsaidarySetting.costcentermandatory4invtrans)("ngModel",a._Receipt.costcenterfieldname)("suggestions",a.CostCenterList)("ngClass",M["\u0275\u0275pureFunction2"](14,MM,i.invalid&&r.submitted,i.valid&&r.submitted))("showEmptyMessage",!0)("emptyMessage",M["\u0275\u0275pipeBind1"](9,12,"NoResultsFound"))("forceSelection",!0),M["\u0275\u0275advance"](5),M["\u0275\u0275property"]("ngIf",null==a.subsaidarySetting?null:a.subsaidarySetting.classisactive),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null==a.subsaidarySetting?null:a.subsaidarySetting.locationisactive),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",null==a.subsaidarySetting?null:a.subsaidarySetting.departmentisactive)}}function MI(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275element"](1,"Item-StoreQty",138,139),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("wrappe",n._itemstoreqtyobj)}}function II(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275elementStart"](1,"div",8),M["\u0275\u0275elementStart"](2,"div",6),M["\u0275\u0275elementStart"](3,"form",9,10),M["\u0275\u0275listener"]("ngSubmit",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275reference"](4);return M["\u0275\u0275nextContext"]().CheckPre_SaveReceipt(e)}),M["\u0275\u0275elementStart"](5,"div",11),M["\u0275\u0275elementStart"](6,"div",12),M["\u0275\u0275elementStart"](7,"div",13),M["\u0275\u0275elementStart"](8,"div",14),M["\u0275\u0275elementStart"](9,"h6",15),M["\u0275\u0275text"](10),M["\u0275\u0275pipe"](11,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](12,"div",6),M["\u0275\u0275elementStart"](13,"div",16),M["\u0275\u0275elementStart"](14,"button",17),M["\u0275\u0275element"](15,"i",18),M["\u0275\u0275text"](16),M["\u0275\u0275pipe"](17,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](18,"button",19),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().CreateNewAction()}),M["\u0275\u0275text"](19),M["\u0275\u0275pipe"](20,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](21,Zx,3,4,"button",20),M["\u0275\u0275elementStart"](22,"button",21),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().BackAction()}),M["\u0275\u0275text"](23),M["\u0275\u0275pipe"](24,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](25,"div",22),M["\u0275\u0275elementStart"](26,"button",23),M["\u0275\u0275text"](27),M["\u0275\u0275pipe"](28,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](29,"div",24),M["\u0275\u0275template"](30,nM,5,4,"ng-container",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275element"](31,"hr"),M["\u0275\u0275elementStart"](32,"div",6),M["\u0275\u0275elementStart"](33,"div",25),M["\u0275\u0275elementStart"](34,"div",26),M["\u0275\u0275elementStart"](35,"label",27),M["\u0275\u0275text"](36),M["\u0275\u0275pipe"](37,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](38,"span",28),M["\u0275\u0275text"](39,"*"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](40,"select",29,30),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.branch_id=e})("change",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().changeBranch(e)}),M["\u0275\u0275template"](42,iM,2,0,"option",31),M["\u0275\u0275template"](43,rM,2,0,"option",31),M["\u0275\u0275template"](44,cM,3,3,"option",32),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](45,"div",33),M["\u0275\u0275elementStart"](46,"div",26),M["\u0275\u0275elementStart"](47,"label",34),M["\u0275\u0275text"](48),M["\u0275\u0275pipe"](49,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](50,"span",28),M["\u0275\u0275text"](51,"*"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](52,"input",35,36),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.entry_no=e})("ngModelChange",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().ChangePropFinish("EntryCode",2)})("keydown.space",function(e){return e.preventDefault()}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](54,"div",6),M["\u0275\u0275elementStart"](55,"div",33),M["\u0275\u0275elementStart"](56,"div",26),M["\u0275\u0275elementStart"](57,"label",37),M["\u0275\u0275text"](58),M["\u0275\u0275pipe"](59,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](60,"input",38,39),M["\u0275\u0275listener"]("ngModelChange",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275nextContext"]();return t._Receipt.entry_date=e,t.ChangePropFinish("EntryDate",2)}),M["\u0275\u0275pipe"](62,"date"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](63,"div",33),M["\u0275\u0275elementStart"](64,"div",26),M["\u0275\u0275elementStart"](65,"label",40),M["\u0275\u0275text"](66),M["\u0275\u0275pipe"](67,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](68,"input",41,42),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.entry_time=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](70,"div",33),M["\u0275\u0275elementStart"](71,"div",26),M["\u0275\u0275elementStart"](72,"label",43),M["\u0275\u0275text"](73),M["\u0275\u0275pipe"](74,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](75,"input",44,45),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.reference_no=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](77,"div",33),M["\u0275\u0275elementStart"](78,"div",26),M["\u0275\u0275elementStart"](79,"label",46),M["\u0275\u0275text"](80),M["\u0275\u0275pipe"](81,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](82,"input",47,48),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.memo=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](84,"div",12),M["\u0275\u0275elementStart"](85,"div",49),M["\u0275\u0275elementStart"](86,"div",6),M["\u0275\u0275elementStart"](87,"div",50),M["\u0275\u0275elementStart"](88,"ul",51,52),M["\u0275\u0275listener"]("activeIdChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().activeNav=e}),M["\u0275\u0275elementStart"](90,"li",53),M["\u0275\u0275elementStart"](91,"a",54),M["\u0275\u0275text"](92),M["\u0275\u0275pipe"](93,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](94,DM,33,26,"ng-template",55),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](95,"li",56),M["\u0275\u0275elementStart"](96,"a",54),M["\u0275\u0275text"](97),M["\u0275\u0275pipe"](98,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](99,$M,26,13,"ng-template",55),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](100,"li",56),M["\u0275\u0275elementStart"](101,"a",54),M["\u0275\u0275text"](102),M["\u0275\u0275pipe"](103,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](104,zM,3,1,"ng-template",55),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](105,"li",56),M["\u0275\u0275elementStart"](106,"a",54),M["\u0275\u0275text"](107),M["\u0275\u0275pipe"](108,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](109,xI,14,17,"ng-template",55),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275element"](110,"div",57),M["\u0275\u0275elementStart"](111,"div",6),M["\u0275\u0275elementStart"](112,"div",58),M["\u0275\u0275elementStart"](113,"div",59),M["\u0275\u0275elementStart"](114,"div",60),M["\u0275\u0275elementStart"](115,"table",61),M["\u0275\u0275elementStart"](116,"thead"),M["\u0275\u0275elementStart"](117,"tr"),M["\u0275\u0275element"](118,"th",62),M["\u0275\u0275elementStart"](119,"th",63),M["\u0275\u0275text"](120),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](121,"th",62),M["\u0275\u0275text"](122),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](123,"tbody"),M["\u0275\u0275elementStart"](124,"tr"),M["\u0275\u0275elementStart"](125,"td"),M["\u0275\u0275text"](126),M["\u0275\u0275pipe"](127,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](128,"td",64),M["\u0275\u0275elementStart"](129,"input",65),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.valueforeign=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](130,"td"),M["\u0275\u0275elementStart"](131,"input",66),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.value=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](132,"tr"),M["\u0275\u0275elementStart"](133,"td"),M["\u0275\u0275text"](134),M["\u0275\u0275pipe"](135,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](136,"td"),M["\u0275\u0275elementStart"](137,"input",67),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.qtotal=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](138,"tr"),M["\u0275\u0275elementStart"](139,"td"),M["\u0275\u0275text"](140),M["\u0275\u0275pipe"](141,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](142,"td"),M["\u0275\u0275elementStart"](143,"input",68),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Receipt.totalitem=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](144,"div",69),M["\u0275\u0275template"](145,MI,3,1,"div",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](4),r=M["\u0275\u0275reference"](41),a=M["\u0275\u0275reference"](53),o=M["\u0275\u0275reference"](61),c=M["\u0275\u0275reference"](89),l=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](10),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](11,63,"Adjustment Voucher"),""),M["\u0275\u0275advance"](4),M["\u0275\u0275attribute"]("disabled",l.VouchersLinkedCount>0||1==l.ShowModeReceipt||1==l.DuringSaveDisable||l.ReceiptID>0&&!l.checkRoleParms(626)||0==l.ReceiptID&&!l.checkRoleParms(248)||null),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](17,65,"Save")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275attribute"]("disabled",!l.checkRoleParms(248)||1==l.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](20,67,"CreateNew")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",l.ReceiptID>0&&0==l.VouchersLinkedCount),M["\u0275\u0275advance"](1),M["\u0275\u0275attribute"]("disabled",1==l.DuringSaveDisable||null),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](24,69,"Exit")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](28,71,"Action Menu")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngIf",l.ReceiptID>0),M["\u0275\u0275advance"](6),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](37,73,"Branch")),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("ngModel",l._Receipt.branch_id)("ngClass",M["\u0275\u0275pureFunction2"](102,MM,r.invalid&&i.submitted,r.valid&&i.submitted)),M["\u0275\u0275attribute"]("disabled",l.ReceiptID>0||null),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=l.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==l.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",l.BranchList)("ngForTrackBy",l.customTrackBy),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](49,75,"Entry#")),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("stepallow",1)("ngModel",l._Receipt.entry_no)("readonly",0==(null==l.CurrentUserSetting?null:l.CurrentUserSetting.controlvouchernumanddate)||l.VouchersLinkedCount>0||1==l.LockedRecepit)("Min",1)("CheckMin",!0)("ngClass",M["\u0275\u0275pureFunction2"](105,MM,a.invalid&&i.submitted,a.valid&&i.submitted)),M["\u0275\u0275advance"](6),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](59,77,"Date")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",M["\u0275\u0275pipeBind2"](62,79,l._Receipt.entry_date,"yyyy-MM-dd"))("readonly",0==(null==l.CurrentUserSetting?null:l.CurrentUserSetting.controlvouchernumanddate)||l.VouchersLinkedCount>0||1==l.LockedRecepit)("ngClass",M["\u0275\u0275pureFunction2"](108,MM,o.invalid&&i.submitted||0==l.ValidPeriod,o.valid&&i.submitted)),M["\u0275\u0275advance"](6),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](67,82,"time")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("readonly",0==(null==l.CurrentUserSetting?null:l.CurrentUserSetting.controlvouchernumanddate)||l.VouchersLinkedCount>0||1==l.LockedRecepit)("ngModel",l._Receipt.entry_time),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](74,84,"ReferenceNo")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",l._Receipt.reference_no),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](81,86,"Memo")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",l._Receipt.memo),M["\u0275\u0275advance"](6),M["\u0275\u0275property"]("destroyOnHide",!1)("activeId",l.activeNav),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngbNavItem",1),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](93,88,"Items")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngbNavItem",3),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](98,90,"LinkedReceipt")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngbNavItem",4),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](103,92,"Signature")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngbNavItem",5),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](108,94,"AnalyticalAccount")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngbNavOutlet",c),M["\u0275\u0275advance"](9),M["\u0275\u0275property"]("hidden",!l.ForeignCurrencyShow),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" Total - ",null==l._CurrencySelected?null:l._CurrencySelected.currencysymbol," "),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" Total - ",null==l._BaseCurrency?null:l._BaseCurrency.currencysymbol," "),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](127,96,"Total")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("hidden",!l.ForeignCurrencyShow),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("readonly",!0)("ngModel",l._Receipt.valueforeign),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("readonly",!0)("ngModel",l._Receipt.value),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](135,98,"totalqty")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("readonly",!0)("ngModel",l._Receipt.qtotal),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](141,100,"totalitem")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("readonly",!0)("ngModel",l._Receipt.totalitem),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",l.itemqtyview)}}function PI(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"h6",152),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}function OI(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"h6",152),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Batches")," "))}function kI(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th",153),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"qty")," "))}function EI(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th"),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Date")," "))}function wI(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th"),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"BatchNo")," "))}function DI(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th"),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}var BI=function(e){return{"invalid-data":e}};function LI(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275elementStart"](1,"input",161),M["\u0275\u0275listener"]("change",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275nextContext"](),i=t.$implicit,r=t.index;return M["\u0275\u0275nextContext"](2).ChangeBatchQty(i,e.target.value,r)}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](),r=i.index,a=i.$implicit;M["\u0275\u0275nextContext"]();var o=M["\u0275\u0275reference"](7);M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate1"]("name","Qty",r,""),M["\u0275\u0275property"]("value",null==a?null:a.qty)("ngClass",M["\u0275\u0275pureFunction1"](3,BI,null==(null==a?null:a.qty)&&o.submitted||(null==a?null:a.qty)<=0&&o.submitted))}}function FI(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275elementStart"](1,"input",162),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().$implicit.date=e}),M["\u0275\u0275pipe"](2,"date"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](),r=i.index,a=i.$implicit;M["\u0275\u0275nextContext"]();var o=M["\u0275\u0275reference"](7);M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate1"]("name","Expire_Date",r,""),M["\u0275\u0275property"]("ngModel",M["\u0275\u0275pipeBind2"](2,4,null==a?null:a.date,"yyyy-MM-dd"))("ngClass",M["\u0275\u0275pureFunction1"](7,BI,null==(null==a?null:a.date)&&o.submitted||""==(null==a?null:a.date)&&o.submitted))("disabled",(null==a?null:a.solidquantity)>0||null)}}function NI(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"tr"),M["\u0275\u0275elementStart"](1,"td"),M["\u0275\u0275element"](2,"input",154),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](3,"td"),M["\u0275\u0275element"](4,"input",155),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](5,LI,2,5,"td",1),M["\u0275\u0275elementStart"](6,"td"),M["\u0275\u0275element"](7,"input",156),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](8,FI,3,9,"td",1),M["\u0275\u0275elementStart"](9,"td"),M["\u0275\u0275elementStart"](10,"input",157),M["\u0275\u0275listener"]("change",function(e){var t=M["\u0275\u0275restoreView"](n),i=t.$implicit,r=t.index;return M["\u0275\u0275nextContext"](2).ChangeBatchNo(i,e.target.value,r)}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](11,"td",158),M["\u0275\u0275elementStart"](12,"button",159),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n),t=e.$implicit,i=e.index;return M["\u0275\u0275nextContext"](2).DeleteRow(t,i)}),M["\u0275\u0275element"](13,"i",160),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index,a=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","Vaild",r,""),M["\u0275\u0275property"]("checked",null==i?null:i.valid),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","Serial",r,""),M["\u0275\u0275property"]("value",null==i?null:i.serial),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",3==a.requiredserialForPositive),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","Store",r,""),M["\u0275\u0275propertyInterpolate"]("value","ar"!=a.lang?null==i?null:i.storename:null==i?null:i.storename_ar),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",3==a.requiredserialForPositive),M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","BatchNo",r,""),M["\u0275\u0275property"]("value",null==i?null:i.batchno)("ngClass",M["\u0275\u0275pureFunction1"](13,BI,null==i?null:i.isdublicatebatch))("disabled",(null==i?null:i.solidquantity)>0||null),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("disabled",(null==i?null:i.solidquantity)>0||null)}}function VI(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"div",6),M["\u0275\u0275elementStart"](1,"button",163),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](4,"button",164),M["\u0275\u0275text"](5),M["\u0275\u0275pipe"](6,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](7,"button",165),M["\u0275\u0275text"](8),M["\u0275\u0275pipe"](9,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](3,3,"SampleFile")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](6,5,"SelectExcleFile")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](9,7,"Upload")," "))}function qI(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",140),M["\u0275\u0275template"](1,PI,3,3,"h6",141),M["\u0275\u0275template"](2,OI,3,3,"h6",141),M["\u0275\u0275elementStart"](3,"button",142),M["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),M["\u0275\u0275elementStart"](4,"span",143),M["\u0275\u0275text"](5,"\xd7"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](6,"form",9,10),M["\u0275\u0275listener"]("ngSubmit",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275reference"](7);return M["\u0275\u0275nextContext"]().SubmitOk(e)}),M["\u0275\u0275elementStart"](8,"div",144),M["\u0275\u0275elementStart"](9,"div",145),M["\u0275\u0275elementStart"](10,"div",6),M["\u0275\u0275elementStart"](11,"form"),M["\u0275\u0275elementStart"](12,"div",146),M["\u0275\u0275elementStart"](13,"table",61),M["\u0275\u0275elementStart"](14,"thead"),M["\u0275\u0275elementStart"](15,"tr"),M["\u0275\u0275elementStart"](16,"th"),M["\u0275\u0275text"](17),M["\u0275\u0275pipe"](18,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](19,"th",147),M["\u0275\u0275text"](20),M["\u0275\u0275pipe"](21,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](22,kI,3,3,"th",148),M["\u0275\u0275elementStart"](23,"th",149),M["\u0275\u0275text"](24),M["\u0275\u0275pipe"](25,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](26,EI,3,3,"th",1),M["\u0275\u0275template"](27,wI,3,3,"th",1),M["\u0275\u0275template"](28,DI,3,3,"th",1),M["\u0275\u0275element"](29,"th"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](30,"tbody"),M["\u0275\u0275template"](31,NI,14,15,"tr",82),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](32,VI,10,9,"div",0),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](33,"div",150),M["\u0275\u0275elementStart"](34,"button",151),M["\u0275\u0275text"](35),M["\u0275\u0275pipe"](36,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",2==i.requiredserialForPositive),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",3==i.requiredserialForPositive),M["\u0275\u0275advance"](15),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](18,13,"Valid")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](21,15,"Serial")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",3==i.requiredserialForPositive),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](25,17,"Store")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",3==i.requiredserialForPositive),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",3==i.requiredserialForPositive),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",2==i.requiredserialForPositive),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngForOf",i._Receipt.details[i.SelectedRowIndex].batcheslist)("ngForTrackBy",i.trackByFn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",2==i.requiredserialForPositive),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](36,19,"Cancel")," ")}}function TI(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"h6",152),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}function AI(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"h6",152),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Batches")," "))}function GI(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th"),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Date")," "))}function UI(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th"),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}function jI(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th"),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"BatchNo")," "))}function $I(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th",153),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Availableqty")," "))}function zI(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"th",153),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"qty")," "))}var WI=function(e){return{isExpired:e}};function JI(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"td",103),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"date"),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275property"]("ngClass",M["\u0275\u0275pureFunction1"](5,WI,null==n?null:n.isexpired)),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind2"](2,2,null==n?null:n.expire_date,"yyyy-MM-dd")," ")}}function QI(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"span",171),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](2,1,"QtyIsValidWithAvailableQty")))}function YI(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275elementStart"](1,"input",169),M["\u0275\u0275listener"]("change",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275nextContext"]().$implicit;return M["\u0275\u0275nextContext"](2).ChangeBatchQtyForNegative(t,e.target.value)}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](2,QI,3,3,"span",170),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](),r=i.index,a=i.$implicit;M["\u0275\u0275nextContext"]();var o=M["\u0275\u0275reference"](7);M["\u0275\u0275advance"](1),M["\u0275\u0275propertyInterpolate1"]("name","Qty",r,""),M["\u0275\u0275property"]("value",null==a?null:a.qty)("ngClass",M["\u0275\u0275pureFunction1"](4,BI,(null==a?null:a.qty)>(null==a?null:a.availableqty)+(null==a?null:a.oldqty)&&o.submitted)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",(null==a?null:a.qty)>(null==a?null:a.availableqty)+(null==a?null:a.oldqty)&&o.submitted)}}function HI(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"tr"),M["\u0275\u0275elementStart"](1,"td"),M["\u0275\u0275element"](2,"input",168),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](3,"td"),M["\u0275\u0275text"](4),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](5,JI,3,7,"td",92),M["\u0275\u0275elementStart"](6,"td"),M["\u0275\u0275text"](7),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](8,"td"),M["\u0275\u0275text"](9),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](10,YI,3,6,"td",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=t.index,r=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](2),M["\u0275\u0275propertyInterpolate1"]("name","Vaild",i,""),M["\u0275\u0275property"]("checked",null==n?null:n.valid),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ","ar"!=r.lang?null==n?null:n.name:null==n?null:n.name_ar," "),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",3==r.requiredserialForNegative),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",null==n?null:n.serial," "),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](null==n?null:n.availableqty),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",3==r.requiredserialForNegative)}}function ZI(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",140),M["\u0275\u0275template"](1,TI,3,3,"h6",141),M["\u0275\u0275template"](2,AI,3,3,"h6",141),M["\u0275\u0275elementStart"](3,"button",142),M["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),M["\u0275\u0275elementStart"](4,"span",143),M["\u0275\u0275text"](5,"\xd7"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](6,"form",9,10),M["\u0275\u0275listener"]("ngSubmit",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275reference"](7);return M["\u0275\u0275nextContext"]().saveserial(e)}),M["\u0275\u0275elementStart"](8,"div",144),M["\u0275\u0275elementStart"](9,"div",145),M["\u0275\u0275elementStart"](10,"div",6),M["\u0275\u0275elementStart"](11,"form"),M["\u0275\u0275elementStart"](12,"div",146),M["\u0275\u0275elementStart"](13,"h6",152),M["\u0275\u0275text"](14),M["\u0275\u0275pipe"](15,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](16,"table",61),M["\u0275\u0275elementStart"](17,"thead"),M["\u0275\u0275elementStart"](18,"tr"),M["\u0275\u0275elementStart"](19,"th"),M["\u0275\u0275text"](20),M["\u0275\u0275pipe"](21,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](22,"th",149),M["\u0275\u0275text"](23),M["\u0275\u0275pipe"](24,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](25,GI,3,3,"th",1),M["\u0275\u0275template"](26,UI,3,3,"th",1),M["\u0275\u0275template"](27,jI,3,3,"th",1),M["\u0275\u0275template"](28,$I,3,3,"th",166),M["\u0275\u0275template"](29,zI,3,3,"th",166),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](30,"tbody"),M["\u0275\u0275template"](31,HI,11,7,"tr",82),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](32,"div",150),M["\u0275\u0275elementStart"](33,"button",167),M["\u0275\u0275text"](34),M["\u0275\u0275pipe"](35,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",2==i.requiredserialForNegative),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",3==i.requiredserialForNegative),M["\u0275\u0275advance"](12),M["\u0275\u0275textInterpolate2"](" ",M["\u0275\u0275pipeBind1"](15,14,"qty")," : ",i._batchqty," "),M["\u0275\u0275advance"](6),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](21,16,"Choose")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](24,18,"Store")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",3==i.requiredserialForNegative),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",2==i.requiredserialForNegative),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",3==i.requiredserialForNegative),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",3==i.requiredserialForNegative),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",3==i.requiredserialForNegative),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngForOf",i.BatchesListForEatchRow)("ngForTrackBy",i.trackByFn),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](35,20,"save")," ")}}var KI=function(){return[247,248,249,250,626]},XI=function(){var e=function(){function e(t,n,i,r,a,o,l,s,d,p,u,m,h,g,_,v,f,C){var y=this;c(this,e),this._cashsalesService=t,this._CustomerService=n,this._ReceiptSharedService=i,this._VoucherService=r,this.cd=a,this.toastr=o,this._router=l,this._generalService=s,this.translate=d,this._translateGlobalService=p,this._activeRoute=u,this.modalService=m,this.spinner=h,this._authService=g,this._printService=_,this._VerifyReportsService=v,this.datepipe=f,this.location=C,this.isType=!1,this.subsidiaryID=0,this.ReceiptID=0,this.activeNav=1,this.BasicCodeReceipt=83,this.Transaction_move=0,this._Receipt=new S.tY,this._ReceiptOriginal=new S.tY,this._Receipt_h_Edit=new S.Iu,this._CashSalesDetailsReceipt=new S.hm,this.ItemsComponentList=new Array,this.DescriptionItem=new S.tH,this._LinkedReceipt=new S.Cb,this._Currencyprecision=3,this.ForeignCurrencyShow=!1,this.ValidPeriod=!0,this.VouchersLinkedCount=0,this.DuringSaveDisable=!1,this.show_all_component=!1,this.BranchList=[],this.PaymentTypeList=[],this.CostCenterList=[],this.ReceiptCodeList=[],this.TransactionAccountList=[],this.DepartmentList=[],this.LocationList=[],this.ClassList=[],this.CurrencyList=[],this.StoreList=[],this.ItemsList=[],this.ItemUnitsList=[],this.ItemComponentUnitsList=[],this.reporturl="",this.reportdomainUrl=ke.N.aspDomain,this._emailobj={email:"",subject:""},this.mailmsg="",this.allowDelete=!1,this.ShowModeReceipt=!1,this.LockedRecepit=!1,this.swalTitleEntry="",this.swalTextEntry="",this.swalConfirmButtonEntry="",this.Cancel="",this.WarningInfoLost="",this.warning="",this.Yes="",this.FinancialPeriodMsg="",this.Close="",this.FinancialPeriodCloseMsg="",this.CostPostingPeriodMessage="",this.StopInventoryErrorMsg="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.CustomerPricelistMsg="",this.DeleteRelationmsg="",this.ItemsZeroErrorMsg="",this.ItemsEqualZeroMsg="",this.ReceiptNotFound="",this.Receiptnoitems="",this.NoUnits="",this.ItemWarrantyValidMsg="",this.qtyErrorSaveMsg="",this.qtyErrorMsg="",this.qtyZeroErrorSaveMsg="",this.SaveMsg="",this.NOComponents="",this.No="",this.swalNewActionTitle="",this.swalNewActionText="",this.RelatedwithSerialsOrBatches="",this.InValidNumberOfBatch="",this.InValidQty="",this.DublicateBatchMassage="",this.QtyIsValidWithAvailableQty="",this.DeleteUsedBatchesOrSerials="",this.timeout=null,this.ItemLinkedReceipt=[],this.ItemComponentsLinkedReceipt=[],this.LinkedReceiptListSelected=[],this.IxLRS=0,this.itemqtyview=!1,this._itemstoreqtyobj=new S.I$,this.requiredserialForPositive=2,this.RowItem=null,this.SelectedRowIndex=0,this.BatchesAndSeialsList=[],this.selectedindex=0,this.requiredserialForNegative=2,this._batchqty=0,this.BatchesListForEatchRow=[],u.params.subscribe(function(e){y.ReceiptID=e.id,y.ShowModeReceipt=null!=e.show&&"show"==e.show&&e.id>0,y.LockedRecepit=y.ShowModeReceipt,y.subsidiaryID=y._generalService.SubsidiaryID,y.subsidiaryID>0&&y.SetInitialMethods()}),this.ngUnsubscribe=s.proadCastSubsidiaryID.subscribe(function(e){0==y.subsidiaryID&&(y.subsidiaryID=y._generalService.SubsidiaryID,y.SetInitialMethods()),y.subsidiaryID!=y._generalService.SubsidiaryID&&y.subsidiaryID>0&&(y.subsidiaryID=y._generalService.SubsidiaryID,y._router.navigate(["/page/inventorytransiction/adjustmentvoucher/0"]).then(function(){window.location.reload()}))}),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(function(e){y.lang=e.lang,y.dir=e.dir,y.translate.use(e.lang),y.ngTransUnsubscribe=y.translate.get(["Cancel","swalTitleEntryno","swalEntrynoText","swalEntrynoConfirmButton","WarningInfoLost","warning","Yes","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","DeleteRelationmsg","successMsg","ItemsZeroErrorMsg","MultiPayErrorMsg","ItemsEqualZeroMsg","ReceiptNotFound","CustomerPricelistMsg","Receiptnoitems","NoUnits","ItemWarrantyValidMsg","FinancialPeriodMsg","CloseFinancialPeriodMsg","StopInventoryErrorMsg","Close","DeliverDateMsg","qtyErrorSaveMsg","qtyErrorMsg","qtyZeroErrorSaveMsg","SaveMsg","No","swalNewActionTitle","swalNewActionText","NOComponents","CostPostingPeriodMessage","Adjustment Voucher","RelatedwithSerialsOrBatches","InValidNumberOfBatch","InValidQty","DublicateBatchMassage","QtyIsValidWithAvailableQty","DeleteUsedBatchesOrSerials","cantNotDuplicateItem"]).subscribe(function(e){document.title=e["Adjustment Voucher"],y.Cancel=e.Cancel,y.swalTitleEntry=e.swalTitleEntryno,y.swalTextEntry=e.swalEntrynoText,y.swalConfirmButtonEntry=e.swalEntrynoConfirmButton,y.WarningInfoLost=e.WarningInfoLost,y.warning=e.warning,y.Yes=e.Yes,y.No=e.No,y.NOComponents=e.NOComponents,y.swalNewActionTitle=e.swalNewActionTitle,y.swalNewActionText=e.swalNewActionText,y.swalDeleteTitle=e.swalDeleteTitle,y.swalDetlateText=e.swalDetlateText,y.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,y.DeleteRelationmsg=e.DeleteRelationmsg,y.toastrSuccessDelete=e.successMsg,y.ItemsZeroErrorMsg=e.ItemsZeroErrorMsg,y.ItemsEqualZeroMsg=e.ItemsEqualZeroMsg,y.ReceiptNotFound=e.ReceiptNotFound,y.CustomerPricelistMsg=e.CustomerPricelistMsg,y.Receiptnoitems=e.Receiptnoitems,y.NoUnits=e.NoUnits,y.ItemWarrantyValidMsg=e.ItemWarrantyValidMsg,y.FinancialPeriodMsg=e.FinancialPeriodMsg,y.StopInventoryErrorMsg=e.StopInventoryErrorMsg,y.FinancialPeriodCloseMsg=e.CloseFinancialPeriodMsg,y.Close=e.Close,y.qtyErrorMsg=e.qtyErrorMsg,y.qtyErrorSaveMsg=e.qtyErrorSaveMsg,y.qtyZeroErrorSaveMsg=e.qtyZeroErrorSaveMsg,y.SaveMsg=e.SaveMsg,y.CostPostingPeriodMessage=e.CostPostingPeriodMessage,y.RelatedwithSerialsOrBatches=e.RelatedwithSerialsOrBatches,y.InValidNumberOfBatch=e.InValidNumberOfBatch,y.InValidQty=e.InValidQty,y.DublicateBatchMassage=e.DublicateBatchMassage,y.QtyIsValidWithAvailableQty=e.QtyIsValidWithAvailableQty,y.DeleteUsedBatchesOrSerials=e.DeleteUsedBatchesOrSerials,y.cantNotDuplicateItem=e.cantNotDuplicateItem})})}return o(e,[{key:"ngOnInit",value:function(){}},{key:"SetInitialMethods",value:function(){this._Receipt=new S.tY,this.GetCurrentUserSetting(),this.GetBranchList(),this.GetCashCustomerSettings(),this.GetSubsaidarySetting(),this.GetCurrencyList(),this.GetReceipt_AfterReceiptCode_InventroySettings()}},{key:"GetReceipt_AfterReceiptCode_InventroySettings",value:function(){var e=this,t=this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID),i=this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID);(0,Ie.D)([t,i]).subscribe(function(t){var i=n(t,2),r=i[0],a=i[1];e.ReceiptCodeList=r,e.InventorySetting=a;var o=e.ReceiptCodeList.find(function(t){return t.code==e.BasicCodeReceipt});e.Transaction_move=o.items,e.GetReceipt(),e.cd.markForCheck()})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"checkRolesParms",value:function(e){var t=!0;return this._authService.isHasRole(e)||(t=!1),t}},{key:"GetReceipt",value:function(){var e=this;if(this._Receipt.subsidiaryid=this.subsidiaryID,0==this.ReceiptID){this._Receipt.code=this.BasicCodeReceipt,this._Receipt.entry_date=this.datepipe.transform(new Date,"yyyy-MM-dd"),this.CheckValidDateBySubsidaryID(),this._Receipt.entry_time=this.SetTimeNow();var n=JSON.parse(localStorage.getItem("Branch"));null!=n&&null!=n&&(this._Receipt.branch_id="null"==n.branchId||0==n.branchId?null:n.branchId,null!=this._Receipt.branch_id&&(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch())),setTimeout(function(){e._ReceiptOriginal=JSON.parse(JSON.stringify(e._Receipt))},1e3)}else this._ReceiptSharedService.GetReceiptAndDetailsByID(this.ReceiptID).subscribe(function(n){if(null!=n.receipt){if(e.VouchersLinkedCount=n.voucherslinkedcount.voucherslinkedcount,e._Receipt.id=n.receipt.id,e._Receipt.subsidiaryid=n.receipt.subsidiaryid,e._Receipt.code=n.receipt.code,e._Receipt.entry_no=n.receipt.entry_no,e._Receipt.branch_id=n.receipt.branch_id,e._Receipt.transaction_code=n.receipt.transaction_code,e._Receipt.customersalesprice=n.receipt.customersalesprice,e._Receipt.qtotal=n.items.qty,e._Receipt.totalitem=n.items.length,e._Receipt.entry_date=e.datepipe.transform(n.receipt.entry_date,"yyyy-MM-dd"),e._Receipt.entry_time=n.receipt.entry_time,e._Receipt.reservedflag=n.receipt.reservedflag,e._Receipt.payment_type=n.receipt.payment_type,e._Receipt.vendor_id=n.receipt.vendor_id,e._Receipt.cashcustomerid=n.receipt.cashcustomerid,null!=e._Receipt.vendor_id&&(e._Receipt.cashcustomer_vendor_code={code:n.receipt.vendorcode},e._Receipt.cashcustomer_vendor_name="ar"==e.lang?n.receipt.vendornamear:n.receipt.vendorname),null!=e._Receipt.cashcustomerid&&(e._Receipt.cashcustomer_vendor_code={phonenumber:n.receipt.phonenumber},e._Receipt.cashcustomer_vendor_name="ar"==e.lang?n.receipt.cashcustomername_ar:n.receipt.cashcustomername),e._Receipt.currency_id=n.receipt.currency_id,e._Receipt.currency_rate=n.receipt.currency_rate,e._Receipt.customerdeliverdate=e.datepipe.transform(n.receipt.customerdeliverdate,"yyyy-MM-dd"),e._Receipt.customerdeliverdate_time=n.receipt.customerdeliverdate_time,e._Receipt.ordertype=n.receipt.ordertype,e._Receipt.empoyee_id=n.receipt.empoyee_id,e._Receipt.memo=n.receipt.memo,e._Receipt.reference_no=n.receipt.reference_no,e._Receipt.salestypeid=n.receipt.salestypeid,e._Receipt.commisionaccountid=n.receipt.commisionaccountid,e._Receipt.commisionaccountfieldname="ar"==e.lang?{commisionaccountfieldname:n.receipt.commisionaccount_sug_ar}:{commisionaccountfieldname:n.receipt.commisionaccount_sug},e._Receipt.commissiontype=n.receipt.commissiontype,e._Receipt.commission=n.receipt.commission,e._Receipt.commissionnet=n.receipt.commissionnet,e._Receipt.commisionaccountid1=n.receipt.commisionaccountid1,e._Receipt.commisionaccountfieldname1="ar"==e.lang?{commisionaccountfieldname1:n.receipt.commisionaccount1_sug_ar}:{commisionaccountfieldname1:n.receipt.commisionaccount1_sug},e._Receipt.commissiontype1=n.receipt.commissiontype1,e._Receipt.commission1=n.receipt.commission1,e._Receipt.commissionnet1=n.receipt.commissionnet1,e._Receipt.costcenterid=n.receipt.costcenterid,e._Receipt.costcenterfieldname=null!=e._Receipt.costcenterid?"ar"==e.lang?{costcenterfieldname:n.receipt.costcenter_sug_ar}:{costcenterfieldname:n.receipt.costcenter_sug}:null,e._Receipt.classid=n.receipt.classid,e._Receipt.classfieldname=null!=e._Receipt.classid?"ar"==e.lang?{classfieldname:n.receipt.classes_sug_ar}:{classfieldname:n.receipt.classes_sug}:null,e._Receipt.locationid=n.receipt.locationid,e._Receipt.locationfieldname=null!=e._Receipt.locationid?"ar"==e.lang?{locationfieldname:n.receipt.location_sug_ar}:{locationfieldname:n.receipt.location_sug}:null,e._Receipt.departmentid=n.receipt.departmentid,e._Receipt.departmentfieldname=null!=e._Receipt.departmentid?"ar"==e.lang?{departmentfieldname:n.receipt.department_sug_ar}:{departmentfieldname:n.receipt.department_sug}:null,e._Receipt.carid=n.receipt.carid,e._Receipt.driverid=n.receipt.driverid,e._Receipt.valueforeign=n.receipt.valueforeign,e._Receipt.value=n.receipt.value,e._Receipt.discount_foreignpercent=n.receipt.discount_foreignpercent,e._Receipt.discount_percent=n.receipt.discount_percent,e._Receipt.discount_foreignvalue=n.receipt.discount_foreignvalue,e._Receipt.discount_value=n.receipt.discount_value,e._Receipt.deliveryfeesforeign=n.receipt.deliveryfeesforeign,e._Receipt.deliveryfees=n.receipt.deliveryfees,e._Receipt.surchargevalueforeign=n.receipt.surchargevalueforeign,e._Receipt.surchargevalue=n.receipt.surchargevalue,e._Receipt.surchargepercent=n.receipt.surchargepercent,e._Receipt.netvalueforeign=n.receipt.netvalueforeign,e._Receipt.netvalue=n.receipt.netvalue,e._Receipt.signature=n.receipt.signature,e._Receipt.related_voucher_type=n.receipt.related_voucher_type,e._Receipt.related_voucher_code=n.receipt.related_voucher_code,e._Receipt.status_id=n.receipt.status_id,e._Receipt.approvalstatus_id=n.receipt.approvalstatus_id,e._Receipt.costing_rate=n.receipt.costing_rate,e._Receipt.approvedby_id=n.receipt.approvedby_id,e._Receipt.shipmentterm_id=n.receipt.shipmentterm_id,e._Receipt.paymentterm_id=n.receipt.paymentterm_id,e._Receipt.supplieraccount_id=n.receipt.supplieraccount_id,e._Receipt.planneddeliverydate=n.receipt.planneddeliverydate,e._Receipt.actualdeliverydate=n.receipt.actualdeliverydate,e._Receipt.deliverylocation=n.receipt.deliverylocation,e._Receipt.contactedperson=n.receipt.contactedperson,e._Receipt.othernotes=n.receipt.othernotes,e._Receipt.cashdrawerid=n.receipt.cashdrawerid,e._Receipt.leadid=n.receipt.leadid,e._Receipt.deliverynotes=n.receipt.deliverynotes,e._Receipt.cashcustomerdetailid=n.receipt.cashcustomerdetailid,e._Receipt.is_canceled=n.receipt.is_canceled,e._Receipt.fromstoreid=n.receipt.fromstoreid,e._Receipt.tostoreid=n.receipt.tostoreid,e._Receipt.isdeliveryprint=n.receipt.isdeliveryprint,e._Receipt.printcount=n.receipt.printcount,e._Receipt.iskitchendone=n.receipt.iskitchendone,e._Receipt.paidamount=n.receipt.paidamount,e._Receipt.isholded=n.receipt.isholded,e._Receipt.branchtableid=n.receipt.branchtableid,e._Receipt.customeractualdeliverdate=n.receipt.customeractualdeliverdate,e._Receipt.deliverystatusid=n.receipt.deliverystatusid,e._Receipt.deposite=n.receipt.deposite,e._Receipt.paymentandconditions=n.receipt.paymentandconditions,e._Receipt.notes=n.receipt.notes,e._Receipt.chefid=n.receipt.chefid,e._Receipt.changeamount=n.receipt.changeamount,e._Receipt.divisionid=n.receipt.divisionid,e._Receipt.courierid=n.receipt.courierid,e._Receipt.depositepaymenttypeid=n.receipt.depositepaymenttypeid,e._Receipt.creationdate=n.receipt.creationdate,e._Receipt.lastupdatedate=n.receipt.lastupdatedate,e._Receipt.createdbyid=n.receipt.createdbyid,e._Receipt.updatedbyid=n.receipt.updatedbyid,e._Receipt.receiptattributeid=n.receipt.receiptattributeid,e._Receipt.costposted=n.receipt.costposted,e._Receipt.lcaccountid=n.receipt.lcaccountid,e._Receipt.lcno=n.receipt.lcno,e._Receipt.lcbank=n.receipt.lcbank,e._Receipt.lcstartdate=n.receipt.lcstartdate,e._Receipt.lcenddate=n.receipt.lcenddate,e._Receipt.lcrenewdate=n.receipt.lcrenewdate,e._Receipt.lcrenewenddate=n.receipt.lcrenewenddate,e._Receipt.lcinsurancecompany=n.receipt.lcinsurancecompany,e._Receipt.lcpolicyno=n.receipt.lcpolicyno,e._Receipt.insurancedate=n.receipt.insurancedate,e._Receipt.gooddeliverydate=n.receipt.gooddeliverydate,e._Receipt.lccondition=n.receipt.lccondition,e._Receipt.shippingmethod=n.receipt.shippingmethod,e._Receipt.exportport=n.receipt.exportport,e._Receipt.shipname=n.receipt.shipname,e._Receipt.lcnotes=n.receipt.lcnotes,e._Receipt.quotationcustomername=n.receipt.quotationcustomername,e._Receipt.duedate=n.receipt.duedate,e._Receipt.schedule_date=n.receipt.schedule_date,e._Receipt.storetype=n.receipt.storetype,e._Receipt.quotationenddate=n.receipt.quotationenddate,e._Receipt.wostatusid=n.receipt.wostatusid,e._Receipt.parentreceiptid=n.receipt.parentreceiptid,e._Receipt.isapproved=n.receipt.isapproved,e._Receipt.replenshimenttype=n.receipt.replenshimenttype,e._Receipt.reference=n.receipt.reference,e._Receipt.replenshimentfromdate=n.receipt.replenshimentfromdate,e._Receipt.replenshimenttodate=n.receipt.replenshimenttodate,e._Receipt.cancelreasonid=n.receipt.cancelreasonid,e._Receipt.contractstartdate=n.receipt.contractstartdate,e._Receipt.contractenddate=n.receipt.contractenddate,e._Receipt.previouscontractid=n.receipt.previouscontractid,e._Receipt.erpstatus=n.receipt.erpstatus,e._Receipt.loyalitybalance=n.receipt.loyalitybalance,e._Receipt.cpno=n.receipt.cpno,e._Receipt.accounttype=n.receipt.accounttype,e._Receipt.printing=n.receipt.printing,e._Receipt.storedelivery=n.receipt.storedelivery,e._Receipt.customerrecieve=n.receipt.customerrecieve,e._Receipt.promotionid=n.receipt.promotionid,e._Receipt.cpno=n.receipt.cpno,e._Receipt.accounttype=n.receipt.accounttype,e._Receipt.printing=n.receipt.printing,e._Receipt.storedelivery=n.receipt.storedelivery,e._Receipt.customerrecieve=n.receipt.customerrecieve,e._Receipt.promotionid=n.receipt.promotionid,e._Receipt.promotionpercent=n.receipt.promotionpercent,e._Receipt.promotionvalue=n.receipt.promotionvalue,e._Receipt.purchaserequeststatusid=n.receipt.purchaserequeststatusid,e._Receipt.urgent=n.receipt.urgent,e._Receipt.quotationstatusid=n.receipt.quotationstatusid,e._Receipt.salesorderstatusid=n.receipt.salesorderstatusid,e._Receipt.purchaseorderstatusid=n.receipt.purchaseorderstatusid,e._Receipt.expensesdistributionvoucherno=n.receipt.expensesdistributionvoucherno,e._Receipt.totalproductioncost=n.receipt.totalproductioncost,e._Receipt.totalvouchercost=n.receipt.totalvouchercost,e._Receipt.totalproductioncostforeign=n.receipt.totalproductioncostforeign,e._Receipt.totalvouchercostforeign=n.receipt.totalvouchercostforeign,e._Receipt.taxvalue=n.receipt.taxvalue,e._Receipt.sourceid=n.receipt.sourceid,e._Receipt.contractid=n.receipt.contractid,e._Receipt.type_id=n.receipt.type_id,e._Receipt.productionlineid=n.receipt.productionlineid,e._Receipt.linescheduleddate=n.receipt.linescheduleddate,e._Receipt.inchargepersonname=n.receipt.inchargepersonname,e._Receipt.inchargephoneno=n.receipt.inchargephoneno,e._Receipt.details=n.items,e._Receipt.details.forEach(function(e){e.storecode={code:e.storecode},e.itemcode={code:e.itemcode},e.allowqtyselectforitem=!0}),e._Receipt.itemscomponent=n.itemcomponents,e._Receipt.itemscomponent.forEach(function(e){e.allowqtyselectforitem=!0}),e.ItemUnitsList=n.itemunits,e.ItemComponentUnitsList=n.componentsunits,e._Receipt.linkedreceipts=n.linkedreceipts,e._Receipt.receiptmultipayment=n.receiptmultipayment,e.ItemsComponentList=JSON.parse(JSON.stringify(e._Receipt.itemscomponent)),e._Receipt.details.map(function(e){e.batcheslist=new Array;var i=n.batches.filter(function(t){return t.inv_receipt_d_id==e.id});e.batcheslist=t(i)}),null==e._Receipt.qtotal||null==e._Receipt.totalitem){var i=0;e._Receipt.details.forEach(function(e){i+=e.qty}),e._Receipt.qtotal=i,e._Receipt.totalitem=n.items.length}e._ReceiptOriginal=JSON.parse(JSON.stringify(e._Receipt)),e.entry_no=e._Receipt.entry_no,e.originalSalesPrice=e._Receipt.customersalesprice,e._CurrencySelected=e.CurrencyList.find(function(t){return t.id==e._Receipt.currency_id}),e.ForeignCurrencyShow=1!=e._CurrencySelected.basecurrency,1==!e.ShowModeReceipt&&e.CheckValidDateBySubsidaryID(),e.OnSelectedItem(e._Receipt.details[0],0,"selected",!0),e.cd.markForCheck()}})}},{key:"CheckPre_SaveReceipt",value:function(e){var t=this;if(e.form.valid)if(0!=this.ValidPeriod){if(1==this._Receipt.details.length&&null==this._Receipt.details[0].item_id)return this.toastr.error(this.ItemsZeroErrorMsg),this._Receipt.details.splice(0,1),void this.AddItems();for(var n=function(e){if(t._Receipt.details[e].transaction_move=t.Transaction_move,null==t._Receipt.details[e].item_id)t._Receipt.details.splice(e,1),e--;else{0!=t._Receipt.value?(t._Receipt.details[e].h_discount_value=t._Receipt.discount_percent/100*t._Receipt.details[e].total/t._Receipt.details[e].qty%(1/0)||0,t._Receipt.details[e].h_discount_percentage=100*(t._Receipt.details[e].h_discount_value/(t._Receipt.details[e].total/t._Receipt.details[e].qty)%(1/0)||0)):(t._Receipt.details[e].h_discount_value=0,t._Receipt.details[e].h_discount_percentage=0);var n=t.ItemUnitsList.find(function(n){return n.item_id==t._Receipt.details[e].item_id&&n.id==t._Receipt.details[e].unit_id});t._Receipt.details[e].final_conv=null!=n?(null!=n.finalconv?n.finalconv:1)*(t._Receipt.details[e].conv/n.conv):t._Receipt.details[e].conv,t._Receipt.details[e].final_conv=0==t._Receipt.details[e].final_conv?1:t._Receipt.details[e].final_conv}i=e},i=0;i<this._Receipt.details.length;i++)n(i);if(0==this._Receipt.details.length)return this.toastr.error(this.ItemsZeroErrorMsg),void this.AddItems();this.CheckBalanceForItemInStore(0,!0,!0)}else this.ShowPopUpFinancialPeriod();else this.activeNav="INVALID"==e.form.controls.CostCenter.status||"INVALID"==e.form.controls.Department.status||"INVALID"==e.form.controls.Classes.status||"INVALID"==e.form.controls.Location.status||"INVALID"==e.form.controls.Division.status?5:1}},{key:"SaveReceipt",value:function(){var e=this;if(this._Receipt.lang=this.lang,"ar"!=this._Receipt.lang&&(this._Receipt.lang="en-US"),this._Receipt.details.filter(function(e){return 0==e.allowqtyselectforitem}).length>0)return this.toastr.error(this.qtyErrorSaveMsg),this.DuringSaveDisable=!1,void this.cd.markForCheck();var t=[];if(this._Receipt.details.forEach(function(e){3==e.isrequireserial&&e.qty<0&&(e.allowqtyselectforitem=!0,0==e.batcheslist.length?(e.allowqtyselectforitem=!1,t.push(!1)):0==e.validrow&&(e.allowqtyselectforitem=!1,t.push(!0)))}),t.length>0)return t.includes(!1)&&(this.toastr.error(this.InValidNumberOfBatch),this.cd.markForCheck()),t.includes(!0)&&(this.toastr.error(this.QtyIsValidWithAvailableQty),this.cd.markForCheck()),void(this.DuringSaveDisable=!1);if(t=[],this._Receipt.details.forEach(function(n){if(3==n.isrequireserial&&n.qty<0)if(n.allowqtyselectforitem=!0,0==n.batcheslist.length)n.allowqtyselectforitem=!1,t.push(!1);else{var i=0;n.batcheslist.forEach(function(e){var t;i+=null!==(t=+e.qty)&&void 0!==t?t:0});var r=e.ItemUnitsList.filter(function(e){return e.item_id==n.item_id&&e.id==n.unit_id}),a=n.conv*r[0].finalconv/r[0].conv,o=Math.abs(n.qty)*a;i!=o&&(n.allowqtyselectforitem=!1,t.push(!1))}}),t.length>0)return t.includes(!1)&&(this.toastr.error(this.InValidNumberOfBatch),this.cd.markForCheck()),void(this.DuringSaveDisable=!1);console.log("con..."),this.DuringSaveDisable=!0;for(var n=0;n<this._Receipt.linkedreceipts.length;n++)0==this._Receipt.linkedreceipts[n].fire&&(this._Receipt.linkedreceipts.splice(n,1),n--);this.CheckBatchesAndSerials()}},{key:"Save",value:function(){var e=this;null==this._Receipt.id||0==this._Receipt.id?(this._Receipt.totalitem=this._Receipt.details.length,this._ReceiptSharedService.ReceiptCreate(this._Receipt).subscribe(function(t){e.DuringSaveDisable=!1,e.toastr.success(e.SaveMsg),e.ReceiptID=t.id,e._router.navigate(["/page/inventorytransiction/adjustmentvoucher/"+e.ReceiptID]).then(function(){window.location.reload()})})):(this._Receipt_h_Edit=new S.Iu,this._Receipt_h_Edit.Receipt_h=this._Receipt,this._Receipt_h_Edit.ReceiptOriginal=this._ReceiptOriginal,this._ReceiptSharedService.ReceiptUpdate(this._Receipt_h_Edit).subscribe(function(t){e.DuringSaveDisable=!1,e.toastr.success(e.SaveMsg),e._router.navigate(["/page/inventorytransiction/adjustmentvoucher/"+e.ReceiptID]).then(function(){window.location.reload()})}))}},{key:"ChangePropFinish",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.DuringSaveDisable=!0,this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.timeout=null,"EntryCode"==t?e.CheckEntryCode():"EntryDate"==t&&e.ChangeEntryDate()},1e3*n)}},{key:"CheckEntryCode",value:function(){var e=this;this._ReceiptSharedService.CheckEntryNo(this._Receipt.id,this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.entry_no,this._Receipt.branch_id).subscribe(function(t){e.DuringSaveDisable=!1,e.cd.markForCheck(),null!=t&&Me().fire({title:e.swalTitleEntry,text:e.swalTextEntry,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:e.swalConfirmButtonEntry,cancelButtonText:e.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.value?e._router.navigate(["/page/inventorytransiction/adjustmentvoucher/"+t.id]).then(function(){}):(e._Receipt.entry_no=e.entry_no,e.cd.markForCheck())})})}},{key:"GetReceiptEntryCode",value:function(){var e=this;this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(function(t){e._Receipt.entry_no=0==t.length?1:t[0].entry_no+1,e.entry_no=e._Receipt.entry_no,e.cd.markForCheck()})}},{key:"GetBranchList",value:function(){var e=this;this._ReceiptSharedService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(function(t){e.BranchList=t,e.cd.markForCheck()})}},{key:"changeBranch",value:function(e){var t=this;if(this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id||null!=this._Receipt.vendor_id)Me().fire({title:this.warning,text:this.WarningInfoLost,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){if(n.value){t._Receipt.details=new Array,t._Receipt.itemscomponent=new Array,t._Receipt.linkedreceipts=new Array,t.ItemUnitsList=[],t.ItemComponentUnitsList=[],t._Receipt.branch_id="null"==e.target.value?null:e.target.value;var i=JSON.parse(localStorage.getItem("Branch"));null!=i&&null!=i&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:t._Receipt.branch_id})),null!=t._Receipt.branch_id?(t.GetReceiptEntryCode(),t.GetDefaultStoreCostCenterByBranch(!0)):t._Receipt.entry_no=null}else{var r=JSON.parse(localStorage.getItem("Branch"));null!=r&&null!=r&&(t._Receipt.branch_id="null"==r.branchId||0==r.branchId?null:r.branchId)}});else{this._Receipt.branch_id="null"==e.target.value?null:e.target.value;var n=JSON.parse(localStorage.getItem("Branch"));null!=n&&null!=n&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._Receipt.branch_id})),null!=this._Receipt.branch_id?(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch()):this._Receipt.entry_no=null}}},{key:"GetDefaultStoreCostCenterByBranch",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];1==t&&this.Calculate_Total_Tax_Net(),this._ReceiptSharedService.DefaultStoreCostCenterByBranch(this._Receipt.branch_id).subscribe(function(t){e.StoreCostCenterSetting=t.length>0?t[0]:{storeid:null,storecode:null,costcenterid:null,costcentername:null,costcentername_ar:null},null!=e.StoreCostCenterSetting.storeid&&(0==e._Receipt.details.length&&(e._CashSalesDetailsReceipt=new S.hm,e._CashSalesDetailsReceipt.transaction_move=e.Transaction_move,e._Receipt.details.push(e._CashSalesDetailsReceipt),e._Receipt.details[0].store_id=e.StoreCostCenterSetting.storeid,e._Receipt.details[0].storecode={code:e.StoreCostCenterSetting.storecode}),e._Receipt.details.length>0&&(e._Receipt.details.forEach(function(t){t.store_id=e.StoreCostCenterSetting.storeid,t.storecode={code:e.StoreCostCenterSetting.storecode}}),e._Receipt.itemscomponent.forEach(function(t){t.store_id=e.StoreCostCenterSetting.storeid,t.storecode={code:e.StoreCostCenterSetting.storecode}}),e.CheckBalanceForItemInStore(0,!0))),null!=e.StoreCostCenterSetting.costcenterid&&(e._Receipt.costcenterid=e.StoreCostCenterSetting.costcenterid,e._Receipt.costcenterfieldname={costcenterfieldname:"ar"==e.lang?e.StoreCostCenterSetting.costcentername_ar:e.StoreCostCenterSetting.costcentername}),e.cd.markForCheck()})}},{key:"GetCurrentUserSetting",value:function(){var e=this;this._ReceiptSharedService.GetCurrentUserSetting().subscribe(function(t){e.CurrentUserSetting=t})}},{key:"GetCashCustomerSettings",value:function(){var e=this;this._ReceiptSharedService.GetCashCustomerSettings(this.subsidiaryID).subscribe(function(t){null!=t||null!=t?(e.CashCustomerSetting=t,e.CashCustomerSetting.allowdecimalpack=1==e.CashCustomerSetting.allowdecimalpack?".01":"1"):e.CashCustomerSetting={allowdecimalpack:"1",enablecashcustomer:!1,salesreturneffect:"1",allowpack:!1},e.cd.markForCheck()})}},{key:"GetAllInventroySettingsBySubSidary",value:function(){var e=this;this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID).subscribe(function(t){e.InventorySetting=t,e.cd.markForCheck()})}},{key:"GetSubsaidarySetting",value:function(){var e=this;this._ReceiptSharedService.GetSubsaidarySetting(this.subsidiaryID).subscribe(function(t){null!=t&&(e.subsaidarySetting=t[0],e.cd.markForCheck())})}},{key:"GetCurrencyList",value:function(){var e=this;this._VoucherService.GetSubsidaryCurrencyList(this.subsidiaryID).subscribe(function(t){var n;t.length>0&&(e.CurrencyList=t,e._BaseCurrency=e.CurrencyList.find(function(e){return 1==e.basecurrency}),e._CurrencySelected=e._BaseCurrency,e._Currencyprecision=null!==(n=e._BaseCurrency.currencyprecision)&&void 0!==n?n:3,e._Receipt.currency_id=e._CurrencySelected.id,e._Receipt.currency_rate=Number(1..toFixed(9)),e.cd.markForCheck())})}},{key:"changeCurrency",value:function(e){var t,n=this;(console.log(e.target.value),this._CurrencySelected=this.CurrencyList.find(function(t){return t.id==e.target.value}),null!=this._CurrencySelected)?(t=""!=this._Receipt.entry_time&&null!=this._Receipt.entry_time&&null!=this._Receipt.entry_time?this._Receipt.entry_date+" "+this._Receipt.entry_time:this._Receipt.entry_date+" 23:59",this._VoucherService.GetSubsidaryCurrenciesRate(this.subsidiaryID,this._CurrencySelected.id,t,0).subscribe(function(e){n._Receipt.currency_rate=e&&e.length>0?e[0].rate.toFixed(9):Number(1..toFixed(9)),n.ForeignCurrencyShow=1!=n._CurrencySelected.basecurrency,n.Calculate_Total_Tax_Net(),n.cd.markForCheck()})):(this._CurrencySelected=null,this._Currencyprecision=3,this._Receipt.currency_rate=null,this.cd.markForCheck())}},{key:"ChangeEntryDate",value:function(){if(null!=this._Receipt.entry_date&&""!=this._Receipt.entry_date&&null!=this._Receipt.entry_date){this.CheckValidDateBySubsidaryID();for(var e=0;e<this._Receipt.details.length;e++)1==this._Receipt.details[e].haswarrenty&&null!=this._Receipt.details[e].warrantydate&&null!=this._Receipt.details[e].warrantydate&&Date.parse(this._Receipt.details[e].warrantydate.toString())<Date.parse(this._Receipt.entry_date.toString())&&(this._Receipt.details[e].warrantydate=null,this.toastr.error(this.ItemWarrantyValidMsg))}else this.DuringSaveDisable=!1,this.cd.markForCheck()}},{key:"CheckValidDateBySubsidaryID",value:function(){var e=this;this._ReceiptSharedService.ValidDateBySubsidaryID(this._Receipt.entry_date,this.subsidiaryID).subscribe(function(t){if(e.DuringSaveDisable=!1,e.cd.markForCheck(),null!=t||null!=t){if(null!=t||null!=t){var n=Date.parse(t.subsidarystart.toString()),i=Date.parse(e._Receipt.entry_date.toString());0==t.openperiod?(e.ValidPeriod=!1,e.ShowModeReceipt=!0,e.ShowPopUpFinancialPeriod("close")):1==t.openperiod&&n<i?(e.ValidPeriod=!0,e.ShowModeReceipt=!1,e.GetMaxCostPostedSerDate()):(e.ValidPeriod=!1,e.ShowModeReceipt=!0,e.ShowPopUpFinancialPeriod())}}else e.ValidPeriod=!1,e.ShowModeReceipt=!0,e.ShowPopUpFinancialPeriod()})}},{key:"ShowPopUpFinancialPeriod",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="close"==e?this.FinancialPeriodCloseMsg:this.FinancialPeriodMsg;Me().fire({title:this.warning,text:t,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(function(e){})}},{key:"ShowPopUpCostPostedSerDate",value:function(){Me().fire({title:this.warning,text:this.CostPostingPeriodMessage,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(function(e){})}},{key:"onFocusInStore",value:function(e,t){t==this._Receipt.details.length-1&&this.AddItems(),this.GetStoreList("")}},{key:"StoreChangeSearch",value:function(e,t){this.GetStoreList(e.query.trim())}},{key:"StoreSelectEvent",value:function(e,t){this._Receipt.details[t].store_id=e.id,this._Receipt.details.forEach(function(t,n){t.store_id=e.id,t.storecode=e}),this.CheckBalanceForItemInStore(0,!0)}},{key:"GetStoreList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetStoreList(this.subsidiaryID,t).subscribe(function(t){e.StoreList=[],e.StoreList=t,e.cd.markForCheck()})}},{key:"onClearItems",value:function(e){this._Receipt.details[e].id=null,this._Receipt.details[e].finishedproductid=null,this._Receipt.details[e].finishedreceipt_did=null,this._Receipt.details[e].item_id=null,this._Receipt.details[e].itemname=null,this._Receipt.details[e].itemname_ar=null}},{key:"onFocusInItems",value:function(e,t){this.GetItemsList("")}},{key:"ItemsChangeSearch",value:function(e,t){var n=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){n.timeout=null,n.GetItemsList(e.query.trim())},300)}},{key:"ItemsSelectEvent",value:function(e,t){null!=this._Receipt.details[t].item_id&&this.onClearItems(t),0==e.stopinventorytransactions?(t==this._Receipt.details.length-1&&(this.InventorySetting?this.InventorySetting[0].permissiontorepeatiteminvoucher&&null!=this.InventorySetting[0].permissiontorepeatiteminvoucher&&null!=this.InventorySetting[0].permissiontorepeatiteminvoucher?this.AddItems():this._Receipt.details.some(function(t){return t.item_id==e.id})?this.duplicateItemSwalPopUp(t):this.AddItems():this.AddItems()),this._Receipt.details[t].item_id=e.id,this._Receipt.details[t].itemname=e.name,this._Receipt.details[t].itemname_ar=e.name_ar,this.GetItemDataDetailsLists(e,t)):(this._Receipt.details[t]=new S.hm,0==this._Receipt.id?(this._Receipt.details[t].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[t].storecode={code:this.StoreCostCenterSetting.storecode}):(this._Receipt.details[t].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.details[t].storecode=this._ReceiptOriginal.details[0].storecode),this.cd.markForCheck(),this.toastr.error(this.StopInventoryErrorMsg))}},{key:"duplicateItemSwalPopUp",value:function(e){var t=this;Me().fire({title:this.warning,text:this.cantNotDuplicateItem,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(function(n){t.onClearItems(e),t._Receipt.details[e].itemcode=null,t.cd.markForCheck()})}},{key:"GetItemsList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetItemsDataListCostAdjustment(this.subsidiaryID,t).subscribe(function(t){e.ItemsList=[],e.ItemsList=t,e.cd.markForCheck()})}},{key:"GetItemDataDetailsLists",value:function(e,t){var n=this;this._Receipt.details[t].id=null,this._Receipt.details[t].finishedproductid=null,this._Receipt.details[t].finishedreceipt_did=null,this._Receipt.details[t].conv=1,this._Receipt.details[t].final_conv=1,this._Receipt.details[t].qty=1,this._Receipt.details[t].price=0,this._Receipt.details[t].discount_percent=0,this._Receipt.details[t].discount_value=0,this._Receipt.details[t].total=0,this._Receipt.details[t].notes="",this._Receipt.details[t].unit_id=null,this._ReceiptSharedService.GetItemDataDetailsLists(this.subsidiaryID,e.id).subscribe(function(i){0==i.itemunits.length?(n._Receipt.details[t]=new S.hm,n._Receipt.details[t].isrequireserial=i.item.isrequireserial,0==n._Receipt.id?(n._Receipt.details[t].store_id=n.StoreCostCenterSetting.storeid,n._Receipt.details[t].storecode={code:n.StoreCostCenterSetting.storecode}):(n._Receipt.details[t].store_id=n._ReceiptOriginal.details[0].store_id,n._Receipt.details[t].storecode=n._ReceiptOriginal.details[0].storecode),n.toastr.error(n.NoUnits)):(n._Receipt.details[t].isrequireserial=i.item.isrequireserial,n._Receipt.details[t].notes=i.item.notes,n._Receipt.details[t].item_type=i.item.item_type,n._Receipt.details[t].qty=1,n._Receipt.details[t].haswarrenty=i.item.haswarrenty,n._Receipt.details[t].warrantydate=i.item.haswarrenty?n.getwarrantydateDate():null,n.ItemUnitsList.length>0?0==n.ItemUnitsList.filter(function(t){return t.item_id==e.id}).length&&(n.ItemUnitsList=n.ItemUnitsList.concat(i.itemunits)):n.ItemUnitsList=n.ItemUnitsList.concat(i.itemunits),n._Receipt.details[t].unit_id=e.inventory_unitid,n.ChangeItemUnits(e.inventory_unitid,t)),n.cd.markForCheck()})}},{key:"ChangeItemUnits",value:function(e,t){var n=this;e.toString().includes(":")&&(e=e.split(":")[1].trim());var i=this._Receipt.details[t].item_id,r=this.ItemUnitsList.filter(function(t){return t.item_id==i&&t.id==e});null!=this._Receipt.details[t].item_id&&null!=this._Receipt.details[t].unit_id&&this._ReceiptSharedService.GetItemCostAtDateStore(this._Receipt.details[t].item_id,this._Receipt.details[t].unit_id,0,this._Receipt.entry_date+" "+this._Receipt.entry_time).subscribe(function(e){e.length>0?(n._Receipt.details[t].price=Number((e[0].avgcost||0).toFixed(n._Currencyprecision)),n._Receipt.details[t].conv=r[0].conv,n._Receipt.details[t].final_conv=r[0].finalconv,n.OnSelectedItem(n._Receipt.details[t],t),n.CalaculteValuesItemsRow(t)):(n._Receipt.details[t].price=Number((0).toFixed(n._Currencyprecision)),n._Receipt.details[t].conv=r[0].conv,n._Receipt.details[t].final_conv=r[0].finalconv,n.OnSelectedItem(n._Receipt.details[t],t),n.CalaculteValuesItemsRow(t))}),this.cd.markForCheck()}},{key:"ChangePackItem",value:function(e){var t=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.timeout=null;var n,i=0,r=t.ItemUnitsList.filter(function(n){return n.item_id==t._Receipt.details[e].item_id&&n.id==t._Receipt.details[e].unit_id});n=r[0].conv,t._ReceiptSharedService.GetItemCostAtDateStore(t._Receipt.details[e].item_id,t._Receipt.details[e].unit_id,0,t._Receipt.entry_date+" "+t._Receipt.entry_time).subscribe(function(r){console.log(r),r.length>0?(i=Number((r[0].avgcost||0).toFixed(t._Currencyprecision)),t._Receipt.details[e].price=i*t._Receipt.details[e].conv/n,t.OnSelectedItem(t._Receipt.details[e],e),t.CalaculteValuesItemsRow(e)):(i=0,t._Receipt.details[e].price=i*t._Receipt.details[e].conv/n,t.OnSelectedItem(t._Receipt.details[e],e),t.CalaculteValuesItemsRow(e))}),t.cd.markForCheck()},1e3)}},{key:"ChangeQty",value:function(e){var t=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.timeout=null,t.StockBalances(e),t.CheckBalanceForItemInStore(e),t.CalaculteValuesItemsRow(e)},1e3)}},{key:"OnSelectedItem",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this.SelectedItem=e,this.itemqtyview=!1,null!=t&&this.StockBalances(t),""==n&&null!=t&&this.CheckBalanceForItemInStore(t)}},{key:"AddItems",value:function(){if(this._CashSalesDetailsReceipt=new S.hm,this._Receipt.details.length>0){this._CashSalesDetailsReceipt.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,this._CashSalesDetailsReceipt.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode;var e=0;this._Receipt.details.forEach(function(t){e+=t.qty}),this._Receipt.qtotal=e,this._Receipt.totalitem=this._Receipt.details.length}else{0==this._Receipt.id?(this._CashSalesDetailsReceipt.store_id=this.StoreCostCenterSetting.storeid,this._CashSalesDetailsReceipt.storecode={code:this.StoreCostCenterSetting.storecode}):(this._CashSalesDetailsReceipt.store_id=this._ReceiptOriginal.details[0].store_id,this._CashSalesDetailsReceipt.storecode=this._ReceiptOriginal.details[0].storecode);var t=0;this._Receipt.details.forEach(function(e){t+=e.qty}),this._Receipt.qtotal=t,this._Receipt.totalitem=this._Receipt.details.length}this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move,this._Receipt.details.push(this._CashSalesDetailsReceipt),this.cd.markForCheck()}},{key:"DeleteItems",value:function(e){this.itemqtyview=!1;var t=this._Receipt.details[e];t.qty>0&&null!=t.batcheslist&&-1!=t.batcheslist.findIndex(function(e){return e.solidquantity>0})?this.toastr.error(this.DeleteUsedBatchesOrSerials):(1==this._Receipt.details.filter(function(e){return e.item_id==t.item_id}).length&&(this.ItemUnitsList=this.ItemUnitsList.filter(function(e){return e.item_id!=t.item_id})),this._Receipt.details.splice(e,1),0==this._Receipt.details.length&&(this._Receipt.discount_percent=0,this._Receipt.discount_foreignpercent=0,this._Receipt.deliveryfees=0,this._Receipt.deliveryfeesforeign=0,this._Receipt.discount_value=0,this._Receipt.discount_foreignvalue=0,this._Receipt.value=0,this._Receipt.valueforeign=0,this._Receipt.surchargevalueforeign=0,this._Receipt.surchargevalue=0),this.Calculate_Total_Tax_Net(),this._Receipt.totalitem=this._Receipt.details.length,this.OnSelectedItem(null),this.cd.markForCheck())}},{key:"CalaculteValuesItemsRow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"percent";this._Receipt.details[e].qty=this._Receipt.details[e].qty||0,this._Receipt.details[e].price=this._Receipt.details[e].price||0,this._Receipt.details[e].discount_value=this._Receipt.details[e].discount_value||0,this._Receipt.details[e].discount_percent=this._Receipt.details[e].discount_percent||0;var n=Number((this._Receipt.details[e].price*this._Receipt.details[e].qty).toFixed(this._Currencyprecision));"percent"==t&&(this._Receipt.details[e].discount_value=Number(((n*this._Receipt.details[e].discount_percent||0)/100).toFixed(this._Currencyprecision))),"value"==t&&(this._Receipt.details[e].discount_percent=100*(this._Receipt.details[e].discount_value/n%(1/0)||0)),this._Receipt.details[e].total=Number((n-this._Receipt.details[e].discount_value).toFixed(this._Currencyprecision)),this.Calculate_Total_Tax_Net(),this.cd.markForCheck()}},{key:"ReCalaculteValuesChangeItemsRow",value:function(e){this._Receipt.details[e].qty=this._Receipt.details[e].qty||1,this._Receipt.details[e].price=this._Receipt.details[e].price||0,this._Receipt.details[e].discount_value=this._Receipt.details[e].discount_value||0,this._Receipt.details[e].discount_percent=this._Receipt.details[e].discount_percent||0,this._Receipt.details[e].total=Number((this._Receipt.details[e].total||0).toFixed(this._Currencyprecision)),0==this._Receipt.details[e].discount_value?this._Receipt.details[e].price=Number((this._Receipt.details[e].total/this._Receipt.details[e].qty%(1/0)||0).toFixed(this._Currencyprecision)):0!=this._Receipt.details[e].discount_value&&(this._Receipt.details[e].price=Number(((this._Receipt.details[e].total+this._Receipt.details[e].discount_value)/this._Receipt.details[e].qty%(1/0)||0).toFixed(this._Currencyprecision)),this._Receipt.details[e].discount_percent=100*(this._Receipt.details[e].discount_value/(this._Receipt.details[e].price*this._Receipt.details[e].qty)%(1/0)||0)),this.Calculate_Total_Tax_Net(),this.cd.markForCheck()}},{key:"onFocusInCostCenter",value:function(e){this.GetCostCenterList("")}},{key:"CostCenterChangeSearch",value:function(e,t){this.GetCostCenterList(e.query.trim())}},{key:"CostCenterSelectEvent",value:function(e){this._Receipt.costcenterid=e.id}},{key:"GetCostCenterList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetCostcenterTransactionsbycertainIDS(this.subsidiaryID,t,this._Receipt.vendor_id).subscribe(function(t){e.CostCenterList=[],e.CostCenterList=t,e.CostCenterList.length>0&&e.setFieldNameForArray(e.CostCenterList,"costcenter"),e.cd.markForCheck()})}},{key:"onFocusInLocations",value:function(e){this.GetLocationsList("")}},{key:"LocationsChangeSearch",value:function(e,t){this.GetLocationsList(e.query.trim())}},{key:"LocationsSelectEvent",value:function(e){this._Receipt.locationid=e.id}},{key:"GetLocationsList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetSubsidaryLocations(this.subsidiaryID,t).subscribe(function(t){e.CostCenterList=[],e.LocationList=[],e.LocationList=t,e.LocationList.length>0&&e.setFieldNameForArray(e.LocationList,"location"),e.cd.markForCheck()})}},{key:"onFocusInClasses",value:function(e){this.GetClassesList("")}},{key:"ClassesChangeSearch",value:function(e,t){this.GetClassesList(e.query.trim())}},{key:"ClassesSelectEvent",value:function(e){this._Receipt.classid=e.id}},{key:"GetClassesList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetSubsidaryClasses(this.subsidiaryID,t).subscribe(function(t){e.CostCenterList=[],e.ClassList=[],e.ClassList=t,e.ClassList.length>0&&e.setFieldNameForArray(e.ClassList,"class"),e.cd.markForCheck()})}},{key:"onFocusInDepartment",value:function(e){this.GetDepartmentList("")}},{key:"DepartmentChangeSearch",value:function(e,t){this.GetDepartmentList(e.query.trim())}},{key:"DepartmentSelectEvent",value:function(e){this._Receipt.departmentid=e.id}},{key:"GetDepartmentList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetSubsidaryDepartments(this.subsidiaryID,t).subscribe(function(t){e.CostCenterList=[],e.DepartmentList=[],e.DepartmentList=t,e.DepartmentList.length>0&&e.setFieldNameForArray(e.DepartmentList,"department"),e.cd.markForCheck()})}},{key:"setFieldNameForArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=0;n<e.length;n++){var i=e[n];"costcenter"==t?i.costcenterfieldname="ar"==this.lang?i.sugar:i.sug:"location"==t?i.locationfieldname="ar"==this.lang?i.sugar:i.sug:"class"==t?i.classfieldname="ar"==this.lang?i.sugar:i.sug:"department"==t&&(i.departmentfieldname="ar"==this.lang?i.sugar:i.sug)}}},{key:"GetReceiptCodeList",value:function(){var e=this;this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID).subscribe(function(t){e.ReceiptCodeList=t;var n=e.ReceiptCodeList.find(function(t){return t.code==e.BasicCodeReceipt});e.Transaction_move=n.items,e.cd.markForCheck()})}},{key:"AddLinkedReceipt",value:function(){this._LinkedReceipt=new S.Cb,this._LinkedReceipt.code=this.BasicCodeReceipt,this._LinkedReceipt.branch_id=this._Receipt.branch_id,this._Receipt.linkedreceipts.push(this._LinkedReceipt),this.cd.markForCheck()}},{key:"GetLinkedReceipt",value:function(e){var t=this,n=this._Receipt.linkedreceipts[e];this.ItemLinkedReceipt=[],this.ItemComponentsLinkedReceipt=[],null!=n.branch_id&&null!=n.code&&null!=n.entry_no&&n.entry_no>0&&0==n.fire&&(this._Receipt.linkedreceipts[e].fire=1,this.spinner.show(),this._ReceiptSharedService.GetReceiptForLinkedReceipt(n.branch_id,n.code,n.entry_no).subscribe(function(n){if(t.spinner.hide(),null==n.receipt.id)t._Receipt.linkedreceipts[e].fire=0,t.toastr.error(t.ReceiptNotFound);else if(n.items.length>0){1==t._Receipt.linkedreceipts.length&&(t._Receipt.subsidiaryid=n.receipt.subsidiaryid,t._Receipt.customersalesprice=n.receipt.customersalesprice,t._Receipt.payment_type=n.receipt.payment_type,t._Receipt.currency_id=n.receipt.currency_id,t._Receipt.currency_rate=n.receipt.currency_rate,t._Receipt.empoyee_id=n.receipt.empoyee_id,t._Receipt.memo=n.receipt.memo,t._Receipt.reference_no=n.receipt.reference_no,t._CurrencySelected=t.CurrencyList.find(function(e){return e.id==t._Receipt.currency_id}),t.ForeignCurrencyShow=1!=t._CurrencySelected.basecurrency),t._Receipt.linkedreceipts[e].fire=1,t._Receipt.linkedreceipts[e].receiptid=n.receipt.id,t._Receipt.linkedreceipts[e].subsidiaryid=t.subsidiaryID,t._Receipt.linkedreceipts[e].parentreceiptid=t._Receipt.id;for(var i=0;i<t._Receipt.details.length;i++)null==t._Receipt.details[i].item_id&&(t._Receipt.details.splice(i,1),i--);n.itemunits.forEach(function(e){0==t.ItemUnitsList.filter(function(t){return t.item_id==e.item_id&&t.id==e.unit_id}).length&&t.ItemUnitsList.push(e)}),n.items.forEach(function(e){3!=e.item_type&&2!=e.item_type&&t.ItemLinkedReceipt.push(e)}),81==n.receipt.code&&(t.ItemLinkedReceipt=t.ItemLinkedReceipt.filter(function(e){return-1==e.transaction_move})),t.SetLinkReceiptItemRow(0,t.ItemLinkedReceipt[0])}else t.spinner.hide(),t._Receipt.linkedreceipts[e].fire=0,t.toastr.error(t.Receiptnoitems),t._Receipt.linkedreceipts[e].entry_no=null,t.cd.markForCheck()}))}},{key:"SetLinkReceiptItemRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;this._CashSalesDetailsReceipt=new S.hm;var n=this._Receipt.details.findIndex(function(e){return e.item_id==t.item_id&&e.unit_id==t.unit_id&&e.conv==t.conv});if(-1==n){this._Receipt.details.length>0?(this._CashSalesDetailsReceipt.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,this._CashSalesDetailsReceipt.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode):(this._CashSalesDetailsReceipt.store_id=t.store_id,this._CashSalesDetailsReceipt.storecode={code:t.storecode}),this._CashSalesDetailsReceipt.item_id=t.item_id,this._CashSalesDetailsReceipt.itemcode={code:t.itemcode},this._CashSalesDetailsReceipt.itemname=t.itemname,this._CashSalesDetailsReceipt.itemname_ar=t.itemname_ar,this._CashSalesDetailsReceipt.unit_id=t.unit_id,this._CashSalesDetailsReceipt.conv=t.conv,this._CashSalesDetailsReceipt.qty=t.qty,this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move,this._CashSalesDetailsReceipt.isrequireserial=t.isrequireserial,this._CashSalesDetailsReceipt.item_type=t.item_type,this._CashSalesDetailsReceipt.notes=t.notes,this._CashSalesDetailsReceipt.haswarrenty=t.haswarrenty,this._CashSalesDetailsReceipt.warrantydate=t.warrantydate,this._CashSalesDetailsReceipt.detailshtml=t.detailshtml,this._CashSalesDetailsReceipt.customitemname=t.customitemname,this._CashSalesDetailsReceipt.salesmanid=t.salesmanid,this._CashSalesDetailsReceipt.price=0!=t.priceafterincrease&&null!=t.priceafterincrease?t.priceafterincrease:t.price,this._CashSalesDetailsReceipt.discount_percent=t.discount_percent,this._CashSalesDetailsReceipt.discount_value=t.discount_value,this._CashSalesDetailsReceipt.total=t.total;var i=this.ItemUnitsList.filter(function(e){return e.item_id==t.item_id&&e.id==t.unit_id});this._CashSalesDetailsReceipt.conv=t.conv,this._CashSalesDetailsReceipt.final_conv=i[0].finalconv,this._CashSalesDetailsReceipt.discount_value=t.discount_value,this._CashSalesDetailsReceipt.discount_percent=t.discount_percent,this._Receipt.details.push(this._CashSalesDetailsReceipt),this.CalaculteValuesItemsRow(this._Receipt.details.length-1),e+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(e+1,this.ItemLinkedReceipt[e+1]):this.SetLinkReceiptItemComponentsRows()}else this._Receipt.details[n].qty=this._Receipt.details[n].qty+parseFloat(t.qty),this.CalaculteValuesItemsRow(n),e+1<this.ItemLinkedReceipt.length&&this.SetLinkReceiptItemRow(e+1,this.ItemLinkedReceipt[e+1])}},{key:"SetLinkReceiptItemComponentsRows",value:function(){if(this.spinner.hide(),this.IxLRS+1<this.LinkedReceiptListSelected.length){this.IxLRS=this.IxLRS+1;var e=this._Receipt.linkedreceipts.length-(this.IxLRS+1);1!=this._Receipt.linkedreceipts[e].fire&&this.GetLinkedReceipt(e)}else this.CheckBalanceForItemInStore(0,!0),this.StockBalances(0)}},{key:"OnOpenLinkedReceipt",value:function(e){var t=this,n=this._Receipt.linkedreceipts[e],i=this._ReceiptSharedService.ReceiptsLinked_Url_Codes.find(function(e){return e.Code==n.code});null!=this._Receipt.linkedreceipts[e].receiptid?""!=i.Url&&window.open(i.Url+this._Receipt.linkedreceipts[e].receiptid+"/show","_blank"):null!=n.branch_id&&null!=n.code&&null!=n.entry_no&&n.entry_no>0&&this._ReceiptSharedService.GetLinkedReceiptID(n.branch_id,n.code,n.entry_no).subscribe(function(e){""!=i.Url&&null!=e?window.open(i.Url+e.id+"/show","_blank"):t.toastr.error(t.ReceiptNotFound)})}},{key:"DeleteLinkedReceipt",value:function(e){this._Receipt.linkedreceipts.splice(e,1),this.cd.markForCheck()}},{key:"OnSignatureSet",value:function(e){this._Receipt.signature=e.signature}},{key:"Calculate_Total_Tax_Net",value:function(){var e=0;this._Receipt.details.forEach(function(t){e+=t.total}),1==this._Receipt.currency_rate?(this._Receipt.value=Number(e.toFixed(this._Currencyprecision)),this._Receipt.valueforeign=Number(e.toFixed(this._Currencyprecision))):(this._Receipt.valueforeign=Number(e.toFixed(this._Currencyprecision)),this._Receipt.value=Number((e/this._Receipt.currency_rate).toFixed(this._Currencyprecision))),this._Receipt.deliveryfees=this._Receipt.deliveryfees||0,this._Receipt.deliveryfeesforeign=this._Receipt.deliveryfeesforeign||0,this._Receipt.discount_foreignpercent=this._Receipt.discount_foreignpercent||0,this._Receipt.discount_foreignvalue=this._Receipt.discount_foreignvalue||0,this._Receipt.discount_percent=this._Receipt.discount_percent||0,this._Receipt.discount_value=this._Receipt.discount_value||0,this._Receipt.surchargepercent=this._Receipt.surchargepercent||0,this._Receipt.surchargevalue=this._Receipt.surchargevalue||0;var t=0;this._Receipt.details.forEach(function(e){t+=e.qty}),this._Receipt.qtotal=t,this.CalculateTax_Net(e)}},{key:"CalculateTax_Net",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;1==this._Receipt.currency_rate?(this._Receipt.netvalue=Number(e.toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0,this._Receipt.netvalueforeign=this._Receipt.netvalue):(this._Receipt.netvalueforeign=Number(e.toFixed(this._Currencyprecision)),this._Receipt.netvalueforeign=this._Receipt.netvalueforeign>=0?this._Receipt.netvalueforeign:0,this._Receipt.netvalue=Number((this._Receipt.netvalueforeign/this._Receipt.currency_rate).toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0)}},{key:"StockBalances",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!=e&&3!=this._Receipt.details[e].item_type?(this.itemqtyview=!1,this._itemstoreqtyobj=new S.I$,this._itemstoreqtyobj.subsidairyid=this.subsidiaryID,this._itemstoreqtyobj.ReceiptCode=this.BasicCodeReceipt,this._itemstoreqtyobj.BranchID=this._Receipt.branch_id,this._itemstoreqtyobj.Entrydate=this._Receipt.entry_date,this._itemstoreqtyobj.Unit_ID=this._Receipt.details[e].unit_id,this._itemstoreqtyobj.conv=this._Receipt.details[e].conv,this._itemstoreqtyobj.itemid=this._Receipt.details[e].item_id,this.itemqtyview=!0):(this.itemqtyview=!1,this._itemstoreqtyobj=new S.I$)}},{key:"CheckBalanceForItemInStore",value:function(e){var n,i=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];1==a&&(this.DuringSaveDisable=!0,this.cd.markForCheck());var o=!0,c=new S.I$;if(null!=this._Receipt.details[e].item_id){c.ReceiptCode=this.BasicCodeReceipt,c.BranchID=this._Receipt.branch_id,c.Entrydate=this._Receipt.entry_date,c.Unit_ID=this._Receipt.details[e].unit_id,c.conv=this._Receipt.details[e].conv,c.Qty=0,c.itemid=this._Receipt.details[e].item_id,c.StoreID=this._Receipt.details[e].store_id,c.subsidairyid=this.subsidiaryID,c.ReceiptID=this._Receipt.id;var l=null!==(n=this.ReceiptCodeList.filter(function(e){return e.code==i.BasicCodeReceipt})[0].items)&&void 0!==n?n:-1,s=this.InventorySetting[0].physicalnegativeinventoryid;2!=this._Receipt.details[e].item_type&&this._Receipt.details[e].qty<0&&1==s?this._ReceiptSharedService.CheckBalanceForItemInStore(c).subscribe(function(n){var c=0,s=0,d=0,p=[],u=!0;if(0==n.consignment.consignment){if(null!=n.totalqty.totalqty){if(c=n.totalqty.totalqty,p=n.itemcomponent,i._Receipt.details.filter(function(t){return t.item_id==i._Receipt.details[e].item_id}).forEach(function(e){var t=i.ItemUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=t){var n=null!=t.finalconv?t.finalconv:1,r=null!=t.conv?t.conv:1,a=e.conv;s=parseFloat(s.toString())+n*(a/r)*parseFloat(e.qty.toString())}}),3!=i._Receipt.details[e].item_type&&function(){i._Receipt.itemscomponent.filter(function(t){return t.item_id==i._Receipt.details[e].item_id&&null!=t.id}).forEach(function(e){var t=i.ItemComponentUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=t){var n=(null!=t.finalconv?t.finalconv:1)*(e.conv/(null!=t.conv?t.conv:1))*parseFloat(e.qty.toString());s=parseFloat(s.toString())+n}});for(var n=[],r=[],a=i._Receipt.details.filter(function(e){return 3==e.item_type&&null==e.id}),o=function(o){n=[],r=[],n=i._Receipt.itemscomponent.filter(function(t){return t.finishedproductid==a[o].item_id&&t.item_id==i._Receipt.details[e].item_id&&null==t.id}),r=t(new Map(n.map(function(e){return[e.finishedproductid,e]&&[e.item_id,e]})).values());for(var c=function(e){var t=r[e].basicqtycomponent*a[o].qty,n=i.ItemComponentUnitsList.find(function(t){return t.item_id==r[e].item_id&&t.id==r[e].unit_id});if(null!=n){var c=(null!=n.finalconv?n.finalconv:1)*(r[e].conv/(null!=n.conv?n.conv:1))*parseFloat(t.toString());s=parseFloat(s.toString())+c}},l=0;l<r.length;l++)c(l)},c=0;c<a.length;c++)o(c)}(),-1==l?d=c-s:1==l&&(d=c+s),3==i._Receipt.details[e].item_type)for(var m=function(e){if(2!=p[e].item_type){var n=i._Receipt.details.filter(function(t){return t.item_id==p[e].item_id}),r=0;if(n.forEach(function(e){var n=i.ItemUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=n){var a=null!=n.finalconv?n.finalconv:1,o=null!=n.conv?n.conv:1,c=e.conv;r=parseFloat(r.toString())+a*(c/o)*parseFloat(e.qty.toString())}i._Receipt.itemscomponent.filter(function(t){return t.item_id==e.item_id&&null!=t.id}).forEach(function(e){var t=i.ItemComponentUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=t){var n=(null!=t.finalconv?t.finalconv:1)*(e.conv/(null!=t.conv?t.conv:1))*parseFloat(e.qty.toString());r=parseFloat(r.toString())+n}});for(var l=[],s=[],d=i._Receipt.details.filter(function(e){return 3==e.item_type&&null==e.id}),p=function(n){l=[],s=[],l=i._Receipt.itemscomponent.filter(function(t){return t.finishedproductid==d[n].item_id&&t.item_id==e.item_id&&null==t.id}),s=t(new Map(l.map(function(e){return[e.finishedproductid,e]&&[e.item_id,e]})).values());for(var a=function(e){var t=s[e].basicqtycomponent*d[n].qty,a=i.ItemUnitsList.find(function(t){return t.item_id==s[e].item_id&&t.id==s[e].unit_id});if(null!=a){var o=(null!=a.finalconv?a.finalconv:1)*(s[e].conv/(null!=a.conv?a.conv:1))*parseFloat(t.toString());r=parseFloat(r.toString())+o}},o=0;o<s.length;o++)a(o)},u=0;u<d.length;u++)p(u)}),!(r<=p[e].totalqty))return u=!1,"break";u=!0}},h=0;h<p.length;h++){if("break"===m(h))break}o=d>=0&&1==u}else o=!1;0==o?(i._Receipt.details[e].allowqtyselectforitem=!1,i.cd.markForCheck(),i.toastr.warning(i.qtyErrorMsg+c)):(i._Receipt.details[e].allowqtyselectforitem=!0,i.cd.markForCheck())}1==r&&e+1<i._Receipt.details.length?i.CheckBalanceForItemInStore(e+1,!0,a):1==a&&i.SaveReceipt()}):1==r&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,a):1==a&&this.SaveReceipt()}else 1==r&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,a):1==a&&this.SaveReceipt()}},{key:"CreateNewAction",value:function(){var e=this;JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||1==this.ShowModeReceipt||this.ReceiptID>0&&!this.checkRoleParms(626)?this._router.navigate(["/page/inventorytransiction/adjustmentvoucher/0"]).then(function(){window.location.reload()}):Me().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(t){t.value?e.CheckPre_SaveReceipt(e.RForm):t.dismiss===Me().DismissReason.cancel&&e._router.navigate(["/page/inventorytransiction/adjustmentvoucher/0"]).then(function(){window.location.reload()})})}},{key:"DeleteAction",value:function(){var e=this;Me().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(t){t.isConfirmed&&1==t.isConfirmed&&e._ReceiptSharedService.DeleteReceipts(e._Receipt.id).subscribe(function(t){0==t.bcount?(e.toastr.success(e.toastrSuccessDelete),e._router.navigate(["/page/inventorytransiction/adjustmentvoucher"])):-1==t.bcount?(t.usedserials.forEach(function(t){var n=e._Receipt.details.findIndex(function(e){return e.item_id==t.itemid&&e.batcheslist[0].id==t.id});-1!=n&&(e._Receipt.details[n].allowqtyselectforitem=!1)}),e.toastr.error(e.RelatedwithSerialsOrBatches)):e.toastr.error(e.DeleteRelationmsg)})})}},{key:"GetMaxCostPostedSerDate",value:function(){var e=this;this._ReceiptSharedService.GetMaxCostPostedSerDate(this._Receipt.entry_date,this.subsidiaryID).subscribe(function(t){var n=e.datepipe.transform(t[0].maxpostingdate,"yyyy-MM-dd");Date.parse(n.toString())<Date.parse(e._Receipt.entry_date.toString())?(e.ShowModeReceipt=!1,e.ValidPeriod=!0):(e.ShowModeReceipt=!0,e.ValidPeriod=!1,e.ShowPopUpCostPostedSerDate()),e.cd.markForCheck()})}},{key:"DupilcateAction",value:function(){var e=this;this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(function(t){e._Receipt.entry_no=0==t.length?1:t[0].entry_no+1,e.entry_no=e._Receipt.entry_no,e.location.replaceState("/page/inventorytransiction/adjustmentvoucher/0"),e.ReceiptID=0,e._Receipt.id=null,e.VouchersLinkedCount=0,e.CheckBalanceForItemInStore(0,!0),e.cd.markForCheck()})}},{key:"DocumentAction",value:function(){this._router.navigate(["/page/setupsettings/documents/3/"+this._Receipt.id+"/adjustmentvoucher"],{relativeTo:this._activeRoute,queryParams:{show:this.LockedRecepit}})}},{key:"onPrint",value:function(){var e=this,t=this.getReportfilter(0);this._VerifyReportsService.SaveVerifyReports(this.subsidiaryID,this.lang).subscribe(function(n){e.reporturl="".concat(e.reportdomainUrl,"?q=").concat(t.reportName,"&ID=").concat(t.ReceiptID),""!=t.lang&&(e.reporturl=e.reporturl+"&Lang=".concat(t.lang)),""!=t.DomainName&&(e.reporturl=e.reporturl+"&DomainName=".concat(t.DomainName)),""!=t.toEmail&&(e.reporturl=e.reporturl+"&email=".concat(t.toEmail,"+&Subject=").concat(t.Subject,"+&boby=").concat(t.boby)),e.reporturl=e.reporturl+"&Info=".concat(n),e._authService.showReportInNextTab(e.reporturl),e.cd.markForCheck()})}},{key:"sendEmail",value:function(e){var t=this;this._emailobj=e.list;var n=this.getReportfilter(0);this.spinner.show(),this._ReceiptSharedService.GetReport(n).subscribe(function(e){t.spinner.hide(),alert(t.mailmsg)}),this.cd.markForCheck()}},{key:"getReportfilter",value:function(){this._authService.userInfo();var e="",t="";"ar"==this.lang&&(t="_ar");var n={reportName:e="P_I_83_Adjustment"+t,SubsidaryID:this.subsidiaryID,ReceiptID:this._Receipt.id,lang:"",DomainName:"",toEmail:"",Subject:"",boby:""};return n.reportName=e,n.toEmail=this._emailobj.email,n.Subject=this._emailobj.subject,n}},{key:"BackAction",value:function(){var e=this;JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||this.ReceiptID>0&&!this.checkRoleParms(626)||0==this.ReceiptID&&!this.checkRoleParms(248)||1==this.ShowModeReceipt?this._router.navigate(["/page/inventorytransiction/adjustmentvoucher"]):Me().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(t){t.value?e.CheckPre_SaveReceipt(e.RForm):t.dismiss===Me().DismissReason.cancel&&e._router.navigate(["/page/inventorytransiction/adjustmentvoucher"])})}},{key:"getCurrentDate",value:function(){var e=new Date,t=e.getFullYear();return e.getMonth()+1+"/"+e.getDate()+"/"+t}},{key:"getwarrantydateDate",value:function(){var e=new Date,t=e.getFullYear()+1;return e.getMonth()+1+"/"+e.getDate()+"/"+t}},{key:"SetTimeNow",value:function(){var e=new Date;return("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)}},{key:"OpenModal",value:function(e){this.modalReference=this.modalService.open(e,{size:"xl",backdrop:"static"})}},{key:"CloseModal",value:function(){this.modalReference.close()}},{key:"formateDecimal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return e.toFixed(t)}},{key:"OnSerialItems",value:function(e,t,n,i){t.qty>0?this.OnSerialItemsForPositive(e,t,n):t.qty<0?this.OnSerialItemsForNegative(e,i):this.toastr.error(this.InValidQty)}},{key:"OnSerialItemsForPositive",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(console.log(e,"ix",t),this.SelectedRowIndex=e,this.RowItem=t,t.qty<=0)this.toastr.error(this.InValidQty);else{if(this.requiredserialForPositive=this._Receipt.details[e].isrequireserial,0==this._Receipt.details[e].batcheslist.length)this.AddNewRow(e);else{var r=this.ItemUnitsList.filter(function(t){return t.item_id==n._Receipt.details[e].item_id&&t.id==n._Receipt.details[e].unit_id});this._Receipt.details[e].batcheslist[0].qty=this._Receipt.details[e].qty*(this._Receipt.details[e].conv*r[0].finalconv/r[0].conv)}this.OpenModal(i)}}},{key:"ChangeBatchQty",value:function(e,t,n){}},{key:"AddNewRow",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._ReceiptSharedService.GetStoreByID(this.RowItem.store_id).subscribe(function(n){var i,r;console.log(n,"dd",e.RowItem);var a=new Ee.WB;a.storeid=e.RowItem.store_id,a.storename=null!==(i=null==n?void 0:n.name)&&void 0!==i?i:"",a.storename_ar=null!==(r=null==n?void 0:n.name_ar)&&void 0!==r?r:"";var o=e.ItemUnitsList.filter(function(n){return n.item_id==e._Receipt.details[t].item_id&&n.id==e._Receipt.details[t].unit_id}),c=e._Receipt.details[t].conv*o[0].finalconv/o[0].conv;a.qty=e._Receipt.details[t].qty*c,console.log(o,"_selectedunit",c,a.qty),a.serial=e._Receipt.details[t].batcheslist.length>0?e._Receipt.details[t].batcheslist.length+1:1,e._Receipt.details[t].batcheslist.push(a),e.cd.markForCheck(),console.log(e._Receipt.details[t].batcheslist,"this.BatchesList")})}},{key:"SubmitOk",value:function(e){e.valid&&this.CloseModal()}},{key:"ChangeBatchNo",value:function(e,t,n){this._Receipt.details[this.SelectedRowIndex].batcheslist[n].batchno=t,console.log(this._Receipt.details,"ChangeBatchNo")}},{key:"DeleteRow",value:function(e,t){this._Receipt.details[this.SelectedRowIndex].batcheslist.pop(),console.log(this._Receipt.details,"DeleteRow")}},{key:"CheckBatchesAndSerials",value:function(){var e=this;this.BatchesAndSeialsList=[],console.log(this.BatchesAndSeialsList,"BatchesAndSeialsList"),this._Receipt.details.some(function(e){return 3==e.isrequireserial&&e.qty>0})?(console.log("Validate"),this._Receipt.details.forEach(function(n){n.qty>0&&(e.BatchesAndSeialsList=[].concat(t(e.BatchesAndSeialsList),t(n.batcheslist)))}),this.ValidateInFrontEnd()?(this.DuringSaveDisable=!0,this.Save()):this.DuringSaveDisable=!1):(this.DuringSaveDisable=!0,console.log("Saved"),this.Save())}},{key:"ValidateInFrontEnd",value:function(){return 0==this.ValidateBatchesAndSerialsList()?(this.toastr.error(this.InValidNumberOfBatch),!1):(this._Receipt.details.map(function(e){e.qty>0&&e.batcheslist.length>0&&""==e.batcheslist[0].batchno&&(e.batcheslist[0].batchno=new Date(e.batcheslist[0].date).toLocaleDateString()+"_"+e.item_id)}),!0)}},{key:"ValidateBatchesAndSerialsList",value:function(){var e=this,t=!0;this.BatchesAndSeialsList.forEach(function(e){return 0==e.qty||null==e.qty||null==e.date||""==e.date?t=!1:void 0});for(var n=0,i=function(t){if(3==e._Receipt.details[t].isrequireserial&&e._Receipt.details[t].qty>0){var i=e.ItemUnitsList.filter(function(n){return n.item_id==e._Receipt.details[t].item_id&&n.id==e._Receipt.details[t].unit_id});n+=e._Receipt.details[t].qty*(e._Receipt.details[t].conv*i[0].finalconv/i[0].conv)}},r=0;r<this._Receipt.details.length;r++)i(r);return n!=this.BatchesAndSeialsList.reduce(function(e,t){return e+t.qty},0)&&(t=!1),t}},{key:"ValidateDublicateBatchesInFrontEnd",value:function(){for(var e=[],t=0;t<this._Receipt.details.length;t++)if(this._Receipt.details[t].qty>0){if(0==this._Receipt.details[t].batcheslist.length)continue;var n=this._Receipt.details[t].batcheslist[0];if(1==n.isdublicatebatch)continue;n.isdublicatebatch=!1;for(var i=t+1;i<this._Receipt.details.length;i++)if(this._Receipt.details[i].qty>0){if(0==this._Receipt.details[i].batcheslist.length)continue;n.batchno.toLowerCase().trim()==this._Receipt.details[i].batcheslist[0].batchno.toLowerCase().trim()&&new Date(n.date).toLocaleDateString()!=new Date(this._Receipt.details[i].batcheslist[0].date).toLocaleDateString()&&(this._Receipt.details[i].batcheslist[0].isdublicatebatch=!0,e.push(this._Receipt.details[i].batcheslist[0]))}}return e}},{key:"ValidateDublicateBatchesInBackEnd",value:function(){var e=this;console.log(this._Receipt.details,"this._Receipt.details"),this._ReceiptSharedService.ValidateDublicateBatches(this._Receipt.details).subscribe(function(t){if(e._Receipt.details=[],e._Receipt.details=null!=t?t:[],console.log(e._Receipt.details,"details"),e.cd.markForCheck(),e._Receipt.details.some(function(e){if(e.batcheslist.length>0)return 1==e.batcheslist[0].isdublicatebatch}))return Me().fire(e.DublicateBatchMassage),void(e.DuringSaveDisable=!1);e.DuringSaveDisable=!0,e.Save()})}},{key:"OnSerialItemsForNegative",value:function(e,n){var i,r=this;this.SelectedItem=this._Receipt.details[e],this.selectedindex=e;var a=Math.abs(this._Receipt.details[e].qty);if(a<=0)this.toastr.error(this.InValidQty);else{this.requiredserialForNegative=this._Receipt.details[e].isrequireserial;var o=this.ItemUnitsList.filter(function(t){return t.item_id==r._Receipt.details[e].item_id&&t.id==r._Receipt.details[e].unit_id});this._batchqty=a*(this._Receipt.details[e].conv*o[0].finalconv/o[0].conv),this._ReceiptSharedService.GetReceiptItemSerial(this._Receipt.details[e].item_id,this._Receipt.details[e].store_id,null!==(i=this._Receipt.id)&&void 0!==i?i:0,this._Receipt.entry_date+" "+this._Receipt.entry_time,this.subsidiaryID).subscribe(function(e){r.BatchesListForEatchRow=[];var i=[];if(i=e.seriallist,console.log(e.seriallist,"d.seriallist"),r._Receipt.details[r.selectedindex].batcheslist.forEach(function(e){var t=i.findIndex(function(t){return t.id==e.previtemserialid});-1!=t&&(e.inv_receipt_d_id>0?null==r._Receipt.details[r.selectedindex].validrow||1==r._Receipt.details[r.selectedindex].validrow?(i[t].qty=e.qty,i[t].oldqty=e.qty,r._Receipt.details[r.selectedindex].validrow=!0):i[t].availableqty=i[t].availableqty+e.qty:1==r._Receipt.details[r.selectedindex].validrow&&(i[t].qty=e.qty,i[t].oldqty=e.qty,i[t].availableqty=i[t].availableqty-e.qty,r._Receipt.details[r.selectedindex].validrow=!0))}),r._Receipt.id>0)for(var a=0;a<i.length;a++)null==i[a].qty&&0==i[a].availableqty||r.BatchesListForEatchRow.push(i[a]);else r.BatchesListForEatchRow=t(i);r.OpenModal(n)})}}},{key:"saveserial",value:function(e){var t=this;if(e.valid){if(this.BatchesListForEatchRow.some(function(e){return e.qty>e.availableqty+e.oldqty}))return this.toastr.error(this.QtyIsValidWithAvailableQty),void(this._Receipt.details[this.selectedindex].validrow=!1);var n,i=0;if(this.BatchesListForEatchRow.forEach(function(e){var t;i+=null!==(t=+e.qty)&&void 0!==t?t:0}),i!=this._batchqty)return this.toastr.error(this.InValidNumberOfBatch),void(this._Receipt.details[this.selectedindex].validrow=!1);var r=1;this.BatchesListForEatchRow.map(function(e){if(r++,e.qty>0){var i=t._Receipt.details[t.selectedindex].batcheslist.findIndex(function(t){return t.previtemserialid==e.id});-1!=i?t._Receipt.details[t.selectedindex].batcheslist[i].qty=+e.qty.toString():((n=new Ee.WB).id=0,n.qty=+e.qty,n.storeid=e.storeid,n.storename=e.name,n.storename_ar=e.name_ar,n.batchno=e.serial,n.date=e.expire_date,n.previtemserialid=e.id,n.serial=r,n.valid=!1,n.isdublicatebatch=!1,n.isused=!1,n.inv_receipt_d_id=null,n.solidquantity=null,t._Receipt.details[t.selectedindex].batcheslist.push(n)),t._Receipt.details[t.selectedindex].validrow=!0}}),this.CloseModal()}console.log(this._Receipt.details,"this._Receipt.details")}},{key:"ChangeBatchQtyForNegative",value:function(e,t){if(+t>(null==e?void 0:e.availableqty)+(null==e?void 0:e.oldqty))return this.toastr.error(this.QtyIsValidWithAvailableQty),this._Receipt.details[this.selectedindex].validrow=!1,e.qty=null,e.availableqty=e.availableqty+e.oldqty,void(e.oldqty=0);e.qty=+t,e.availableqty=e.availableqty+e.oldqty-+t,e.oldqty=+t}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}},{key:"customTrackBy",value:function(e,t){return e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(M["\u0275\u0275directiveInject"](b.n),M["\u0275\u0275directiveInject"](Pe.v),M["\u0275\u0275directiveInject"](R.t),M["\u0275\u0275directiveInject"](Oe.H),M["\u0275\u0275directiveInject"](M.ChangeDetectorRef),M["\u0275\u0275directiveInject"](I._W),M["\u0275\u0275directiveInject"](m.F0),M["\u0275\u0275directiveInject"](P.m),M["\u0275\u0275directiveInject"](h.sK),M["\u0275\u0275directiveInject"](O.K),M["\u0275\u0275directiveInject"](m.gz),M["\u0275\u0275directiveInject"](F.FF),M["\u0275\u0275directiveInject"](k.t2),M["\u0275\u0275directiveInject"](E.e),M["\u0275\u0275directiveInject"](w.$),M["\u0275\u0275directiveInject"](x.J),M["\u0275\u0275directiveInject"](l.uU),M["\u0275\u0275directiveInject"](l.Ye))},e.\u0275cmp=M["\u0275\u0275defineComponent"]({type:e,selectors:[["app-adjustment-voucher-details"]],viewQuery:function(e,t){var n;(1&e&&M["\u0275\u0275viewQuery"](Yx,5),2&e)&&(M["\u0275\u0275queryRefresh"](n=M["\u0275\u0275loadQuery"]())&&(t.RForm=n.first))},features:[M["\u0275\u0275ProvidersFeature"]([b.n,Pe.v,R.t,l.uU,Oe.H,x.J])],decls:10,vars:4,consts:[["class","row",4,"ngIf"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],["PatchModalForPositive",""],["PatchModalForNegative",""],[1,"row"],[1,"HasNotPermission",2,"margin","auto","width","auto","margin-top","200px"],[1,"col-md-12","col-lg-12"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"container-fluid","py-4","pl-0","pr-0"],[1,"card","my-2","mx-2","px-3","pb-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"col-12","text-right","actionBtns"],["type","submit",1,"btn","btn-success","mr-2","mb-2"],[1,"ft-check-square","mr-1"],["type","button",1,"btn","btn-success","mr-2","mb-2",3,"click"],["class","btn btn-primary mr-2 mb-2","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-danger","mr-2","mb-2",3,"click"],[1,"btn-group","mr-2","mb-2","mt-3"],["type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-primary","dropdown-toggle"],[1,"dropdown-menu"],[1,"col-12","col-md-6","mb-2","mb-md-0"],[1,"form-group"],["for","Category",1,"col-form-label"],[2,"color","red","font-weight","bold"],["name","Branch","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["Branch","ngModel"],["Value","null",4,"ngIf"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12","col-md-3","mb-2","mb-md-0"],["for","VendorCode",1,"col-form-label"],["type","text","id","entry_no","name","entry_no","PositiveNumbersOrDecimalOnly","","required","","customMin","",1,"form-control",3,"stepallow","ngModel","readonly","Min","CheckMin","ngClass","ngModelChange","keydown.space"],["entry_no","ngModel"],["for","entry_date",1,"col-form-label"],["type","date","id","entry_date","name","entry_date","required","",1,"form-control",3,"ngModel","readonly","ngClass","ngModelChange"],["entry_date","ngModel"],["for","entry_time",1,"col-form-label"],["type","time","id","entry_time","name","entry_time",1,"form-control",3,"readonly","ngModel","ngModelChange"],["entry_time","ngModel"],["for","reference_no",1,"col-form-label"],["type","text","id","reference_no","name","reference_no",1,"form-control",3,"ngModel","ngModelChange"],["reference_no","ngModel"],["for","memo",1,"col-form-label"],["type","text","id","memo","name","memo",1,"form-control",3,"ngModel","ngModelChange"],["memo","ngModel"],[1,"col-12","nav-wrapper","position-relative","end-0","mt-3"],[1,"col-xl-7","col-md-7"],["ngbNav","",1,"nav","nav-pills","nav-fill","p-1",3,"destroyOnHide","activeId","activeIdChange"],["nav","ngbNav"],[1,"nav-item",3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavItem"],[1,"mt-2",3,"ngbNavOutlet"],[1,"row","col-md-5",2,"margin-top","4rem"],[1,"col"],[1,"table-responsive","table","table-accountdetails"],[1,"table"],["scope","col"],["scope","col",3,"hidden"],[3,"hidden"],["PositiveNumbersOnly","","type","number","name","ovr_ForiegnTotal",1,"form-control",3,"readonly","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalTotal",1,"form-control",3,"readonly","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalTotalqty",1,"form-control","totalValInput","font-weight-bold",3,"readonly","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalTotalitem",1,"form-control","totalValInput","font-weight-bold",3,"readonly","ngModel","ngModelChange"],[1,"row","col-md-7"],["type","button",1,"btn","btn-primary","mr-2","mb-2",3,"click"],["class","dropdown-item","type","button",3,"click",4,"ngIf"],[3,"entryno","_savedemailobj"],["type","button",1,"dropdown-item",3,"click"],["Value","null"],[3,"value"],[1,"row",2,"margin-top","10px"],[1,"table-responsive","table","table-accountdetails",3,"ngClass"],["scope","col",2,"width","5%"],["scope","col",2,"width","9%"],["scope","col",4,"ngIf"],["scope","col",2,"min-width","30px"],[4,"ngFor","ngForOf","ngForTrackBy"],["type","button",1,"btn","btn-success",3,"click"],[2,"padding-top","15px !important"],["minLength","0","delay","0","field","code",3,"ngModel","disabled","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoStore",""],["pTemplate","servstoreTemplate"],["minLength","0","delay","0","field","code",3,"ngModel","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoItems",""],["pTemplate","servCodeTemplate"],[3,"click"],[3,"ngClass",4,"ngIf"],[1,"form-control",3,"name","ngModel","required","ngClass","ngModelChange","change"],["itemunit","ngModel"],[3,"ngValue",4,"ngIf"],[3,"ngValue","selected",4,"ngFor","ngForOf"],["required","","NumbersOnly","","type","number",1,"form-control",3,"CheckMin","ngModel","name","ngClass","keyup","ngModelChange"],["item_qty","ngModel"],["href","javascript:;",2,"color","red",3,"click"],[1,"fa","fa-trash","fa-lg"],["href","javascript:;",1,"info","p-0",3,"hidden","click"],[1,"fa","fa-list","font-medium-3","mr-2"],[3,"ngClass"],[3,"ngValue"],[3,"ngValue","selected"],["customMin","","PositiveNumbersOrDecimalOnly","","type","number",1,"form-control",3,"readonly","step","Min","CheckMin","stepallow","ngModel","name","required","ngClass","keyup","ngModelChange"],["item_conv","ngModel"],["PositiveNumbersOnly","","type","number","customMin","",1,"form-control",3,"ngModel","name","readonly","Min","CheckMin","ngClass","keyup","ngModelChange"],["price","ngModel"],["PositiveNumbersOnly","","type","number",1,"form-control",2,"background-color","silver",3,"ngModel","name","readonly","keyup","ngModelChange"],[4,"ngFor","ngForOf"],[1,"form-control","red",3,"name","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","number",1,"form-control","red",3,"ngModel","name","ngModelChange"],["LinkedReceiptsentry_no","ngModel"],["href","javascript:;",2,"color","green",3,"click"],["aria-hidden","true",1,"fa","fa-plus-square","fa-lg"],["href","javascript:;",1,"info","p-0",3,"click"],["aria-hidden","true",1,"fa","fa-eye","fa-lg"],[3,"signature","signatureoutput"],[1,"col-md-12","row"],[1,"col-md-3","form-group"],[1,"col-form-label"],["minLength","0","delay","0","field","costcenterfieldname","name","CostCenter",3,"required","ngModel","suggestions","ngClass","showEmptyMessage","emptyMessage","forceSelection","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoCostCenter","","CostCenter","ngModel"],["pTemplate","CostCenterTemplate"],["class","col-md-3 form-group",4,"ngIf"],["style","color: red; font-weight: bold",4,"ngIf"],["minLength","0","delay","0","field","classfieldname","name","Classes",3,"required","ngModel","suggestions","ngClass","showEmptyMessage","emptyMessage","forceSelection","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoClasses","","Classes","ngModel"],["pTemplate","ClassesTemplate"],["minLength","0","delay","0","field","locationfieldname","name","Location",3,"required","ngModel","suggestions","ngClass","showEmptyMessage","emptyMessage","forceSelection","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoLocation","","Location","ngModel"],["pTemplate","LocationTemplate"],["minLength","0","delay","0","field","departmentfieldname","name","Department",3,"required","ngModel","suggestions","ngClass","showEmptyMessage","emptyMessage","forceSelection","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoDepartment","","Department","ngModel"],["pTemplate","DepartmentTemplate"],[3,"wrappe"],["ItemStoreQty",""],[1,"modal-header"],["class","modal-title",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"col-md-12"],[1,"table-responsive"],[2,"width","10%"],["style","width: 15%",4,"ngIf"],[2,"width","20%"],[1,"modal-footer"],["type","submit",1,"btn","btn-secondary","mx-2"],[1,"modal-title"],[2,"width","15%"],["type","checkbox","disabled","",3,"name","checked"],["type","number","disabled","",1,"form-control",3,"name","value"],["type","text","disabled","",1,"form-control",3,"name","value"],["type","text",1,"form-control",3,"name","value","ngClass","disabled","change"],[1,"text-center"],[1,"btn","btn-sm","btn-danger",3,"disabled","click"],[1,"icon-trash"],["type","number","PositiveNumbersOnly","","min","0","disabled","",1,"form-control",3,"name","value","ngClass","change"],["type","date","required","",1,"form-control",3,"name","ngModel","ngClass","disabled","ngModelChange"],["type","button",1,"btn","btn-primary","col-md-4"],["type","button",1,"btn","btn-info","col-md-2","mx-2"],["type","button",1,"btn","btn-primary","col-md-2"],["style","width:\n                      15%",4,"ngIf"],["type","submit",1,"btn","btn-success"],["type","checkbox",3,"name","checked"],["type","number","PositiveNumbersOnly","","min","0",1,"form-control",3,"name","value","ngClass","change"],["style","color: red",4,"ngIf"],[2,"color","red"]],template:function(e,t){1&e&&(M["\u0275\u0275template"](0,Hx,4,3,"div",0),M["\u0275\u0275template"](1,II,146,111,"ng-container",1),M["\u0275\u0275elementStart"](2,"ngx-spinner",2),M["\u0275\u0275elementStart"](3,"p",3),M["\u0275\u0275text"](4,"Loading..."),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](5,"div"),M["\u0275\u0275template"](6,qI,37,21,"ng-template",null,4,M["\u0275\u0275templateRefExtractor"]),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](8,ZI,36,22,"ng-template",null,5,M["\u0275\u0275templateRefExtractor"])),2&e&&(M["\u0275\u0275property"]("ngIf",!(t.checkRoleParms(247)||t.checkRoleParms(248)||t.checkRoleParms(249)||t.checkRoleParms(626)||t.checkRoleParms(250))),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",t.checkRolesParms(M["\u0275\u0275pureFunction0"](3,KI))),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("fullScreen",!0))},directives:[l.O5,k.Ro,d._Y,d.JL,d.F,d.EJ,d.Q7,d.JJ,d.On,l.mk,l.sg,d.Fj,we.L,De.a,F.Pz,F.nv,F.Vx,F.uN,F.tO,d.wV,L.K,Le.k,d.YN,d.Kr,u.Qc,Be.jx,Qx.X,Ve.t,qe.T],pipes:[h.X$,l.uU,Te.N],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.headerform[_ngcontent-%COMP%]{background-color:#2f8be6;color:#fff;height:44px;padding-top:9px;margin-bottom:17px}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important;text-align:center}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}.isExpired[_ngcontent-%COMP%]{color:red}']}),e}();function eP(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.sugar)}}function tP(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.sug)}}function nP(e,t){if(1&e&&(M["\u0275\u0275template"](0,eP,2,1,"div",27),M["\u0275\u0275template"](1,tP,2,1,"div",27)),2&e){var n=M["\u0275\u0275nextContext"]();M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function iP(e,t){1&e&&M["\u0275\u0275element"](0,"i",34)}function rP(e,t){1&e&&M["\u0275\u0275element"](0,"i",35)}function aP(e,t){1&e&&M["\u0275\u0275element"](0,"i",34)}function oP(e,t){1&e&&M["\u0275\u0275element"](0,"i",35)}function cP(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275element"](1,"i",24),M["\u0275\u0275template"](2,aP,1,0,"i",28),M["\u0275\u0275template"](3,oP,1,0,"i",29),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("hidden","BranchName"==n.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","BranchName"==n.sortColumn&&"asc"==n.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","BranchName"==n.sortColumn&&"desc"==n.sortDirection)}}function lP(e,t){1&e&&M["\u0275\u0275element"](0,"i",34)}function sP(e,t){1&e&&M["\u0275\u0275element"](0,"i",35)}function dP(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275element"](1,"i",24),M["\u0275\u0275template"](2,lP,1,0,"i",28),M["\u0275\u0275template"](3,sP,1,0,"i",29),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("hidden","BranchNameAR"==n.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","BranchNameAR"==n.sortColumn&&"asc"==n.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","BranchNameAR"==n.sortColumn&&"desc"==n.sortDirection)}}function pP(e,t){1&e&&M["\u0275\u0275element"](0,"i",34)}function uP(e,t){1&e&&M["\u0275\u0275element"](0,"i",35)}function mP(e,t){1&e&&M["\u0275\u0275element"](0,"i",34)}function hP(e,t){1&e&&M["\u0275\u0275element"](0,"i",35)}function gP(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275element"](1,"i",24),M["\u0275\u0275template"](2,mP,1,0,"i",28),M["\u0275\u0275template"](3,hP,1,0,"i",29),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("hidden","Name"==n.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Name"==n.sortColumn&&"asc"==n.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Name"==n.sortColumn&&"desc"==n.sortDirection)}}function _P(e,t){1&e&&M["\u0275\u0275element"](0,"i",34)}function vP(e,t){1&e&&M["\u0275\u0275element"](0,"i",35)}function fP(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275element"](1,"i",24),M["\u0275\u0275template"](2,_P,1,0,"i",28),M["\u0275\u0275template"](3,vP,1,0,"i",29),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("hidden","Namear"==n.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Namear"==n.sortColumn&&"asc"==n.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Namear"==n.sortColumn&&"desc"==n.sortDirection)}}function CP(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n?null:n.branchname)}}function yP(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n?null:n.branchname_ar)}}function bP(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.name)}}function SP(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.name_ar)}}function RP(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"tr"),M["\u0275\u0275elementStart"](1,"td"),M["\u0275\u0275text"](2),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](3,CP,2,1,"td",27),M["\u0275\u0275template"](4,yP,2,1,"td",27),M["\u0275\u0275elementStart"](5,"td"),M["\u0275\u0275text"](6),M["\u0275\u0275pipe"](7,"date"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](8,bP,2,1,"td",27),M["\u0275\u0275template"](9,SP,2,1,"td",27),M["\u0275\u0275elementStart"](10,"td"),M["\u0275\u0275elementStart"](11,"a",36),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).$implicit;return M["\u0275\u0275nextContext"]().onEdit(e.accountid)}),M["\u0275\u0275elementStart"](12,"span"),M["\u0275\u0275element"](13,"i",37),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](null==i?null:i.entry_no),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=r.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==r.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind2"](7,6,null==i?null:i.entry_date,"yyyy-MM-dd")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=r.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==r.lang)}}function xP(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",38),M["\u0275\u0275elementStart"](1,"ngb-pagination",39),M["\u0275\u0275listener"]("pageChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().onPageChange(e)})("pageChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().PageNo=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](2,"p"),M["\u0275\u0275text"](3),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](4,"div",6),M["\u0275\u0275elementStart"](5,"select",40),M["\u0275\u0275listener"]("change",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().onPageSizeChange(e.target.value)})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().PageSize=e}),M["\u0275\u0275elementStart"](6,"option",41),M["\u0275\u0275text"](7,"10 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](8,"option",42),M["\u0275\u0275text"](9,"25 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](10,"option",43),M["\u0275\u0275text"](11,"50 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](12,"option",44),M["\u0275\u0275text"](13,"100 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](14,"label",11),M["\u0275\u0275text"](15),M["\u0275\u0275pipe"](16,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("collectionSize",i.totalCount)("page",i.PageNo)("pageSize",i.PageSize)("maxSize",10)("boundaryLinks",!0),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",i._generalService.TotalDetailsTextShow(i.PageNo,i.PageSize,i.totalCount,i.lang)," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i.PageSize),M["\u0275\u0275advance"](10),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](16,8,"Records per page"))}}var MP=function(){var e=function(){function e(t,n,i,r,a,o,l,s,d,p,u,m,h,g){var _=this;c(this,e),this._cashsalesService=t,this._CustomerService=n,this.cd=i,this.toastr=r,this._router=a,this._generalService=o,this.translate=l,this._translateGlobalService=s,this.spinner=d,this._ReceiptSharedService=u,this._authService=m,this._printService=h,this._VerifyReportsService=g,this.loaded=!1,this.subsidiaryID=0,this.PageSize=10,this.PageNo=1,this.orderby="",this.SearchValue="",this.CustomerSearch="",this.ReceiptList=[],this.totalCount=0,this.BranchList=[],this.list=[],this._ReceiptSearch=new S.Wb,this.NumNotExist="",this.title="",this.timeout=null,this.sortDirection="asc",this.sortColumn="",this.Customerlist=[],this.Customerlistbycustomerid=[],this.CustomerAccountsList=[],this.SelectBranchMsg="",this.EntryNumberMsg="",this.subsidiaryID=this._generalService.SubsidiaryID,this.GetBranchList(),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(function(e){_.lang=e.lang,_.dir=e.dir,_.translate.use(e.lang),_.ngTransUnsubscribe=_.translate.get("SelectBranchError").subscribe(function(e){_.SelectBranchMsg=e}),_.ngTransUnsubscribe=_.translate.get("EntryNumberMsg").subscribe(function(e){_.EntryNumberMsg=e})}),p.params.subscribe(function(e){var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t?(console.log(t.branchId),_._ReceiptSearch.BranchID="null"!=t.branchId?t.branchId:0):_._ReceiptSearch.BranchID=0}),this.ngTransUnsubscribe=this.translate.get(["Issue Voucher With No Receipt"]).subscribe(function(e){_.title=e["Issue Voucher With No Receipt"],document.title=_.title}),this.ngTransUnsubscribe=this.translate.get(["NumNotExist"]).subscribe(function(e){_.NumNotExist=e.NumNotExist}),this.ngUnsubscribe=o.proadCastSubsidiaryID.subscribe(function(e){_.subsidiaryID=_._generalService.SubsidiaryID,_.GetCustomerReceiptsList(),_.GetCustomerReceiptsListCount()})}return o(e,[{key:"ngOnInit",value:function(){this.ReceiptCode=60,this.GetCustomerReceiptsList(),this.GetCustomerReceiptsListCount()}},{key:"ReceiptSearch",value:function(){this.GetCustomerReceiptsList(),this.GetCustomerReceiptsListCount()}},{key:"GetBranchList",value:function(){var e=this;this._cashsalesService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(function(t){e.BranchList=t,e.cd.markForCheck()})}},{key:"ChangeBranch",value:function(e){var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),this._ReceiptSearch.BranchID="0"!=e?e:0,localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this._ReceiptSearch.PageNo=1,this._ReceiptSearch.PageSize=10,this.ReceiptSearch()}},{key:"ChangePropFinish",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.timeout=null,e.ReceiptSearch()},1e3*t)}},{key:"GetCustomerReceiptsList",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.sortColumn=null==n?null:n,this.sortDirection="asc"==this.sortDirection?"desc":"asc","ar"==this.lang&&("BranchName"!=this.sortColumn&&"Name"!=this.sortColumn||(this.sortColumn=this.sortColumn+"ar")),null!=n&&(this.PageNo=1),null!=this.sortColumn&&""!=this.sortDirection&&(this.orderby=this.sortColumn+"."+this.sortDirection),this.spinner.show(),this._cashsalesService.GetCustomerReceiptsList(this.subsidiaryID,this.ReceiptCode,this.PageNo,this.PageSize,this.SearchValue,this.orderby,this.CustomerSearch).subscribe(function(n){console.log("Customerlist---d",n),e.ReceiptList=t(n),console.log(e.ReceiptList),e.spinner.hide(),e.cd.markForCheck()})}},{key:"GetCustomerReceiptsListCount",value:function(){var e=this;this._cashsalesService.GetCustomerReceiptsListCount(this.subsidiaryID,this.ReceiptCode,this.PageNo,this.PageSize,this.SearchValue,this.CustomerSearch).subscribe(function(t){e.totalCount=t[0].total,e.cd.markForCheck()})}},{key:"groupBy",value:function(e,t){return e.reduce(function(e,n){return(e[n[t]]=e[n[t]]||[]).push(n),e},{})}},{key:"onFocusInCustomerAccounts",value:function(e){this.GetCustomerAccountsList("")}},{key:"CustomerAccountsChangeSearch",value:function(e){this.GetCustomerAccountsList(e.query.trim())}},{key:"CustomerAccountsSelectEvent",value:function(e){var t=this;console.log(e),this.CustomerSearch=e.accountid,this.CustomerSearchname={name:e.name},setTimeout(function(){t.GetCustomerReceiptsList(),t.GetCustomerReceiptsListCount()},100)}},{key:"GetAllCustomer",value:function(){var e=this;this.CustomerSearch="",this.CustomerSearchname={name:""},setTimeout(function(){e.GetCustomerReceiptsList(),e.GetCustomerReceiptsListCount()},100)}},{key:"GetCustomerAccountsList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._CustomerService.CustomerAccountsList(this.subsidiaryID,t).subscribe(function(t){e.CustomerAccountsList=[],e.CustomerAccountsList=t,e.cd.markForCheck()})}},{key:"OnView",value:function(){this._router.navigate(["/page/inventorytransiction/receivingvoucherreturns/0"])}},{key:"onEdit",value:function(e){var t;t="/page/receivables/creditsales/0/".concat(e,"/0/0"),this._router.navigate([t])}},{key:"SearchReceiptByEntryNo",value:function(){null!=this._ReceiptSearch.EntryNo&&null!=this._ReceiptSearch.EntryNo?(this.PageNo=1,this.PageSize=10,this.GetCustomerReceiptsList(),this.GetCustomerReceiptsListCount()):this.toastr.warning(this.EntryNumberMsg)}},{key:"PrintPreview",value:function(e){var t=this,n=this.getReportfilter(e);this.spinner.show(),this._ReceiptSharedService.GetReport(n).subscribe(function(e){t.spinner.hide(),t._authService.printJS(e.bytes)}),this.cd.markForCheck()}},{key:"getReportfilter",value:function(e){var t=this._authService.userInfo().clientdatabase,n="";"ar"==this.lang&&(n="_ar");var i={reportName:"P_I_3_ReceivingVoucher"+n,SubsidaryID:this.subsidiaryID,ReceiptID:e,lang:"",DomainName:"",toEmail:"",Subject:"",boby:""};return t.indexOf("alromaih")>-1?"P_I_3_ReceivingVoucher_GL_WEB_alromaih":t.indexOf("bander")>-1||t.indexOf("win-69te7j9nfsu")>-1||t.indexOf("192.168.1.50")>-1||t.indexOf("localhost:1000")>-1?"P_I_3_ReceivingVoucher_Bandar"+n:t.indexOf("darshgf")>-1?i={reportName:"P_I_3_ReceivingVoucher_GL_WEB_darshgf",SubsidaryID:this.subsidiaryID,ReceiptID:e,lang:n,DomainName:"",toEmail:"",Subject:"",boby:""}:t.indexOf("istones")>-1&&(i={reportName:"P_S_52_Issue_GL_WEB_istones",SubsidaryID:this.subsidiaryID,ReceiptID:e,lang:n,DomainName:window.location.origin,toEmail:"",Subject:"",boby:""}),i}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"onPageChange",value:function(e){this._ReceiptSearch.PageNo=e,this.PageNo=e,this.GetCustomerReceiptsList()}},{key:"onPageSizeChange",value:function(e){this._ReceiptSearch.PageSize=e,this.PageSize=e,this.GetCustomerReceiptsList()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(M["\u0275\u0275directiveInject"](b.n),M["\u0275\u0275directiveInject"](Pe.v),M["\u0275\u0275directiveInject"](M.ChangeDetectorRef),M["\u0275\u0275directiveInject"](I._W),M["\u0275\u0275directiveInject"](m.F0),M["\u0275\u0275directiveInject"](P.m),M["\u0275\u0275directiveInject"](h.sK),M["\u0275\u0275directiveInject"](O.K),M["\u0275\u0275directiveInject"](k.t2),M["\u0275\u0275directiveInject"](m.gz),M["\u0275\u0275directiveInject"](R.t),M["\u0275\u0275directiveInject"](E.e),M["\u0275\u0275directiveInject"](w.$),M["\u0275\u0275directiveInject"](x.J))},e.\u0275cmp=M["\u0275\u0275defineComponent"]({type:e,selectors:[["creditsales"]],features:[M["\u0275\u0275ProvidersFeature"]([b.n,R.t,x.J,Pe.v])],decls:69,vars:40,consts:[[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-body"],[1,"col-12"],[1,"row"],[1,"card"],[1,"card-header"],[1,"col-lg-4","col-md-4","col-sm-12"],[1,"form-group"],[1,"m-1"],["minLength","0","delay","0","field","name","name","CreditAccount",3,"suggestions","ngModel","onFocus","onSelect","completeMethod","ngModelChange"],["autoCustomerAccounts",""],["pTemplate","CustomerAccountsTemplate"],[1,"col-lg-4","col-md-4","mt-3","col-sm-12"],[1,"btn","btn-primary","mt-3",3,"click"],[1,"form-group","row"],["for","SearchValue",1,"col-md-3","mt-3"],["type","text","id","SearchValue","name","SearchValue",1,"form-control","col-md-8","mt-3",3,"ngModel","ngModelChange","keyup"],[1,"card-content"],[1,"card-body","table-responsive"],[1,"table","text-center","m-0","table","table-striped"],[3,"click"],[1,"fa","fa-fw","fa-sort",3,"hidden"],["class","fa fa-fw fa-sort-desc",4,"ngIf"],["class","fa fa-fw fa-sort-asc",4,"ngIf"],[4,"ngIf"],["class","fa fa-fw\n                              fa-sort-desc",4,"ngIf"],["class","fa fa-fw\n                              fa-sort-asc",4,"ngIf"],[4,"ngFor","ngForOf"],["class","d-flex justify-content-between p-2",4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"fa","fa-fw","fa-sort-desc"],[1,"fa","fa-fw","fa-sort-asc"],["href","javascript:;",1,"primary","mr-1",3,"click"],["aria-hidden","true",1,"fa","fa-list"],[1,"d-flex","justify-content-between","p-2"],[1,"d-flex","justify-content-center",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","25"],["Value","50"],["Value","100"]],template:function(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",0),M["\u0275\u0275elementStart"](1,"div",1),M["\u0275\u0275elementStart"](2,"div",2),M["\u0275\u0275elementStart"](3,"h6",3),M["\u0275\u0275text"](4),M["\u0275\u0275pipe"](5,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](6,"div",4),M["\u0275\u0275elementStart"](7,"div",5),M["\u0275\u0275elementStart"](8,"section"),M["\u0275\u0275elementStart"](9,"div",6),M["\u0275\u0275elementStart"](10,"div",5),M["\u0275\u0275elementStart"](11,"div",7),M["\u0275\u0275elementStart"](12,"div",8),M["\u0275\u0275elementStart"](13,"div",6),M["\u0275\u0275elementStart"](14,"div",9),M["\u0275\u0275elementStart"](15,"div",10),M["\u0275\u0275elementStart"](16,"label",11),M["\u0275\u0275text"](17),M["\u0275\u0275pipe"](18,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](19,"p-autoComplete",12,13),M["\u0275\u0275listener"]("onFocus",function(e){M["\u0275\u0275restoreView"](n);var i=M["\u0275\u0275reference"](20);return t.onFocusInCustomerAccounts(e),i.show()})("onSelect",function(e){return t.CustomerAccountsSelectEvent(e)})("completeMethod",function(e){return t.CustomerAccountsChangeSearch(e)})("ngModelChange",function(e){return t.CustomerSearchname=e}),M["\u0275\u0275template"](21,nP,2,2,"ng-template",14),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](22,"div",15),M["\u0275\u0275elementStart"](23,"button",16),M["\u0275\u0275listener"]("click",function(){return t.GetAllCustomer()}),M["\u0275\u0275text"](24),M["\u0275\u0275pipe"](25,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](26,"div",15),M["\u0275\u0275elementStart"](27,"div",17),M["\u0275\u0275elementStart"](28,"label",18),M["\u0275\u0275text"](29),M["\u0275\u0275pipe"](30,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](31,"input",19),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.SearchValue=e})("keyup",function(){return t.ChangePropFinish()}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](32,"div",20),M["\u0275\u0275elementStart"](33,"div",21),M["\u0275\u0275elementStart"](34,"table",22),M["\u0275\u0275elementStart"](35,"thead"),M["\u0275\u0275elementStart"](36,"tr"),M["\u0275\u0275elementStart"](37,"th",23),M["\u0275\u0275listener"]("click",function(){return t.GetCustomerReceiptsList("Entry_No")}),M["\u0275\u0275text"](38),M["\u0275\u0275pipe"](39,"translate"),M["\u0275\u0275elementContainerStart"](40),M["\u0275\u0275element"](41,"i",24),M["\u0275\u0275template"](42,iP,1,0,"i",25),M["\u0275\u0275template"](43,rP,1,0,"i",26),M["\u0275\u0275elementContainerEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](44,"th",23),M["\u0275\u0275listener"]("click",function(){return t.GetCustomerReceiptsList("BranchName")}),M["\u0275\u0275text"](45),M["\u0275\u0275pipe"](46,"translate"),M["\u0275\u0275template"](47,cP,4,3,"ng-container",27),M["\u0275\u0275template"](48,dP,4,3,"ng-container",27),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](49,"th",23),M["\u0275\u0275listener"]("click",function(){return t.GetCustomerReceiptsList("Entry_Date")}),M["\u0275\u0275text"](50),M["\u0275\u0275pipe"](51,"translate"),M["\u0275\u0275elementContainerStart"](52),M["\u0275\u0275element"](53,"i",24),M["\u0275\u0275template"](54,pP,1,0,"i",28),M["\u0275\u0275template"](55,uP,1,0,"i",29),M["\u0275\u0275elementContainerEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](56,"th",23),M["\u0275\u0275listener"]("click",function(){return t.GetCustomerReceiptsList("Name")}),M["\u0275\u0275text"](57),M["\u0275\u0275pipe"](58,"translate"),M["\u0275\u0275template"](59,gP,4,3,"ng-container",27),M["\u0275\u0275template"](60,fP,4,3,"ng-container",27),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](61,"th"),M["\u0275\u0275text"](62,"\xa0"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](63,"tbody"),M["\u0275\u0275template"](64,RP,14,9,"tr",30),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](65,xP,17,10,"div",31),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](66,"ngx-spinner",32),M["\u0275\u0275elementStart"](67,"p",33),M["\u0275\u0275text"](68," Loading... "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}2&e&&(M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](5,24,"Issue Voucher With No Receipt")),M["\u0275\u0275advance"](13),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](18,26,"Customer Name")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("suggestions",t.CustomerAccountsList)("ngModel",t.CustomerSearchname),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](25,28,"All")," "),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](30,30,"Search")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",t.SearchValue),M["\u0275\u0275advance"](7),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](39,32,"EntryNo")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("hidden","Entry_No"==t.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Entry_No"==t.sortColumn&&"asc"==t.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Entry_No"==t.sortColumn&&"desc"==t.sortDirection),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](46,34,"Branch")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=t.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==t.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](51,36,"Date")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("hidden","Entry_Date"==t.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Entry_Date"==t.sortColumn&&"asc"==t.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Entry_Date"==t.sortColumn&&"desc"==t.sortDirection),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](58,38,"custvendor")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=t.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==t.lang),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("ngForOf",t.ReceiptList),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",t.totalCount>0),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("fullScreen",!0))},directives:[u.Qc,d.JJ,d.On,Be.jx,d.Fj,l.O5,l.sg,k.Ro,F.N9,d.EJ,d.YN,d.Kr],pipes:[h.X$,l.uU],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}.headerform[_ngcontent-%COMP%]{background-color:#2f8be6;color:#fff;height:44px;padding-top:9px;margin-bottom:17px}']}),e}();function IP(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.sugar)}}function PP(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.sug)}}function OP(e,t){if(1&e&&(M["\u0275\u0275template"](0,IP,2,1,"div",27),M["\u0275\u0275template"](1,PP,2,1,"div",27)),2&e){var n=M["\u0275\u0275nextContext"]();M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function kP(e,t){1&e&&M["\u0275\u0275element"](0,"i",34)}function EP(e,t){1&e&&M["\u0275\u0275element"](0,"i",35)}function wP(e,t){1&e&&M["\u0275\u0275element"](0,"i",34)}function DP(e,t){1&e&&M["\u0275\u0275element"](0,"i",35)}function BP(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275element"](1,"i",24),M["\u0275\u0275template"](2,wP,1,0,"i",28),M["\u0275\u0275template"](3,DP,1,0,"i",29),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("hidden","BranchName"==n.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","BranchName"==n.sortColumn&&"asc"==n.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","BranchName"==n.sortColumn&&"desc"==n.sortDirection)}}function LP(e,t){1&e&&M["\u0275\u0275element"](0,"i",34)}function FP(e,t){1&e&&M["\u0275\u0275element"](0,"i",35)}function NP(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275element"](1,"i",24),M["\u0275\u0275template"](2,LP,1,0,"i",28),M["\u0275\u0275template"](3,FP,1,0,"i",29),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("hidden","BranchNameAR"==n.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","BranchNameAR"==n.sortColumn&&"asc"==n.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","BranchNameAR"==n.sortColumn&&"desc"==n.sortDirection)}}function VP(e,t){1&e&&M["\u0275\u0275element"](0,"i",34)}function qP(e,t){1&e&&M["\u0275\u0275element"](0,"i",35)}function TP(e,t){1&e&&M["\u0275\u0275element"](0,"i",34)}function AP(e,t){1&e&&M["\u0275\u0275element"](0,"i",35)}function GP(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275element"](1,"i",24),M["\u0275\u0275template"](2,TP,1,0,"i",28),M["\u0275\u0275template"](3,AP,1,0,"i",29),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("hidden","Name"==n.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Name"==n.sortColumn&&"asc"==n.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Name"==n.sortColumn&&"desc"==n.sortDirection)}}function UP(e,t){1&e&&M["\u0275\u0275element"](0,"i",34)}function jP(e,t){1&e&&M["\u0275\u0275element"](0,"i",35)}function $P(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275element"](1,"i",24),M["\u0275\u0275template"](2,UP,1,0,"i",28),M["\u0275\u0275template"](3,jP,1,0,"i",29),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("hidden","Namear"==n.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Namear"==n.sortColumn&&"asc"==n.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Namear"==n.sortColumn&&"desc"==n.sortDirection)}}function zP(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n?null:n.branchname)}}function WP(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n?null:n.branchname_ar)}}function JP(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.name)}}function QP(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"td"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.name_ar)}}function YP(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"tr"),M["\u0275\u0275elementStart"](1,"td"),M["\u0275\u0275text"](2),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](3,zP,2,1,"td",27),M["\u0275\u0275template"](4,WP,2,1,"td",27),M["\u0275\u0275elementStart"](5,"td"),M["\u0275\u0275text"](6),M["\u0275\u0275pipe"](7,"date"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](8,JP,2,1,"td",27),M["\u0275\u0275template"](9,QP,2,1,"td",27),M["\u0275\u0275elementStart"](10,"td"),M["\u0275\u0275elementStart"](11,"a",36),M["\u0275\u0275listener"]("click",function(){var e=M["\u0275\u0275restoreView"](n).$implicit;return M["\u0275\u0275nextContext"]().onEdit(e.accountid)}),M["\u0275\u0275elementStart"](12,"span"),M["\u0275\u0275element"](13,"i",37),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](null==i?null:i.entry_no),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=r.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==r.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind2"](7,6,null==i?null:i.entry_date,"yyyy-MM-dd")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=r.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==r.lang)}}function HP(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",38),M["\u0275\u0275elementStart"](1,"ngb-pagination",39),M["\u0275\u0275listener"]("pageChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().onPageChange(e)})("pageChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().PageNo=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](2,"p"),M["\u0275\u0275text"](3),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](4,"select",40),M["\u0275\u0275listener"]("change",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().onPageSizeChange(e.target.value)})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().PageSize=e}),M["\u0275\u0275elementStart"](5,"option",41),M["\u0275\u0275text"](6,"10 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](7,"option",42),M["\u0275\u0275text"](8,"50 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](9,"option",43),M["\u0275\u0275text"](10,"100 "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275element"](11,"br"),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("collectionSize",i.totalCount)("page",i.PageNo)("pageSize",i.PageSize)("maxSize",5)("boundaryLinks",!0),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",i._generalService.TotalDetailsTextShow(i.PageNo,i.PageSize,i.totalCount,i.lang)," "),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngModel",i.PageSize)}}var ZP=function(){var e=function(){function e(t,n,i,r,a,o,l,s,d,p,u,m,h,g){var _=this;c(this,e),this._cashsalesService=t,this._CustomerService=n,this.cd=i,this.toastr=r,this._router=a,this._generalService=o,this.translate=l,this._translateGlobalService=s,this.spinner=d,this._ReceiptSharedService=u,this._authService=m,this._printService=h,this._VerifyReportsService=g,this.loaded=!1,this.subsidiaryID=0,this.PageSize=10,this.PageNo=1,this.orderby="",this.SearchValue="",this.VendorSearch="",this.ReceiptList=[],this.totalCount=0,this.BranchList=[],this.list=[],this._ReceiptSearch=new S.Wb,this.NumNotExist="",this.title="",this.timeout=null,this.sortDirection="asc",this.sortColumn="",this.Customerlist=[],this.Customerlistbycustomerid=[],this.CustomerAccountsList=[],this.SelectBranchMsg="",this.EntryNumberMsg="",this.subsidiaryID=this._generalService.SubsidiaryID,this.GetBranchList(),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(function(e){_.lang=e.lang,_.dir=e.dir,_.translate.use(e.lang),_.ngTransUnsubscribe=_.translate.get("SelectBranchError").subscribe(function(e){_.SelectBranchMsg=e}),_.ngTransUnsubscribe=_.translate.get("EntryNumberMsg").subscribe(function(e){_.EntryNumberMsg=e})}),p.params.subscribe(function(e){var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t?(console.log(t.branchId),_._ReceiptSearch.BranchID="null"!=t.branchId?t.branchId:0):_._ReceiptSearch.BranchID=0}),this.ngTransUnsubscribe=this.translate.get(["Receiving Voucher With No Receipt"]).subscribe(function(e){_.title=e["Receiving Voucher With No Receipt"],document.title=_.title}),this.ngTransUnsubscribe=this.translate.get(["NumNotExist"]).subscribe(function(e){_.NumNotExist=e.NumNotExist}),this.ngUnsubscribe=o.proadCastSubsidiaryID.subscribe(function(e){_.subsidiaryID=_._generalService.SubsidiaryID,_.GetCustomerReceiptsList(),_.GetCustomerReceiptsListCount()})}return o(e,[{key:"ngOnInit",value:function(){this.ReceiptCode=3,this.GetCustomerReceiptsList(),this.GetCustomerReceiptsListCount()}},{key:"ReceiptSearch",value:function(){this.GetCustomerReceiptsList(),this.GetCustomerReceiptsListCount()}},{key:"GetBranchList",value:function(){var e=this;this._cashsalesService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(function(t){e.BranchList=t,e.cd.markForCheck()})}},{key:"ChangeBranch",value:function(e){var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),this._ReceiptSearch.BranchID="0"!=e?e:0,localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this._ReceiptSearch.PageNo=1,this._ReceiptSearch.PageSize=10,this.ReceiptSearch()}},{key:"ChangePropFinish",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.timeout=null,e.ReceiptSearch()},1e3*t)}},{key:"GetCustomerReceiptsList",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.sortColumn=null==n?null:n,this.sortDirection="asc"==this.sortDirection?"desc":"asc","ar"==this.lang&&("BranchName"!=this.sortColumn&&"Name"!=this.sortColumn||(this.sortColumn=this.sortColumn+"ar")),null!=n&&(this.PageNo=1),null!=this.sortColumn&&""!=this.sortDirection&&(this.orderby=this.sortColumn+"."+this.sortDirection),this.spinner.show(),this._cashsalesService.GetVendorReceiptsList(this.subsidiaryID,this.ReceiptCode,this.PageNo,this.PageSize,this.SearchValue,this.orderby,this.VendorSearch).subscribe(function(n){console.log("Customerlist---d",n),e.ReceiptList=t(n),console.log(e.ReceiptList),e.spinner.hide(),e.cd.markForCheck()})}},{key:"GetCustomerReceiptsListCount",value:function(){var e=this;this._cashsalesService.GetVendorReceiptsListCount(this.subsidiaryID,this.ReceiptCode,this.PageNo,this.PageSize,this.SearchValue,this.VendorSearch).subscribe(function(t){e.totalCount=t[0].total,e.cd.markForCheck()})}},{key:"groupBy",value:function(e,t){return e.reduce(function(e,n){return(e[n[t]]=e[n[t]]||[]).push(n),e},{})}},{key:"onFocusInCustomerAccounts",value:function(e){this.GetCustomerAccountsList("")}},{key:"CustomerAccountsChangeSearch",value:function(e){this.GetCustomerAccountsList(e.query.trim())}},{key:"CustomerAccountsSelectEvent",value:function(e){var t=this;console.log(e),this.VendorSearch=e.accountid,this.VendorSearchname={name:e.name},setTimeout(function(){t.GetCustomerReceiptsList(),t.GetCustomerReceiptsListCount()},100)}},{key:"GetAllCustomer",value:function(){var e=this;this.VendorSearch="",this.VendorSearchname={name:""},setTimeout(function(){e.GetCustomerReceiptsList(),e.GetCustomerReceiptsListCount()},100)}},{key:"GetCustomerAccountsList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._CustomerService.GetVendorAccountsList(this.subsidiaryID,t).subscribe(function(t){e.CustomerAccountsList=[],e.CustomerAccountsList=t,e.cd.markForCheck()})}},{key:"OnView",value:function(){this._router.navigate(["/page/inventorytransiction/receivingvoucherreturns/0"])}},{key:"onEdit",value:function(e){var t;t="/page/payables/transreceipt/0/".concat(e,"/0"),this._router.navigate([t])}},{key:"SearchReceiptByEntryNo",value:function(){null!=this._ReceiptSearch.EntryNo&&null!=this._ReceiptSearch.EntryNo?(this.PageNo=1,this.PageSize=10,this.GetCustomerReceiptsList(),this.GetCustomerReceiptsListCount()):this.toastr.warning(this.EntryNumberMsg)}},{key:"PrintPreview",value:function(e){var t=this,n=this.getReportfilter(e);this.spinner.show(),this._ReceiptSharedService.GetReport(n).subscribe(function(e){t.spinner.hide(),t._authService.printJS(e.bytes)}),this.cd.markForCheck()}},{key:"getReportfilter",value:function(e){var t=this._authService.userInfo().clientdatabase,n="";"ar"==this.lang&&(n="_ar");var i={reportName:"P_I_3_ReceivingVoucher"+n,SubsidaryID:this.subsidiaryID,ReceiptID:e,lang:"",DomainName:"",toEmail:"",Subject:"",boby:""};return t.indexOf("alromaih")>-1?"P_I_3_ReceivingVoucher_GL_WEB_alromaih":t.indexOf("bander")>-1||t.indexOf("win-69te7j9nfsu")>-1||t.indexOf("192.168.1.50")>-1||t.indexOf("localhost:1000")>-1?"P_I_3_ReceivingVoucher_Bandar"+n:t.indexOf("darshgf")>-1?i={reportName:"P_I_3_ReceivingVoucher_GL_WEB_darshgf",SubsidaryID:this.subsidiaryID,ReceiptID:e,lang:n,DomainName:"",toEmail:"",Subject:"",boby:""}:t.indexOf("istones")>-1&&(i={reportName:"P_S_52_Issue_GL_WEB_istones",SubsidaryID:this.subsidiaryID,ReceiptID:e,lang:n,DomainName:window.location.origin,toEmail:"",Subject:"",boby:""}),i}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"onPageChange",value:function(e){this._ReceiptSearch.PageNo=e,this.PageNo=e,this.GetCustomerReceiptsList()}},{key:"onPageSizeChange",value:function(e){this._ReceiptSearch.PageSize=e,this.PageSize=e,this.GetCustomerReceiptsList()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(M["\u0275\u0275directiveInject"](b.n),M["\u0275\u0275directiveInject"](Pe.v),M["\u0275\u0275directiveInject"](M.ChangeDetectorRef),M["\u0275\u0275directiveInject"](I._W),M["\u0275\u0275directiveInject"](m.F0),M["\u0275\u0275directiveInject"](P.m),M["\u0275\u0275directiveInject"](h.sK),M["\u0275\u0275directiveInject"](O.K),M["\u0275\u0275directiveInject"](k.t2),M["\u0275\u0275directiveInject"](m.gz),M["\u0275\u0275directiveInject"](R.t),M["\u0275\u0275directiveInject"](E.e),M["\u0275\u0275directiveInject"](w.$),M["\u0275\u0275directiveInject"](x.J))},e.\u0275cmp=M["\u0275\u0275defineComponent"]({type:e,selectors:[["receivingvoucherwithnoreceipt"]],features:[M["\u0275\u0275ProvidersFeature"]([b.n,R.t,x.J,Pe.v])],decls:69,vars:40,consts:[[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-body"],[1,"col-12"],[1,"row"],[1,"card"],[1,"card-header"],[1,"col-lg-4","col-md-4","col-sm-12"],[1,"form-group"],[1,"m-1"],["minLength","0","delay","0","field","name","name","CreditAccount",3,"suggestions","ngModel","onFocus","onSelect","completeMethod","ngModelChange"],["autoCustomerAccounts",""],["pTemplate","CustomerAccountsTemplate"],[1,"col-lg-4","col-md-4","mt-3","col-sm-12"],[1,"btn","btn-primary","mt-3",3,"click"],[1,"form-group","row"],["for","SearchValue",1,"col-md-3","mt-3"],["type","text","id","SearchValue","name","SearchValue",1,"form-control","col-md-8","mt-3",3,"ngModel","ngModelChange","keyup"],[1,"card-content"],[1,"card-body","table-responsive"],[1,"table","text-center","m-0","table","table-striped"],[3,"click"],[1,"fa","fa-fw","fa-sort",3,"hidden"],["class","fa fa-fw fa-sort-desc",4,"ngIf"],["class","fa fa-fw fa-sort-asc",4,"ngIf"],[4,"ngIf"],["class","fa fa-fw\n                              fa-sort-desc",4,"ngIf"],["class","fa fa-fw\n                              fa-sort-asc",4,"ngIf"],[4,"ngFor","ngForOf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"fa","fa-fw","fa-sort-desc"],[1,"fa","fa-fw","fa-sort-asc"],["href","javascript:;",1,"primary","mr-1",3,"click"],["aria-hidden","true",1,"fa","fa-list"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","50"],["Value","100"]],template:function(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",0),M["\u0275\u0275elementStart"](1,"div",1),M["\u0275\u0275elementStart"](2,"div",2),M["\u0275\u0275elementStart"](3,"h6",3),M["\u0275\u0275text"](4),M["\u0275\u0275pipe"](5,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](6,"div",4),M["\u0275\u0275elementStart"](7,"div",5),M["\u0275\u0275elementStart"](8,"section"),M["\u0275\u0275elementStart"](9,"div",6),M["\u0275\u0275elementStart"](10,"div",5),M["\u0275\u0275elementStart"](11,"div",7),M["\u0275\u0275elementStart"](12,"div",8),M["\u0275\u0275elementStart"](13,"div",6),M["\u0275\u0275elementStart"](14,"div",9),M["\u0275\u0275elementStart"](15,"div",10),M["\u0275\u0275elementStart"](16,"label",11),M["\u0275\u0275text"](17),M["\u0275\u0275pipe"](18,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](19,"p-autoComplete",12,13),M["\u0275\u0275listener"]("onFocus",function(e){M["\u0275\u0275restoreView"](n);var i=M["\u0275\u0275reference"](20);return t.onFocusInCustomerAccounts(e),i.show()})("onSelect",function(e){return t.CustomerAccountsSelectEvent(e)})("completeMethod",function(e){return t.CustomerAccountsChangeSearch(e)})("ngModelChange",function(e){return t.VendorSearchname=e}),M["\u0275\u0275template"](21,OP,2,2,"ng-template",14),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](22,"div",15),M["\u0275\u0275elementStart"](23,"button",16),M["\u0275\u0275listener"]("click",function(){return t.GetAllCustomer()}),M["\u0275\u0275text"](24),M["\u0275\u0275pipe"](25,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](26,"div",15),M["\u0275\u0275elementStart"](27,"div",17),M["\u0275\u0275elementStart"](28,"label",18),M["\u0275\u0275text"](29),M["\u0275\u0275pipe"](30,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](31,"input",19),M["\u0275\u0275listener"]("ngModelChange",function(e){return t.SearchValue=e})("keyup",function(){return t.ChangePropFinish()}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](32,"div",20),M["\u0275\u0275elementStart"](33,"div",21),M["\u0275\u0275elementStart"](34,"table",22),M["\u0275\u0275elementStart"](35,"thead"),M["\u0275\u0275elementStart"](36,"tr"),M["\u0275\u0275elementStart"](37,"th",23),M["\u0275\u0275listener"]("click",function(){return t.GetCustomerReceiptsList("Entry_No")}),M["\u0275\u0275text"](38),M["\u0275\u0275pipe"](39,"translate"),M["\u0275\u0275elementContainerStart"](40),M["\u0275\u0275element"](41,"i",24),M["\u0275\u0275template"](42,kP,1,0,"i",25),M["\u0275\u0275template"](43,EP,1,0,"i",26),M["\u0275\u0275elementContainerEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](44,"th",23),M["\u0275\u0275listener"]("click",function(){return t.GetCustomerReceiptsList("BranchName")}),M["\u0275\u0275text"](45),M["\u0275\u0275pipe"](46,"translate"),M["\u0275\u0275template"](47,BP,4,3,"ng-container",27),M["\u0275\u0275template"](48,NP,4,3,"ng-container",27),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](49,"th",23),M["\u0275\u0275listener"]("click",function(){return t.GetCustomerReceiptsList("Entry_Date")}),M["\u0275\u0275text"](50),M["\u0275\u0275pipe"](51,"translate"),M["\u0275\u0275elementContainerStart"](52),M["\u0275\u0275element"](53,"i",24),M["\u0275\u0275template"](54,VP,1,0,"i",28),M["\u0275\u0275template"](55,qP,1,0,"i",29),M["\u0275\u0275elementContainerEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](56,"th",23),M["\u0275\u0275listener"]("click",function(){return t.GetCustomerReceiptsList("Name")}),M["\u0275\u0275text"](57),M["\u0275\u0275pipe"](58,"translate"),M["\u0275\u0275template"](59,GP,4,3,"ng-container",27),M["\u0275\u0275template"](60,$P,4,3,"ng-container",27),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](61,"th"),M["\u0275\u0275text"](62,"\xa0"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](63,"tbody"),M["\u0275\u0275template"](64,YP,14,9,"tr",30),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](65,HP,12,7,"div",31),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](66,"ngx-spinner",32),M["\u0275\u0275elementStart"](67,"p",33),M["\u0275\u0275text"](68," Loading... "),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}2&e&&(M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](5,24,"Receiving Voucher With No Receipt")),M["\u0275\u0275advance"](13),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](18,26,"Vendor Name")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("suggestions",t.CustomerAccountsList)("ngModel",t.VendorSearchname),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](25,28,"All")," "),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](30,30,"Search")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",t.SearchValue),M["\u0275\u0275advance"](7),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](39,32,"EntryNo")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("hidden","Entry_No"==t.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Entry_No"==t.sortColumn&&"asc"==t.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Entry_No"==t.sortColumn&&"desc"==t.sortDirection),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](46,34,"Branch")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=t.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==t.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](51,36,"Date")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("hidden","Entry_Date"==t.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Entry_Date"==t.sortColumn&&"asc"==t.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Entry_Date"==t.sortColumn&&"desc"==t.sortDirection),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](58,38,"custvendor")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=t.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==t.lang),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("ngForOf",t.ReceiptList),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",t.totalCount>0),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("fullScreen",!0))},directives:[u.Qc,d.JJ,d.On,Be.jx,d.Fj,l.O5,l.sg,k.Ro,F.N9,d.EJ,d.YN,d.Kr],pipes:[h.X$,l.uU],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}.headerform[_ngcontent-%COMP%]{background-color:#2f8be6;color:#fff;height:44px;padding-top:9px;margin-bottom:17px}']}),e}(),KP=function e(){c(this,e),this.UserID=0,this.SubsidaryID=null,this.BranchID=null,this.Customer=null,this.CustomerId=null,this.FromReceiptCode=null,this.ToReceiptCode=null,this.ReceiptNumber=null,this.FromDateString="",this.ToDateString="",this.physicalnegativeinventoryid=0,this.salesreturneffect=0,this.Transiction=0,this.SearchValue="",this.Lang="",this.Skip=1,this.Take=10,this.allSelect=!1,this.isAllSelect=!1,this.selectedRows="",this.unSelectedRows="",this.orderby=""},XP=a(79996),eO=function(){var e=function(){function e(t){c(this,e),this._http=t,this.baseUrl=ke.N.apiUrl}return o(e,[{key:"GetsubsidiaryDateFormate",value:function(e){return this._http.get("".concat(this.baseUrl,"/Subsidiary/GetSubsidiariesDetailsByID?ID=").concat(e)).pipe((0,XP.U)(function(e){return e}))}},{key:"GetReciptsList",value:function(e){return this._http.post(this.baseUrl+"/TransferInvoices/GetReciptsList",e).pipe((0,XP.U)(function(e){return e}))}},{key:"GetCountReceiptList",value:function(e){return this._http.post(this.baseUrl+"/TransferInvoices/GetCountReceiptList",e).pipe((0,XP.U)(function(e){return e}))}},{key:"GetCurrencyForSubsidaryAndBaseCurrency",value:function(e){return this._http.get("".concat(this.baseUrl,"/PostVouchers/GetCurrencyForSubsidaryAndBaseCurrency?SubsidiaryID=").concat(e)).pipe((0,XP.U)(function(e){return e}))}},{key:"TransferReceiptInsert",value:function(e){return this._http.post(this.baseUrl+"/TransferInvoices/TransferReceipt",e).pipe((0,XP.U)(function(e){return e}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(M["\u0275\u0275inject"](p.eN))},e.\u0275prov=M["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),tO=a(48724),nO=["RForm"];function iO(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"div",4),M["\u0275\u0275elementStart"](1,"h1",5),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function rO(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",68),M["\u0275\u0275text"](1," All "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function aO(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",68),M["\u0275\u0275text"](1," \u0627\u0644\u0643\u0644 "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function oO(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n?null:n.name)}}function cO(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n?null:n.name_ar)}}function lO(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",69),M["\u0275\u0275template"](1,oO,2,1,"span",1),M["\u0275\u0275template"](2,cO,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275propertyInterpolate"]("value",null==n?null:n.id),M["\u0275\u0275property"]("selected",(null==n?null:n.id)==i._TransferInvoices.BranchID),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function sO(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function dO(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function pO(e,t){if(1&e&&(M["\u0275\u0275template"](0,sO,2,1,"div",1),M["\u0275\u0275template"](1,dO,2,1,"div",1)),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function uO(e,t){1&e&&M["\u0275\u0275template"](0,pO,2,2,"ng-template",70)}function mO(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span",73),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.sugar)}}function hO(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.sug)}}function gO(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div",71),M["\u0275\u0275template"](1,mO,2,1,"span",72),M["\u0275\u0275template"](2,hO,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function _O(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",68),M["\u0275\u0275text"](1," All "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function vO(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",68),M["\u0275\u0275text"](1," \u0627\u0644\u0643\u0644 "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function fO(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n?null:n.codename)}}function CO(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n?null:n.codenamear)}}function yO(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",74),M["\u0275\u0275template"](1,fO,2,1,"span",1),M["\u0275\u0275template"](2,CO,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275propertyInterpolate"]("value",null==n?null:n.code),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function bO(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",68),M["\u0275\u0275text"](1," All "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function SO(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"option",68),M["\u0275\u0275text"](1," \u0627\u0644\u0643\u0644 "),M["\u0275\u0275elementEnd"]()),2&e&&M["\u0275\u0275property"]("ngValue",null)}function RO(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n?null:n.codename)}}function xO(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](null==n?null:n.codenamear)}}function MO(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",74),M["\u0275\u0275template"](1,RO,2,1,"span",1),M["\u0275\u0275template"](2,xO,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275propertyInterpolate"]("value",null==n?null:n.code),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function IO(e,t){1&e&&M["\u0275\u0275element"](0,"img",75)}function PO(e,t){1&e&&M["\u0275\u0275element"](0,"i",82)}function OO(e,t){1&e&&M["\u0275\u0275element"](0,"i",83)}function kO(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275element"](1,"i",78),M["\u0275\u0275template"](2,PO,1,0,"i",79),M["\u0275\u0275template"](3,OO,1,0,"i",80),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("hidden","Branch"==n.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Branch"==n.sortColumn&&"asc"==n.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Branch"==n.sortColumn&&"desc"==n.sortDirection)}}function EO(e,t){1&e&&M["\u0275\u0275element"](0,"i",82)}function wO(e,t){1&e&&M["\u0275\u0275element"](0,"i",83)}function DO(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275element"](1,"i",78),M["\u0275\u0275template"](2,EO,1,0,"i",79),M["\u0275\u0275template"](3,wO,1,0,"i",80),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("hidden","Branchar"==n.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Branchar"==n.sortColumn&&"asc"==n.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Branchar"==n.sortColumn&&"desc"==n.sortDirection)}}function BO(e,t){1&e&&M["\u0275\u0275element"](0,"i",82)}function LO(e,t){1&e&&M["\u0275\u0275element"](0,"i",83)}function FO(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275element"](1,"i",78),M["\u0275\u0275template"](2,BO,1,0,"i",79),M["\u0275\u0275template"](3,LO,1,0,"i",80),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("hidden","ReceiptType"==n.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ReceiptType"==n.sortColumn&&"asc"==n.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ReceiptType"==n.sortColumn&&"desc"==n.sortDirection)}}function NO(e,t){1&e&&M["\u0275\u0275element"](0,"i",82)}function VO(e,t){1&e&&M["\u0275\u0275element"](0,"i",83)}function qO(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275element"](1,"i",78),M["\u0275\u0275template"](2,NO,1,0,"i",79),M["\u0275\u0275template"](3,VO,1,0,"i",80),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("hidden","ReceiptTypear"==n.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ReceiptTypear"==n.sortColumn&&"asc"==n.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ReceiptTypear"==n.sortColumn&&"desc"==n.sortDirection)}}function TO(e,t){1&e&&M["\u0275\u0275element"](0,"i",82)}function AO(e,t){1&e&&M["\u0275\u0275element"](0,"i",83)}function GO(e,t){1&e&&M["\u0275\u0275element"](0,"i",82)}function UO(e,t){1&e&&M["\u0275\u0275element"](0,"i",83)}function jO(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275element"](1,"i",78),M["\u0275\u0275template"](2,GO,1,0,"i",79),M["\u0275\u0275template"](3,UO,1,0,"i",80),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("hidden","Customer"==n.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Customer"==n.sortColumn&&"asc"==n.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Customer"==n.sortColumn&&"desc"==n.sortDirection)}}function $O(e,t){1&e&&M["\u0275\u0275element"](0,"i",82)}function zO(e,t){1&e&&M["\u0275\u0275element"](0,"i",83)}function WO(e,t){if(1&e&&(M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275element"](1,"i",78),M["\u0275\u0275template"](2,$O,1,0,"i",79),M["\u0275\u0275template"](3,zO,1,0,"i",80),M["\u0275\u0275elementContainerEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("hidden","Customerar"==n.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Customerar"==n.sortColumn&&"asc"==n.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Customerar"==n.sortColumn&&"desc"==n.sortDirection)}}function JO(e,t){1&e&&M["\u0275\u0275element"](0,"i",82)}function QO(e,t){1&e&&M["\u0275\u0275element"](0,"i",83)}function YO(e,t){1&e&&M["\u0275\u0275element"](0,"i",82)}function HO(e,t){1&e&&M["\u0275\u0275element"](0,"i",83)}function ZO(e,t){1&e&&M["\u0275\u0275element"](0,"i",82)}function KO(e,t){1&e&&M["\u0275\u0275element"](0,"i",83)}function XO(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",null==n?null:n.branchname," ")}}function ek(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",null==n?null:n.branchname_ar," ")}}function tk(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",null==n?null:n.receipttypename," ")}}function nk(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",null==n?null:n.receipttypename_ar," ")}}function ik(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",null==n?null:n.customername," ")}}function rk(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",null==n?null:n.customername_ar," ")}}function ak(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",null==n?null:n.transctioncode," ")}}function ok(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",null==n?null:n.transctioncodear," ")}}var ck=function(e){return{minimumFractionDigits:e}};function lk(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"tr"),M["\u0275\u0275elementStart"](1,"td"),M["\u0275\u0275elementStart"](2,"div",84),M["\u0275\u0275elementStart"](3,"input",85),M["\u0275\u0275listener"]("change",function(){var e=M["\u0275\u0275restoreView"](n).$implicit;return M["\u0275\u0275nextContext"](3).onRowSelect(e)}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](4,"td"),M["\u0275\u0275template"](5,XO,2,1,"span",1),M["\u0275\u0275template"](6,ek,2,1,"span",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](7,"td"),M["\u0275\u0275template"](8,tk,2,1,"span",1),M["\u0275\u0275template"](9,nk,2,1,"span",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](10,"td"),M["\u0275\u0275text"](11),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](12,"td"),M["\u0275\u0275template"](13,ik,2,1,"span",1),M["\u0275\u0275template"](14,rk,2,1,"span",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](15,"td"),M["\u0275\u0275text"](16),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](17,"td"),M["\u0275\u0275text"](18),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](19,"td"),M["\u0275\u0275text"](20),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](21,"td"),M["\u0275\u0275template"](22,ak,2,1,"span",1),M["\u0275\u0275template"](23,ok,2,1,"span",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](24,"td",86),M["\u0275\u0275elementStart"](25,"a",87),M["\u0275\u0275element"](26,"i",88),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=M["\u0275\u0275nextContext"](3);M["\u0275\u0275styleMap"](r.getStyle(i)),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("checked",r._TransferInvoices.allSelect),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","en"==r.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==r.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","en"==r.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==r.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",null==i?null:i.entry_no," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","en"==r.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==r.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",null==i?null:i.receiptdate," "),M["\u0275\u0275advance"](1),M["\u0275\u0275styleMap"]("en"==r.lang?"text-align: left !important;":"text-align: right !important;"),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",null==i?null:i.netvalue.toLocaleString(r.currencycode,M["\u0275\u0275pureFunction1"](18,ck,r.currencyprecision))," "),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](null==i?null:i.memo.trim()),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","en"==r.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==r.lang),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("href",r.ShowReceipt(i),M["\u0275\u0275sanitizeUrl"])}}function sk(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"tr"),M["\u0275\u0275elementStart"](1,"td",89),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](3,1,"NoData")))}function dk(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"table",76),M["\u0275\u0275elementStart"](1,"thead"),M["\u0275\u0275elementStart"](2,"tr"),M["\u0275\u0275element"](3,"th"),M["\u0275\u0275elementStart"](4,"th",77),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).columnSorting("Branch")}),M["\u0275\u0275template"](5,kO,4,3,"ng-container",1),M["\u0275\u0275template"](6,DO,4,3,"ng-container",1),M["\u0275\u0275text"](7),M["\u0275\u0275pipe"](8,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](9,"th",77),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).columnSorting("ReceiptType")}),M["\u0275\u0275template"](10,FO,4,3,"ng-container",1),M["\u0275\u0275template"](11,qO,4,3,"ng-container",1),M["\u0275\u0275text"](12),M["\u0275\u0275pipe"](13,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](14,"th",77),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).columnSorting("EntryNo")}),M["\u0275\u0275elementContainerStart"](15),M["\u0275\u0275element"](16,"i",78),M["\u0275\u0275template"](17,TO,1,0,"i",79),M["\u0275\u0275template"](18,AO,1,0,"i",80),M["\u0275\u0275elementContainerEnd"](),M["\u0275\u0275text"](19),M["\u0275\u0275pipe"](20,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](21,"th",77),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).columnSorting("Customer")}),M["\u0275\u0275template"](22,jO,4,3,"ng-container",1),M["\u0275\u0275template"](23,WO,4,3,"ng-container",1),M["\u0275\u0275text"](24),M["\u0275\u0275pipe"](25,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](26,"th",77),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).columnSorting("ReceiptDate")}),M["\u0275\u0275elementContainerStart"](27),M["\u0275\u0275element"](28,"i",78),M["\u0275\u0275template"](29,JO,1,0,"i",79),M["\u0275\u0275template"](30,QO,1,0,"i",80),M["\u0275\u0275elementContainerEnd"](),M["\u0275\u0275text"](31),M["\u0275\u0275pipe"](32,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](33,"th",77),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).columnSorting("value")}),M["\u0275\u0275elementContainerStart"](34),M["\u0275\u0275element"](35,"i",78),M["\u0275\u0275template"](36,YO,1,0,"i",79),M["\u0275\u0275template"](37,HO,1,0,"i",80),M["\u0275\u0275elementContainerEnd"](),M["\u0275\u0275text"](38),M["\u0275\u0275pipe"](39,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](40,"th",77),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).columnSorting("Memo")}),M["\u0275\u0275elementContainerStart"](41),M["\u0275\u0275element"](42,"i",78),M["\u0275\u0275template"](43,ZO,1,0,"i",79),M["\u0275\u0275template"](44,KO,1,0,"i",80),M["\u0275\u0275elementContainerEnd"](),M["\u0275\u0275text"](45),M["\u0275\u0275pipe"](46,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](47,"th"),M["\u0275\u0275text"](48),M["\u0275\u0275pipe"](49,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275element"](50,"th"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](51,"tbody"),M["\u0275\u0275template"](52,lk,27,20,"tr",81),M["\u0275\u0275template"](53,sk,4,3,"tr",1),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](5),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](8,28,"Branch")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](13,30,"VoucherType")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("hidden","EntryNo"==i.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","EntryNo"==i.sortColumn&&"asc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","EntryNo"==i.sortColumn&&"desc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](20,32,"EntryNo")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](25,34,"Customer")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("hidden","ReceiptDate"==i.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ReceiptDate"==i.sortColumn&&"asc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ReceiptDate"==i.sortColumn&&"desc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](32,36,"Date")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("hidden","value"==i.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","value"==i.sortColumn&&"asc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","value"==i.sortColumn&&"desc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](39,38,"value")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("hidden","Memo"==i.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Memo"==i.sortColumn&&"asc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","Memo"==i.sortColumn&&"desc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](46,40,"Memo")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](49,42,"Transiction")),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("ngForOf",i.ReceiptList),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",0==i.ReceiptList.length)}}function pk(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",90),M["\u0275\u0275elementStart"](1,"ngb-pagination",91),M["\u0275\u0275listener"]("pageChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).onPageChange(e)})("pageChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).PageNo=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](2,"p"),M["\u0275\u0275text"](3),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](4,"select",92),M["\u0275\u0275listener"]("change",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).onPageSizeChange(e.target.value)})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).PageSize=e}),M["\u0275\u0275elementStart"](5,"option",93),M["\u0275\u0275text"](6),M["\u0275\u0275pipe"](7,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](8,"option",94),M["\u0275\u0275text"](9),M["\u0275\u0275pipe"](10,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](11,"option",95),M["\u0275\u0275text"](12),M["\u0275\u0275pipe"](13,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](14,"option",96),M["\u0275\u0275text"](15),M["\u0275\u0275pipe"](16,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("collectionSize",i.totalCount)("page",i.PageNo)("pageSize",i.PageSize)("maxSize",10)("boundaryLinks",!0),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",i._generalService.TotalDetailsTextShow(i.PageNo,i.PageSize,i.totalCount,i.lang)," "),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngModel",i.PageSize),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](7,11,"10 items per page")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](10,13,"50 items per page")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](13,15,"100 items per page")," "),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](16,17,"200 items per page")," ")}}var uk=function(e,t){return{"invalid-data":e,"valid-data":t}},mk=function(){return{width:"100%"}},hk=function(e,t){return{"pd-invalid-data":e,"valid-data":t}};function gk(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275elementStart"](1,"section"),M["\u0275\u0275elementStart"](2,"div",6),M["\u0275\u0275elementStart"](3,"div",7),M["\u0275\u0275elementStart"](4,"div",8),M["\u0275\u0275elementStart"](5,"div",9),M["\u0275\u0275elementStart"](6,"h6",10),M["\u0275\u0275text"](7),M["\u0275\u0275pipe"](8,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](9,"div",11),M["\u0275\u0275elementStart"](10,"div",12),M["\u0275\u0275elementStart"](11,"section"),M["\u0275\u0275elementStart"](12,"div",13),M["\u0275\u0275elementStart"](13,"div",12),M["\u0275\u0275elementStart"](14,"div",14),M["\u0275\u0275elementStart"](15,"div",15),M["\u0275\u0275elementStart"](16,"div",11),M["\u0275\u0275elementStart"](17,"form",16,17),M["\u0275\u0275listener"]("ngSubmit",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275reference"](18);return M["\u0275\u0275nextContext"]().viewAll(e)}),M["\u0275\u0275elementStart"](19,"div",4),M["\u0275\u0275elementStart"](20,"div",18),M["\u0275\u0275elementStart"](21,"div",19),M["\u0275\u0275elementStart"](22,"label",20),M["\u0275\u0275text"](23),M["\u0275\u0275pipe"](24,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](25,"select",21,22),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._TransferInvoices.BranchID=e}),M["\u0275\u0275template"](27,rO,2,1,"option",23),M["\u0275\u0275template"](28,aO,2,1,"option",23),M["\u0275\u0275template"](29,lO,3,4,"option",24),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](30,"div",18),M["\u0275\u0275elementStart"](31,"div",19),M["\u0275\u0275elementStart"](32,"label",25),M["\u0275\u0275text"](33),M["\u0275\u0275pipe"](34,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](35,"p-dropdown",26,27),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._TransferInvoices.Customer=e})("onChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().ChangeCustomers(e)}),M["\u0275\u0275pipe"](38,"translate"),M["\u0275\u0275template"](39,uO,1,0,void 0,1),M["\u0275\u0275template"](40,gO,3,2,"ng-template",28),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](41,"div",18),M["\u0275\u0275elementStart"](42,"div",19),M["\u0275\u0275elementStart"](43,"label",29),M["\u0275\u0275text"](44),M["\u0275\u0275pipe"](45,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](46,"input",30,31),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._TransferInvoices.FromDate=e})("focusout",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().FromDateChange(e.target.value)}),M["\u0275\u0275pipe"](48,"date"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](49,"div",4),M["\u0275\u0275elementStart"](50,"div",18),M["\u0275\u0275elementStart"](51,"div",19),M["\u0275\u0275elementStart"](52,"label",32),M["\u0275\u0275text"](53),M["\u0275\u0275pipe"](54,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](55,"select",33,34),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._TransferInvoices.FromReceiptCode=e})("focusout",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().FromReceiptCodeChange(e.target.value)}),M["\u0275\u0275template"](57,_O,2,1,"option",23),M["\u0275\u0275template"](58,vO,2,1,"option",23),M["\u0275\u0275template"](59,yO,3,3,"option",35),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](60,"div",18),M["\u0275\u0275elementStart"](61,"div",19),M["\u0275\u0275elementStart"](62,"label",36),M["\u0275\u0275text"](63),M["\u0275\u0275pipe"](64,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](65,"select",37,38),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._TransferInvoices.ToReceiptCode=e})("focusout",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().ToReceiptCodeChange(e.target.value)}),M["\u0275\u0275template"](67,bO,2,1,"option",23),M["\u0275\u0275template"](68,SO,2,1,"option",23),M["\u0275\u0275template"](69,MO,3,3,"option",35),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](70,"div",18),M["\u0275\u0275elementStart"](71,"div",19),M["\u0275\u0275elementStart"](72,"label",39),M["\u0275\u0275text"](73),M["\u0275\u0275pipe"](74,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](75,"input",40,41),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._TransferInvoices.ToDate=e})("focusout",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().ToDateChange(e.target.value)}),M["\u0275\u0275pipe"](77,"date"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](78,"div",4),M["\u0275\u0275elementStart"](79,"div",18),M["\u0275\u0275elementStart"](80,"div",19),M["\u0275\u0275elementStart"](81,"label",42),M["\u0275\u0275text"](82),M["\u0275\u0275pipe"](83,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](84,"input",43,44),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._TransferInvoices.ReceiptNumber=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](86,"div",45),M["\u0275\u0275elementStart"](87,"button",46),M["\u0275\u0275element"](88,"i",47),M["\u0275\u0275text"](89),M["\u0275\u0275pipe"](90,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](91,"div",45),M["\u0275\u0275elementStart"](92,"button",48),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().Apply()}),M["\u0275\u0275element"](93,"i",47),M["\u0275\u0275text"](94),M["\u0275\u0275pipe"](95,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](96,"div",49),M["\u0275\u0275elementStart"](97,"div",45),M["\u0275\u0275element"](98,"div"),M["\u0275\u0275elementStart"](99,"div"),M["\u0275\u0275elementStart"](100,"input",50),M["\u0275\u0275listener"]("change",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().AllSelect()})("checkedChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._TransferInvoices.allSelect=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](101,"label",51),M["\u0275\u0275text"](102),M["\u0275\u0275pipe"](103,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](104,"div",4),M["\u0275\u0275elementStart"](105,"div",52),M["\u0275\u0275elementStart"](106,"div",14),M["\u0275\u0275elementStart"](107,"div",53),M["\u0275\u0275elementStart"](108,"div",4),M["\u0275\u0275elementStart"](109,"div",54),M["\u0275\u0275elementStart"](110,"div",55),M["\u0275\u0275elementStart"](111,"div",56),M["\u0275\u0275elementStart"](112,"div",4),M["\u0275\u0275elementStart"](113,"div",45),M["\u0275\u0275elementStart"](114,"button",57),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().OnExcel()}),M["\u0275\u0275element"](115,"i",47),M["\u0275\u0275text"](116),M["\u0275\u0275pipe"](117,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](118,"div",45),M["\u0275\u0275elementStart"](119,"button",58),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().OnPrint()}),M["\u0275\u0275element"](120,"i",47),M["\u0275\u0275text"](121),M["\u0275\u0275pipe"](122,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](123,"div",59),M["\u0275\u0275elementStart"](124,"div",60),M["\u0275\u0275elementStart"](125,"label",61),M["\u0275\u0275text"](126),M["\u0275\u0275pipe"](127,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](128,"input",62,63),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._TransferInvoices.SearchValue=e})("keyup",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().TransferInvoicesSearch()}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](130,"div",15),M["\u0275\u0275elementStart"](131,"div",64),M["\u0275\u0275template"](132,IO,1,0,"img",65),M["\u0275\u0275template"](133,dk,54,44,"table",66),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](134,pk,17,19,"div",67),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](18),r=M["\u0275\u0275reference"](26),a=M["\u0275\u0275reference"](37),o=M["\u0275\u0275reference"](47),c=M["\u0275\u0275reference"](56),l=M["\u0275\u0275reference"](66),s=M["\u0275\u0275reference"](76),d=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](7),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](8,49,"TransferInvoices")," "),M["\u0275\u0275advance"](16),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](24,51,"Branch")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",d._TransferInvoices.BranchID)("ngClass",M["\u0275\u0275pureFunction2"](85,uk,r.invalid&&i.submitted,r.valid&&i.submitted)),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=d.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==d.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",d.BranchList),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](34,53,"Customer")),M["\u0275\u0275advance"](2),M["\u0275\u0275styleMap"](M["\u0275\u0275pureFunction0"](88,mk)),M["\u0275\u0275propertyInterpolate"]("filterBy","ar"==d.lang?"sugar":"sug"),M["\u0275\u0275propertyInterpolate"]("placeholder",M["\u0275\u0275pipeBind1"](38,55,"All")),M["\u0275\u0275propertyInterpolate"]("optionLabel","ar"==d.lang?"sugar":"sug"),M["\u0275\u0275property"]("options",d.ALLCustomerList)("ngModel",d._TransferInvoices.Customer)("filter",!0)("ngClass",M["\u0275\u0275pureFunction2"](89,hk,a.invalid&&i.submitted,a.valid&&i.submitted)),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("ngIf",d._TransferInvoices.Customer),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](45,57,"FromDate")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",M["\u0275\u0275pipeBind2"](48,59,d._TransferInvoices.FromDate,"yyyy-MM-dd"))("ngClass",M["\u0275\u0275pureFunction2"](92,uk,o.invalid,o.valid)),M["\u0275\u0275advance"](7),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](54,62,"FromReceiptCode")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",d._TransferInvoices.FromReceiptCode)("ngClass",M["\u0275\u0275pureFunction2"](95,uk,c.invalid&&i.submitted,c.valid&&i.submitted)),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=d.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==d.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",d.ReceiptTypeList),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](64,64,"ToReceiptCode")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",d._TransferInvoices.ToReceiptCode)("ngClass",M["\u0275\u0275pureFunction2"](98,uk,l.invalid&&i.submitted,l.valid&&i.submitted)),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf","ar"!=d.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==d.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",d.ReceiptTypeList),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](74,66,"ToDate")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",M["\u0275\u0275pipeBind2"](77,68,d._TransferInvoices.ToDate,"yyyy-MM-dd"))("ngClass",M["\u0275\u0275pureFunction2"](101,uk,s.invalid,s.valid)),M["\u0275\u0275advance"](7),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](83,71,"EntryNum")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",d._TransferInvoices.ReceiptNumber),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](90,73,"ViewAll")," "),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](95,75,"Apply")," "),M["\u0275\u0275advance"](6),M["\u0275\u0275property"]("checked",d._TransferInvoices.allSelect),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](103,77,"All")),M["\u0275\u0275advance"](14),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](117,79,"Excel")," "),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](122,81,"Print")," "),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](127,83,"Search"),":"),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",d._TransferInvoices.SearchValue),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("ngIf",d.isloading),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",!d.isloading),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",d.totalCount>0)}}var _k=function(){var e=function(){function e(t,n,i,r,a,o,l,s,d,p,u,m,h,g,_){var v=this;c(this,e),this._ReceiptSharedService=t,this._VoucherService=n,this._TransferInvoicesService=i,this._CustomerService=r,this.cd=a,this.toastr=o,this._router=l,this._generalService=s,this.translate=d,this._translateGlobalService=p,this.spinner=u,this._printService=h,this._Excel=g,this._authService=_,this.Typeparam=0,this.subsidiaryDateFormate="",this.subsidiaryID=0,this.ReceiptTypeCode=0,this.PageSize=10,this.PageNo=1,this.emptyDateMsg="",this.invalidDateMsg="",this.activateOneMsg="",this.ReceiptList=[],this.VoucherList=[],this.totalCount=0,this.BranchList=[],this.ReceiptTypeList=[],this.OperationTypeList=[],this.OtherVoucherList=[],this.selectedRows=[],this.unSelectedRows=[],this.PassedReceipt=[],this.faildReceipt=[],this.currencycode="en-US",this.currencyprecision=3,this.SelectBranchMsg="",this.EntryNumberMsg="",this.CloseFinancialPeriodMsg="",this.performActionMsg="",this.swalDeleteTitle="",this.swalDetlateText="",this.TransferInvoicesVoucher="",this.swalDetlateConfirmButtonText="",this.TransferErrorMsg="",this.DeleteRelationmsg="",this._TransferInvoices=new KP,this.isloading=!1,this.noData=!0,this.styled=!1,this.Branch="",this.ReceiptType="",this.EntryNo="",this.Vendor="",this.Customer="",this.Date="",this.value="",this.Memo="",this.passedMsg="",this.falidMsg="",this.close="",this.sortDirection="asc",this.sortColumn="",this.ReceiptCodeList=[],this.BasicCodeReceipt=0,this.Transaction_move=0,this.allCustomersearch=new tO.Rz,this.ALLCustomerList=[],this.subsidiaryID=this._generalService.SubsidiaryID,this.GetData(),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(function(e){v.lang=e.lang,v.dir=e.dir,v.translate.use(e.lang),v.ngTransUnsubscribe=v.translate.get(["TransferInvoices","EmptyDateMsg","InvalidDateMsg","CloseFinancialPeriodMsg","PerformAction","ActivateOne","UnbalancedVouchers","ShowUnbalancedVouchers","Okay","Branch","VoucherType","EntryNo","Vendor","Customer","Date","value","Memo","TransferErrorMsg","passedMsg","falidMsg","Close"]).subscribe(function(e){document.title=e.TransferInvoices,v.TransferInvoicesVoucher=e.TransferInvoices,v.emptyDateMsg=e.EmptyDateMsg,v.invalidDateMsg=e.InvalidDateMsg,v.CloseFinancialPeriodMsg=e.CloseFinancialPeriodMsg,v.performActionMsg=e.PerformAction,v.activateOneMsg=e.ActivateOne,v.swalDeleteTitle=e.UnbalancedVouchers,v.swalDetlateText=e.ShowUnbalancedVouchers,v.swalDetlateConfirmButtonText=e.Okay,v.Branch=e.Branch,v.ReceiptType=e.VoucherType,v.EntryNo=e.EntryNo,v.Vendor=e.Vendor,v.Customer=e.Customer,v.Date=e.Date,v.value=e.value,v.Memo=e.Memo,v.TransferErrorMsg=e.TransferErrorMsg,v.passedMsg=e.passedMsg,v.falidMsg=e.falidMsg,v.close=e.Close}),v.ngTransUnsubscribe=v.translate.get("SelectBranchError").subscribe(function(e){v.SelectBranchMsg=e}),v.ngTransUnsubscribe=v.translate.get("EntryNumberMsg").subscribe(function(e){v.EntryNumberMsg=e})}),this.ngUnsubscribe=s.proadCastSubsidiaryID.subscribe(function(e){v.subsidiaryID=v._generalService.SubsidiaryID,v.GetData()})}return o(e,[{key:"ngOnInit",value:function(){}},{key:"TransferInvoicesSearch",value:function(){this.filterData&&(this.filterData.SearchValue=this._TransferInvoices.SearchValue.trim(),this.GetReciptsListWithCount(this.filterData))}},{key:"GetData",value:function(){var e=this,t=this._VoucherService.AllActiveUserBranchddl(this.subsidiaryID),i=this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID),r=this._TransferInvoicesService.GetsubsidiaryDateFormate(this.subsidiaryID),a=this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID);this.GetAllCustomer(),(0,Ie.D)([t,i,r,a]).subscribe(function(t){var i,r=n(t,4),a=r[0],o=r[1],c=r[2],l=r[3];e.BranchList=a,e.InventorySetting=l,e._TransferInvoices.physicalnegativeinventoryid=e.InventorySetting[0].physicalnegativeinventoryid,e._TransferInvoices.salesreturneffect=e.InventorySetting[0].salesreturneffect;var s=[51,52,53,54,50,55,88,64,60,63];e.ReceiptCodeList=o,e.ReceiptTypeList=o.filter(function(e){return s.includes(e.code)}),e.subsidiaryDateFormate=c.date_format,e._TransferInvoices.FromDate=new Date((new Date).getFullYear(),(new Date).getMonth(),1),e._TransferInvoices.ToDate=new Date,e._TransferInvoices.FromDateString="".concat(e._TransferInvoices.FromDate.getFullYear(),"-").concat(e._TransferInvoices.FromDate.getMonth()+1,"-").concat(e._TransferInvoices.FromDate.getDate()),e._TransferInvoices.ToDateString="".concat(e._TransferInvoices.ToDate.getFullYear(),"-").concat(e._TransferInvoices.ToDate.getMonth()+1,"-").concat(e._TransferInvoices.ToDate.getDate()),e._TransferInvoices.FromDateString=e._TransferInvoices.FromDateString+" 00:00:00",e._TransferInvoices.ToDateString=e._TransferInvoices.ToDateString+" 23:59:59",e._TransferInvoices.BranchID=(null===(i=e.BranchList[0])||void 0===i?void 0:i.id)||null,e.cd.markForCheck()}),this.OperationTypeList=[{id:1,name:"Post",name_ar:"\u062a\u0631\u062d\u064a\u0644 "},{id:2,name:"UnPost",name_ar:"\u0625\u0644\u063a\u0627\u0621 \u062a\u0631\u062d\u064a\u0644"}]}},{key:"GetAllCustomer",value:function(){var e=this;this.allCustomersearch.SubsidiaryID=this.subsidiaryID,this.allCustomersearch.PageNo=1,this.allCustomersearch.PageSize=1e3,this.allCustomersearch.CustomerType=0,this._CustomerService.CustomerList(this.allCustomersearch).subscribe(function(t){e.ALLCustomerList=[{accountid:null,sug:"All",sugar:"\u0627\u0644\u0643\u0644"}].concat(t),e.cd.markForCheck()})}},{key:"ChangeCustomers",value:function(e){this._TransferInvoices.CustomerId=e.value.accountid}},{key:"FromDateChange",value:function(e){this._TransferInvoices.FromDate=new Date(e),this._TransferInvoices.FromDateString=e+" 00:00:00"}},{key:"ToDateChange",value:function(e){this._TransferInvoices.ToDate=new Date(e),this._TransferInvoices.ToDateString=e+" 23:59:59"}},{key:"FromReceiptCodeChange",value:function(e){this._TransferInvoices.FromReceiptCode==this._TransferInvoices.ToReceiptCode&&(this.toastr.error(this.TransferErrorMsg),this._TransferInvoices.FromReceiptCode=null,this.cd.markForCheck())}},{key:"ToReceiptCodeChange",value:function(e){if(this._TransferInvoices.FromReceiptCode==this._TransferInvoices.ToReceiptCode)this.toastr.error(this.TransferErrorMsg),this._TransferInvoices.ToReceiptCode=null,this.cd.markForCheck();else{var t=this.ReceiptCodeList.find(function(t){return t.code==e});this.Transaction_move=t.items,this._TransferInvoices.Transiction=this.Transaction_move}}},{key:"onEdit",value:function(e){}},{key:"getCurrency",value:function(e){var t=this;this._TransferInvoicesService.GetCurrencyForSubsidaryAndBaseCurrency(e).subscribe(function(e){t.currencycode=e[0].currencycode,t.currencyprecision=e[0].currencyprecision,t.cd.markForCheck()})}},{key:"viewAll",value:function(e){if(e.form.valid)if(this._TransferInvoices.SubsidaryID=parseInt(this.subsidiaryID.toString()),this.filterData=Object.assign({},this._TransferInvoices),""==this._TransferInvoices.FromDateString||""==this._TransferInvoices.FromDateString)this.toastr.error(this.emptyDateMsg);else{if(this._TransferInvoices.ToDate<this._TransferInvoices.FromDate)return void this.toastr.error(this.invalidDateMsg);this.filterData.BranchID=null==this._TransferInvoices.BranchID||"null"==this._TransferInvoices.BranchID?0:parseInt(this._TransferInvoices.BranchID),this.filterData.CustomerId=null==this._TransferInvoices.CustomerId||"null"==this._TransferInvoices.CustomerId?0:parseInt(this._TransferInvoices.CustomerId),null==this._TransferInvoices.ReceiptNumber&&(this.filterData.ReceiptNumber=0),this.filterData.FromReceiptCode=null==this._TransferInvoices.FromReceiptCode||"null"==this._TransferInvoices.FromReceiptCode?0:parseInt(this._TransferInvoices.FromReceiptCode),this.filterData.ToReceiptCode=null==this._TransferInvoices.ToReceiptCode||"null"==this._TransferInvoices.ToReceiptCode?0:parseInt(this._TransferInvoices.ToReceiptCode),this.totalCount=0,this.PageNo=1,this.PageSize=10,this.filterData.Skip=1,this.filterData.SearchValue="",this._TransferInvoices.SearchValue="",this.GetReciptsListWithCount(this.filterData)}}},{key:"columnSorting",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;0!==Object.keys(this.filterData).length&&(this.sortColumn=null==e?null:e,this.sortDirection="asc"==this.sortDirection?"desc":"asc","ar"==this.lang&&("Branch"!=this.sortColumn&&"ReceiptType"!=this.sortColumn&&"Customer"!=this.sortColumn||(this.sortColumn=this.sortColumn+"ar")),null!=e&&(this.PageNo=1),null!=this.sortColumn&&""!=this.sortDirection&&(this.filterData.orderby=this.sortColumn+"."+this.sortDirection),this.filterData.Skip=1,this.PageNo=1,this.GetReciptsListWithCount(this.filterData))}},{key:"GetReciptsListWithCount",value:function(e){var t=this;this.isloading=!0;var i=this._TransferInvoicesService.GetReciptsList(e);(0,Ie.D)([i]).subscribe(function(i){var r=n(i,1)[0];"closed"==r?(t.toastr.error(t.CloseFinancialPeriodMsg),t.PassedReceipt=[],t.faildReceipt=[],t.ReceiptList=[],t.totalCount=0,t.selectedRows=[],t.unSelectedRows=[],t.filterData.selectedRows="",t.filterData.unSelectedRows=""):0==r.length?(t.PassedReceipt=[],t.faildReceipt=[],t.ReceiptList=[],t.totalCount=0,t.selectedRows=[],t.unSelectedRows=[],t.filterData.selectedRows="",t.filterData.unSelectedRows=""):(t.PassedReceipt=[],t.faildReceipt=[],t.GetCountReceiptList(e),t.getCurrency(t._TransferInvoices.SubsidaryID),t.ReceiptList=r,t.cd.markForCheck(),t.selectedRows=[],t.unSelectedRows=[],t._TransferInvoices.isAllSelect=!1,t._TransferInvoices.allSelect=!1,t.filterData.selectedRows="",t.filterData.unSelectedRows=""),t.isloading=!1,t.cd.markForCheck()})}},{key:"GetReciptsList",value:function(e){var t=this;this.isloading=!0;var i=this._TransferInvoicesService.GetReciptsList(e);(0,Ie.D)([i]).subscribe(function(e){var i=n(e,1)[0];"closed"==i?(t.toastr.error(t.CloseFinancialPeriodMsg),t.PassedReceipt=[],t.faildReceipt=[],t.ReceiptList=[],t.selectedRows=[],t.unSelectedRows=[],t.filterData.selectedRows="",t.filterData.unSelectedRows=""):0==i.length?(t.PassedReceipt=[],t.faildReceipt=[],t.ReceiptList=[],t.selectedRows=[],t.unSelectedRows=[],t.filterData.selectedRows="",t.filterData.unSelectedRows=""):(t.ReceiptList=i,t.PassedReceipt=[],t.faildReceipt=[],t.selectedRows=[],t.unSelectedRows=[],t.filterData.selectedRows="",t.filterData.unSelectedRows="",t._TransferInvoices.isAllSelect=1==t._TransferInvoices.allSelect),t.isloading=!1,t.cd.markForCheck()})}},{key:"GetCountReceiptList",value:function(e){var t=this;this._TransferInvoicesService.GetCountReceiptList(e).subscribe(function(e){t.totalCount=e[0].total,console.log(t.totalCount,"s"),t.cd.markForCheck()})}},{key:"onRowSelect",value:function(e){1==this._TransferInvoices.isAllSelect?(this._TransferInvoices.isAllSelect=!1,this.unSelectedRows.push(e.receiptid)):0==this.unSelectedRows.length?this.selectedRows.indexOf(e.receiptid)>-1?this.selectedRows.splice(this.selectedRows.indexOf(e.receiptid),1):this.selectedRows.push(e.receiptid):this.unSelectedRows.indexOf(e.receiptid)>-1?(this.unSelectedRows.splice(this.unSelectedRows.indexOf(e.receiptid),1),0==this.unSelectedRows.length&&(this._TransferInvoices.isAllSelect=!0,this.selectedRows=[],this.unSelectedRows=[],this.filterData.selectedRows="",this.filterData.unSelectedRows="")):this.unSelectedRows.push(e.receiptid)}},{key:"AllSelect",value:function(){var e=this;0==this.ReceiptList.length||1==this._TransferInvoices.allSelect?(this._TransferInvoices.allSelect=!1,this._TransferInvoices.isAllSelect=!1,this.selectedRows=[],this.unSelectedRows=[],this.filterData.selectedRows="",this.filterData.unSelectedRows=""):(this._TransferInvoices.allSelect=!0,this._TransferInvoices.isAllSelect=!0,this.selectedRows=[],this.unSelectedRows=[],this.ReceiptList.forEach(function(t){return e.selectedRows.push(t.receiptid)}),this.filterData.selectedRows="",this.filterData.unSelectedRows="")}},{key:"Apply",value:function(){0==this.ReceiptList.length?this.toastr.error(this.performActionMsg):0==this._TransferInvoices.isAllSelect&&0==this.selectedRows.length&&0==this.unSelectedRows.length?this.toastr.error(this.activateOneMsg):(this.filterData.allSelect=this._TransferInvoices.allSelect,this.filterData.isAllSelect=this._TransferInvoices.isAllSelect,1==this._TransferInvoices.isAllSelect||this.selectedRows.length>0?(this.filterData.selectedRows=this.selectedRows.join(","),this.updateRows(this.filterData)):(this.filterData.unSelectedRows=this.unSelectedRows.join(","),this.updateRows(this.filterData)))}},{key:"updateRows",value:function(e){var t=this;this.spinner.show(),this._TransferInvoicesService.TransferReceiptInsert(e).subscribe(function(e){e?(""!=e.passedreceiptsid&&null!=e.passedreceiptsid&&(t.PassedReceipt=e.passedreceiptsid.split(",").map(Number)),""!=e.faildreceiptsid&&null!=e.faildreceiptsid&&(t.faildReceipt=e.faildreceiptsid.split(",").map(Number)),t.spinner.hide(),t.cd.markForCheck(),Me().fire({text:t.passedMsg+t.PassedReceipt.length+"\n"+t.falidMsg+t.faildReceipt.length,showCancelButton:!1,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:t.close,customClass:{confirmButton:"btn btn-danger",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(e){})):(t.toastr.error("Somethings is error"),t.spinner.hide(),t.cd.markForCheck())})}},{key:"getStyle",value:function(e){var t=this.faildReceipt.includes(e.receiptid),n=this.PassedReceipt.includes(e.receiptid),i=this.selectedRows.indexOf(e.receiptid)>-1||this._TransferInvoices.isAllSelect||-1==this.unSelectedRows.indexOf(e.receiptid)&&0!=this.unSelectedRows.length;return t?"background-color: red;":n?"background-color: green;":i?"background-color: #B0BED9;":""}},{key:"ShowReceipt",value:function(e){return 51===e.code?"/page/receivables/cashsales/".concat(e.receiptid):52===e.code?"/page/receivables/creditsales/".concat(e.receiptid):53===e.code?"/page/receivables/cashreturn/".concat(e.receiptid):54===e.code?"/page/receivables/creditreturn/".concat(e.receiptid):50===e.code?"/page/receivables/quotations/".concat(e.receiptid):88===e.code?"/page/receivables/salesorder/".concat(e.receiptid):64===e.code?"/page/inventorytransiction/issuerequest/".concat(e.receiptid):60===e.code?"/page/inventorytransiction/issuevoucher/".concat(e.receiptid):63===e.code?"/page/inventorytransiction/issuereturn/".concat(e.receiptid):55===e.code?"/page/inventorytransiction/performa/".concat(e.receiptid):""}},{key:"OnExcel",value:function(){var e=this,t=[];this.filterData.Skip=1,this.filterData.Take=1e4,this._TransferInvoicesService.GetReciptsList(this.filterData).subscribe(function(n){n.forEach(function(n){var i;i="ar"==e.lang?{"\u0627\u0644\u0641\u0631\u0639":n.branchname_ar,"\u0646\u0648\u0639 \u0627\u0644\u0633\u0646\u062f":n.receipttypename_ar,"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":n.entry_no,"\u0645\u0648\u0631\u062f / \u0639\u0645\u064a\u0644":n.customername_ar,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":n.receiptdate,"\u0627\u0644\u0642\u064a\u0645\u0629":n.netvalue.toLocaleString(e.currencycode,{minimumFractionDigits:e.currencyprecision}),"\u0627\u0644\u0628\u064a\u0627\u0646":n.memo.trim()}:{Branch:n.branchname,"Receipt Type":n.receipttypename,"Entry No":n.entry_no,"Vendor / Customer":n.customername,Date:n.receiptdate,value:n.netvalue.toLocaleString(e.currencycode,{minimumFractionDigits:e.currencyprecision}),Memo:n.memo.trim()},t.push(i)}),e._Excel.exportAsExcelFile(t,e.TransferInvoicesVoucher)})}},{key:"OnPrint",value:function(){var e=this,t="",n="ar"==this.lang?"rtl":"ltr";this.filterData.Skip=1,this.filterData.Take=1e4,this._TransferInvoicesService.GetReciptsList(this.filterData).subscribe(function(i){t="\n        <h3>"+e.TransferInvoicesVoucher+'</h3>\n            <table class="table m-0 table table-striped" style="width:100%; border: 1px solid black;\n            border-collapse: collapse;text-align:left;" dir = '.concat(n,'>\n                  <theadstyle="border: 1px solid black;\n                  border-collapse: collapse;">\n                    <tr style="background: #e9f1f5;color: cornflowerblue;">\n                      <th></th>\n                      <th>')+e.Branch+"</th>\n                      <th>"+e.ReceiptType+"</th>\n                      <th>"+e.EntryNo+"</th>\n                      <th>"+e.Vendor+"\\"+e.Customer+"</th>\n                      <th>"+e.Date+"</th>\n                      <th>"+e.value+"</th>\n                      <th>"+e.Memo+"</th>\n                      <th></th>\n                    </tr>\n                  </thead>\n              <tbody>\n          ",i.map(function(n){t+="\n         <tr>\n          <td></td>\n          <td>".concat("ar"==e.lang?n.branchname_ar:n.branchname,"</td>\n          <td>").concat("ar"==e.lang?n.receipttypename_ar:n.receipttypename,"</td>\n          <td>").concat(n.entry_no,"</td>\n          <td>").concat("ar"==e.lang?n.customername_ar:n.customername,"</td>\n          <td>").concat(n.receiptdate,"</td>\n          <td>").concat(n.netvalue.toLocaleString(e.currencycode,{minimumFractionDigits:e.currencyprecision}),"</td>\n          <td>").concat(n.memo.trim(),"</td>\n          <td></td>\n         </tr>\n         ")}),t+="</tbody></table>",e._printService.OnPrintContent(t)})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"onPageChange",value:function(e){this.filterData.Skip=e,this.PageNo=e,this.GetReciptsList(this.filterData)}},{key:"onPageSizeChange",value:function(e){this.filterData.Take=e,this.PageSize=e,this.GetReciptsList(this.filterData)}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(M["\u0275\u0275directiveInject"](R.t),M["\u0275\u0275directiveInject"](Oe.H),M["\u0275\u0275directiveInject"](eO),M["\u0275\u0275directiveInject"](Pe.v),M["\u0275\u0275directiveInject"](M.ChangeDetectorRef),M["\u0275\u0275directiveInject"](I._W),M["\u0275\u0275directiveInject"](m.F0),M["\u0275\u0275directiveInject"](P.m),M["\u0275\u0275directiveInject"](h.sK),M["\u0275\u0275directiveInject"](O.K),M["\u0275\u0275directiveInject"](k.t2),M["\u0275\u0275directiveInject"](m.gz),M["\u0275\u0275directiveInject"](w.$),M["\u0275\u0275directiveInject"](D.x),M["\u0275\u0275directiveInject"](E.e))},e.\u0275cmp=M["\u0275\u0275defineComponent"]({type:e,selectors:[["TransferInvoices"]],viewQuery:function(e,t){var n;(1&e&&M["\u0275\u0275viewQuery"](nO,5),2&e)&&(M["\u0275\u0275queryRefresh"](n=M["\u0275\u0275loadQuery"]())&&(t.RForm=n.first))},features:[M["\u0275\u0275ProvidersFeature"]([Oe.H,R.t,eO,Pe.v])],decls:5,vars:3,consts:[["class","row",4,"ngIf"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"row"],[2,"margin","0 30% 0 30%","margin-top","200px"],[1,"container-fluid","py-4","pl-0","pr-0"],[1,"card","my-2","mx-2","px-3","pb-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-body"],[1,"col-12"],[1,"row","match-height"],[1,"card","transparent-BG","box-shadow-none"],[1,"card-content"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"col-lg-4","col-md-4","col-sm-12"],[1,"form-group"],["for","Branch"],["name","Branch","id","Branch","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["Branch","ngModel"],[3,"ngValue",4,"ngIf"],[3,"value","selected",4,"ngFor","ngForOf"],["for","Customer",1,"label"],["scrollHeight","400px","name","customers",3,"options","ngModel","filter","filterBy","placeholder","optionLabel","ngClass","ngModelChange","onChange"],["autoCustomerAccounts","","customers","ngModel"],["pTemplate","item"],["for","FromDate"],["type","date","id","FromDate","name","FromDate","requird","",1,"form-control",3,"ngModel","ngClass","ngModelChange","focusout"],["FromDate","ngModel"],["for","FromReceiptCode"],["name","FromReceiptCode","id","FromReceiptCode","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","focusout"],["FromReceiptCode","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","ToReceiptCode"],["name","ToReceiptCode","id","ToReceiptCode","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","focusout"],["ToReceiptCode","ngModel"],["for","ToDate"],["type","date","id","ToDate","name","ToDate","requird","",1,"form-control",3,"ngModel","ngClass","ngModelChange","focusout"],["ToDate","ngModel"],["for","EntryNum"],["type","number","id","EntryNum","name","EntryNum","min","0","PositiveNumbersOnly","",1,"form-control",3,"ngModel","ngModelChange"],["ReceiptNumber","ngModel"],[1,"col-lg-2","col-md-2","col-sm-12"],["type","submit",1,"btn","btn-primary","mt-3","btn-md","mr-2","mb-2"],[1,""],["type","button",1,"btn","btn-primary","mt-3","btn-md","mr-2","mb-2",3,"click"],[1,"row","mt-3","mb-3"],["type","checkbox","id","exampleCheck1",3,"checked","change","checkedChange"],["for","exampleCheck1",1,"form-check-label","mr-3"],[1,"col-12","p-0"],[1,"card-header","p-0"],[1,"col-12","d-flex","justify-content-between"],[1,"col-lg-4","col-md-4","col-sm-6"],[1,"form-group","row"],[1,"btn","btn-success","btn-md","mr-2","mb-2",3,"click"],[1,"btn","btn-warning","btn-md","mr-4","mb-2",3,"click"],[1,"col-lg-6","col-md-6","col-sm-12","pull-right"],[1,"form-group","d-flex","justify-content-end"],["for","SearchValue",1,"pt-1","pl-1","pr-1","form-label"],["type","text","id","SearchValue","name","SearchValue",1,"form-control","col-md-6",3,"ngModel","ngModelChange","keyup"],["SearchValue","ngModel"],[1,"card-body","table-responsive"],["src","../../../../assets/img/loading/loading.gif",4,"ngIf"],["class","table text-center m-0 table table-striped",4,"ngIf"],["class","d-flex justify-content-between p-2",4,"ngIf"],[3,"ngValue"],[3,"value","selected"],["pTemplate","CustomerAccountsTemplate"],[1,"item-drop1"],["class","item-value1",4,"ngIf"],[1,"item-value1"],[3,"value"],["src","../../../../assets/img/loading/loading.gif"],[1,"table","text-center","m-0","table","table-striped"],[3,"click"],[1,"fa","fa-fw","fa-sort",3,"hidden"],["class","fa fa-fw fa-sort-desc",4,"ngIf"],["class","fa fa-fw fa-sort-asc",4,"ngIf"],[3,"style",4,"ngFor","ngForOf"],[1,"fa","fa-fw","fa-sort-desc"],[1,"fa","fa-fw","fa-sort-asc"],[1,"custom-control","custom-checkbox"],["type","checkbox",3,"checked","change"],[1,"text-truncate"],["target","_blank",1,"p-0",3,"href"],["aria-hidden","true",1,"fa","fa-file"],["colspan","9"],[1,"d-flex","justify-content-between","p-2"],[1,"d-flex","justify-content-center",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","50"],["Value","100"],["Value","200"]],template:function(e,t){1&e&&(M["\u0275\u0275template"](0,iO,4,3,"div",0),M["\u0275\u0275template"](1,gk,135,104,"div",1),M["\u0275\u0275elementStart"](2,"ngx-spinner",2),M["\u0275\u0275elementStart"](3,"p",3),M["\u0275\u0275text"](4,"Loading..."),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275property"]("ngIf",!t.checkRoleParms(17113)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",t.checkRoleParms(17113)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("fullScreen",!0))},directives:[l.O5,k.Ro,d._Y,d.JL,d.F,d.EJ,d.Q7,d.JJ,d.On,l.mk,l.sg,y.Lt,Be.jx,d.Fj,d.qQ,d.wV,L.K,d.YN,d.Kr,F.N9],pipes:[h.X$,l.uU],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}.headerform[_ngcontent-%COMP%]{color:#fff;height:44px;margin-bottom:17px}.custom-style-posting-table-part[_ngcontent-%COMP%]{border:.5px solid #d3d3d3;border-radius:5px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}']}),e}(),vk=a(53233),fk=function e(){c(this,e),this.pageNo=1,this.pageSize=10,this.orderBy="Code.Asc",this.subsidiaryId=1,this.searchValue="",this.branchID=0},Ck=function e(){c(this,e),this.code=null,this.branchid=null,this.branch=null,this.storeid=null,this.accounttype=!1,this.customerid=null,this.customer=null,this.receipt=[]},yk=function(){var e=function(){function e(t){c(this,e),this.http=t,this.baseUrl=ke.N.apiUrl}return o(e,[{key:"GetAllServiceIssueVoucher",value:function(e){return this.http.post(this.baseUrl+"/ServiceIssueVoucher/GetAllServiceIssueVoucher",e).pipe((0,XP.U)(function(e){return e}))}},{key:"GetServiceIssueVoucherCount",value:function(e){return this.http.post(this.baseUrl+"/ServiceIssueVoucher/GetServiceIssueVoucherCount",e).pipe((0,XP.U)(function(e){return e}))}},{key:"GetServiceIssueVoucherByID",value:function(e,t){return this.http.get("".concat(this.baseUrl,"/ServiceIssueVoucher/GetServiceIssueVoucherByID?ID=").concat(e,"&SubsidaryId=").concat(t)).pipe((0,XP.U)(function(e){return e}))}},{key:"AddServiceIssueVoucher",value:function(e){return this.http.post(this.baseUrl+"/ServiceIssueVoucher/AddServiceIssueVoucher",e).pipe((0,XP.U)(function(e){return e}))}},{key:"UpdateServiceIssueVoucher",value:function(e){return this.http.post(this.baseUrl+"/ServiceIssueVoucher/UpdateServiceIssueVoucher",e).pipe((0,XP.U)(function(e){return e}))}},{key:"GetAllInvoicesIssuesItems",value:function(e){return this.http.post(this.baseUrl+"/ServiceIssueVoucher/GetAllInvoicesIssuesItems",e).pipe((0,XP.U)(function(e){return e}))}},{key:"DeleteServiceIssueComponent",value:function(e){return this.http.get("".concat(this.baseUrl,"/ServiceIssueVoucher/DeleteServiceIssueComponent?Id=").concat(e)).pipe((0,XP.U)(function(e){return e}))}},{key:"GetMaxCode",value:function(e,t){return this.http.get("".concat(this.baseUrl,"/ServiceIssueVoucher/GetMaxCode?SubsidiaryId=").concat(e,"&BranchID=").concat(t)).pipe((0,XP.U)(function(e){return e}))}},{key:"CheckDate",value:function(e){return this.http.post(this.baseUrl+"/ServiceIssueVoucher/CheckDate",e).pipe((0,XP.U)(function(e){return e}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(M["\u0275\u0275inject"](p.eN))},e.\u0275prov=M["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),bk=a(40430),Sk=["RForm"];function Rk(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"div",5),M["\u0275\u0275elementStart"](1,"h1"),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function xk(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",n.name_ar," ")}}function Mk(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.name)}}function Ik(e,t){if(1&e&&(M["\u0275\u0275template"](0,xk,2,1,"div",22),M["\u0275\u0275template"](1,Mk,2,1,"div",22)),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Pk(e,t){1&e&&M["\u0275\u0275template"](0,Ik,2,2,"ng-template",46)}function Ok(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span",49),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.name_ar)}}function kk(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.name)}}function Ek(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div",47),M["\u0275\u0275template"](1,Ok,2,1,"span",48),M["\u0275\u0275template"](2,kk,2,1,"span",22),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function wk(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.sugar)}}function Dk(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.sug)}}function Bk(e,t){if(1&e&&(M["\u0275\u0275template"](0,wk,2,1,"div",22),M["\u0275\u0275template"](1,Dk,2,1,"div",22)),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}var Lk=function(e,t){return{"invalid-data":e,"valid-data":t}};function Fk(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"p-autoComplete",50,51),M["\u0275\u0275listener"]("onFocus",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275reference"](1);return M["\u0275\u0275nextContext"](2).onFocusInCustomerAccounts(e),t.show()})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Wrapper.customer=e})("onSelect",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).CustomerAccountsSelectEvent(e)})("completeMethod",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).CustomerAccountsChangeSearch(e)})("onClear",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).onClearCustomer(e)}),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275template"](4,Bk,2,2,"ng-template",52),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](2);M["\u0275\u0275nextContext"]();var r=M["\u0275\u0275reference"](10),a=M["\u0275\u0275nextContext"]();M["\u0275\u0275property"]("ngModel",a._Wrapper.customer)("suggestions",a.CustomerAccountsList)("showEmptyMessage",!0)("emptyMessage",M["\u0275\u0275pipeBind1"](3,6,"NoResultsFound"))("forceSelection",!0)("ngClass",M["\u0275\u0275pureFunction2"](8,Lk,i.invalid&&r.submitted,i.valid&&r.submitted))}}function Nk(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.sugar)}}function Vk(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"div"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.sug)}}function qk(e,t){if(1&e&&(M["\u0275\u0275template"](0,Nk,2,1,"div",22),M["\u0275\u0275template"](1,Vk,2,1,"div",22)),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275property"]("ngIf","ar"==n.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Tk(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"p-autoComplete",53,54),M["\u0275\u0275listener"]("onFocus",function(e){M["\u0275\u0275restoreView"](n);var t=M["\u0275\u0275reference"](1);return M["\u0275\u0275nextContext"](2).onFocusInOtherAccounts(e),t.show()})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2)._Wrapper.customer=e})("onSelect",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).CustomerAccountsSelectEvent(e)})("completeMethod",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).OtherAccountsChangeSearch(e)})("onClear",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).onClearCustomer(e)}),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275template"](4,qk,2,2,"ng-template",55),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](2);M["\u0275\u0275nextContext"]();var r=M["\u0275\u0275reference"](10),a=M["\u0275\u0275nextContext"]();M["\u0275\u0275property"]("ngModel",a._Wrapper.customer)("suggestions",a.OtherAccountsList)("showEmptyMessage",!0)("emptyMessage",M["\u0275\u0275pipeBind1"](3,6,"NoResultsFound"))("forceSelection",!0)("ngClass",M["\u0275\u0275pureFunction2"](8,Lk,i.invalid&&r.submitted,i.valid&&r.submitted))}}function Ak(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"button",56),M["\u0275\u0275element"](1,"i",57),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"]("",M["\u0275\u0275pipeBind1"](3,1,"Apply")," "))}function Gk(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"button",40),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).DeleteAction()}),M["\u0275\u0275text"](1),M["\u0275\u0275pipe"](2,"translate"),M["\u0275\u0275elementEnd"]()}2&e&&(M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](2,1,"Delete")," "))}function Uk(e,t){1&e&&M["\u0275\u0275element"](0,"img",58)}function jk(e,t){1&e&&M["\u0275\u0275element"](0,"i",65)}function $k(e,t){1&e&&M["\u0275\u0275element"](0,"i",66)}function zk(e,t){1&e&&M["\u0275\u0275element"](0,"i",65)}function Wk(e,t){1&e&&M["\u0275\u0275element"](0,"i",66)}function Jk(e,t){1&e&&M["\u0275\u0275element"](0,"i",65)}function Qk(e,t){1&e&&M["\u0275\u0275element"](0,"i",66)}function Yk(e,t){1&e&&M["\u0275\u0275element"](0,"i",65)}function Hk(e,t){1&e&&M["\u0275\u0275element"](0,"i",66)}function Zk(e,t){1&e&&M["\u0275\u0275element"](0,"i",65)}function Kk(e,t){1&e&&M["\u0275\u0275element"](0,"i",66)}function Xk(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"a",69),M["\u0275\u0275elementStart"](1,"span"),M["\u0275\u0275element"](2,"i",70),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275propertyInterpolate1"]("routerLink","/page/inventorytransiction/issuevoucher/",null==n?null:n.id,"/show")}}function eE(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"a",69),M["\u0275\u0275elementStart"](1,"span"),M["\u0275\u0275element"](2,"i",70),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275propertyInterpolate1"]("routerLink","/page/inventorytransiction/issuereturn/",null==n?null:n.id,"/show")}}function tE(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"tr"),M["\u0275\u0275elementStart"](1,"td"),M["\u0275\u0275text"](2),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](3,"td"),M["\u0275\u0275text"](4),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](5,"td"),M["\u0275\u0275text"](6),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](7,"td"),M["\u0275\u0275text"](8),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](9,"td"),M["\u0275\u0275text"](10),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](11,"td"),M["\u0275\u0275template"](12,Xk,3,1,"a",68),M["\u0275\u0275template"](13,eE,3,1,"a",68),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](null==n?null:n.billno),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](null==n?null:n.transaction),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](null==n?null:n.date),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](null==n?null:n.customername),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](null==n?null:n.amount),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",60==n.transictionid),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",63==n.transictionid)}}function nE(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"tbody"),M["\u0275\u0275template"](1,tE,14,7,"tr",67),M["\u0275\u0275pipe"](2,"slice"),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"](3);M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngForOf",M["\u0275\u0275pipeBind3"](2,1,n.VoucherDetailLists,(n.PageNo-1)*n.PageSize,n.PageNo*n.PageSize))}}function iE(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"tbody"),M["\u0275\u0275elementStart"](1,"tr",71),M["\u0275\u0275elementStart"](2,"td",72),M["\u0275\u0275text"](3),M["\u0275\u0275pipe"](4,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](4,1,"NoData")))}function rE(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"table",59),M["\u0275\u0275elementStart"](1,"thead"),M["\u0275\u0275elementStart"](2,"tr"),M["\u0275\u0275elementStart"](3,"th",60),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).VoucherDetailListsSort("billno")}),M["\u0275\u0275elementContainerStart"](4),M["\u0275\u0275element"](5,"i",61),M["\u0275\u0275template"](6,jk,1,0,"i",62),M["\u0275\u0275template"](7,$k,1,0,"i",63),M["\u0275\u0275elementContainerEnd"](),M["\u0275\u0275text"](8),M["\u0275\u0275pipe"](9,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](10,"th",60),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).VoucherDetailListsSort("transaction")}),M["\u0275\u0275elementContainerStart"](11),M["\u0275\u0275element"](12,"i",61),M["\u0275\u0275template"](13,zk,1,0,"i",62),M["\u0275\u0275template"](14,Wk,1,0,"i",63),M["\u0275\u0275elementContainerEnd"](),M["\u0275\u0275text"](15),M["\u0275\u0275pipe"](16,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](17,"th",60),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).VoucherDetailListsSort("date")}),M["\u0275\u0275elementContainerStart"](18),M["\u0275\u0275element"](19,"i",61),M["\u0275\u0275template"](20,Jk,1,0,"i",62),M["\u0275\u0275template"](21,Qk,1,0,"i",63),M["\u0275\u0275elementContainerEnd"](),M["\u0275\u0275text"](22),M["\u0275\u0275pipe"](23,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](24,"th",64),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).VoucherDetailListsSort("customername")}),M["\u0275\u0275elementContainerStart"](25),M["\u0275\u0275element"](26,"i",61),M["\u0275\u0275template"](27,Yk,1,0,"i",62),M["\u0275\u0275template"](28,Hk,1,0,"i",63),M["\u0275\u0275elementContainerEnd"](),M["\u0275\u0275text"](29),M["\u0275\u0275pipe"](30,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](31,"th",60),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"](2).VoucherDetailListsSort("amount")}),M["\u0275\u0275elementContainerStart"](32),M["\u0275\u0275element"](33,"i",61),M["\u0275\u0275template"](34,Zk,1,0,"i",62),M["\u0275\u0275template"](35,Kk,1,0,"i",63),M["\u0275\u0275elementContainerEnd"](),M["\u0275\u0275text"](36),M["\u0275\u0275pipe"](37,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](38,"th"),M["\u0275\u0275text"](39,"\xa0"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](40,nE,3,5,"tbody",22),M["\u0275\u0275template"](41,iE,5,3,"tbody",22),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275advance"](5),M["\u0275\u0275property"]("hidden","billno"==i.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","billno"==i.sortColumn&&"asc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","billno"==i.sortColumn&&"desc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](9,22,"BillNo")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("hidden","transaction"==i.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","transaction"==i.sortColumn&&"asc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","transaction"==i.sortColumn&&"desc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](16,24,"Transaction")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("hidden","date"==i.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","date"==i.sortColumn&&"asc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","date"==i.sortColumn&&"desc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](23,26,"Date")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("hidden","customername"==i.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","customername"==i.sortColumn&&"asc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","customername"==i.sortColumn&&"desc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](30,28,"custvendor")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("hidden","amount"==i.sortColumn),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","amount"==i.sortColumn&&"asc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","amount"==i.sortColumn&&"desc"==i.sortDirection),M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](37,30,"Amount")," "),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("ngIf",i.VoucherDetailLists.length>0),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",0==i.VoucherDetailLists.length)}}var aE=function(){return{width:"100%"}},oE=function(e,t){return{"pd-invalid-data":e,"valid-data":t}};function cE(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",6),M["\u0275\u0275elementStart"](1,"div",7),M["\u0275\u0275elementStart"](2,"div",8),M["\u0275\u0275elementStart"](3,"h6",9),M["\u0275\u0275text"](4),M["\u0275\u0275pipe"](5,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](6,"div",10),M["\u0275\u0275elementStart"](7,"div",11),M["\u0275\u0275elementStart"](8,"section"),M["\u0275\u0275elementStart"](9,"form",12,13),M["\u0275\u0275listener"]("ngSubmit",function(){M["\u0275\u0275restoreView"](n);var e=M["\u0275\u0275reference"](10);return M["\u0275\u0275nextContext"]().preview(e)}),M["\u0275\u0275elementStart"](11,"div",5),M["\u0275\u0275elementStart"](12,"div",14),M["\u0275\u0275elementStart"](13,"div",15),M["\u0275\u0275elementStart"](14,"label",16),M["\u0275\u0275text"](15),M["\u0275\u0275pipe"](16,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](17,"input",17,18),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Wrapper.code=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](19,"div",14),M["\u0275\u0275elementStart"](20,"div",15),M["\u0275\u0275elementStart"](21,"label",19),M["\u0275\u0275text"](22),M["\u0275\u0275pipe"](23,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](24,"p-dropdown",20,21),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Wrapper.branch=e})("onChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().ChangeBranch(e)}),M["\u0275\u0275pipe"](27,"translate"),M["\u0275\u0275template"](28,Pk,1,0,void 0,22),M["\u0275\u0275template"](29,Ek,3,2,"ng-template",23),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](30,"div",24),M["\u0275\u0275elementStart"](31,"div",15),M["\u0275\u0275elementStart"](32,"label"),M["\u0275\u0275elementStart"](33,"input",25),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().onMainAccountRadioClick()})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Wrapper.accounttype=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](34,"span",26),M["\u0275\u0275text"](35,"*"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](36,"span",27),M["\u0275\u0275text"](37),M["\u0275\u0275pipe"](38,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](39,"label",28),M["\u0275\u0275elementStart"](40,"input",25),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().onMainAccountRadioClick()})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Wrapper.accounttype=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](41,"span",26),M["\u0275\u0275text"](42,"*"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](43,"span",27),M["\u0275\u0275text"](44),M["\u0275\u0275pipe"](45,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](46,Fk,5,11,"p-autoComplete",29),M["\u0275\u0275template"](47,Tk,5,11,"p-autoComplete",30),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](48,"div",5),M["\u0275\u0275elementStart"](49,"div",31),M["\u0275\u0275elementStart"](50,"div",15),M["\u0275\u0275elementStart"](51,"label",32),M["\u0275\u0275text"](52),M["\u0275\u0275pipe"](53,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](54,"input",33,34),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Wrapper.fromdate=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](56,"div",31),M["\u0275\u0275elementStart"](57,"div",15),M["\u0275\u0275elementStart"](58,"label",35),M["\u0275\u0275text"](59),M["\u0275\u0275pipe"](60,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](61,"input",36,37),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]()._Wrapper.todate=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](63,"div",31),M["\u0275\u0275template"](64,Ak,4,3,"button",38),M["\u0275\u0275template"](65,Gk,3,3,"button",39),M["\u0275\u0275elementStart"](66,"button",40),M["\u0275\u0275listener"]("click",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().BackAction()}),M["\u0275\u0275text"](67),M["\u0275\u0275pipe"](68,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](69,"div",5),M["\u0275\u0275elementStart"](70,"div",11),M["\u0275\u0275elementStart"](71,"div",41),M["\u0275\u0275elementStart"](72,"div",42),M["\u0275\u0275template"](73,Uk,1,0,"img",43),M["\u0275\u0275elementStart"](74,"div",44),M["\u0275\u0275template"](75,rE,42,32,"table",45),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275reference"](10),r=M["\u0275\u0275reference"](26),a=M["\u0275\u0275reference"](55),o=M["\u0275\u0275reference"](62),c=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](5,37,"ServiceIssueComponents")," "),M["\u0275\u0275advance"](11),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](16,39,"Entry#")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("stepallow",1)("ngModel",c._Wrapper.code)("Min",1)("CheckMin",!0)("readonly",!0),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](23,41,"Branch")),M["\u0275\u0275advance"](2),M["\u0275\u0275styleMap"](M["\u0275\u0275pureFunction0"](55,aE)),M["\u0275\u0275propertyInterpolate"]("filterBy","ar"==c.lang?"name_ar":"name"),M["\u0275\u0275propertyInterpolate"]("placeholder",M["\u0275\u0275pipeBind1"](27,43,"All")),M["\u0275\u0275propertyInterpolate"]("optionLabel","ar"==c.lang?"name_ar":"name"),M["\u0275\u0275property"]("options",c.BranchList)("ngModel",c._Wrapper.branch)("filter",!0)("ngClass",M["\u0275\u0275pureFunction2"](56,oE,(r.invalid||null==c._Wrapper.branchid)&&i.submitted,r.valid&&i.submitted)),M["\u0275\u0275advance"](4),M["\u0275\u0275property"]("ngIf",c._Wrapper.branch),M["\u0275\u0275advance"](5),M["\u0275\u0275property"]("ngModel",c._Wrapper.accounttype)("value",!1),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](38,45,"Customer#")),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngModel",c._Wrapper.accounttype)("value",!0),M["\u0275\u0275advance"](4),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](45,47,"OtherAccount")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",0==c._Wrapper.accounttype),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",1==c._Wrapper.accounttype),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](53,49,"fromDate")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",c._Wrapper.fromdate)("ngClass",M["\u0275\u0275pureFunction2"](59,Lk,a.invalid&&i.submitted,a.valid&&i.submitted)),M["\u0275\u0275advance"](5),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](60,51,"toDate")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",c._Wrapper.todate)("ngClass",M["\u0275\u0275pureFunction2"](62,Lk,o.invalid&&i.submitted,o.valid&&i.submitted)),M["\u0275\u0275advance"](3),M["\u0275\u0275property"]("ngIf",0==c._Wrapper.id||null==c._Wrapper.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",c._Wrapper.id>0&&c.checkRoleParms(c.Permission.Delete)&&0==c.Show),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](68,53,"Exit")," "),M["\u0275\u0275advance"](6),M["\u0275\u0275property"]("ngIf",c.isloading),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",!c.isloading)}}function lE(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementStart"](0,"div",73),M["\u0275\u0275elementStart"](1,"ngb-pagination",74),M["\u0275\u0275listener"]("pageChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().onPageChange(e)})("pageChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().PageNo=e}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](2,"p"),M["\u0275\u0275text"](3),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](4,"select",75),M["\u0275\u0275listener"]("change",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().onPageSizeChange(e.target.value)})("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().PageSize=e}),M["\u0275\u0275elementStart"](5,"option",76),M["\u0275\u0275text"](6),M["\u0275\u0275pipe"](7,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](8,"option",77),M["\u0275\u0275text"](9),M["\u0275\u0275pipe"](10,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](11,"option",78),M["\u0275\u0275text"](12),M["\u0275\u0275pipe"](13,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](14,"option",79),M["\u0275\u0275text"](15),M["\u0275\u0275pipe"](16,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("collectionSize",i.totalCount)("page",i.PageNo)("pageSize",i.PageSize)("maxSize",10)("boundaryLinks",!0),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",i._generalService.TotalDetailsTextShow(i.PageNo,i.PageSize,i.totalCount,i.lang)," "),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngModel",i.PageSize),M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](7,11,"10 items per page")),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](10,13,"50 items per page")),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](13,15,"100 items per page")),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](16,17,"200 items per page"))}}var sE=function(e,t,n,i){return[e,t,n,i]},dE=function(){var i=function(){function i(e,t,n,r,a,o,l,s,d,p,u,m,h,g,_,v,f){var C=this;c(this,i),this._ServiceIssueComponentservice=e,this._InvoiceFollowService=t,this._VoucherService=n,this._CustomerService=r,this._ReceiptSharedService=a,this.cd=o,this.toastr=l,this._router=s,this._generalService=d,this.translate=p,this._translateGlobalService=u,this.modalService=m,this.spinner=g,this._authService=_,this.location=v,this.datepipe=f,this.isType=!1,this.subsidiaryid=0,this.DuringSaveDisable=!1,this.ServiceIssueComponentsID=0,this._ServiceIssueComponents=new vk.F,this.RelCount=0,this.Permission={View:23005,Add:23006,Edit:23007,Delete:23008},this._Wrapper=new Ck,this.filterData=new Ck,this.Transaction_move=0,this.ReturnTransaction_move=0,this.BasicCodeReceipt=60,this.BasicReturnCodeReceipt=63,this._Receipt=new S.tY,this._CashSalesDetailsReceipt=new S.hm,this._linkedReceipt=new S.Cb,this.Invoicecustomerid=0,this.VoucherDetailLists=[],this.BranchList=[],this.CustomerAccountsList=[],this.OtherAccountsList=[],this.InvoicesList=[],this.DetailsList=[],this.ComponentList=[],this.ItemUnitsList=[],this.isloading=!1,this.swalSubmitConfirmButtonText="",this.PageSize=10,this.totalCount=0,this.PageNo=1,this.title="",this.invalidDateMsg="",this.invalidInvNoMsg="",this.selectErrorMessage="",this.All="",this.fromdateValid=!0,this.todateValid=!0,this.toNumValid=!0,this.fromNumValid=!0,this.swalEntrynoText="",this.swalEntrynoConfirmButton="",this.swalEntrynoCancel="",this.swalTitleEntryno="",this.MainBranchNotSetForVoucher="",this.Cancel="",this.warning="",this.Yes="",this.FinancialPeriodMsg="",this.Close="",this.SaveMsg="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.DeleteRelationmsg="",this.swalNewActionTitle="",this.swalNewActionText="",this.No="",this.NoReceipt="",this.IssuesError=" ",this.CostPostingPeriodMessage="",this.imgSrc="../../../assets/img/datatables/details_open.png",this.CurrencyList=[],this._Currencyprecision=3,this.ItemComponentsLinkedReceipt=[],this.PaymentTypeList=[],this.ReceiptCodeList=[],this.Show=!1,this.sortDirection="asc",this.sortColumn="",this.AllOpj={id:null,name:"All",name_ar:"\u0627\u0644\u0643\u0644"},h.params.subscribe(function(e){C.ServiceIssueComponentsID=e.id,C.Show=null!=e.show&&"show"==e.show&&e.id>0,C.subsidiaryid=C._generalService.SubsidiaryID,C.subsidiaryid>0&&C.GetData(),C._UserLogin=C._authService.userInfo()}),this.ngUnsubscribe=d.proadCastSubsidiaryID.subscribe(function(e){0==C.subsidiaryid&&(C.subsidiaryid=C._generalService.SubsidiaryID,C.GetData()),C.subsidiaryid!=C._generalService.SubsidiaryID&&C.subsidiaryid>0&&(C.subsidiaryid=C._generalService.SubsidiaryID,C._router.navigate(["/page/inventorytransiction/serviceissuevoucher/0"]).then(function(){window.location.reload()}))}),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(function(e){C.lang=e.lang,C.dir=e.dir,C.translate.use(e.lang),C.ngTransUnsubscribe=C.translate.get(["warning","Close","swalTitleEntryno","swalEntrynoText","Cancel","swalEntrynoText","swalEntrynoConfirmButton","swalEntrynoConfirmButton","warning","SaveMsg","ServiceIssueComponents","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","DeleteRelationmsg","successMsg","No","swalNewActionTitle","swalNewActionText","Yes","CostPostingPeriodMessage","ClausesZeroErrorMsg","InvoiceFollowup","invalidDateMsg","invalidInvNoMsg","swalSubmitConfirmButtonText","SaveMsg","selectErrorMessage","NoReceipt","IssuesError","selectErrorMessage","All"]).subscribe(function(e){document.title=e.ServiceIssueComponents,C.warning=e.warning,C.swalTitleEntryno=e.swalTitleEntryno,C.swalEntrynoText=e.swalEntrynoText,C.Close=e.Close,C.Cancel=e.Cancel,C.NoReceipt=e.NoReceipt,C.IssuesError=e.IssuesError,C.swalEntrynoConfirmButton=e.swalEntrynoConfirmButton,C.SaveMsg=e.SaveMsg,C.swalDeleteTitle=e.swalDeleteTitle,C.swalDetlateText=e.swalDetlateText,C.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,C.DeleteRelationmsg=e.DeleteRelationmsg,C.toastrSuccessDelete=e.successMsg,C.No=e.No,C.swalNewActionTitle=e.swalNewActionTitle,C.swalNewActionText=e.swalNewActionText,C.Yes=e.Yes,C.invalidDateMsg=e.invalidDateMsg,C.invalidInvNoMsg=e.invalidInvNoMsg,C.swalSubmitConfirmButtonText=e.swalSubmitConfirmButtonText,C.SaveMsg=e.SaveMsg,C.selectErrorMessage=e.selectErrorMessage,C.selectErrorMessage=e.selectErrorMessage,C.All=e.All,C.CostPostingPeriodMessage=e.CostPostingPeriodMessage})})}return o(i,[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){if(this.ServiceIssueComponentsID>0){var e=document.getElementById("Name En"),t=document.getElementById("Arabic Name");e.classList.remove("invalid-data"),t.classList.remove("invalid-data")}}},{key:"GetReceipReceiptCode",value:function(){var e=this,t=this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryid),i=this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryid);(0,Ie.D)([t,i]).subscribe(function(t){var i=n(t,2),r=i[0];i[1];e.ReceiptCodeList=r;var a=e.ReceiptCodeList.find(function(t){return t.code==e.BasicCodeReceipt});e.Transaction_move=a.items;var o=e.ReceiptCodeList.find(function(t){return t.code==e.BasicReturnCodeReceipt});e.ReturnTransaction_move=o.items,e.cd.markForCheck()})}},{key:"SaveReceipt",value:function(){var t=this;if(this.spinner.show(),this.InvoicesList.length>0){var n,i=[],r=e(this.InvoicesList);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(i.push(a.id),51==a.transictionid||52==a.transictionid){var o=this._Wrapper.receipt.findIndex(function(e){return e.code==t.BasicCodeReceipt&&e.costcenterid==a.costcenterid&&e.fromstoreid==a.storeid});-1==o?(this._Receipt=new S.tY,this._Receipt.subsidiaryid=this.subsidiaryid,this._Receipt.code=this.BasicCodeReceipt,this.entry_no+=1,this._Receipt.entry_no=this.entry_no,this._Receipt.entry_date=this.datepipe.transform(new Date,"yyyy-MM-dd"),this._Receipt.customerdeliverdate=this.datepipe.transform(new Date,"yyyy-MM-dd"),this._Receipt.duedate=this.datepipe.transform(new Date,"yyyy-MM-dd"),this._Receipt.entry_time=this.SetTimeNow(),this._Receipt.customerdeliverdate_time=this.SetTimeAfterHouer(),this._Receipt.branch_id=this._Wrapper.branchid,this._Receipt.accounttype=this._Wrapper.accounttype,this._Receipt.vendor_id=this._Wrapper.customerid,this._Receipt.empoyee_id=this._UserLogin.id,this._Receipt.currency_id=this._CurrencySelected.id,this._Receipt.customersalesprice=5,this._Receipt.costcenterid=a.costcenterid,this._linkedReceipt=new S.Cb,this._linkedReceipt.branch_id=this._Receipt.branch_id,this._linkedReceipt.code=a.transictionid,this._linkedReceipt.entry_no=a.billno,this._linkedReceipt.receiptid=a.id,this._linkedReceipt.subsidiaryid=this.subsidiaryid,this._Receipt.memo+=","+a.billno,this._Receipt.fromstoreid=a.storeid,this._Receipt.linkedreceipts.push(this._linkedReceipt),this._Wrapper.receipt.push(this._Receipt)):(this._linkedReceipt=new S.Cb,this._linkedReceipt.branch_id=this._Receipt.branch_id,this._linkedReceipt.code=a.transictionid,this._linkedReceipt.entry_no=a.billno,this._linkedReceipt.receiptid=a.id,this._linkedReceipt.subsidiaryid=this.subsidiaryid,this._Wrapper.receipt[o].memo+=","+a.billno,this._Wrapper.receipt[o].linkedreceipts.push(this._linkedReceipt))}else{var c=this._Wrapper.receipt.findIndex(function(e){return e.code==t.BasicReturnCodeReceipt&&e.costcenterid==a.costcenterid&&e.fromstoreid==a.storeid});-1==c?(this._Receipt=new S.tY,this._Receipt.subsidiaryid=this.subsidiaryid,this._Receipt.code=this.BasicReturnCodeReceipt,this.returnentry_no+=1,this._Receipt.entry_no=this.returnentry_no,this._Receipt.entry_date=this.datepipe.transform(new Date,"yyyy-MM-dd"),this._Receipt.customerdeliverdate=this.datepipe.transform(new Date,"yyyy-MM-dd"),this._Receipt.duedate=this.datepipe.transform(new Date,"yyyy-MM-dd"),this._Receipt.entry_time=this.SetTimeNow(),this._Receipt.customerdeliverdate_time=this.SetTimeAfterHouer(),this._Receipt.branch_id=this._Wrapper.branchid,this._Receipt.accounttype=this._Wrapper.accounttype,this._Receipt.vendor_id=this._Wrapper.customerid,this._Receipt.empoyee_id=this._UserLogin.id,this._Receipt.currency_id=this._CurrencySelected.id,this._Receipt.customersalesprice=5,this._Receipt.costcenterid=a.costcenterid,this._linkedReceipt=new S.Cb,this._linkedReceipt.branch_id=this._Receipt.branch_id,this._linkedReceipt.code=a.transictionid,this._linkedReceipt.entry_no=a.billno,this._linkedReceipt.receiptid=a.id,this._linkedReceipt.subsidiaryid=this.subsidiaryid,this._Receipt.memo+=","+a.billno,this._Receipt.fromstoreid=a.storeid,this._Receipt.linkedreceipts.push(this._linkedReceipt),this._Wrapper.receipt.push(this._Receipt)):(this._linkedReceipt=new S.Cb,this._linkedReceipt.branch_id=this._Receipt.branch_id,this._linkedReceipt.code=a.transictionid,this._linkedReceipt.entry_no=a.billno,this._linkedReceipt.receiptid=a.id,this._linkedReceipt.subsidiaryid=this.subsidiaryid,this._Wrapper.receipt[c].memo+=","+a.billno,this._Wrapper.receipt[c].linkedreceipts.push(this._linkedReceipt))}}}catch(C){r.e(C)}finally{r.f()}var l,s=e(this._Wrapper.receipt);try{for(s.s();!(l=s.n()).done;){var d,p=l.value,u=e(p.linkedreceipts);try{for(u.s();!(d=u.n()).done;){var m=d.value,h=this.DetailsList.filter(function(e){return e.parent_id==m.receiptid});if(null!=h){var g,_=e(h);try{for(_.s();!(g=_.n()).done;){var v=g.value,f=this.ComponentList.filter(function(e){return e.item_id==v.item_id});f.length>0&&f.forEach(function(e){var n=new S.hm;n.item_id=e.itemcomponentid,n.itemname=e.itemname,n.itemname_ar=e.itemname_ar,n.itemcode=e.itemcode,n.unit_id=e.inventory_unitid,n.qty=v.qty*(v.final_conv/e.finalconv)*(e.itemcomponentqty*e.itemcomponentconv)*e.subfinalconv,n.basicqtycomponent=e.itemcomponentqty,n.conv=e.conv,n.final_conv=(null!=e.finalconv?e.finalconv:1)*(n.conv/e.conv),n.itemcode=e.itemcode,n.price=e.averagecost,n.total=n.price*n.qty,n.store_id=p.fromstoreid,n.transaction_move=p.code==t.BasicCodeReceipt?t.Transaction_move:t.ReturnTransaction_move,n.item_type=e.item_type,t.SetLinkReceiptItemRow(p.details,n)})}}catch(C){_.e(C)}finally{_.f()}}}}catch(C){u.e(C)}finally{u.f()}}}catch(C){s.e(C)}finally{s.f()}this._Wrapper.allinvoicesids=i.join(",")}0==this.ServiceIssueComponentsID?this._ServiceIssueComponentservice.AddServiceIssueVoucher(this._Wrapper).subscribe(function(e){0==e?(t.toastr.error("Somethisg is wrong"),t.spinner.hide()):(t.toastr.success(t.SaveMsg),t.spinner.hide(),t._router.navigate(["/page/inventorytransiction/serviceissuevoucher/"+e.data[0].id]).then(function(){window.location.reload()}))}):(this._Wrapper.id=this.ServiceIssueComponentsID,this._Receipt.entry_no=this._Wrapper.code,this._ServiceIssueComponentservice.UpdateServiceIssueVoucher(this._Wrapper).subscribe(function(e){0==e?t.toastr.error():(t.toastr.success(t.SaveMsg),t.spinner.hide(),t._router.navigate(["/page/inventorytransiction/serviceissuevoucher/"+e.data[0].id]).then(function(){window.location.reload()}))}))}},{key:"SetLinkReceiptItemRow",value:function(e,n){var i,r,a,o,c=this;this._CashSalesDetailsReceipt=new S.hm;var l=e.findIndex(function(e){return e.item_id==n.item_id&&e.unit_id==n.unit_id});if(-1==l){e.length>0?(this._CashSalesDetailsReceipt.store_id=e[e.length-1].store_id,this._CashSalesDetailsReceipt.storecode=e[e.length-1].storecode):(this._CashSalesDetailsReceipt.store_id=n.store_id,this._CashSalesDetailsReceipt.storecode={code:n.storecode}),this._CashSalesDetailsReceipt.item_id=n.item_id,this._CashSalesDetailsReceipt.itemcode={code:n.itemcode},this._CashSalesDetailsReceipt.itemname=n.itemname,this._CashSalesDetailsReceipt.itemname_ar=n.itemname_ar,this._CashSalesDetailsReceipt.unit_id=n.unit_id,this._CashSalesDetailsReceipt.qty=n.qty,this._CashSalesDetailsReceipt.conv=n.conv,this._CashSalesDetailsReceipt.transaction_move=n.transaction_move,this._CashSalesDetailsReceipt.isrequireserial=n.isrequireserial,this._CashSalesDetailsReceipt.item_type=n.item_type,this._CashSalesDetailsReceipt.notes=n.notes,this._CashSalesDetailsReceipt.haswarrenty=n.haswarrenty,this._CashSalesDetailsReceipt.warrantydate=n.warrantydate,this._CashSalesDetailsReceipt.detailshtml=n.detailshtml,this._CashSalesDetailsReceipt.customitemname=n.customitemname,this._CashSalesDetailsReceipt.salesmanid=n.salesmanid,this._CashSalesDetailsReceipt.price=n.price,this._CashSalesDetailsReceipt.final_conv=n.final_conv,this._CashSalesDetailsReceipt.discount_percent=null!==(i=n.discount_percent)&&void 0!==i?i:0,this._CashSalesDetailsReceipt.discount_value=null!==(r=n.discount_value)&&void 0!==r?r:0,this._CashSalesDetailsReceipt.h_discount_percentage=null!==(a=n.h_discount_percentage)&&void 0!==a?a:0,this._CashSalesDetailsReceipt.h_discount_value=null!==(o=n.h_discount_value)&&void 0!==o?o:0,this._CashSalesDetailsReceipt.total=n.total;var s=Math.max.apply(Math,t(e.map(function(e){return e.rowno})).concat([0]));this._CashSalesDetailsReceipt.rowno=s+1,3==n.item_type&&this.ComponentList.filter(function(e){return e.finishedproductid==n.item_id&&e.finishedreceipt_did==n.id}).forEach(function(e){var t=new S.hm;t.store_id=c._CashSalesDetailsReceipt.store_id,t.storecode=c._CashSalesDetailsReceipt.storecode.code,t.item_id=e.item_id,t.itemcode=e.itemcode,t.itemname=e.itemname,t.itemname_ar=e.itemname_ar,t.unit_id=e.unit_id,t.conv=e.conv,t.qty=e.qty,t.basicqtycomponent=e.qty/c._CashSalesDetailsReceipt.qty||0,t.price=e.price,t.discount_value=e.discount_value,t.discount_percent=e.discount_percent,t.total=e.total,t.transaction_move=n.transaction_move,t.finishedproductid=e.finishedproductid,t.item_type=e.item_type,t.notes=e.notes,t.haswarrenty=e.haswarrenty,t.warrantydate=e.warrantydate,t.detailshtml=e.detailshtml,t.customitemname=e.customitemname,t.salesmanid=e.salesmanid,t.parentrowno=c._CashSalesDetailsReceipt.rowno,c._Receipt.itemscomponent.push(t)}),e.push(this._CashSalesDetailsReceipt),this.CalaculteValuesItemsRow(e,e.length-1)}else{if(e[l].qty=e[l].qty+parseFloat(n.qty),3==n.item_type){var d=this.ComponentList.filter(function(e){return e.finishedproductid==n.item_id&&e.finishedreceipt_did==n.id});if(null!=e[l].id)for(var p=e[l],u=function(e){c._Receipt.itemscomponent[e].finishedproductid==p.item_id&&c._Receipt.itemscomponent[e].finishedreceipt_did==p.id&&(h=d.find(function(t){return t.item_id==c._Receipt.itemscomponent[e].item_id}),c._Receipt.itemscomponent[e].qty=c._Receipt.itemscomponent[e].qty+parseFloat(h.qty))},m=0;m<this._Receipt.itemscomponent.length;m++){var h;u(m)}else if(null==e[l].id)for(var g=e[l],_=function(e){c._Receipt.itemscomponent[e].finishedproductid==g.item_id&&null==c._Receipt.itemscomponent[e].id&&c._Receipt.itemscomponent[e].parentrowno==g.rowno&&(h=d.find(function(t){return t.item_id==c._Receipt.itemscomponent[e].item_id}),c._Receipt.itemscomponent[e].qty=c._Receipt.itemscomponent[e].qty+parseFloat(h.qty))},v=0;v<this._Receipt.itemscomponent.length;v++)_(v)}this.CalaculteValuesItemsRow(e,l)}}},{key:"CalaculteValuesItemsRow",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"percent";e[t].qty=e[t].qty||0,e[t].price=Number(e[t].price)||0,e[t].discount_value=Number(e[t].discount_value)||0,e[t].discount_percent=e[t].discount_percent||0;var i=Number((e[t].price*e[t].qty).toFixed(this._Currencyprecision));"percent"==n&&(e[t].discount_value=((i*e[t].discount_percent||0)/100).toFixed(this._Currencyprecision)),"value"==n&&(e[t].discount_percent=100*(e[t].discount_value/i%(1/0)||0)),e[t].total=(i-e[t].discount_value).toFixed(this._Currencyprecision),this.cd.markForCheck()}},{key:"GetCurrencyList",value:function(){var e=this;this._VoucherService.GetSubsidaryCurrencyList(this.subsidiaryid).subscribe(function(t){var n;t.length>0&&(e.CurrencyList=t,e._BaseCurrency=e.CurrencyList.find(function(e){return 1==e.basecurrency}),e._CurrencySelected=e._BaseCurrency,e._Currencyprecision=null!==(n=e._BaseCurrency.currencyprecision)&&void 0!==n?n:3,e._Receipt.currency_id=e._CurrencySelected.id,e._Receipt.currency_rate=Number(1..toFixed(9)),e.cd.markForCheck())})}},{key:"SetTimeNow",value:function(){var e=new Date;return("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)}},{key:"SetTimeAfterHouer",value:function(){var e=new Date,t=("0"+(e.getHours()+1)).slice(-2);return"24"==t&&(t="00"),t+":"+("0"+e.getMinutes()).slice(-2)}},{key:"GetData",value:function(){this._Wrapper.todate=(new Date).toISOString().slice(0,10),this._Wrapper.fromdate=(new Date).toISOString().slice(0,10),this._Wrapper.subsidiaryid=this.subsidiaryid,this.GetBranch(),this.GetCurrencyList(),this.GetReceipReceiptCode(),this.GetServiceIssueComponents()}},{key:"GetServiceIssueComponents",value:function(){var e=this;if(this.ServiceIssueComponentsID>0)this._ServiceIssueComponentservice.GetServiceIssueVoucherByID(this.ServiceIssueComponentsID,this.subsidiaryid).subscribe(function(t){e._Wrapper.code=Number(t.data.hedear.code),e._Wrapper.id=Number(t.data.hedear.id),e._Wrapper.subsidiaryid=Number(t.data.hedear.subsidiaryid),e._Wrapper.code=t.data.hedear.code,e._Wrapper.branchid=t.data.hedear.branchid,null!=e._Wrapper.branchid&&(e._Wrapper.branch=e.BranchList.find(function(t){return t.id==e._Wrapper.branchid})),e._Wrapper.accounttype=t.data.hedear.accounttype,e._Wrapper.customerid=t.data.hedear.customerid,null!=e._Wrapper.customerid&&(e._Wrapper.customer={code:t.data.hedear.accountcode}),e._Wrapper.fromdate=e.datepipe.transform(t.data.hedear.fromdate,"yyyy-MM-dd"),e._Wrapper.todate=e.datepipe.transform(t.data.hedear.todate,"yyyy-MM-dd"),e._Wrapper.invoiceid=t.data.hedear.invoiceid,e._Wrapper.allinvoicesids=t.data.hedear.allinvoicesids,e.VoucherDetailLists=t.data.details,e.totalCount=e.VoucherDetailLists.length,console.log(t),e.isloading=!1,e.cd.markForCheck()});else{var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&(this._Wrapper.branchid="null"==t.branchid||0==t.branchid?null:t.branchid,null!=this._Wrapper.branchid&&(this.GetReceiptEntryCode(),this.GetReturnReceiptEntryCode())),this.GetMaxCode()}}},{key:"VoucherDetailListsSort",value:function(e){var t=this;this.sortDirection="asc"==this.sortDirection?"desc":"asc",this.InvoicesList.sort(function(n,i){var r=n[e],a=i[e];return"string"==typeof r?"asc"===t.sortDirection?r.localeCompare(a):a.localeCompare(r):"asc"===t.sortDirection?r-a:a-r}),this.cd.markForCheck()}},{key:"preview",value:function(e){if(e.form.valid){this.filterData=Object.assign({},this._Wrapper);var t=rm(this._Wrapper.todate,"YYYY-MM-DD").format(),n=rm(this._Wrapper.fromdate,"YYYY-MM-DD").format();if(0==rm(n).isSameOrBefore(t))return void this.toastr.error(this.invalidDateMsg);if(null==this._Wrapper.branchid||"null"==this._Wrapper.branchid)return void(this.filterData.branchid=0);if(null==this._Wrapper.customerid||"null"==this._Wrapper.customerid)return void(this.filterData.customerid=0);this.CheckDate()}}},{key:"CheckDate",value:function(){var e=this;0!==Object.keys(this.filterData).length&&(this.filterData.receipt=null,this.filterData.subsidiaryid=this.subsidiaryid,this._ServiceIssueComponentservice.CheckDate(this.filterData).subscribe(function(t){if(1==t.data[0].exits)return e.toastr.error(e.IssuesError);e.GetMaxCostPostedSerDate(),e.cd.markForCheck()}))}},{key:"GetMaxCostPostedSerDate",value:function(){var e=this;this._ReceiptSharedService.GetMaxCostPostedSerDate(this._Receipt.entry_date,this.subsidiaryid).subscribe(function(t){var n=rm(t[0].maxpostingdate,"YYYY-MM-DD").format(),i=rm(e._Wrapper.fromdate,"YYYY-MM-DD").format();if(rm(i).isSameOrBefore(n))return e.toastr.error(e.CostPostingPeriodMessage);e.GetInvoicesList(),e.cd.markForCheck()})}},{key:"GetInvoicesList",value:function(){var e=this;0!==Object.keys(this.filterData).length&&(this.filterData.receipt=null,this.filterData.subsidiaryid=this.subsidiaryid,this.spinner.show(),this._ServiceIssueComponentservice.GetAllInvoicesIssuesItems(this.filterData).subscribe(function(t){if(e.InvoicesList=t.data.receipts,0==e.InvoicesList.length)return e.toastr.error(e.NoReceipt),void e.spinner.hide();e.DetailsList=t.data.details,e.ComponentList=t.data.components,e.SaveReceipt(),e.cd.markForCheck()}))}},{key:"onMainAccountRadioClick",value:function(){this._Wrapper.customer=null,this._Wrapper.customerid=null,this.cd.markForCheck()}},{key:"ChangeCustomer",value:function(e){this._Wrapper.customerid=e.value.accountid}},{key:"onFocusInCustomerAccounts",value:function(e){this.GetCustomerAccountsList("")}},{key:"CustomerAccountsChangeSearch",value:function(e){this.GetCustomerAccountsList(e.query.trim())}},{key:"CustomerAccountsSelectEvent",value:function(e){this._Wrapper.customerid=e.accountid,this.cd.markForCheck()}},{key:"GetCustomerAccountsList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._CustomerService.CustomerAccountsList(this.subsidiaryid,t).subscribe(function(t){e.CustomerAccountsList=[],e.CustomerAccountsList=t,e.cd.markForCheck()})}},{key:"onFocusInOtherAccounts",value:function(e){this.GetOtherAccountsList("")}},{key:"OtherAccountsChangeSearch",value:function(e){this.GetOtherAccountsList(e.query.trim())}},{key:"GetOtherAccountsList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetTransactionAccountList(this.subsidiaryid,t).subscribe(function(t){e.OtherAccountsList=[],e.OtherAccountsList=t,e.cd.markForCheck()})}},{key:"onClearCustomer",value:function(e){this._Wrapper.customer=null}},{key:"GetBranch",value:function(){var e=this;this._InvoiceFollowService.AllActiveUserBranchddl(this.subsidiaryid).subscribe(function(t){e.BranchList=[e.AllOpj].concat(t),e._Wrapper.branch=e.BranchList.find(function(t){return t.id==e._Wrapper.branchid}),e._Wrapper.storeid=e._Wrapper.branch.storeid,e.cd.markForCheck()})}},{key:"ChangeBranch",value:function(e){this._Wrapper.branchid=e.value.id,this._Wrapper.storeid=this._Wrapper.branch.storeid;var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchid:this._Wrapper.branchid})),null!=this._Wrapper.branchid?(this.GetMaxCode(),this.GetReceiptEntryCode(),this.GetReturnReceiptEntryCode()):this._Receipt.entry_no=null}},{key:"CreateNewAction",value:function(){this._router.navigate(["/page/inventorytransiction/serviceissuevoucher/0"]).then(function(){window.location.reload()})}},{key:"BackAction",value:function(){this._router.navigate(["/page/inventorytransiction/serviceissuevoucher"])}},{key:"DeleteAction",value:function(){var e=this;Me().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(t){t.isConfirmed&&1==t.isConfirmed&&e._ServiceIssueComponentservice.DeleteServiceIssueComponent(e._Wrapper.id).subscribe(function(t){0==t.count?(e.toastr.success(e.toastrSuccessDelete),e._router.navigate(["/page/inventorytransiction/serviceissuevoucher"])):e.toastr.error(e.DeleteRelationmsg)})})}},{key:"GetMaxCode",value:function(){var e=this;this._ServiceIssueComponentservice.GetMaxCode(this.subsidiaryid,this._Wrapper.branchid).subscribe(function(t){e._Wrapper.code=t,e.cd.markForCheck()})}},{key:"GetReceiptEntryCode",value:function(){var e=this;this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryid,this.BasicCodeReceipt,this._Wrapper.branchid).subscribe(function(t){e.entry_no=0==t.length?0:t[0].entry_no,e.cd.markForCheck()})}},{key:"GetReturnReceiptEntryCode",value:function(){var e=this;this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryid,this.BasicReturnCodeReceipt,this._Wrapper.branchid).subscribe(function(t){e.returnentry_no=0==t.length?0:t[0].entry_no,e.cd.markForCheck()})}},{key:"onPageChange",value:function(e){this.PageNo=e}},{key:"onPageSizeChange",value:function(e){this.PageSize=e}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"checkRolesParms",value:function(e){var t=!0;return this._authService.isHasRole(e)||(t=!1),t}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}]),i}();return i.\u0275fac=function(e){return new(e||i)(M["\u0275\u0275directiveInject"](yk),M["\u0275\u0275directiveInject"](bk.J),M["\u0275\u0275directiveInject"](Oe.H),M["\u0275\u0275directiveInject"](Pe.v),M["\u0275\u0275directiveInject"](R.t),M["\u0275\u0275directiveInject"](M.ChangeDetectorRef),M["\u0275\u0275directiveInject"](I._W),M["\u0275\u0275directiveInject"](m.F0),M["\u0275\u0275directiveInject"](P.m),M["\u0275\u0275directiveInject"](h.sK),M["\u0275\u0275directiveInject"](O.K),M["\u0275\u0275directiveInject"](F.FF),M["\u0275\u0275directiveInject"](m.gz),M["\u0275\u0275directiveInject"](k.t2),M["\u0275\u0275directiveInject"](E.e),M["\u0275\u0275directiveInject"](l.Ye),M["\u0275\u0275directiveInject"](l.uU))},i.\u0275cmp=M["\u0275\u0275defineComponent"]({type:i,selectors:[["app-service-issue-voucher"]],viewQuery:function(e,t){var n;(1&e&&M["\u0275\u0275viewQuery"](Sk,5),2&e)&&(M["\u0275\u0275queryRefresh"](n=M["\u0275\u0275loadQuery"]())&&(t.RForm=n.first))},features:[M["\u0275\u0275ProvidersFeature"]([yk,bk.J,Oe.H,R.t,Pe.v,l.uU])],decls:7,vars:9,consts:[["class","row",4,"ngIf"],["class","card my-4 mx-2 px-3",4,"ngIf"],["class","d-flex justify-content-between p-2 pagination-display-block",4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"row"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-body"],[1,"col-12"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"col-lg-4","col-md-4","col-sm-12"],[1,"form-group"],["for","Choose2",1,"col-form-label"],["type","text","id","code","name","code","PositiveNumbersOrDecimalOnly","","customMin","",1,"form-control",3,"stepallow","ngModel","Min","CheckMin","readonly","ngModelChange"],["code","ngModel"],["for","branch",1,"col-form-label"],["scrollHeight","400px","name","branch","required","",3,"options","ngModel","filter","filterBy","placeholder","optionLabel","ngClass","ngModelChange","onChange"],["autobranch","","branch","ngModel"],[4,"ngIf"],["pTemplate","item"],[1,"col-lg-4","col-md-4","col-sm-4"],["type","radio","name","AccountType","id","mainAccountType",1,"radio-col-green",3,"ngModel","value","click","ngModelChange"],[2,"color","red","font-weight","bold"],[1,"col-form-label"],[1,"ml-2"],["minLength","0","delay","0","field","code","name","CreditAccount","required","",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","ngClass","onFocus","ngModelChange","onSelect","completeMethod","onClear",4,"ngIf"],["minLength","0","delay","0","field","code","name","OtherAccount","required","",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","ngClass","onFocus","ngModelChange","onSelect","completeMethod","onClear",4,"ngIf"],[1,"col-lg-4","col-md-4","col-sm-2"],["for","fromDate",1,"col-form-label"],["type","date","id","fromDate","name","fromDate","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["fromdate","ngModel"],["for","todate",1,"col-form-label"],["type","date","id","todate","name","todate","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["todate","ngModel"],["type","submit","class","btn btn-primary mt-4 btn-md mr-2 mb-2",4,"ngIf"],["class","btn btn-danger mt-4 btn-md mr-2 mb-2","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-danger","mt-4","btn-md","mr-2","mb-2",3,"click"],[1,"card","transparent-BG"],[1,"card-content"],["src","../../../../../assets/img/loading/loading.gif",4,"ngIf"],[1,"table-responsive","card-body"],["class","table m-0 table-striped",4,"ngIf"],["pTemplate","BranchTemplate"],[1,"item-drop1"],["class","item-value1",4,"ngIf"],[1,"item-value1"],["minLength","0","delay","0","field","code","name","CreditAccount","required","",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","ngClass","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoCustomerAccounts","","customer","ngModel"],["pTemplate","CustomerAccountsTemplate"],["minLength","0","delay","0","field","code","name","OtherAccount","required","",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","ngClass","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoOtherAccounts","","Other","ngModel"],["pTemplate","OtherAccountsTemplate"],["type","submit",1,"btn","btn-primary","mt-4","btn-md","mr-2","mb-2"],[1,""],["src","../../../../../assets/img/loading/loading.gif"],[1,"table","m-0","table-striped"],[3,"click"],[1,"fa","fa-fw","fa-sort",3,"hidden"],["class","fa fa-fw fa-sort-desc",4,"ngIf"],["class","fa fa-fw fa-sort-asc",4,"ngIf"],[1,"col-3",3,"click"],[1,"fa","fa-fw","fa-sort-desc"],[1,"fa","fa-fw","fa-sort-asc"],[4,"ngFor","ngForOf"],["class","btn btn-primary mr-1","href","javascript:;","target","_blank",3,"routerLink",4,"ngIf"],["href","javascript:;","target","_blank",1,"btn","btn-primary","mr-1",3,"routerLink"],["aria-hidden","true",1,"fa","fa-list"],[1,"text-center"],["colspan","6"],[1,"d-flex","justify-content-between","p-2","pagination-display-block"],[1,"d-flex","justify-content-center",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","50"],["Value","100"],["Value","200"]],template:function(e,t){1&e&&(M["\u0275\u0275template"](0,Rk,4,3,"div",0),M["\u0275\u0275elementStart"](1,"section"),M["\u0275\u0275template"](2,cE,76,65,"div",1),M["\u0275\u0275template"](3,lE,17,19,"div",2),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](4,"ngx-spinner",3),M["\u0275\u0275elementStart"](5,"p",4),M["\u0275\u0275text"](6,"Loading..."),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275property"]("ngIf",!(t.checkRoleParms(t.Permission.Add)||t.checkRoleParms(t.Permission.Edit)||t.checkRoleParms(t.Permission.View)||t.checkRoleParms(t.Permission.Delete))),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngIf",t.checkRolesParms(M["\u0275\u0275pureFunction4"](4,sE,t.Permission.View,t.Permission.Add,t.Permission.Edit,t.Permission.Delete))),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",t.totalCount>0),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("fullScreen",!0))},directives:[l.O5,k.Ro,d._Y,d.JL,d.F,d.Fj,we.L,De.a,d.JJ,d.On,y.Lt,d.Q7,l.mk,Be.jx,d._,u.Qc,l.sg,m.yS,F.N9,d.EJ,d.YN,d.Kr],pipes:[h.X$,l.OU],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}.pd-invalid-data[_ngcontent-%COMP%]{border-color:red;border-style:solid;border-width:8px 2px}p-autocomplete[_ngcontent-%COMP%]{height:41px;display:block;border-radius:3px}.CanceledReceipt[_ngcontent-%COMP%]{background-color:red}.table-accountdetails[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table-accountdetails[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.35rem .5rem}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}textarea.vertical[_ngcontent-%COMP%]{resize:vertical;max-height:50px;min-height:35px}.batch-input[_ngcontent-%COMP%]{border:1px solid #1b62d8!important}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.headerform[_ngcontent-%COMP%]{background-color:#2f8be6;color:#fff;height:44px;padding-top:9px;margin-bottom:17px}.total-price[_ngcontent-%COMP%]{font-weight:700;font-size:18px}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}textarea[_ngcontent-%COMP%]{resize:none}.radio-col-green[_ngcontent-%COMP%]{margin-top:10px}']}),i}(),pE=a(66687),uE=a(8443),mE=a(90159);function hE(e,t){1&e&&(M["\u0275\u0275elementStart"](0,"div",2),M["\u0275\u0275elementStart"](1,"h1"),M["\u0275\u0275text"](2),M["\u0275\u0275pipe"](3,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"]()),2&e&&(M["\u0275\u0275advance"](2),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function gE(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.name)}}function _E(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"span"),M["\u0275\u0275text"](1),M["\u0275\u0275elementEnd"]()),2&e){var n=M["\u0275\u0275nextContext"]().$implicit;M["\u0275\u0275advance"](1),M["\u0275\u0275textInterpolate"](n.name_ar)}}function vE(e,t){if(1&e&&(M["\u0275\u0275elementStart"](0,"option",22),M["\u0275\u0275template"](1,gE,2,1,"span",1),M["\u0275\u0275template"](2,_E,2,1,"span",1),M["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=M["\u0275\u0275nextContext"](2);M["\u0275\u0275propertyInterpolate"]("value",n.id),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"!=i.lang),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function fE(e,t){if(1&e){var n=M["\u0275\u0275getCurrentView"]();M["\u0275\u0275elementContainerStart"](0),M["\u0275\u0275elementStart"](1,"section"),M["\u0275\u0275elementStart"](2,"div",3),M["\u0275\u0275elementStart"](3,"div",4),M["\u0275\u0275elementStart"](4,"div",5),M["\u0275\u0275elementStart"](5,"h6",6),M["\u0275\u0275text"](6),M["\u0275\u0275pipe"](7,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](8,"div",7),M["\u0275\u0275elementStart"](9,"div",8),M["\u0275\u0275elementStart"](10,"section"),M["\u0275\u0275elementStart"](11,"div",2),M["\u0275\u0275elementStart"](12,"div",9),M["\u0275\u0275elementStart"](13,"form",10,11),M["\u0275\u0275listener"]("ngSubmit",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().SearchReceiptByEntryNo()}),M["\u0275\u0275elementStart"](15,"div",2),M["\u0275\u0275elementStart"](16,"div",12),M["\u0275\u0275elementStart"](17,"div",13),M["\u0275\u0275elementStart"](18,"label",14),M["\u0275\u0275text"](19),M["\u0275\u0275pipe"](20,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](21,"select",15,16),M["\u0275\u0275listener"]("ngModelChange",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().BranchID=e})("change",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().ChangeBranch(e.target.value)}),M["\u0275\u0275elementStart"](23,"option",17),M["\u0275\u0275text"](24),M["\u0275\u0275pipe"](25,"translate"),M["\u0275\u0275elementEnd"](),M["\u0275\u0275template"](26,vE,3,3,"option",18),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](27,"app-Matix-table",19),M["\u0275\u0275listener"]("OnShow",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().OnShow(e)})("OnEdit",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().OnEdit(e)})("OnAdd",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().OnAdd()})("OnExcel",function(){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().OnExcel()})("OnPrint",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().OnPrint(e)})("OnSearch",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().CreateInvoicesSearch(e)})("OnSort",function(e){return M["\u0275\u0275restoreView"](n),M["\u0275\u0275nextContext"]().CreateInvoicesSearch(e)}),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementStart"](28,"ngx-spinner",20),M["\u0275\u0275elementStart"](29,"p",21),M["\u0275\u0275text"](30,"Loading..."),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementEnd"](),M["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=M["\u0275\u0275nextContext"]();M["\u0275\u0275advance"](6),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](7,10,"ServiceIssueComponents")),M["\u0275\u0275advance"](13),M["\u0275\u0275textInterpolate"](M["\u0275\u0275pipeBind1"](20,12,"Branch")),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngModel",i.BranchID),M["\u0275\u0275advance"](3),M["\u0275\u0275textInterpolate1"](" ",M["\u0275\u0275pipeBind1"](25,14,"All")," "),M["\u0275\u0275advance"](2),M["\u0275\u0275property"]("ngForOf",i.BranchList),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("dataList",i.ServiceIssueComponentsList)("headerList",i.ListHeader)("totalCount",i.totalCount)("permission",i.Permission),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("fullScreen",!0)}}function CE(e){return new g.z(e,[{prefix:"assets/i18n/shared/",suffix:".json"},{prefix:"assets/i18n/items/",suffix:".json"},{prefix:"assets/i18n/Receivable/",suffix:".json"},{prefix:"assets/i18n/Inventory/",suffix:".json"}])}var yE,bE,SE=[{path:"issuerequest",component:Re},{path:"issuerequest/:id",component:ti},{path:"issuerequest/:id/:show",component:ti},{path:"issuevoucher",component:bo},{path:"issuevoucher/:id",component:zs},{path:"issuevoucher/:id/:show",component:zs},{path:"issuevoucher/:id/:show/:linkedreceiptid",component:zs},{path:"issuevoucher/:id/:show/:linkedreceiptid/:issuerequestid",component:zs},{path:"customerreceipts",component:MP},{path:"giftissue",component:t_},{path:"giftissue/:id",component:Pf},{path:"giftissue/:id/:show",component:Pf},{path:"issuereturn",component:lC},{path:"issuereturn/:id",component:qb},{path:"issuereturn/:id/:show",component:qb},{path:"receivingvoucher",component:Fi},{path:"receivingvoucher/:id",component:Aa},{path:"receivingvoucher/:id/:show",component:Aa},{path:"receivingvoucher/:id/:purchaseorderid",component:Aa},{path:"destroyvoucher",component:pS},{path:"destroyvoucher/:id",component:yx},{path:"destroyvoucher/:id/:show",component:yx},{path:"adjustmentvoucher",component:Jx},{path:"adjustmentvoucher/:id",component:XI},{path:"adjustmentvoucher/:id/:show",component:XI},{path:"receivingvoucherreturns",component:Md},{path:"receivingvoucherreturns/:id",component:xu},{path:"receivingvoucherreturns/:id/:show",component:xu},{path:"vendorreceipts",component:ZP},{path:"giftvoucher",component:im},{path:"giftvoucher/:id",component:bg},{path:"giftvoucher/:id/:show",component:bg},{path:"transferinvoices",component:_k},{path:"serviceissuevoucher",component:(yE=function(){function e(t,n,i,r,a,o,l,s,d,p,u,m,h){var g=this;c(this,e),this._cashsalesService=t,this._ServiceIssueComponentsService=n,this.cd=i,this.toastr=r,this._generalService=a,this._router=o,this.translate=l,this._translateGlobalService=s,this._printService=d,this._Excel=p,this._convertToPDF=u,this._authService=m,this.datepipe=h,this._ServiceIssueComponentsSearch=new pE.M,this.subsidiaryID=0,this.BranchID=0,this.PageSize=10,this.totalCount=0,this.PageNo=1,this.ServiceIssueComponentsList=[],this.BranchList=[],this.sortDirection="asc",this.sortColumn="",this.orderby="",this.timeout=null,this.title="",this._Wrapper=new fk,this.Permission={View:23005,Add:23006,Edit:23007,Delete:23008,Print:23005,PDF:23005,Excel:23005},this.constructionPerms=uE.u,this.ListHeader=[{sortByAr:"code",sortByEn:"code",displayName:"Code"},{sortByAr:"branchname_ar",sortByEn:"branchname",displayName:"Branch"},{sortByAr:"customer_ar",sortByEn:"customer",displayName:"Customer"},{sortByAr:"fromdate",sortByEn:"fromdate",displayName:"fromDate"},{sortByAr:"todate",sortByEn:"todate",displayName:"toDate"}],this.Search="",this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(function(e){g.lang=e.lang,g.dir=e.dir,g.translate.use(e.lang),g.ngTransUnsubscribe=g.translate.get(["ServiceIssueComponents"]).subscribe(function(e){g.title=e.ServiceIssueComponents,document.title=g.title})}),this.ngUnsubscribe=a.proadCastSubsidiaryID.subscribe(function(e){if(0==g.subsidiaryID){g.subsidiaryID=g._generalService.SubsidiaryID;var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),g.BranchID=0,localStorage.setItem("Branch",JSON.stringify({branchId:g.BranchID})),g.GetBranchList(),g.GetServiceIssueComponentsList(),g.GetServiceIssueComponentsListCount()}if(g.subsidiaryID!=g._generalService.SubsidiaryID&&g.subsidiaryID>0){g.subsidiaryID=g._generalService.SubsidiaryID;var n=JSON.parse(localStorage.getItem("Branch"));null!=n&&null!=n&&localStorage.removeItem("Branch"),g.BranchID=0,localStorage.setItem("Branch",JSON.stringify({branchId:g.BranchID})),g._ServiceIssueComponentsSearch.pageNo=1,g._ServiceIssueComponentsSearch.pageSize=10,g.GetBranchList(),g.GetServiceIssueComponentsList(),g.GetServiceIssueComponentsListCount()}})}return o(e,[{key:"ngOnInit",value:function(){this._ServiceIssueComponentsSearch.subsidaryID=this.subsidiaryID,this._ServiceIssueComponentsSearch.filterCoulmn="Code.asc",0!=this.subsidiaryID&&(this.GetBranchList(),this.GetServiceIssueComponentsList(),this.GetServiceIssueComponentsListCount())}},{key:"ChangePropFinish",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.timeout=null,e.GetServiceIssueComponentsList(),e.GetServiceIssueComponentsListCount()},1e3*t)}},{key:"ServiceIssueComponentsSearch",value:function(e){e.subsidaryID=this.subsidiaryID,Object.assign(this._ServiceIssueComponentsSearch,e),this.GetServiceIssueComponentsList(),this.GetServiceIssueComponentsListCount()}},{key:"GetBranchList",value:function(){var e=this;this._cashsalesService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(function(t){e.BranchList=t,e.cd.markForCheck()})}},{key:"ChangeBranch",value:function(e){var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),this.BranchID="0"!=e?e:0,localStorage.setItem("Branch",JSON.stringify({branchId:this.BranchID})),this.PageNo=1,this.PageSize=10,this.GetServiceIssueComponentsList(),this.GetServiceIssueComponentsListCount()}},{key:"GetServiceIssueComponentsList",value:function(){var e=this;this._Wrapper={pageNo:this.PageNo,pageSize:this.PageSize,orderBy:this.orderby,subsidiaryId:this.subsidiaryID,searchValue:this.Search,branchID:this.BranchID},this._ServiceIssueComponentsService.GetAllServiceIssueVoucher(this._Wrapper).subscribe(function(t){e.ServiceIssueComponentsList=[],e.ServiceIssueComponentsList=t.data,console.log(e.ServiceIssueComponentsList,"this.ServiceIssueComponentsList"),e.cd.markForCheck()})}},{key:"GetServiceIssueComponentsListCount",value:function(){var e=this;this._Wrapper={pageNo:this.PageNo,pageSize:this.PageSize,orderBy:this.orderby,subsidiaryId:this.subsidiaryID,searchValue:this.Search,branchID:this.BranchID},this._ServiceIssueComponentsService.GetServiceIssueVoucherCount(this._Wrapper).subscribe(function(t){e.totalCount=t.count,e.cd.markForCheck()})}},{key:"OnAdd",value:function(){this._router.navigate(["/page/inventorytransiction/serviceissuevoucher/0"])}},{key:"OnEdit",value:function(e){this._router.navigateByUrl("/page/inventorytransiction/serviceissuevoucher/"+e)}},{key:"OnShow",value:function(e){this._router.navigateByUrl("/page/inventorytransiction/serviceissuevoucher/"+e+"/show")}},{key:"OnPrint",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n="",i="ar"==this.lang?"rtl":"ltr",r="ar"==this.lang?"\u0627\u0644\u0643\u0648\u062f":"Code",a="ar"==this.lang?"\u0627\u0644\u0641\u0631\u0639":"Branch",o="ar"==this.lang?"\u0627\u0644\u0639\u0645\u064a\u0644":"Customer",c="ar"==this.lang?"\u0645\u0646":"From",l="ar"==this.lang?"\u0627\u0644\u0649":"To";this._ServiceIssueComponentsSearch.pageSize=this.PageSize,this._ServiceIssueComponentsSearch.pageNo=this.PageNo,this._Wrapper={pageNo:this.PageNo,pageSize:this.PageSize,orderBy:this.orderby,subsidiaryId:this.subsidiaryID,searchValue:this.Search,branchID:this.BranchID},this._ServiceIssueComponentsService.GetAllServiceIssueVoucher(this._Wrapper).subscribe(function(s){e.cd.markForCheck(),n='\n            <table class="table text-center m-0 table table-striped"  border="1px"  dir = '.concat(i,'>\n                  <thead>\n                    <tr style="background: #e9f1f5;color: cornflowerblue;">\n                      <th>').concat(r,"</th>\n                      <th>").concat(a,"</th>\n                      <th>").concat(o,"</th>\n                      <th>").concat(c,"</th>\n                      <th>").concat(l,"</th>\n                    </tr>\n                  </thead>\n              <tbody>\n          "),s.data.map(function(t){var i,r;n+="\n          <tr>\n          <td>".concat(t.code,"</td>\n          <td>").concat(null!==(i="ar"==e.lang?t.branchname_ar:t.branchname)&&void 0!==i?i:"","</td>\n          <td>").concat(null!==(r="ar"==e.lang?t.customer_ar:t.customer)&&void 0!==r?r:"","</td>\n          <td>").concat(e.datepipe.transform(null==t?void 0:t.fromdate,"yyyy-MM-dd"),"</td>\n          <td>").concat(e.datepipe.transform(null==t?void 0:t.todate,"yyyy-MM-dd"),"</td>\n   \n          </tr>\n          ")}),n+="</tbody></table>",1==t?e._convertToPDF.by_html2pdf(n):e._printService.OnPrintContent(n)})}},{key:"OnExcel",value:function(){var e=this,t=[];this._ServiceIssueComponentsSearch.pageSize=this.PageSize,this._ServiceIssueComponentsSearch.pageNo=this.PageNo,this._Wrapper={pageNo:this.PageNo,pageSize:this.PageSize,orderBy:this.orderby,subsidiaryId:this.subsidiaryID,searchValue:this.Search,branchID:this.BranchID},this._ServiceIssueComponentsService.GetAllServiceIssueVoucher(this._Wrapper).subscribe(function(n){n.data.forEach(function(n){var i,r,a,o,c,l,s,d;if("ar"==e.lang){var p={"\u0627\u0644\u0643\u0648\u062f":n.code,"\u0627\u0644\u0641\u0631\u0639":null!==(i=n.branchname_ar)&&void 0!==i?i:"","\u0627\u0644\u0639\u0645\u064a\u0644":null!==(r=n.customer_ar)&&void 0!==r?r:"","\u0645\u0646":null!==(a=e.datepipe.transform(null==n?void 0:n.fromdate,"yyyy-MM-dd"))&&void 0!==a?a:"","\u0627\u0644\u0649":null!==(o=e.datepipe.transform(null==n?void 0:n.fromdate,"yyyy-MM-dd"))&&void 0!==o?o:""};t.push(p)}else{var u={Code:n.code,Branch:null!==(c=n.branchname)&&void 0!==c?c:"",Customer:null!==(l=n.customer)&&void 0!==l?l:"",From:null!==(s=e.datepipe.transform(null==n?void 0:n.fromdate,"yyyy-MM-dd"))&&void 0!==s?s:"",To:null!==(d=e.datepipe.transform(null==n?void 0:n.fromdate,"yyyy-MM-dd"))&&void 0!==d?d:""};t.push(u)}}),e._Excel.exportAsExcelFile(t,"Service Item Issues")})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"checkRolesParms",value:function(e){var t=!0;return this._authService.isHasRole(e)||(t=!1),t}},{key:"onPageChange",value:function(e){this._ServiceIssueComponentsSearch.pageNo=e,this.PageNo=e,this.GetServiceIssueComponentsList()}},{key:"onPageSizeChange",value:function(e){this._ServiceIssueComponentsSearch.pageSize=e,this.PageSize=e,this.GetServiceIssueComponentsList()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}]),e}(),yE.\u0275fac=function(e){return new(e||yE)(M["\u0275\u0275directiveInject"](b.n),M["\u0275\u0275directiveInject"](yk),M["\u0275\u0275directiveInject"](M.ChangeDetectorRef),M["\u0275\u0275directiveInject"](I._W),M["\u0275\u0275directiveInject"](P.m),M["\u0275\u0275directiveInject"](m.F0),M["\u0275\u0275directiveInject"](h.sK),M["\u0275\u0275directiveInject"](O.K),M["\u0275\u0275directiveInject"](w.$),M["\u0275\u0275directiveInject"](D.x),M["\u0275\u0275directiveInject"](B.z),M["\u0275\u0275directiveInject"](E.e),M["\u0275\u0275directiveInject"](l.uU))},yE.\u0275cmp=M["\u0275\u0275defineComponent"]({type:yE,selectors:[["app-service-issue-voucher-list"]],features:[M["\u0275\u0275ProvidersFeature"]([yk,b.n,l.uU])],decls:2,vars:2,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"card","my-2","mx-2","px-3","pb-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-body"],[1,"col-12"],[1,"col-md-8"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"col-lg-4","col-md-4","col-sm-12"],[1,"form-group"],["for","Branch"],["name","Branch","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["Branch","ngModel"],["Value","0"],[3,"value",4,"ngFor","ngForOf"],[3,"dataList","headerList","totalCount","permission","OnShow","OnEdit","OnAdd","OnExcel","OnPrint","OnSearch","OnSort"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[3,"value"]],template:function(e,t){1&e&&(M["\u0275\u0275template"](0,hE,4,3,"div",0),M["\u0275\u0275template"](1,fE,31,16,"ng-container",1)),2&e&&(M["\u0275\u0275property"]("ngIf",!t.checkRoleParms(t.Permission.View)),M["\u0275\u0275advance"](1),M["\u0275\u0275property"]("ngIf",t.checkRoleParms(t.Permission.View)))},directives:[l.O5,d._Y,d.JL,d.F,d.EJ,d.Q7,d.JJ,d.On,d.YN,d.Kr,l.sg,mE.u,k.Ro],pipes:[h.X$],styles:[""]}),yE)},{path:"serviceissuevoucher/:id",component:dE},{path:"serviceissuevoucher/:id/:show",component:dE}],RE=((bE=function e(){c(this,e)}).\u0275fac=function(e){return new(e||bE)},bE.\u0275mod=M["\u0275\u0275defineNgModule"]({type:bE}),bE.\u0275inj=M["\u0275\u0275defineInjector"]({providers:[h.gM,h.sK,l.uU],imports:[[d.u5,l.ez,s.m,d.UX,u.WN,v.o6,y.kW,h.aw.forChild({loader:{provide:h.Zw,useFactory:CE,deps:[p.eN]},extend:!0}),m.Bz.forChild(SE),_.xc,C.d,f.fi.forRoot()]]}),bE)},52529:function(e,t,n){"use strict";n.d(t,{t:function(){return l}});var i=n(31572),r=n(49450),a=n(48160),l=function(){var e=function(){function e(){c(this,e),this.signatureImg="",this.signatureoutput=new i.EventEmitter,this.signaturePadOptions={minWidth:2,canvasWidth:300,canvasHeight:200}}return o(e,[{key:"signatureProperty",set:function(e){null!=e&&null!=e&&(this.signatureImg=e,this.SetSignatureValue())}},{key:"ngAfterViewInit",value:function(){this.SetSignatureValue()}},{key:"SetSignatureValue",value:function(){this.signaturePad.fromDataURL("data:image/png;base64,"+this.signatureImg),this.cd.markForCheck()}},{key:"drawComplete",value:function(){var e=this.signaturePad.toDataURL();this.signatureImg=e.replace("data:image/png;base64,",""),this.signatureoutput.emit({signature:this.signatureImg})}},{key:"drawStart",value:function(){}},{key:"clearSignature",value:function(){this.signaturePad.clear()}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["Signature"]],viewQuery:function(e,t){var n;(1&e&&i["\u0275\u0275viewQuery"](r.u,5),2&e)&&(i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.signaturePad=n.first))},inputs:{signatureProperty:["signature","signatureProperty"]},outputs:{signatureoutput:"signatureoutput"},decls:6,vars:4,consts:[[1,"signature-container"],[3,"options","onBeginEvent","onEndEvent"],[1,"buttons"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"signature-pad",1),i["\u0275\u0275listener"]("onBeginEvent",function(){return t.drawStart()})("onEndEvent",function(){return t.drawComplete()}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275elementStart"](3,"button",3),i["\u0275\u0275listener"]("click",function(){return t.clearSignature()}),i["\u0275\u0275text"](4),i["\u0275\u0275pipe"](5,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("options",t.signaturePadOptions),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](5,2,"Clear")))},directives:[r.u],pipes:[a.X$],styles:[".signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:300px}"]}),e}()},71309:function(e,t,n){"use strict";n.d(t,{k:function(){return h}});var i=n(31572),r=n(61900),a=n(96898),l=n(48160),s=n(62120),d=n(5851),p=n(25181),u=n(16073);function m(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",2),i["\u0275\u0275elementStart"](1,"h6",3),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"button",4),i["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),i["\u0275\u0275elementStart"](5,"span",5),i["\u0275\u0275text"](6,"\xd7"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div"),i["\u0275\u0275element"](8,"br"),i["\u0275\u0275elementStart"](9,"div",6),i["\u0275\u0275elementStart"](10,"label",7),i["\u0275\u0275text"](11),i["\u0275\u0275pipe"](12,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"input",8,9),i["\u0275\u0275listener"]("ngModelChange",function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]()._emailobj.email=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"div",6),i["\u0275\u0275elementStart"](16,"label",7),i["\u0275\u0275text"](17),i["\u0275\u0275pipe"](18,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](19,"input",10,11),i["\u0275\u0275listener"]("ngModelChange",function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]()._emailobj.subject=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](21,"div",12),i["\u0275\u0275elementStart"](22,"button",13),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().Setemailobj()}),i["\u0275\u0275text"](23),i["\u0275\u0275pipe"](24,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](25,"button",14),i["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),i["\u0275\u0275element"](26,"i",15),i["\u0275\u0275text"](27),i["\u0275\u0275pipe"](28,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){var r=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](3,7,"sendbyemail")),i["\u0275\u0275advance"](9),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](12,9,"email")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",r._emailobj.email),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](18,11,"subject")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",r._emailobj.subject),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](24,13,"Save")," "),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"]("",i["\u0275\u0275pipeBind1"](28,15,"Cancel")," ")}}var h=function(){var e=function(){function e(t,n,r,a,o,l,s,d){var p=this;c(this,e),this._ReceiptSharedService=t,this.cd=n,this._router=r,this.translate=o,this._translateGlobalService=l,this.modalService=s,this.toastr=d,this._emailobj={email:"",subject:""},this._savedemailobj=new i.EventEmitter,this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(function(e){p.lang=e.lang,p.dir=e.dir,p.translate.use(e.lang),p.ngTransUnsubscribe=p.translate.get(["SelectFristCustomerFrist"]).subscribe(function(e){})})}return o(e,[{key:"entrynoProperty",set:function(e){this._emailobj.subject=e}},{key:"ngOnInit",value:function(){}},{key:"OpenModal",value:function(e){this.modalReference=this.modalService.open(e,{size:"xl",backdrop:"static"})}},{key:"CloseModal",value:function(){this.modalReference.close()}},{key:"Setemailobj",value:function(){this._savedemailobj.emit({list:this._emailobj}),this.CloseModal()}},{key:"ngOnDestroy",value:function(){this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](r.t),i["\u0275\u0275directiveInject"](i.ChangeDetectorRef),i["\u0275\u0275directiveInject"](a.F0),i["\u0275\u0275directiveInject"](a.gz),i["\u0275\u0275directiveInject"](l.sK),i["\u0275\u0275directiveInject"](s.K),i["\u0275\u0275directiveInject"](d.FF),i["\u0275\u0275directiveInject"](p._W))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["email-popup"]],inputs:{entrynoProperty:["entryno","entrynoProperty"]},outputs:{_savedemailobj:"_savedemailobj"},features:[i["\u0275\u0275ProvidersFeature"]([r.t])],decls:6,vars:3,consts:[["type","button",1,"dropdown-item",3,"click"],["EmailModel",""],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"form-group","row"],["for","SearchValue",1,"col-md-3"],["type","text","id","email","name","email",1,"form-control","col-md-4",3,"ngModel","ngModelChange"],["email","ngModel"],["type","text","id","subject","name","subject",1,"form-control","col-md-4",3,"ngModel","ngModelChange"],["subject","ngModel"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-secondary","mr-2","ml-2",3,"click"],[1,"ft-x","mr-1"]],template:function(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275elementStart"](1,"button",0),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](n);var e=i["\u0275\u0275reference"](5);return t.OpenModal(e)}),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](4,m,29,17,"ng-template",null,1,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275elementEnd"]()}2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"]("\n",i["\u0275\u0275pipeBind1"](3,1,"sendbyemail"),"\n"))},directives:[u.Fj,u.JJ,u.On],pipes:[l.X$],encapsulation:2,changeDetection:0}),e}()},64328:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(16073),r=n(31572),a=function(){var e=function(){function e(){c(this,e)}return o(e,[{key:"validate",value:function(e){return Number(e.value)>Number(this.customMax)?{customMax:!0}:null}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","customMax",""]],inputs:{customMax:"customMax"},features:[r["\u0275\u0275ProvidersFeature"]([{provide:i.Cf,useExisting:e,multi:!0}])]}),e}()},8443:function(e,t,n){"use strict";n.d(t,{u:function(){return i}});var i=function(e){return e[e.SubContractorAdd=10097]="SubContractorAdd",e[e.SubContractorEdit=10098]="SubContractorEdit",e[e.SubContractorView=10099]="SubContractorView",e[e.SubContractorDelete=10100]="SubContractorDelete",e[e.ManageSubContractorDocuments=10118]="ManageSubContractorDocuments",e[e.SubContractorContractsAdd=10101]="SubContractorContractsAdd",e[e.SubContractorContractsEdit=10102]="SubContractorContractsEdit",e[e.SubContractorContractsView=10103]="SubContractorContractsView",e[e.SubContractorContractsDelete=10104]="SubContractorContractsDelete",e[e.ManageSubContractorContractsDocuments=10119]="ManageSubContractorContractsDocuments",e[e.SubContractorContractsChangeStatus=10120]="SubContractorContractsChangeStatus",e[e.ContractorsAdd=10106]="ContractorsAdd",e[e.ContractorsEdit=10107]="ContractorsEdit",e[e.ContractorsView=10108]="ContractorsView",e[e.ContractorsDelete=10109]="ContractorsDelete",e[e.ManageContractorsDocuments=10121]="ManageContractorsDocuments",e[e.ContractorsChangeStatus=10122]="ContractorsChangeStatus",e[e.SubContractorPaymentRequestAdd=10110]="SubContractorPaymentRequestAdd",e[e.SubContractorPaymentRequestEdit=10111]="SubContractorPaymentRequestEdit",e[e.SubContractorPaymentRequestView=10112]="SubContractorPaymentRequestView",e[e.SubContractorPaymentRequestDelete=10113]="SubContractorPaymentRequestDelete",e[e.ManageSubContractorPaymentRequestDocuments=10123]="ManageSubContractorPaymentRequestDocuments",e[e.SubContractorPaymentRequestChangeStatus=10124]="SubContractorPaymentRequestChangeStatus",e[e.SubContractorPaymentRequestPrint=10125]="SubContractorPaymentRequestPrint",e[e.ContractorPaymentRequestAdd=10114]="ContractorPaymentRequestAdd",e[e.ContractorPaymentRequestEdit=10115]="ContractorPaymentRequestEdit",e[e.ContractorPaymentRequestView=10116]="ContractorPaymentRequestView",e[e.ContractorPaymentRequestDelete=10117]="ContractorPaymentRequestDelete",e[e.ManageContractorPaymentRequestDocuments=10126]="ManageContractorPaymentRequestDocuments",e[e.ContractorPaymentRequestChangeStatus=10127]="ContractorPaymentRequestChangeStatus",e[e.ContractorPaymentRequestPrint=10128]="ContractorPaymentRequestPrint",e[e.ViewDeductionsAdditions=10162]="ViewDeductionsAdditions",e[e.AddDeductionsAdditions=10163]="AddDeductionsAdditions",e[e.EditDeductionsAdditions=10164]="EditDeductionsAdditions",e[e.DeleteDeductionsAdditions=10165]="DeleteDeductionsAdditions",e[e.ProjectsOfficials=11097]="ProjectsOfficials",e[e.ViewProjectsPricing=17102]="ViewProjectsPricing",e[e.AddProjectsPricing=17103]="AddProjectsPricing",e[e.EditProjectsPricing=17104]="EditProjectsPricing",e[e.DeleteProjectsPricing=17105]="DeleteProjectsPricing",e[e.PricingRatioSettings=17106]="PricingRatioSettings",e[e.Approveprojectspricing=17107]="Approveprojectspricing",e[e.ManageProjectsPricingDocuments=17108]="ManageProjectsPricingDocuments",e[e.ViewActualExecutions=18105]="ViewActualExecutions",e[e.EditActualExecutions=18106]="EditActualExecutions",e[e.DeleteActualExecutions=18107]="DeleteActualExecutions",e[e.ViewProjectsDepartments=18108]="ViewProjectsDepartments",e[e.EditProjectsDepartments=18109]="EditProjectsDepartments",e[e.DeleteProjectsDepartments=18110]="DeleteProjectsDepartments",e[e.AddProjectsDepartments=18111]="AddProjectsDepartments",e[e.ViewClausesOfWorks=18112]="ViewClausesOfWorks",e[e.AddClausesOfWorks=18113]="AddClausesOfWorks",e[e.EditClausesOfWorks=18114]="EditClausesOfWorks",e[e.DeleteClausesOfWorks=18115]="DeleteClausesOfWorks",e}({})},20590:function(e,t,n){"use strict";n.d(t,{p:function(){return r}});var i=n(31572),r=function(){var e=function(){function e(){c(this,e)}return o(e,[{key:"transform",value:function(e,t){return isNaN(e)||null==e?"":new Intl.NumberFormat("en",{minimumFractionDigits:t,maximumFractionDigits:t}).format(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i["\u0275\u0275definePipe"]({name:"numberFormat",type:e,pure:!0}),e}()}}])}();
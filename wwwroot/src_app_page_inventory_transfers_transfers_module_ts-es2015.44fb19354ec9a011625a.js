(self.webpackChunkapex_admin=self.webpackChunkapex_admin||[]).push([["src_app_page_inventory_transfers_transfers_module_ts"],{878:function(e,t,n){"use strict";n.d(t,{WW:function(){return i},np:function(){return r},pM:function(){return s},do:function(){return o},br:function(){return a},Oy:function(){return c},ov:function(){return l},DY:function(){return d},al:function(){return p},HQ:function(){return h},z8:function(){return m},Pp:function(){return u},WB:function(){return _},BR:function(){return g},hi:function(){return f}});class i{constructor(){this.selectedNodesLabels="",this.Subsidiary_ID=0,this.ID=0,this.Code="",this.Name="",this.Description="",this.IsActive=!1,this.ImagePath="",this.Notes="",this.IsAutoCode=!1,this.ImageName="",this.Inventory_UnitId=null,this.Purchasing_UnitId=null,this.Selling_UnitId=null,this.Item_Type=1,this.allowtax=!0,this.TaxTypeid=null,this.Service_Item_Cost=0,this.CostingModel_ID=null,this.ItemDimensionsID=null,this.StorageDimensionsID=null,this.Name_AR="",this.IsRequireSerial=1,this.AllowDecimals=!1,this.StopSales=!1,this.StopInventoryTransactions=!1,this.POSFeatured=!1,this.DisableItemDimensions=!1,this.displaycomponentsasitemsinPOS=!1,this.DisableStorageDimensions=!1,this.AccountID=null,this.IsEditPrice=!1,this.CanBeRented=!1,this.AvailableForSale=null,this.AvailableForSaleFromDate=null,this.AvailableForSaleToDate=null,this.SpecialPrice=null,this.SpecialPriceFromDate=null,this.SpecialPriceToDate=null,this.SpecialPriceFromTime="",this.SpecialPriceToTime="",this.SpecialPriceValue=null,this.ReceipeQty=null,this.hasAccount=!1,this.ProductionUnitId=null,this.Wastage=0,this.hasWarrenty=!1,this.OtherSalesAccount=!1,this.consignment=!1,this.consignment_commission=null,this.warranty_duration=null,this.PercentageOrValue_consignment_commission=null,this.Weigth=null,this.GoldClovesWeigth=null,this.IsUploadedFromPos=!1,this.GoldCaliber="",this.Service=null,this.LoyalityBalance=null,this.IsMemebership=!1,this.OtherCostAccount=!1,this.OtherCostAccountId=null,this.IndirectExpensesUnit=0,this.Color="",this.Size="",this.Brand="",this.MadeIn="",this.Composition="",this.Season="",this.ConfigurableItemId=null,this.ShowColor=!1,this.ShowSize=!1,this.SetAttrToName=!1,this.Model="",this.RestockOnReturn=!1,this.ConsignmentBalanceType=null,this.GlobalBarcode="",this.SlackTime=1,this.OtherContractAccount=!1,this.OtherContractAccountId=null,this.itemsbarcode=[],this.itemscategories=[],this.vendors=[],this.itemsalternative=[],this.unititem=[],this.limitstore=[],this.component=[],this.customattributeheader=[],this.salespostingaccounts=[],this.configurationitemslist=[],this.itemproducts=[],this.orginalitemproducts=[],this.itemsemployees=[],this.orginalitemsemployees=[],this.UnitDetails=null,this.sale_price=0,this.assetLinked=!1,this.assetId=null}}class r{constructor(){this.Item_ID=0,this.ItemCategory_ID=0}}class s{constructor(){this.ID=0,this.Item_ID=0,this.itembarcode="",this.isactivebarcode=!0}}class o{constructor(){this.id=0,this.itemid=0,this.vendorid=0,this.unitid=0,this.lastqty=0,this.price=0,this.currencyid=0,this.ismainvendor=!1,this.price2=0,this.lastprice=0,this.vendoritemcode="",this.code="",this.currencyname="",this.currencynamear="",this.unitname="",this.unitnamear="",this.vendorname="",this.vendornamear=""}}class a{constructor(){this.id=0,this.item_id=0,this.alternative_item_id=0,this.periority=0,this.itemname="",this.itemname_ar=""}}class c{constructor(){this.id=0,this.item_id=0,this.unit_id=0,this.subunit_id=0,this.conv=null,this.barcode="",this.sale_price1=0,this.sale_price2=0,this.sale_price3=0,this.sale_price4=0,this.finalconv=null,this.pos=!0,this.istransactionunit=!1}}class l{constructor(){this.oldLimitStore=[],this.newLimitStore=[]}}class d{constructor(){this.id=0,this.item_id=0,this.store_id=0,this.reorder_qty=0,this.min_qty=0,this.location="",this.first_qty=0,this.first_cost=0,this.first_conv=1,this.first_unit=null,this.name="",this.name_ar="",this.invalidreorderqty=!1,this.flagforbalance=!1,this.qty=0,this.avrcost=0,this.finalconv=1,this.cost_conv=1,this.reserved_qty=0,this.orderd_qty=0,this.max_qty=0,this.last_sales_qty=0,this.flagforedit=!1,this.sold=!1}}class p{constructor(){this.id=0,this.customattributetypeid=0,this.itemid=0,this.title="",this.isactive=!1,this.isrequired=!1,this.sortorder=0,this.automaticcode=0,this.isdeleted=!1,this.maxoptions=0,this.itemcustomattributedetail=[]}}class h{constructor(){this.id=0,this.customattributeheaderid=null,this.title="",this.price=null,this.sku="",this.sortorder=null,this.allowedfileextensions="",this.minimagewidth=null,this.minimageheigth=null,this.automaticcode=null,this.isdeleted=!1,this.qty=null,this.itemid=null,this.deductionitemid=null,this.deductionsku="",this.unitid=null,this.imgpath="",this.iunitid=null,this.iunitname="",this.iunitnamear="",this.headerpricesign=1,this.proportionweight=null}}class m{constructor(){this.id=0,this.item_id=0,this.itemcomponentid=0,this.itemcomponentunitid=0,this.itemcomponentconv=0,this.itemcomponentqty=1,this.itemcomponentrecipeqty=0,this.averagecost=0,this.componentprice=0,this.unitname="",this.unitnamear="",this.name="",this.name_ar="",this.itemname="",this.itemnamear="",this.iunitid=null,this.disconv=!1}}class u{constructor(){this.id=0,this.itemid=0,this.accountid=null,this.percentage=0,this.complement=!1}}class _{constructor(){this.id=0,this.valid=!1,this.serial=1,this.qty=1,this.storeid=null,this.storename="",this.storename_ar="",this.batchno="",this.date=null,this.isdublicatebatch=!1,this.isused=!1,this.inv_receipt_d_id=null,this.solidquantity=null,this.previtemserialid=null,this.availableqty=null,this.fromOutSide=!1,this.patchconfirmation="",this.final_conv=null,this.readonlyavailableqtywithsmallunit=null,this.readonlyavailableqtywithfinal_conv=null}}class g{constructor(){this.id=null,this.item_id=0,this.product_item_id=0,this.costratio=0,this.itemproductqty=0,this.itemproductsconv=0,this.itemproductunitid=0,this.itemname="",this.itemname_ar=""}}class f{constructor(){this.id=null,this.unitid=null,this.subsidiaryid=null,this.rooms=0,this.bathroom=0,this.finishing=null,this.view=null,this.floor="",this.floors=0,this.land_size="",this.size_in_metres="",this.units_number=0,this.paymentid=null,this.year=(new Date).getFullYear(),this.currency_id=null}}},67148:function(e,t,n){"use strict";n.r(t),n.d(t,{InventoryTransfersModule:function(){return Wo},childLoaderFactory:function(){return Go}});var i=n(61511),r=n(59218),s=n(16073),o=n(29063),a=n(53544),c=n(96898),l=n(48160),d=n(20180),p=n(45593),h=n(73619),m=n(48747),u=n(22684),_=n(27961),g=n(83801),f=n(61900),C=n(13395),y=n(31572),v=n(25181),R=n(7427),S=n(62120),b=n(82589),x=n(72796),I=n(71825),M=n(76757),E=n(77915),O=n(82270),P=n(5851);function w(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"div",4),y["\u0275\u0275elementStart"](1,"h1",5),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function k(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.name)}}function D(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.name_ar)}}function B(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",53),y["\u0275\u0275template"](1,k,2,1,"span",1),y["\u0275\u0275template"](2,D,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275propertyInterpolate"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function F(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",54),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).OnAdd()}),y["\u0275\u0275element"](1,"i",27),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"]()}2&e&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](3,1,"Add")," "))}function L(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",55),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).OnPrint()}),y["\u0275\u0275element"](1,"i",27),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"]()}2&e&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](3,1,"Print")," "))}function q(e,t){1&e&&y["\u0275\u0275element"](0,"i",56)}function T(e,t){1&e&&y["\u0275\u0275element"](0,"i",57)}function N(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",49),y["\u0275\u0275template"](2,q,1,0,"i",50),y["\u0275\u0275template"](3,T,1,0,"i",51),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","BranchName"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchName"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchName"==e.sortColumn&&"desc"==e.sortDirection)}}function V(e,t){1&e&&y["\u0275\u0275element"](0,"i",56)}function A(e,t){1&e&&y["\u0275\u0275element"](0,"i",57)}function U(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",49),y["\u0275\u0275template"](2,V,1,0,"i",50),y["\u0275\u0275template"](3,A,1,0,"i",51),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","BranchNameAR"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchNameAR"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchNameAR"==e.sortColumn&&"desc"==e.sortDirection)}}function $(e,t){1&e&&y["\u0275\u0275element"](0,"i",56)}function G(e,t){1&e&&y["\u0275\u0275element"](0,"i",57)}function j(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",49),y["\u0275\u0275template"](2,$,1,0,"i",50),y["\u0275\u0275template"](3,G,1,0,"i",51),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","FromStoreName"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","FromStoreName"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","FromStoreName"==e.sortColumn&&"desc"==e.sortDirection)}}function W(e,t){1&e&&y["\u0275\u0275element"](0,"i",56)}function z(e,t){1&e&&y["\u0275\u0275element"](0,"i",57)}function J(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",49),y["\u0275\u0275template"](2,W,1,0,"i",50),y["\u0275\u0275template"](3,z,1,0,"i",51),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","FromStoreNameAR"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","FromStoreNameAR"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","FromStoreNameAR"==e.sortColumn&&"desc"==e.sortDirection)}}function Q(e,t){1&e&&y["\u0275\u0275element"](0,"i",56)}function Y(e,t){1&e&&y["\u0275\u0275element"](0,"i",57)}function H(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",49),y["\u0275\u0275template"](2,Q,1,0,"i",50),y["\u0275\u0275template"](3,Y,1,0,"i",51),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","ToStoreName"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ToStoreName"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ToStoreName"==e.sortColumn&&"desc"==e.sortDirection)}}function Z(e,t){1&e&&y["\u0275\u0275element"](0,"i",56)}function K(e,t){1&e&&y["\u0275\u0275element"](0,"i",57)}function X(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",49),y["\u0275\u0275template"](2,Z,1,0,"i",50),y["\u0275\u0275template"](3,K,1,0,"i",51),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","ToStoreNameAR"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ToStoreNameAR"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ToStoreNameAR"==e.sortColumn&&"desc"==e.sortDirection)}}function ee(e,t){1&e&&y["\u0275\u0275element"](0,"i",56)}function te(e,t){1&e&&y["\u0275\u0275element"](0,"i",57)}function ne(e,t){1&e&&y["\u0275\u0275element"](0,"i",56)}function ie(e,t){1&e&&y["\u0275\u0275element"](0,"i",57)}function re(e,t){1&e&&y["\u0275\u0275element"](0,"i",56)}function se(e,t){1&e&&y["\u0275\u0275element"](0,"i",57)}function oe(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",49),y["\u0275\u0275template"](2,re,1,0,"i",50),y["\u0275\u0275template"](3,se,1,0,"i",51),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","UserName"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","UserName"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","UserName"==e.sortColumn&&"desc"==e.sortDirection)}}function ae(e,t){1&e&&y["\u0275\u0275element"](0,"i",56)}function ce(e,t){1&e&&y["\u0275\u0275element"](0,"i",57)}function le(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",49),y["\u0275\u0275template"](2,ae,1,0,"i",50),y["\u0275\u0275template"](3,ce,1,0,"i",51),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","UserNameAR"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","UserNameAR"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","UserNameAR"==e.sortColumn&&"desc"==e.sortDirection)}}function de(e,t){1&e&&y["\u0275\u0275element"](0,"i",56)}function pe(e,t){1&e&&y["\u0275\u0275element"](0,"i",57)}function he(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th"),y["\u0275\u0275text"](1,"\xa0"),y["\u0275\u0275elementEnd"]())}function me(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e?null:e.branchname)}}function ue(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e?null:e.branchnamear)}}function _e(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e?null:e.fromstorename)}}function ge(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",null==e?null:e.fromstorenamear," ")}}function fe(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e?null:e.tostorename)}}function Ce(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e?null:e.tostorenamear)}}function ye(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e?null:e.username)}}function ve(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e?null:e.usernamear)}}function Re(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1," \u2713"),y["\u0275\u0275elementEnd"]())}function Se(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1," \u2718 "),y["\u0275\u0275elementEnd"]())}function be(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td",62),y["\u0275\u0275elementStart"](1,"a",63),y["\u0275\u0275element"](2,"i",64),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate1"]("routerLink","/page/inventorytransfers/transfergood/",null==e?null:e.id,"")}}function xe(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275template"](1,me,2,1,"td",1),y["\u0275\u0275template"](2,ue,2,1,"td",1),y["\u0275\u0275template"](3,_e,2,1,"td",1),y["\u0275\u0275template"](4,ge,2,1,"td",1),y["\u0275\u0275template"](5,fe,2,1,"td",1),y["\u0275\u0275template"](6,Ce,2,1,"td",1),y["\u0275\u0275elementStart"](7,"td"),y["\u0275\u0275text"](8),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"td"),y["\u0275\u0275text"](10),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](11,ye,2,1,"td",1),y["\u0275\u0275template"](12,ve,2,1,"td",1),y["\u0275\u0275elementStart"](13,"td"),y["\u0275\u0275template"](14,Re,2,0,"span",1),y["\u0275\u0275template"](15,Se,2,0,"span",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](16,be,3,1,"td",59),y["\u0275\u0275elementStart"](17,"td"),y["\u0275\u0275elementStart"](18,"a",60),y["\u0275\u0275elementStart"](19,"span"),y["\u0275\u0275element"](20,"i",61),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](null==e?null:e.entry_no),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](null==e?null:e.entry_date),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==e?null:e.receiving)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",0==(null==e?null:e.receiving)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",n.checkRoleParms(630)),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("routerLink","/page/inventorytransfers/transfergood/",null==e?null:e.id,"/show")}}function Ie(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"tbody"),y["\u0275\u0275template"](1,xe,21,14,"tr",58),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",e.ReceiptList)}}function Me(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"tbody"),y["\u0275\u0275elementStart"](1,"tr",65),y["\u0275\u0275elementStart"](2,"td",66),y["\u0275\u0275text"](3),y["\u0275\u0275pipe"](4,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](4,1,"NoData")))}function Ee(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",67),y["\u0275\u0275elementStart"](1,"ngb-pagination",68),y["\u0275\u0275listener"]("pageChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).onPageChange(t)})("pageChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).PageNo=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](2,"p"),y["\u0275\u0275text"](3),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"select",69),y["\u0275\u0275listener"]("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).onPageSizeChange(t.target.value)})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).PageSize=t}),y["\u0275\u0275elementStart"](5,"option",70),y["\u0275\u0275text"](6,"10 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"option",71),y["\u0275\u0275text"](8,"50 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"option",72),y["\u0275\u0275text"](10,"100 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](11,"br"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("collectionSize",e.totalCount)("page",e.PageNo)("pageSize",e.PageSize)("maxSize",5)("boundaryLinks",!0),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",e._generalService.TotalDetailsTextShow(e.PageNo,e.PageSize,e.totalCount,e.lang)," "),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngModel",e.PageSize)}}function Oe(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275elementStart"](1,"div",6),y["\u0275\u0275elementStart"](2,"div",7),y["\u0275\u0275elementStart"](3,"div",8),y["\u0275\u0275elementStart"](4,"h6",9),y["\u0275\u0275text"](5),y["\u0275\u0275pipe"](6,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"div",10),y["\u0275\u0275elementStart"](8,"div",11),y["\u0275\u0275elementStart"](9,"section"),y["\u0275\u0275elementStart"](10,"div",4),y["\u0275\u0275elementStart"](11,"div",12),y["\u0275\u0275elementStart"](12,"form",13,14),y["\u0275\u0275listener"]("ngSubmit",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().SearchReceiptByEntryNo()}),y["\u0275\u0275elementStart"](14,"div",4),y["\u0275\u0275elementStart"](15,"div",15),y["\u0275\u0275elementStart"](16,"div",16),y["\u0275\u0275elementStart"](17,"label",17),y["\u0275\u0275text"](18),y["\u0275\u0275pipe"](19,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](20,"select",18,19),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._ReceiptSearch.BranchID=t})("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ChangeBranch(t.target.value)}),y["\u0275\u0275elementStart"](22,"option",20),y["\u0275\u0275text"](23),y["\u0275\u0275pipe"](24,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](25,B,3,3,"option",21),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](26,"div",15),y["\u0275\u0275elementStart"](27,"div",16),y["\u0275\u0275elementStart"](28,"label",22),y["\u0275\u0275text"](29),y["\u0275\u0275pipe"](30,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](31,"input",23,24),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._ReceiptSearch.EntryNo=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](33,"div",25),y["\u0275\u0275elementStart"](34,"button",26),y["\u0275\u0275element"](35,"i",27),y["\u0275\u0275text"](36),y["\u0275\u0275pipe"](37,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](38,"button",28),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ShowAll()}),y["\u0275\u0275element"](39,"i",27),y["\u0275\u0275text"](40),y["\u0275\u0275pipe"](41,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](42,"div",29),y["\u0275\u0275elementStart"](43,"div",30),y["\u0275\u0275elementStart"](44,"div",31),y["\u0275\u0275template"](45,F,4,3,"button",32),y["\u0275\u0275template"](46,L,4,3,"button",33),y["\u0275\u0275elementStart"](47,"button",34),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().OnPrint(1)}),y["\u0275\u0275element"](48,"i",27),y["\u0275\u0275text"](49),y["\u0275\u0275pipe"](50,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](51,"button",35),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().OnExcel()}),y["\u0275\u0275element"](52,"i",27),y["\u0275\u0275text"](53),y["\u0275\u0275pipe"](54,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](55,"div",36),y["\u0275\u0275elementStart"](56,"div",37),y["\u0275\u0275elementStart"](57,"label",38),y["\u0275\u0275text"](58),y["\u0275\u0275pipe"](59,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](60,"input",39,40),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._ReceiptSearch.SearchValue=t})("keyup",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ChangePropFinish()}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](62,"div",4),y["\u0275\u0275elementStart"](63,"div",41),y["\u0275\u0275elementStart"](64,"div",42),y["\u0275\u0275elementStart"](65,"div",43),y["\u0275\u0275elementStart"](66,"div",44),y["\u0275\u0275elementStart"](67,"table",45),y["\u0275\u0275elementStart"](68,"thead",46),y["\u0275\u0275elementStart"](69,"tr",47),y["\u0275\u0275elementStart"](70,"th",48),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("BranchName")}),y["\u0275\u0275text"](71),y["\u0275\u0275pipe"](72,"translate"),y["\u0275\u0275template"](73,N,4,3,"ng-container",1),y["\u0275\u0275template"](74,U,4,3,"ng-container",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](75,"th",48),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("FromStoreName")}),y["\u0275\u0275text"](76),y["\u0275\u0275pipe"](77,"translate"),y["\u0275\u0275template"](78,j,4,3,"ng-container",1),y["\u0275\u0275template"](79,J,4,3,"ng-container",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](80,"th",48),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("ToStoreName")}),y["\u0275\u0275text"](81),y["\u0275\u0275pipe"](82,"translate"),y["\u0275\u0275template"](83,H,4,3,"ng-container",1),y["\u0275\u0275template"](84,X,4,3,"ng-container",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](85,"th",48),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("Entry_No")}),y["\u0275\u0275text"](86),y["\u0275\u0275pipe"](87,"translate"),y["\u0275\u0275elementContainerStart"](88),y["\u0275\u0275element"](89,"i",49),y["\u0275\u0275template"](90,ee,1,0,"i",50),y["\u0275\u0275template"](91,te,1,0,"i",51),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](92,"th",48),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("Entry_Date")}),y["\u0275\u0275text"](93),y["\u0275\u0275pipe"](94,"translate"),y["\u0275\u0275elementContainerStart"](95),y["\u0275\u0275element"](96,"i",49),y["\u0275\u0275template"](97,ne,1,0,"i",50),y["\u0275\u0275template"](98,ie,1,0,"i",51),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](99,"th",48),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("UserName")}),y["\u0275\u0275text"](100),y["\u0275\u0275pipe"](101,"translate"),y["\u0275\u0275template"](102,oe,4,3,"ng-container",1),y["\u0275\u0275template"](103,le,4,3,"ng-container",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](104,"th",48),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("Reciving")}),y["\u0275\u0275text"](105),y["\u0275\u0275pipe"](106,"translate"),y["\u0275\u0275elementContainerStart"](107),y["\u0275\u0275element"](108,"i",49),y["\u0275\u0275template"](109,de,1,0,"i",50),y["\u0275\u0275template"](110,pe,1,0,"i",51),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](111,he,2,0,"th",1),y["\u0275\u0275elementStart"](112,"th"),y["\u0275\u0275text"](113,"\xa0"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](114,Ie,2,1,"tbody",1),y["\u0275\u0275template"](115,Me,5,3,"tbody",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](116,Ee,12,7,"div",52),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](6,43,"Transfer Good"),""),y["\u0275\u0275advance"](13),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](19,45,"Branch")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._ReceiptSearch.BranchID),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](24,47,"All")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngForOf",e.BranchList),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](30,49,"EntryNo")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._ReceiptSearch.EntryNo),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](37,51,"Search")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](41,53,"All")," "),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(326)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(331)),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](50,55,"pdf")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](54,57,"Excel")," "),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](59,59,"Search")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._ReceiptSearch.SearchValue),y["\u0275\u0275advance"](11),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](72,61,"Branch")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](77,63,"FromStore")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](82,65,"ToStore")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](87,67,"EntryNo")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("hidden","Entry_No"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_No"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_No"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](94,69,"Date")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("hidden","Entry_Date"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_Date"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_Date"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](101,71,"UserName")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](106,73,"Received")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("hidden","Reciving"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Reciving"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Reciving"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(630)),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngIf",e.ReceiptList.length>0),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",0==e.ReceiptList.length),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.totalCount>0)}}let Pe=(()=>{class e{constructor(e,t,n,i,r,s,o,a,c,l,d,p,h,m,u){this._cashsalesService=e,this.cd=t,this.toastr=n,this._router=i,this._generalService=r,this.translate=s,this._translateGlobalService=o,this.spinner=a,this._ReceiptSharedService=l,this._authService=d,this._printService=p,this._Excel=h,this._convertToPDF=m,this._VerifyReportsService=u,this.loaded=!1,this.subsidiaryID=0,this.PageSize=10,this.PageNo=1,this.ReceiptList=[],this.totalCount=0,this.BranchList=[],this.list=[],this._ReceiptSearch=new g.Wb,this.NumNotExist="",this.title="",this.timeout=null,this.sortDirection="asc",this.sortColumn="",this.SelectBranchMsg="",this.EntryNumberMsg="",this.subsidiaryID=this._generalService.SubsidiaryID,this.GetBranchList(),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get("SelectBranchError").subscribe(e=>{this.SelectBranchMsg=e}),this.ngTransUnsubscribe=this.translate.get("EntryNumberMsg").subscribe(e=>{this.EntryNumberMsg=e})}),c.params.subscribe(e=>{let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t?(console.log(t.branchId),this._ReceiptSearch.BranchID="null"!=t.branchId?t.branchId:0):this._ReceiptSearch.BranchID=0}),this.ngTransUnsubscribe=this.translate.get(["Transfer Good"]).subscribe(e=>{this.title=e["Transfer Good"],document.title=this.title}),this.ngTransUnsubscribe=this.translate.get(["NumNotExist"]).subscribe(e=>{this.NumNotExist=e.NumNotExist}),this.ngUnsubscribe=r.proadCastSubsidiaryID.subscribe(e=>{if(0==this.subsidiaryID&&(this.subsidiaryID=this._generalService.SubsidiaryID,this.ReceiptSearch()),this.subsidiaryID!=this._generalService.SubsidiaryID&&this.subsidiaryID>0){this.subsidiaryID=this._generalService.SubsidiaryID;let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&localStorage.removeItem("Branch"),this._ReceiptSearch.BranchID=0,localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this._ReceiptSearch.PageNo=1,this._ReceiptSearch.PageSize=10,this.GetBranchList(),this.ReceiptSearch()}})}ngOnInit(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this._ReceiptSearch.ReceiptCode="81",this._ReceiptSearch.sortColumn="Entry_Date.desc",0!=this.subsidiaryID&&(this.GetReceiptList(),this.GetReceiptListCount())}ReceiptSearch(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this.GetReceiptList(),this.GetReceiptListCount()}GetBranchList(){this._cashsalesService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(e=>{this.BranchList=e,this.cd.markForCheck()})}ChangeBranch(e){let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),this._ReceiptSearch.BranchID="0"!=e?e:0,localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this._ReceiptSearch.PageNo=1,this._ReceiptSearch.PageSize=10,this.ReceiptSearch()}ChangePropFinish(e=1){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,this.ReceiptSearch()},1e3*e)}GetReceiptList(e=null){this.sortColumn=null==e?null:e,this.sortDirection="asc"==this.sortDirection?"desc":"asc","ar"==this.lang&&("branch"!=this.sortColumn&&"accountname"!=this.sortColumn||(this.sortColumn=this.sortColumn+"ar")),null!=e&&(this.PageNo=1),null!=this.sortColumn&&""!=this.sortDirection&&(this._ReceiptSearch.sortColumn=this.sortColumn+"."+this.sortDirection),this.spinner.show(),this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(e=>{this.list=e,1==this.list.length&&this._ReceiptSearch.EntryNo>0?this._router.navigate(["/page/inventorytransfers/transfergood/"+this.list[0].id]):0==this.list.length&&this._ReceiptSearch.EntryNo>0?this.toastr.warning(this.NumNotExist):this.ReceiptList=e,this.cd.markForCheck(),this.spinner.hide()})}GetReceiptListCount(){this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptListCount(this._ReceiptSearch).subscribe(e=>{this.totalCount=e[0].total,this.cd.markForCheck()})}OnAdd(){this._router.navigate(["/page/inventorytransfers/transfergood/0"])}OnView(e){this._router.navigate(["/page/inventorytransfers/transfergood/"+e.id+"/show"])}onEdit(e){let t="";t=`/page/inventorytransfers/transfergood/${e.id}`,this._router.navigate([t])}ShowAll(){this._ReceiptSearch.BranchID=0,this._ReceiptSearch.EntryNo=0;let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this.GetReceiptList(),this.GetReceiptListCount()}SearchReceiptByEntryNo(){null!=this._ReceiptSearch.EntryNo&&null!=this._ReceiptSearch.EntryNo?(this.PageNo=1,this.PageSize=10,this.GetReceiptList(),this.GetReceiptListCount()):this.toastr.warning(this.EntryNumberMsg)}OnPrint(e=0){let t="",n="ar"==this.lang?"rtl":"ltr",i="ar"==this.lang?"\u0627\u0644\u0641\u0631\u0639":"Branch",r="ar"==this.lang?"\u0625\u0644\u0649 \u0645\u062e\u0632\u0646":"To store",s="ar"==this.lang?"\u0645\u0646 \u0645\u062e\u0632\u0646":"From store",o="ar"==this.lang?"\u0623\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645":"User Name",a="ar"==this.lang?"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":"Entry no",c="ar"==this.lang?"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":"Date";this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(l=>{this.cd.markForCheck(),t=`\n           <table class="table text-center m-0 table table-striped"  border="1px"  dir = ${n}>\n                 <thead>\n                   <tr style="background: #e9f1f5;color: cornflowerblue;">\n                     <th>${i}</th>\n                     <th>${s}</th>\n                     <th>${r}</th>\n                     <th>${c}</th>\n                     <th>${a}</th>\n                     <th>${o}</th>\n\n\n                   </tr>\n                 </thead>\n             <tbody>\n         `,l.map(e=>{t+=`\n        <tr>\n         <td>${"ar"==this.lang?e.branchnamear:e.branchname}</td>\n         <td>${"ar"==this.lang?e.fromstorenamear:e.fromstorename}</td>\n         <td>${"ar"==this.lang?e.tostorenamear:e.tostorename}</td>\n         <td>${e.entry_no}</td>\n         <td>${e.entry_date}</td>\n         <td>${"ar"==this.lang?e.usernamear:e.username}</td>\n\n\n        </tr>\n        `}),t+="</tbody></table>",1==e?this._convertToPDF.by_html2pdf(t):this._printService.OnPrintContent(t)})}OnExcel(){let e=[];this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(t=>{t.forEach(t=>{e.push("ar"==this.lang?{"\u0627\u0644\u0641\u0631\u0639":t.branchnamear,"\u0645\u0646 \u0645\u062e\u0632\u0646":t.fromstorenamear,"\u0627\u0644\u0649 \u0645\u062e\u0632\u0646":t.tostorenamear,"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":t.entry_no,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":t.entry_date,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645":t.usernamear}:{Branch:t.branchname,"From store":t.fromstorename,"To store":t.tostorename,"Entry No":t.entry_no,Date:t.entry_date,"User Name":t.username})}),this._Excel.exportAsExcelFile(e,"transfergoods")})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}onPageChange(e){this._ReceiptSearch.PageNo=e,this.PageNo=e,this.GetReceiptList()}onPageSizeChange(e){this._ReceiptSearch.PageSize=e,this.PageSize=e,this.GetReceiptList()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(y["\u0275\u0275directiveInject"](_.n),y["\u0275\u0275directiveInject"](y.ChangeDetectorRef),y["\u0275\u0275directiveInject"](v._W),y["\u0275\u0275directiveInject"](c.F0),y["\u0275\u0275directiveInject"](R.m),y["\u0275\u0275directiveInject"](l.sK),y["\u0275\u0275directiveInject"](S.K),y["\u0275\u0275directiveInject"](b.t2),y["\u0275\u0275directiveInject"](c.gz),y["\u0275\u0275directiveInject"](f.t),y["\u0275\u0275directiveInject"](x.e),y["\u0275\u0275directiveInject"](I.$),y["\u0275\u0275directiveInject"](M.x),y["\u0275\u0275directiveInject"](E.z),y["\u0275\u0275directiveInject"](C.J))},e.\u0275cmp=y["\u0275\u0275defineComponent"]({type:e,selectors:[["app-transfer-good"]],features:[y["\u0275\u0275ProvidersFeature"]([_.n,f.t,C.J])],decls:5,vars:3,consts:[["class","row",4,"ngIf"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"row"],[1,"HasNotPermission",2,"margin","auto","width","auto","margin-top","200px"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-1","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-body"],[1,"col-12"],[1,"col-md-8"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"col-lg-4","col-md-4","col-sm-12"],[1,"form-group"],["for","Branch"],["name","Branch","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["Branch","ngModel"],["Value","0"],[3,"value",4,"ngFor","ngForOf"],["for","EntryNumber"],["type","number","id","ReceiptNumber","name","ReceiptNumber","min","0","PositiveNumbersOnly","","required","",1,"form-control",3,"ngModel","ngModelChange"],["ReceiptNumber","ngModel"],[1,"col-lg-4","col-sm-4","mt-3","text-center"],["type","submit",1,"btn","btn-primary","mr-2"],[1,""],["type","button",1,"btn","btn-primary","mr-2",3,"click"],[1,"col-lg-12","mt-2","col-xs-12","text-center-sm"],[1,"row","mb-2"],[1,"col-lg-6","col-md-7","col-xs-12","my-auto","text-center-sm","actionBtns"],["class","btn btn-success mb-0 ng-star-inserted",3,"click",4,"ngIf"],["class","btn btn-warning mb-0 me-3 ng-star-inserted",3,"click",4,"ngIf"],[1,"btn","btn-danger","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-success","mb-0","me-3","ng-star-inserted",3,"click"],[1,"col-lg-6","col-md-6","col-sm-12","pull-right","pt-3"],[1,"form-group","d-flex","justify-content-end"],["for","SearchValue",1,"pt-1","pl-1","pr-1","form-label"],["type","text","id","SearchValue","name","SearchValue",1,"form-control","col-md-6",3,"ngModel","ngModelChange","keyup"],["SearchValue","ngModel"],[1,"col-12","p-0"],[1,"card","transparent-BG"],[1,"card-content"],[1,"table-responsive","card-body"],[1,"table","m-0","table-striped","table-accountdetails"],[2,"background-color","#80808030"],[2,"color","#7b809a"],[3,"click"],[1,"fa","fa-fw","fa-sort",3,"hidden"],["class","fa fa-fw fa-sort-desc",4,"ngIf"],["class","fa fa-fw fa-sort-asc",4,"ngIf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],[3,"value"],[1,"btn","btn-success","mb-0","ng-star-inserted",3,"click"],[1,"btn","btn-warning","mb-0","me-3","ng-star-inserted",3,"click"],[1,"fa","fa-fw","fa-sort-desc"],[1,"fa","fa-fw","fa-sort-asc"],[4,"ngFor","ngForOf"],["class","text-truncate",4,"ngIf"],["href","javascript:;",1,"primary","mr-1",3,"routerLink"],["aria-hidden","true",1,"fa","fa-list"],[1,"text-truncate"],["href","javascript:;",1,"primary","p-0",3,"routerLink"],[1,"ft-edit","mr-2"],[2,"background-color","#b0bed9"],["colspan","9"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(y["\u0275\u0275template"](0,w,4,3,"div",0),y["\u0275\u0275template"](1,Oe,117,75,"div",1),y["\u0275\u0275elementStart"](2,"ngx-spinner",2),y["\u0275\u0275elementStart"](3,"p",3),y["\u0275\u0275text"](4,"Loading..."),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275property"]("ngIf",!t.checkRoleParms(328)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",t.checkRoleParms(328)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("fullScreen",!0))},directives:[i.O5,b.Ro,s._Y,s.JL,s.F,s.EJ,s.Q7,s.JJ,s.On,s.YN,s.Kr,i.sg,s.qQ,s.wV,s.Fj,O.K,c.yS,P.N9],pipes:[l.X$],encapsulation:2}),e})();var we=n(22501),ke=n.n(we),De=n(3148),Be=n(75700),Fe=n(16676),Le=n(529),qe=n(79996);let Te=(()=>{class e{constructor(e){this._http=e,this.baseUrl=Le.N.apiUrl}GetAllActiveStoreBySubsID(e,t){var n=`${this.baseUrl}/Items/GetAllActiveStoreBySubsID?SubsidiaryID=${e}&where=${t}`;return null!=t&&null!=t&&""!=t||(n=`${this.baseUrl}/Items/GetAllActiveStoreBySubsID?SubsidiaryID=${e}`),this._http.get(n).pipe((0,qe.U)(e=>e))}GetAllActiveStoreBySubsIDAndUser(e,t){var n=`${this.baseUrl}/TransferApproval/GetAllActiveStoreBySubsIDAndUser?SubsidiaryID=${e}&where=${t}`;return null!=t&&null!=t&&""!=t||(n=`${this.baseUrl}/TransferApproval/GetAllActiveStoreBySubsIDAndUser?SubsidiaryID=${e}`),this._http.get(n).pipe((0,qe.U)(e=>e))}AllEmployee(e){return this._http.get(`${this.baseUrl}/Expense/GetAllEmployeesList?SubId=${e}&PageNo=1&PageSize=100`).pipe((0,qe.U)(e=>e))}RtrieveItembyNetsales(e,t,n,i){return this._http.get(`${this.baseUrl}/TransferApproval/RtrieveItembyNetsales?branchid=${e}&storeid=${t}&fromdate=${n}&todate=${i}`).pipe((0,qe.U)(e=>e))}RtrieveItembyReplenshMinQty(e,t){return this._http.get(`${this.baseUrl}/TransferApproval/RtrieveItembyReplenshMinQty?SubId=${e}&storeid=${t}`).pipe((0,qe.U)(e=>e))}}return e.\u0275fac=function(t){return new(t||e)(y["\u0275\u0275inject"](o.eN))},e.\u0275prov=y["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();var Ne=n(878),Ve=n(14348),Ae=n(63567),Ue=n(15463),$e=n(29743),Ge=n(71309),je=n(52529),We=n(88706),ze=n(32161);const Je=["serialModel"],Qe=["RForm"];function Ye(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"div",6),y["\u0275\u0275elementStart"](1,"h1",7),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function He(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",84),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).DocumentAction()}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"Document")," ")}}function Ze(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",85),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).PrintPreview(0)}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"PrintPreview")," ")}}function Ke(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",88),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).onPrint()}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"Print")," ")}}function Xe(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",88),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).DupilcateAction()}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"Dupilcate")," ")}}function et(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",88),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](4).CheckBalanceForItemInStoreBeforeDelete(0,!0)}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function tt(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275template"](1,et,3,4,"button",86),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",0==e.ShowModeReceipt&&e.ReceiptID>0&&0==e.VouchersLinkedCount)}}function nt(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275template"](1,Ke,3,4,"button",86),y["\u0275\u0275elementStart"](2,"email-popup",87),y["\u0275\u0275listener"]("_savedemailobj",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).sendEmail(t)}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](3,Xe,3,4,"button",86),y["\u0275\u0275template"](4,tt,2,1,"div",1),y["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(331)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("entryno",e._Receipt.entry_no),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(326)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(330))}}function it(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",89),y["\u0275\u0275text"](1,"choose"),y["\u0275\u0275elementEnd"]())}function rt(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",89),y["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),y["\u0275\u0275elementEnd"]())}function st(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function ot(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function at(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",90),y["\u0275\u0275template"](1,st,2,1,"span",1),y["\u0275\u0275template"](2,ot,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}const ct=function(){return{standalone:!0}};function lt(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",91),y["\u0275\u0275elementStart"](1,"div",92),y["\u0275\u0275elementStart"](2,"input",93),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.receiving=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](3,"label",94),y["\u0275\u0275elementStart"](4,"span"),y["\u0275\u0275text"](5),y["\u0275\u0275pipe"](6,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("checked",e._Receipt.receiving)("ngModelOptions",y["\u0275\u0275pureFunction0"](6,ct))("ngModel",e._Receipt.receiving),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](6,4,"Receiving"))}}function dt(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",89),y["\u0275\u0275text"](1,"choose"),y["\u0275\u0275elementEnd"]())}function pt(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",89),y["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),y["\u0275\u0275elementEnd"]())}function ht(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug,"")}}function mt(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar,"")}}function ut(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",90),y["\u0275\u0275template"](1,ht,2,1,"span",1),y["\u0275\u0275template"](2,mt,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function _t(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",89),y["\u0275\u0275text"](1,"choose"),y["\u0275\u0275elementEnd"]())}function gt(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",89),y["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),y["\u0275\u0275elementEnd"]())}function ft(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug,"")}}function Ct(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar,"")}}function yt(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",90),y["\u0275\u0275template"](1,ft,2,1,"span",1),y["\u0275\u0275template"](2,Ct,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function vt(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.entry_no)}}function Rt(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.sugar)}}function St(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.sug)}}function bt(e,t){if(1&e&&(y["\u0275\u0275template"](0,Rt,2,1,"div",1),y["\u0275\u0275template"](1,St,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function xt(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",99),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Pack")," "))}function It(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function Mt(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function Et(e,t){if(1&e&&(y["\u0275\u0275template"](0,It,2,1,"div",1),y["\u0275\u0275template"](1,Mt,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function Ot(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function Pt(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function wt(e,t){if(1&e&&(y["\u0275\u0275template"](0,Ot,2,1,"div",1),y["\u0275\u0275template"](1,Pt,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}const kt=function(e,t){return{"invalid-qty":e,"valid-qty":t}};function Dt(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",129),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275nextContext"](2);const t=y["\u0275\u0275reference"](4);y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction2"](2,kt,0==e.allowqtyselectforitem&&t.submitted||0==e.allowqtyselectforitem,1==e.allowqtyselectforitem&&t.submitted||1==e.allowqtyselectforitem)),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.itemname," ")}}function Bt(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",129),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275nextContext"](2);const t=y["\u0275\u0275reference"](4);y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction2"](2,kt,0==e.allowqtyselectforitem&&t.submitted||0==e.allowqtyselectforitem,1==e.allowqtyselectforitem&&t.submitted||1==e.allowqtyselectforitem)),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.itemname_ar," ")}}function Ft(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",122),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function Lt(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",122),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function qt(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function Tt(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function Nt(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",130),y["\u0275\u0275template"](1,qt,2,1,"span",1),y["\u0275\u0275template"](2,Tt,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"]().$implicit,i=y["\u0275\u0275nextContext"](3);y["\u0275\u0275property"]("ngValue",null==e?null:e.id)("selected",(null==e?null:e.id)===n.unit_id&&(null==e?null:e.item_id)===(null==n?null:n.item_id)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==i.lang)}}const Vt=function(e,t){return{"invalid-data":e,"valid-data":t}};function At(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",131,132),y["\u0275\u0275listener"]("keyup",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275nextContext"]().index;return y["\u0275\u0275nextContext"](3).ChangePackItem(t)})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().$implicit.conv=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](2),t=y["\u0275\u0275nextContext"](),n=t.index,i=t.$implicit;y["\u0275\u0275nextContext"](2);const r=y["\u0275\u0275reference"](4),s=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate"]("step",null==s.CashCustomerSetting?null:s.CashCustomerSetting.allowdecimalpack),y["\u0275\u0275propertyInterpolate1"]("name","item_conv",n,""),y["\u0275\u0275property"]("readonly",3==(null==i?null:i.item_type)&&null!=(null==i?null:i.item_id))("Min",1e-5)("CheckMin",null!=(null==i?null:i.item_id))("stepallow",null==s.CashCustomerSetting?null:s.CashCustomerSetting.allowdecimalpack)("ngModel",i.conv)("required",null!=(null==i?null:i.item_id))("ngClass",y["\u0275\u0275pureFunction2"](9,Vt,e.invalid&&r.submitted,e.valid&&r.submitted))}}function Ut(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1,"Select"),y["\u0275\u0275elementEnd"]())}function $t(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1,"\u0623\u062e\u062a\u0631"),y["\u0275\u0275elementEnd"]())}function Gt(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.itemname)}}function jt(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.itemname_ar)}}function Wt(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",90),y["\u0275\u0275template"](1,Gt,2,1,"div",1),y["\u0275\u0275template"](2,jt,2,1,"div",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](4);y["\u0275\u0275propertyInterpolate"]("value",e.item_id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function zt(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"a",134),y["\u0275\u0275listener"]("click",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275nextContext"](2).index,n=y["\u0275\u0275nextContext"](3),i=y["\u0275\u0275reference"](8);return n.OnSerialItems(t,i)}),y["\u0275\u0275element"](1,"i",135),y["\u0275\u0275elementEnd"]()}}function Jt(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275template"](1,zt,2,0,"a",133),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",1!=e.CashCustomerSetting.dispensingpolicy)}}const Qt=function(e){return{item_id:e}};function Yt(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275elementStart"](1,"td",106),y["\u0275\u0275text"](2),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](3,"td"),y["\u0275\u0275elementStart"](4,"p-autoComplete",107,108),y["\u0275\u0275listener"]("onFocus",function(t){const n=y["\u0275\u0275restoreView"](e).index,i=y["\u0275\u0275reference"](5),r=y["\u0275\u0275nextContext"](3);return r.onFocusInStore(t,n),i.show(),r.isType=!0})("onClick",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.storecode=e})("onSelect",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).StoreSelectEvent(t,n)})("completeMethod",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).StoreChangeSearch(t,n)})("onClear",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3)._Receipt.details[t].store_id=null}),y["\u0275\u0275pipe"](6,"translate"),y["\u0275\u0275template"](7,Et,2,2,"ng-template",109),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"td"),y["\u0275\u0275elementStart"](9,"p-autoComplete",110,111),y["\u0275\u0275listener"]("onFocus",function(t){const n=y["\u0275\u0275restoreView"](e).index,i=y["\u0275\u0275reference"](10),r=y["\u0275\u0275nextContext"](3);return r.onFocusInItems(t,n),i.show(),r.isType=!0})("onClick",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.itemcode=e})("onSelect",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).ItemsSelectEvent(t,n)})("completeMethod",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).ItemsChangeSearch(t,n)})("onClear",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).onClearItems(t)}),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275template"](12,wt,2,2,"ng-template",112),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](13,"td",113),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e),n=t.$implicit,i=t.index;return y["\u0275\u0275nextContext"](3).OnSelectedItem(n,i,"selected")}),y["\u0275\u0275template"](14,Dt,2,5,"div",114),y["\u0275\u0275template"](15,Bt,2,5,"div",114),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](16,"td"),y["\u0275\u0275elementStart"](17,"select",115,116),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e})("change",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).ChangeItemUnits(t.target.value,n)}),y["\u0275\u0275template"](19,Ft,2,1,"option",117),y["\u0275\u0275template"](20,Lt,2,1,"option",117),y["\u0275\u0275template"](21,Nt,3,4,"option",118),y["\u0275\u0275pipe"](22,"filterby"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](23,At,3,12,"td",1),y["\u0275\u0275elementStart"](24,"td"),y["\u0275\u0275elementStart"](25,"input",119,120),y["\u0275\u0275listener"]("keyup",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).ChangeQty(t)})("ngModelChange",function(e){return t.$implicit.qty=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](27,"td"),y["\u0275\u0275elementStart"](28,"select",121),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.batchorderitemid=e}),y["\u0275\u0275elementStart"](29,"option",122),y["\u0275\u0275template"](30,Ut,2,0,"span",1),y["\u0275\u0275template"](31,$t,2,0,"span",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](32,Wt,3,3,"option",42),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](33,"td"),y["\u0275\u0275elementStart"](34,"a",123),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index,n=y["\u0275\u0275nextContext"](3),i=y["\u0275\u0275reference"](6);return n.OnEditItemsNotes(t,i)}),y["\u0275\u0275elementStart"](35,"span",124),y["\u0275\u0275element"](36,"i",125),y["\u0275\u0275element"](37,"i",126),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](38,"a",127),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).DeleteItems(t)}),y["\u0275\u0275element"](39,"i",128),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](40,Jt,2,1,"ng-container",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=t.index,r=y["\u0275\u0275reference"](18),s=y["\u0275\u0275reference"](26);y["\u0275\u0275nextContext"](2);const o=y["\u0275\u0275reference"](4),a=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](i+1),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","storecode",n,""),y["\u0275\u0275property"]("ngModel",e.storecode)("disabled",!0)("suggestions",a.FromStoreList)("showEmptyMessage",!0)("emptyMessage",y["\u0275\u0275pipeBind1"](6,38,"NoResultsFound"))("forceSelection",!0),y["\u0275\u0275advance"](5),y["\u0275\u0275propertyInterpolate1"]("name","itemcode",n,""),y["\u0275\u0275property"]("ngModel",e.itemcode)("suggestions",a.ItemsList)("showEmptyMessage",!0)("emptyMessage",y["\u0275\u0275pipeBind1"](11,40,"NoResultsFound"))("forceSelection",!0),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngIf","ar"!=a.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==a.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","itemunit",n,""),y["\u0275\u0275property"]("ngModel",e.unit_id)("required",null!=(null==e?null:e.item_id))("ngClass",y["\u0275\u0275pureFunction2"](45,Vt,r.invalid&&o.submitted,r.valid&&o.submitted)),y["\u0275\u0275attribute"]("disabled",3==(null==e?null:e.item_type)&&null!=(null==e?null:e.item_id)||null),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=a.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==a.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",y["\u0275\u0275pipeBind2"](22,42,a.ItemUnitsList,y["\u0275\u0275pureFunction1"](48,Qt,null==e?null:e.item_id))),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==a.CashCustomerSetting?null:a.CashCustomerSetting.allowpack)),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","item_qty",n,""),y["\u0275\u0275property"]("Min",1e-5)("CheckMin",null!=(null==e?null:e.item_id))("ngModel",e.qty)("ngClass",y["\u0275\u0275pureFunction2"](50,Vt,s.invalid&&o.submitted,s.valid&&o.submitted)),y["\u0275\u0275advance"](3),y["\u0275\u0275propertyInterpolate1"]("id","BatchOrderItemId",n,""),y["\u0275\u0275propertyInterpolate1"]("name","BatchOrderItemId",n,""),y["\u0275\u0275property"]("ngModel",e.batchorderitemid),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngValue",null),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=a.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==a.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",a.batchOrderItems),y["\u0275\u0275advance"](8),y["\u0275\u0275property"]("ngIf",(2==e.isrequireserial||3==e.isrequireserial)&&1==a.CashCustomerSetting.salesreturneffect)}}const Ht=function(e){return{"table-for-autocomplete":e}};function Zt(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",95),y["\u0275\u0275elementStart"](1,"div",81),y["\u0275\u0275elementStart"](2,"div",96),y["\u0275\u0275elementStart"](3,"table",97),y["\u0275\u0275elementStart"](4,"thead"),y["\u0275\u0275elementStart"](5,"tr"),y["\u0275\u0275element"](6,"th"),y["\u0275\u0275elementStart"](7,"th",98),y["\u0275\u0275text"](8),y["\u0275\u0275pipe"](9,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](10,"th",99),y["\u0275\u0275text"](11),y["\u0275\u0275pipe"](12,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](13,"th",99),y["\u0275\u0275text"](14),y["\u0275\u0275pipe"](15,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](16,"th",100),y["\u0275\u0275text"](17),y["\u0275\u0275pipe"](18,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](19,xt,3,3,"th",101),y["\u0275\u0275elementStart"](20,"th",99),y["\u0275\u0275text"](21),y["\u0275\u0275pipe"](22,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](23,"th",99),y["\u0275\u0275text"](24),y["\u0275\u0275pipe"](25,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](26,"th",102),y["\u0275\u0275text"](27," \xa0 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](28,"tbody"),y["\u0275\u0275elementStart"](29,"tbody"),y["\u0275\u0275template"](30,Yt,41,53,"tr",103),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](31,"button",104),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).AddItems()}),y["\u0275\u0275text"](32),y["\u0275\u0275pipe"](33,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](34,"button",105),y["\u0275\u0275listener"]("click",function(){y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]();const t=y["\u0275\u0275reference"](153);return y["\u0275\u0275nextContext"]().patch(t)}),y["\u0275\u0275text"](35),y["\u0275\u0275pipe"](36,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction1"](28,Ht,e.isType)),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](9,12,"Store")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](12,14,"ItemCode")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](15,16,"ItemDescription")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](18,18,"Unit")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==e.CashCustomerSetting?null:e.CashCustomerSetting.allowpack)),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](22,20,"qty")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](25,22,"BatchOrderItems")," "),y["\u0275\u0275advance"](6),y["\u0275\u0275property"]("ngForOf",e._Receipt.details)("ngForTrackBy",e._ReceiptSharedService.customTrackBy),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](33,24,"Add")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](36,26,"ImportPatchItems")," ")}}function Kt(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",136),y["\u0275\u0275elementStart"](1,"h6",137),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"button",138),y["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),y["\u0275\u0275elementStart"](5,"span",139),y["\u0275\u0275text"](6,"\xd7"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"div",140),y["\u0275\u0275elementStart"](8,"div",141),y["\u0275\u0275elementStart"](9,"label",58),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"div",142),y["\u0275\u0275elementStart"](13,"input",143,144),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).BatchNoText=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](15,"div",145),y["\u0275\u0275elementStart"](16,"button",146),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).SavePatchModal()}),y["\u0275\u0275text"](17),y["\u0275\u0275pipe"](18,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](3,4,"ImportPatchItems")," "),y["\u0275\u0275advance"](8),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](11,6,"PatchNumber")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngModel",e.BatchNoText),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](18,8,"ok")," ")}}function Xt(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",99),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Pack")," "))}function en(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.itemname," ")}}function tn(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.itemname_ar," ")}}function nn(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",122),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function rn(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",122),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function sn(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function on(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function an(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",90),y["\u0275\u0275template"](1,sn,2,1,"span",1),y["\u0275\u0275template"](2,on,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](5);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function cn(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",153),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().$implicit.conv=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](),t=e.index,n=e.$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate1"]("name","item_conv_c",t,""),y["\u0275\u0275property"]("readonly",!0)("ngModel",n.conv)}}function ln(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275elementStart"](1,"td"),y["\u0275\u0275elementStart"](2,"input",148),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.storecode=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](3,"td"),y["\u0275\u0275elementStart"](4,"input",148),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.itemcode=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"td"),y["\u0275\u0275template"](6,en,2,1,"div",1),y["\u0275\u0275template"](7,tn,2,1,"div",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"td"),y["\u0275\u0275elementStart"](9,"select",149),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e}),y["\u0275\u0275template"](10,nn,2,1,"option",117),y["\u0275\u0275template"](11,rn,2,1,"option",117),y["\u0275\u0275template"](12,an,3,3,"option",42),y["\u0275\u0275pipe"](13,"filterby"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](14,cn,2,3,"td",1),y["\u0275\u0275elementStart"](15,"td"),y["\u0275\u0275elementStart"](16,"input",150),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.qty=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](17,"td"),y["\u0275\u0275elementStart"](18,"input",151,152),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.price=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](20,"td"),y["\u0275\u0275elementStart"](21,"input",150),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.total=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index,i=y["\u0275\u0275reference"](19);y["\u0275\u0275nextContext"](3);const r=y["\u0275\u0275reference"](4),s=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","storecode_c",n,""),y["\u0275\u0275property"]("readonly",!0)("ngModel",e.storecode),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","itemcode_c",n,""),y["\u0275\u0275property"]("readonly",!0)("ngModel",e.itemcode),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=s.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==s.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","itemunit_c",n,""),y["\u0275\u0275property"]("ngModel",e.unit_id),y["\u0275\u0275attribute"]("disabled",!0),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=s.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==s.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",y["\u0275\u0275pipeBind2"](13,27,s.ItemComponentUnitsList,y["\u0275\u0275pureFunction1"](30,Qt,e.item_id))),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==s.CashCustomerSetting?null:s.CashCustomerSetting.allowpack)),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","item_qty_c",n,""),y["\u0275\u0275property"]("ngModel",e.qty)("readonly",!0),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","item_price_c",n,""),y["\u0275\u0275property"]("ngModel",e.price)("readonly",!0)("Min",0)("CheckMin",null!=(null==e?null:e.item_id))("ngClass",y["\u0275\u0275pureFunction2"](32,Vt,i.invalid&&r.submitted,i.valid&&r.submitted)),y["\u0275\u0275advance"](3),y["\u0275\u0275propertyInterpolate1"]("name","item_total_c",n,""),y["\u0275\u0275property"]("ngModel",e.total)("readonly",!0)}}const dn=function(e){return{finishedproductid:e}};function pn(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",95),y["\u0275\u0275elementStart"](1,"div",81),y["\u0275\u0275elementStart"](2,"div",82),y["\u0275\u0275elementStart"](3,"table",97),y["\u0275\u0275elementStart"](4,"thead"),y["\u0275\u0275elementStart"](5,"tr"),y["\u0275\u0275elementStart"](6,"th",98),y["\u0275\u0275text"](7),y["\u0275\u0275pipe"](8,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"th",99),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"th",99),y["\u0275\u0275text"](13),y["\u0275\u0275pipe"](14,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](15,"th",100),y["\u0275\u0275text"](16),y["\u0275\u0275pipe"](17,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](18,Xt,3,3,"th",101),y["\u0275\u0275elementStart"](19,"th",99),y["\u0275\u0275text"](20),y["\u0275\u0275pipe"](21,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](22,"th",99),y["\u0275\u0275text"](23),y["\u0275\u0275pipe"](24,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](25,"th",99),y["\u0275\u0275text"](26),y["\u0275\u0275pipe"](27,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](28,"tbody"),y["\u0275\u0275template"](29,ln,22,35,"tr",147),y["\u0275\u0275pipe"](30,"filterby"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](7),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](8,9,"Store")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](11,11,"ItemCode")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](14,13,"ItemDescription")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](17,15,"Unit")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==e.CashCustomerSetting?null:e.CashCustomerSetting.allowpack)),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](21,17,"qty")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](24,19,"Price")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](27,21,"Total")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngForOf",0==e.show_all_component?y["\u0275\u0275pipeBind2"](30,23,e.ItemsComponentList,y["\u0275\u0275pureFunction1"](26,dn,null==e.SelectedItem?null:e.SelectedItem.item_id)):e.ItemsComponentList)}}function hn(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"li",78),y["\u0275\u0275elementStart"](1,"a",74),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](4,pn,31,28,"ng-template",75),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275property"]("ngbNavItem",2),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](3,2,"Components")))}function mn(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",89),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]())}function un(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",89),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]())}function _n(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function gn(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function fn(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",90),y["\u0275\u0275template"](1,_n,2,1,"span",1),y["\u0275\u0275template"](2,gn,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Cn(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",122),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function yn(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",122),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function vn(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.codename,"")}}function Rn(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.codenamear,"")}}function Sn(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",90),y["\u0275\u0275template"](1,vn,2,1,"span",1),y["\u0275\u0275template"](2,Rn,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("value",e.code),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function bn(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275elementStart"](1,"td"),y["\u0275\u0275elementStart"](2,"select",154),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.branch_id=e}),y["\u0275\u0275template"](3,mn,2,0,"option",32),y["\u0275\u0275template"](4,un,2,0,"option",32),y["\u0275\u0275template"](5,fn,3,3,"option",42),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"td"),y["\u0275\u0275elementStart"](7,"select",154),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.code=e}),y["\u0275\u0275template"](8,Cn,2,1,"option",117),y["\u0275\u0275template"](9,yn,2,1,"option",117),y["\u0275\u0275template"](10,Sn,3,3,"option",42),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](11,"td"),y["\u0275\u0275elementStart"](12,"input",155,156),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.entry_no=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](14,"td"),y["\u0275\u0275elementStart"](15,"a",157),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).GetLinkedReceipt(t)}),y["\u0275\u0275element"](16,"i",158),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](17,"td"),y["\u0275\u0275elementStart"](18,"a",134),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).OnOpenLinkedReceipt(t)}),y["\u0275\u0275element"](19,"i",159),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](20,"td"),y["\u0275\u0275elementStart"](21,"a",127),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).DeleteLinkedReceipt(t)}),y["\u0275\u0275element"](22,"i",128),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsbranch",n,""),y["\u0275\u0275property"]("ngModel",e.branch_id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",i.BranchList),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptscode",n,""),y["\u0275\u0275property"]("ngModel",e.code),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",i.ReceiptCodeList),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsentry_no",n,""),y["\u0275\u0275property"]("ngModel",e.entry_no),y["\u0275\u0275advance"](3),y["\u0275\u0275attribute"]("disabled",(null==e?null:e.fire)>0||null)}}function xn(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",95),y["\u0275\u0275elementStart"](1,"div",81),y["\u0275\u0275elementStart"](2,"div",82),y["\u0275\u0275elementStart"](3,"table",97),y["\u0275\u0275elementStart"](4,"thead"),y["\u0275\u0275elementStart"](5,"tr"),y["\u0275\u0275elementStart"](6,"th",99),y["\u0275\u0275text"](7),y["\u0275\u0275pipe"](8,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"th",99),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"th",99),y["\u0275\u0275text"](13),y["\u0275\u0275pipe"](14,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](15,"th",102),y["\u0275\u0275text"](16," \xa0 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](17,"th",102),y["\u0275\u0275text"](18," \xa0 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](19,"th",102),y["\u0275\u0275text"](20," \xa0 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](21,"tbody"),y["\u0275\u0275template"](22,bn,23,13,"tr",147),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](23,"button",104),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).AddLinkedReceipt()}),y["\u0275\u0275text"](24),y["\u0275\u0275pipe"](25,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](7),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](8,5,"Branch")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](11,7,"Receipttype")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](14,9,"EntryNo")," "),y["\u0275\u0275advance"](9),y["\u0275\u0275property"]("ngForOf",e._Receipt.linkedreceipts),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](25,11,"Add")," ")}}function In(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",95),y["\u0275\u0275elementStart"](1,"div",81),y["\u0275\u0275elementStart"](2,"Signature",160),y["\u0275\u0275listener"]("signatureoutput",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).OnSignatureSet(t)}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("signature",e._Receipt.signature)}}function Mn(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275element"](1,"Item-StoreQty",161,162),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("wrappe",e._itemstoreqtyobj)}}function En(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275elementStart"](1,"div",8),y["\u0275\u0275elementStart"](2,"div",6),y["\u0275\u0275elementStart"](3,"form",9,10),y["\u0275\u0275listener"]("ngSubmit",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275reference"](4);return y["\u0275\u0275nextContext"]().CheckPre_SaveReceipt(t)}),y["\u0275\u0275elementStart"](5,"div",11),y["\u0275\u0275elementStart"](6,"div",12),y["\u0275\u0275elementStart"](7,"div",13),y["\u0275\u0275elementStart"](8,"div",14),y["\u0275\u0275elementStart"](9,"h6",15),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"div",6),y["\u0275\u0275elementStart"](13,"div",16),y["\u0275\u0275elementStart"](14,"button",17),y["\u0275\u0275element"](15,"i",18),y["\u0275\u0275text"](16),y["\u0275\u0275pipe"](17,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](18,"button",19),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().CreateNewAction()}),y["\u0275\u0275text"](19),y["\u0275\u0275pipe"](20,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](21,He,3,4,"button",20),y["\u0275\u0275template"](22,Ze,3,4,"button",21),y["\u0275\u0275elementStart"](23,"button",22),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().BackAction()}),y["\u0275\u0275text"](24),y["\u0275\u0275pipe"](25,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](26,"div",23),y["\u0275\u0275elementStart"](27,"button",24),y["\u0275\u0275text"](28),y["\u0275\u0275pipe"](29,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](30,"div",25),y["\u0275\u0275template"](31,nt,5,4,"ng-container",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](32,"hr"),y["\u0275\u0275elementStart"](33,"div",6),y["\u0275\u0275elementStart"](34,"div",26),y["\u0275\u0275elementStart"](35,"div",27),y["\u0275\u0275elementStart"](36,"label",28),y["\u0275\u0275text"](37),y["\u0275\u0275pipe"](38,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](39,"span",29),y["\u0275\u0275text"](40,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](41,"select",30,31),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.branch_id=t})("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().changeBranch(t)}),y["\u0275\u0275template"](43,it,2,0,"option",32),y["\u0275\u0275template"](44,rt,2,0,"option",32),y["\u0275\u0275template"](45,at,3,3,"option",33),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](46,"div",34),y["\u0275\u0275elementStart"](47,"div",27),y["\u0275\u0275elementStart"](48,"label",35),y["\u0275\u0275text"](49),y["\u0275\u0275pipe"](50,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](51,"span",29),y["\u0275\u0275text"](52,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](53,"input",36,37),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.entry_no=t})("ngModelChange",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ChangePropFinish("EntryCode",2)})("keydown.space",function(e){return e.preventDefault()}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](55,lt,7,7,"div",38),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](56,"div",6),y["\u0275\u0275elementStart"](57,"div",34),y["\u0275\u0275elementStart"](58,"div",27),y["\u0275\u0275elementStart"](59,"label",39),y["\u0275\u0275text"](60),y["\u0275\u0275pipe"](61,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](62,"span",29),y["\u0275\u0275text"](63,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](64,"select",40,41),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.fromstoreid=t})("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().changeFromStoreType(t)})("focusout",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().FromStorFocus()}),y["\u0275\u0275template"](66,dt,2,0,"option",32),y["\u0275\u0275template"](67,pt,2,0,"option",32),y["\u0275\u0275template"](68,ut,3,3,"option",42),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](69,"div",34),y["\u0275\u0275elementStart"](70,"div",27),y["\u0275\u0275elementStart"](71,"label",43),y["\u0275\u0275text"](72),y["\u0275\u0275pipe"](73,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](74,"span",29),y["\u0275\u0275text"](75,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](76,"select",44,45),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.tostoreid=t})("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().changeToStoreType(t)})("focusout",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ToStorFocus()}),y["\u0275\u0275template"](78,_t,2,0,"option",32),y["\u0275\u0275template"](79,gt,2,0,"option",32),y["\u0275\u0275template"](80,yt,3,3,"option",42),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](81,"div",34),y["\u0275\u0275elementStart"](82,"div",27),y["\u0275\u0275elementStart"](83,"label",46),y["\u0275\u0275text"](84),y["\u0275\u0275pipe"](85,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](86,"span",29),y["\u0275\u0275text"](87,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](88,"input",47,48),y["\u0275\u0275listener"]("ngModelChange",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275nextContext"]();return n._Receipt.entry_date=t,n.ChangePropFinish("EntryDate",2)}),y["\u0275\u0275pipe"](90,"date"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](91,"div",34),y["\u0275\u0275elementStart"](92,"div",27),y["\u0275\u0275elementStart"](93,"label",49),y["\u0275\u0275text"](94),y["\u0275\u0275pipe"](95,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](96,"span",29),y["\u0275\u0275text"](97,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](98,"input",50,51),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.entry_time=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](100,"div",6),y["\u0275\u0275elementStart"](101,"div",34),y["\u0275\u0275elementStart"](102,"div",27),y["\u0275\u0275elementStart"](103,"label",52),y["\u0275\u0275text"](104),y["\u0275\u0275pipe"](105,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](106,"input",53,54),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.memo=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](108,"div",34),y["\u0275\u0275elementStart"](109,"div",27),y["\u0275\u0275elementStart"](110,"label",55),y["\u0275\u0275text"](111),y["\u0275\u0275pipe"](112,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](113,"input",56,57),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.reference_no=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](115,"div",34),y["\u0275\u0275elementStart"](116,"div",27),y["\u0275\u0275elementStart"](117,"label",58),y["\u0275\u0275text"](118),y["\u0275\u0275pipe"](119,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](120,"p-autoComplete",59,60),y["\u0275\u0275listener"]("onFocus",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275reference"](121);return y["\u0275\u0275nextContext"]().onFocusInBatchOrder(t),n.show()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.batchorder_no=t})("onSelect",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().BatchOrderSelectEvent(t)})("completeMethod",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().BatchOrderChangeSearch(t)})("onClear",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().onClearBatchOrder(t)}),y["\u0275\u0275pipe"](122,"translate"),y["\u0275\u0275template"](123,vt,2,1,"ng-template",61),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](124,"div",6),y["\u0275\u0275elementStart"](125,"div",34),y["\u0275\u0275elementStart"](126,"div",27),y["\u0275\u0275elementStart"](127,"label",58),y["\u0275\u0275text"](128),y["\u0275\u0275pipe"](129,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](130,"p-autoComplete",62,63),y["\u0275\u0275listener"]("onFocus",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275reference"](131);return y["\u0275\u0275nextContext"]().onFocusInCustomerAccounts(t),n.show()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.cashcustomer_vendor_code=t})("onSelect",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().CustomerAccountsSelectEvent(t)})("completeMethod",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().CustomerAccountsChangeSearch(t)})("onClear",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().onClearCustomer(t)}),y["\u0275\u0275pipe"](132,"translate"),y["\u0275\u0275template"](133,bt,2,2,"ng-template",64),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](134,"div",34),y["\u0275\u0275elementStart"](135,"div",27),y["\u0275\u0275elementStart"](136,"label",65),y["\u0275\u0275text"](137),y["\u0275\u0275pipe"](138,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](139,"input",66,67),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.cashcustomer_vendor_name=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](141,"div",68),y["\u0275\u0275elementStart"](142,"div",69),y["\u0275\u0275elementStart"](143,"div",6),y["\u0275\u0275elementStart"](144,"div",70),y["\u0275\u0275elementStart"](145,"ul",71,72),y["\u0275\u0275listener"]("activeIdChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().activeNav=t}),y["\u0275\u0275elementStart"](147,"li",73),y["\u0275\u0275elementStart"](148,"a",74),y["\u0275\u0275text"](149),y["\u0275\u0275pipe"](150,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](151,Zt,37,30,"ng-template",75),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](152,Kt,19,10,"ng-template",null,76,y["\u0275\u0275templateRefExtractor"]),y["\u0275\u0275template"](154,hn,5,4,"li",77),y["\u0275\u0275elementStart"](155,"li",78),y["\u0275\u0275elementStart"](156,"a",74),y["\u0275\u0275text"](157),y["\u0275\u0275pipe"](158,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](159,xn,26,13,"ng-template",75),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](160,"li",78),y["\u0275\u0275elementStart"](161,"a",74),y["\u0275\u0275text"](162),y["\u0275\u0275pipe"](163,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](164,In,3,1,"ng-template",75),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](165,"div",79),y["\u0275\u0275elementStart"](166,"div",6),y["\u0275\u0275elementStart"](167,"div",80),y["\u0275\u0275elementStart"](168,"div",81),y["\u0275\u0275element"](169,"div",82),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](170,"div",83),y["\u0275\u0275template"](171,Mn,3,1,"div",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](4),t=y["\u0275\u0275reference"](42),n=y["\u0275\u0275reference"](54),i=y["\u0275\u0275reference"](65),r=y["\u0275\u0275reference"](77),s=y["\u0275\u0275reference"](89),o=y["\u0275\u0275reference"](146),a=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](10),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](11,77,"Transfer Good")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275attribute"]("disabled",a.VouchersLinkedCount>0||1==a.ShowModeReceipt||1==a.DuringSaveDisable||a.ReceiptID>0&&!a.checkRoleParms(630)||0==a.ReceiptID&&!a.checkRoleParms(326)||null),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](17,79,"Save")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275attribute"]("disabled",!a.checkRoleParms(326)||1==a.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](20,81,"CreateNew")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",a.ReceiptID>0&&0==a.VouchersLinkedCount),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",a.ReceiptID>0&&a.checkRoleParms(331)),y["\u0275\u0275advance"](1),y["\u0275\u0275attribute"]("disabled",1==a.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](25,83,"Exit")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](29,85,"Action Menu")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngIf",a.ReceiptID>0),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](38,87,"Branch")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngModel",a._Receipt.branch_id)("ngClass",y["\u0275\u0275pureFunction2"](122,Vt,t.invalid&&e.submitted,t.valid&&e.submitted)),y["\u0275\u0275attribute"]("disabled",a.ReceiptID>0||null),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=a.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==a.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",a.BranchList)("ngForTrackBy",a.customTrackBy),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](50,89,"Entry#")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("stepallow",1)("ngModel",a._Receipt.entry_no)("readonly",0==(null==a.CurrentUserSetting?null:a.CurrentUserSetting.controlvouchernumanddate)||a.VouchersLinkedCount>0||1==a.LockedRecepit)("Min",1)("CheckMin",!0)("ngClass",y["\u0275\u0275pureFunction2"](125,Vt,n.invalid&&e.submitted,n.valid&&e.submitted)),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==a.InventorySetting[0].receivetransfers),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](61,91,"FromStore")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngModel",a._Receipt.fromstoreid)("disabled",a.ReceiptID>0)("ngClass",y["\u0275\u0275pureFunction2"](128,Vt,i.invalid&&e.submitted,i.valid&&e.submitted)),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=a.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==a.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",a.FromStoreList),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](73,93,"ToStore")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngModel",a._Receipt.tostoreid)("ngClass",y["\u0275\u0275pureFunction2"](131,Vt,r.invalid&&e.submitted,r.valid&&e.submitted)),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=a.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==a.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",a.UserToStoreList),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](85,95,"Date")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngModel",y["\u0275\u0275pipeBind2"](90,97,a._Receipt.entry_date,"yyyy-MM-dd"))("readonly",0==(null==a.CurrentUserSetting?null:a.CurrentUserSetting.controlvouchernumanddate)||a.VouchersLinkedCount>0||1==a.LockedRecepit)("ngClass",y["\u0275\u0275pureFunction2"](134,Vt,s.invalid&&e.submitted||0==a.ValidPeriod,s.valid&&e.submitted)),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](95,100,"time")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("readonly",0==(null==a.CurrentUserSetting?null:a.CurrentUserSetting.controlvouchernumanddate)||a.VouchersLinkedCount>0||1==a.LockedRecepit)("ngModel",a._Receipt.entry_time),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](105,102,"Memo")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",a._Receipt.memo),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](112,104,"ReferenceNo")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",a._Receipt.reference_no),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](119,106,"BatchOrderNo")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",a._Receipt.batchorder_no)("suggestions",a.BatchOrderList)("showEmptyMessage",!0)("emptyMessage",y["\u0275\u0275pipeBind1"](122,108,"NoResultsFound"))("forceSelection",!0),y["\u0275\u0275advance"](8),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](129,110,"Customer#")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",a._Receipt.cashcustomer_vendor_code)("suggestions",a.CustomerAccountsList)("showEmptyMessage",!0)("emptyMessage",y["\u0275\u0275pipeBind1"](132,112,"NoResultsFound"))("forceSelection",!0),y["\u0275\u0275advance"](7),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](138,114,"CustomerName")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",a._Receipt.cashcustomer_vendor_name)("readonly",!0),y["\u0275\u0275advance"](6),y["\u0275\u0275property"]("activeId",a.activeNav)("destroyOnHide",!1),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngbNavItem",1),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](150,116,"Items")),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngIf",null==a.CurrentUserSetting?null:a.CurrentUserSetting.showreceiptitemcomponent),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngbNavItem",3),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](158,118,"LinkedReceipt")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngbNavItem",4),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](163,120,"Signature")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngbNavOutlet",o),y["\u0275\u0275advance"](6),y["\u0275\u0275property"]("ngIf",a.itemqtyview)}}const On=function(){return{height:"150px"}};function Pn(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",136),y["\u0275\u0275elementStart"](1,"h6",137),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"button",138),y["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),y["\u0275\u0275elementStart"](5,"span",139),y["\u0275\u0275text"](6,"\xd7"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"div",163),y["\u0275\u0275elementStart"](8,"div",164),y["\u0275\u0275elementStart"](9,"label",165),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"input",166,167),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().DescriptionItem.customitemname=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](14,"div",168),y["\u0275\u0275elementStart"](15,"div",164),y["\u0275\u0275elementStart"](16,"quill-editor",169),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().DescriptionItem.detailshtml=t})("onContentChanged",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().onContentChanged(t)}),y["\u0275\u0275text"](17,' [modules]="quillConfig" > '),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](18,"div",145),y["\u0275\u0275elementStart"](19,"button",104),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().SaveNotes()}),y["\u0275\u0275text"](20),y["\u0275\u0275pipe"](21,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](22,"button",170),y["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),y["\u0275\u0275element"](23,"i",171),y["\u0275\u0275text"](24),y["\u0275\u0275pipe"](25,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](3,8,"Description")),y["\u0275\u0275advance"](8),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](11,10,"Item")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e.DescriptionItem.customitemname),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("styles",y["\u0275\u0275pureFunction0"](16,On))("ngModel",e.DescriptionItem.detailshtml)("ngModelOptions",y["\u0275\u0275pureFunction0"](17,ct)),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](21,12,"Save")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](25,14,"Cancel")," ")}}function wn(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"h6",137),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}function kn(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"h6",137),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Batches")," "))}function Dn(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Date")," "))}function Bn(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}function Fn(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"BatchNo")," "))}function Ln(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",178),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Availableqty")," "))}function qn(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",178),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"qty")," "))}function Tn(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"date"),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind2"](2,1,null==e?null:e.expire_date,"yyyy-MM-dd")," ")}}function Nn(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span",182),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](2,1,"QtyIsValidWithAvailableQty")))}const Vn=function(e){return{"invalid-data":e}};function An(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",180),y["\u0275\u0275listener"]("change",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275nextContext"]().$implicit;return y["\u0275\u0275nextContext"](2).ChangeBatchQty(n,t.target.value)}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](2,Nn,3,3,"span",181),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](),t=e.index,n=e.$implicit;y["\u0275\u0275nextContext"]();const i=y["\u0275\u0275reference"](7);y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate1"]("name","Qty",t,""),y["\u0275\u0275property"]("value",null==n?null:n.qty)("ngClass",y["\u0275\u0275pureFunction1"](4,Vn,(null==n?null:n.qty)>(null==n?null:n.availableqty)+(null==n?null:n.oldqty)&&i.submitted)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",(null==n?null:n.qty)>(null==n?null:n.availableqty)+(null==n?null:n.oldqty)&&i.submitted)}}function Un(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275elementStart"](1,"td"),y["\u0275\u0275element"](2,"input",179),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](3,"td"),y["\u0275\u0275text"](4),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](5,Tn,3,4,"td",1),y["\u0275\u0275elementStart"](6,"td"),y["\u0275\u0275text"](7),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"td"),y["\u0275\u0275text"](9),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](10,An,3,6,"td",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index,i=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","Vaild",n,""),y["\u0275\u0275property"]("checked",null==e?null:e.valid),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ","ar"!=i.lang?null==e?null:e.name:null==e?null:e.name_ar," "),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",3==i.requiredserial),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",null==e?null:e.serial," "),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](null==e?null:e.availableqty),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",3==i.requiredserial)}}function $n(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",136),y["\u0275\u0275template"](1,wn,3,3,"h6",172),y["\u0275\u0275template"](2,kn,3,3,"h6",172),y["\u0275\u0275elementStart"](3,"button",138),y["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross\n      click")}),y["\u0275\u0275elementStart"](4,"span",139),y["\u0275\u0275text"](5,"\xd7"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"form",9,10),y["\u0275\u0275listener"]("ngSubmit",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275reference"](7);return y["\u0275\u0275nextContext"]().saveserial(t)}),y["\u0275\u0275elementStart"](8,"div",163),y["\u0275\u0275elementStart"](9,"div",173),y["\u0275\u0275elementStart"](10,"div",6),y["\u0275\u0275elementStart"](11,"form"),y["\u0275\u0275elementStart"](12,"div",174),y["\u0275\u0275elementStart"](13,"h6",137),y["\u0275\u0275text"](14),y["\u0275\u0275pipe"](15,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](16,"table",97),y["\u0275\u0275elementStart"](17,"thead"),y["\u0275\u0275elementStart"](18,"tr"),y["\u0275\u0275elementStart"](19,"th"),y["\u0275\u0275text"](20),y["\u0275\u0275pipe"](21,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](22,"th",175),y["\u0275\u0275text"](23),y["\u0275\u0275pipe"](24,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](25,Dn,3,3,"th",1),y["\u0275\u0275template"](26,Bn,3,3,"th",1),y["\u0275\u0275template"](27,Fn,3,3,"th",1),y["\u0275\u0275template"](28,Ln,3,3,"th",176),y["\u0275\u0275template"](29,qn,3,3,"th",176),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](30,"tbody"),y["\u0275\u0275template"](31,Un,11,7,"tr",103),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](32,"div",145),y["\u0275\u0275elementStart"](33,"button",177),y["\u0275\u0275text"](34),y["\u0275\u0275pipe"](35,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",2==e.requiredserial),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",3==e.requiredserial),y["\u0275\u0275advance"](12),y["\u0275\u0275textInterpolate2"](" ",y["\u0275\u0275pipeBind1"](15,14,"qty")," : ",e._batchqty," "),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](21,16,"Choose")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](24,18,"Store")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",3==e.requiredserial),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",2==e.requiredserial),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",3==e.requiredserial),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",3==e.requiredserial),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",3==e.requiredserial),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngForOf",e.BatchesListForEatchRow)("ngForTrackBy",e.trackByFn),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](35,20,"save")," ")}}const Gn=function(){return[328,329,330,331,630]};let jn=(()=>{class e{constructor(e,t,n,i,r,s,o,a,c,l,d,p,h,m,u,_,f,C,y){this._CustomerService=e,this._ReceiptSharedService=t,this._TransferService=n,this._VoucherService=i,this.cd=r,this.toastr=s,this._router=o,this._generalService=a,this.translate=c,this._translateGlobalService=l,this._activeRoute=d,this.modalService=p,this.spinner=h,this._authService=m,this._printService=u,this._VerifyReportsService=_,this.datepipe=f,this.location=C,this._ProductionService=y,this.isType=!1,this.subsidiaryID=0,this.ReceiptID=0,this.PriceListItemsOnly=!1,this.BasicCodeReceipt=81,this.Transaction_move=0,this._Receipt=new g.tY,this._ReceiptOriginal=new g.tY,this._ReceiptOriginalWithoutTo=new g.tY,this._Receipt_h_Edit=new g.Iu,this._CashSalesDetailsReceipt=new g.hm,this.ItemsComponentList=new Array,this._OppositDetailsReceipt=new Array,this.OppositItemsComponentList=new Array,this.DescriptionItem=new g.tH,this._LinkedReceipt=new g.Cb,this._Currencyprecision=3,this.BatchNoText="",this.ForeignCurrencyShow=!1,this.ValidPeriod=!0,this.VouchersLinkedCount=0,this.DuringSaveDisable=!1,this.show_all_component=!1,this.BranchList=[],this.CustomerAccountsList=[],this.CostCenterList=[],this.ReceiptCodeList=[],this.TransactionAccountList=[],this.CurrencyList=[],this.FromStoreList=[],this.UserToStoreList=[],this.UserStoreList=[],this.ItemsList=[],this.ItemUnitsList=[],this.ItemComponentUnitsList=[],this.CustomerSalesPriceList=[],this.reporturl="",this.reportdomainUrl=Le.N.aspDomain,this._emailobj={email:"",subject:""},this.mailmsg="",this.allowDelete=!1,this.ShowModeReceipt=!1,this.LockedRecepit=!1,this.ShowWarrantyDateCols=!1,this.swalTitleEntry="",this.swalTextEntry="",this.swalConfirmButtonEntry="",this.Cancel="",this.WarningInfoLost="",this.warning="",this.Yes="",this.FinancialPeriodMsg="",this.Close="",this.FinancialPeriodCloseMsg="",this.CostPostingPeriodMessage="",this.StopInventoryErrorMsg="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.DeleteRelationmsg="",this.ItemsZeroErrorMsg="",this.ItemsEqualZeroMsg="",this.ReceiptNotFound="",this.Receiptnoitems="",this.NoUnits="",this.qtyErrorSaveMsg="",this.ItemWarrantyValidMsg="",this.qtyErrorMsg="",this.qtyZeroErrorSaveMsg="",this.NOComponents="",this.CustomerPricelistMsg="",this.SaveMsg="",this.No="",this.swalNewActionTitle="",this.swalNewActionText="",this.ToStoreErrorMsg="",this.FromStoreErrorMsg="",this.RelatedwithSerialsOrBatches="",this.QtyIsValidWithAvailableQty="",this.InValidNumberOfBatch="",this.InValidQty="",this.DeleteUsedBatchesOrSerials="",this.InValidQtyForBatch="",this.BranchApplyTax=!0,this.TaxPercentage=0,this.timeout=null,this.ItemLinkedReceipt=[],this.ItemComponentsLinkedReceipt=[],this.LinkedReceiptListSelected=[],this.IxLRS=0,this.itemqtyview=!1,this._itemstoreqtyobj=new g.I$,this._itemqtyList=new Array,this._totalcost=0,this.selectedindex=0,this.requiredserial=2,this._batchqty=0,this.BatchesListForEatchRow=[],this.salesReturnEffectDispensingPolicyError=!1,this.RecivingError="",this.ReceivingPermis=!0,this.BatchOrderList=[],this.batchOrderItems=[],d.params.subscribe(e=>{this.ReceiptID=e.id,this.ShowModeReceipt=null!=e.show&&"show"==e.show&&e.id>0,this.LockedRecepit=this.ShowModeReceipt,this.StoreId=e.storeid,this.VendorId=e.vendorid,this.ItemListIds=e.items,this.subsidiaryID=this._generalService.SubsidiaryID,this._UserLogin=this._authService.userInfo(),this.subsidiaryID>0&&this.SetInitialMethods()}),this.ngUnsubscribe=a.proadCastSubsidiaryID.subscribe(e=>{0==this.subsidiaryID&&(this.subsidiaryID=this._generalService.SubsidiaryID,this.SetInitialMethods()),this.subsidiaryID!=this._generalService.SubsidiaryID&&this.subsidiaryID>0&&(this.subsidiaryID=this._generalService.SubsidiaryID,this._router.navigate(["/page/inventorytransfers/transfergood/0"]).then(()=>{window.location.reload()}))}),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","swalTitleEntryno","swalEntrynoText","swalEntrynoConfirmButton","WarningInfoLost","warning","Yes","mailmsg","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","DeleteRelationmsg","successMsg","ItemsZeroErrorMsg","MultiPayErrorMsg","ItemsEqualZeroMsg","ReceiptNotFound","CustomerPricelistMsg","Receiptnoitems","NoUnits","ItemWarrantyValidMsg","FinancialPeriodMsg","CloseFinancialPeriodMsg","StopInventoryErrorMsg","Close","DeliverDateMsg","qtyErrorSaveMsg","qtyErrorMsg","qtyZeroErrorSaveMsg","SaveMsg","Transfer Good","ToStoreErrorMsg","FromStoreErrorMsg","No","swalNewActionTitle","swalNewActionText","NOComponents","CostPostingPeriodMessage","RelatedwithSerialsOrBatches","QtyIsValidWithAvailableQty","InValidNumberOfBatch","InValidQty","DeleteUsedBatchesOrSerials","InValidQtyForBatch","cantNotDuplicateItem","RecivingError"]).subscribe(e=>{document.title=e["Transfer Good"],this.Cancel=e.Cancel,this.swalTitleEntry=e.swalTitleEntryno,this.swalTextEntry=e.swalEntrynoText,this.swalConfirmButtonEntry=e.swalEntrynoConfirmButton,this.WarningInfoLost=e.WarningInfoLost,this.warning=e.warning,this.Yes=e.Yes,this.No=e.No,this.NOComponents=e.NOComponents,this.swalNewActionTitle=e.swalNewActionTitle,this.swalNewActionText=e.swalNewActionText,this.CustomerPricelistMsg=e.CustomerPricelistMsg,this.mailmsg=e.mailmsg,this.swalDeleteTitle=e.swalDeleteTitle,this.swalDetlateText=e.swalDetlateText,this.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,this.DeleteRelationmsg=e.DeleteRelationmsg,this.toastrSuccessDelete=e.successMsg,this.ItemsZeroErrorMsg=e.ItemsZeroErrorMsg,this.ItemsEqualZeroMsg=e.ItemsEqualZeroMsg,this.ItemWarrantyValidMsg=e.ItemWarrantyValidMsg,this.ReceiptNotFound=e.ReceiptNotFound,this.Receiptnoitems=e.Receiptnoitems,this.NoUnits=e.NoUnits,this.FinancialPeriodMsg=e.FinancialPeriodMsg,this.StopInventoryErrorMsg=e.StopInventoryErrorMsg,this.FinancialPeriodCloseMsg=e.CloseFinancialPeriodMsg,this.Close=e.Close,this.qtyErrorMsg=e.qtyErrorMsg,this.qtyErrorSaveMsg=e.qtyErrorSaveMsg,this.qtyZeroErrorSaveMsg=e.qtyZeroErrorSaveMsg,this.SaveMsg=e.SaveMsg,this.ToStoreErrorMsg=e.ToStoreErrorMsg,this.FromStoreErrorMsg=e.FromStoreErrorMsg,this.CostPostingPeriodMessage=e.CostPostingPeriodMessage,this.RelatedwithSerialsOrBatches=e.RelatedwithSerialsOrBatches,this.QtyIsValidWithAvailableQty=e.QtyIsValidWithAvailableQty,this.InValidNumberOfBatch=e.InValidNumberOfBatch,this.InValidQty=e.InValidQty,this.DeleteUsedBatchesOrSerials=e.DeleteUsedBatchesOrSerials,this.InValidQtyForBatch=e.InValidQtyForBatch,this.cantNotDuplicateItem=e.cantNotDuplicateItem,this.RecivingError=e.RecivingError})})}ngOnInit(){}SetInitialMethods(){this._Receipt=new g.tY,this.GetFromStoreList(""),this.GetCurrentUserSetting(),this.GetUserStoreList(""),this.GetBranchList(),this.GetCashCustomerSettings(),this.GetSubsaidarySetting(),this.GetCurrencyList(),this.GetReceipt_AfterReceiptCode_InventroySettings()}GetReceipt_AfterReceiptCode_InventroySettings(){let e=this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID),t=this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID);(0,De.D)([e,t]).subscribe(([e,t])=>{this.ReceiptCodeList=e,this.InventorySetting=t,this.UserToStoreList=0==this.InventorySetting[0].transferuserpermissions?this.FromStoreList:this.UserStoreList,this.Transaction_move=-1,this.GetReceipt(),this.cd.markForCheck()})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}checkRolesParms(e){let t=!0;return this._authService.isHasRole(e)||(t=!1),t}GetReceipt(){if(this._Receipt.subsidiaryid=this.subsidiaryID,0==this.ReceiptID){this._Receipt.createdbyid=this._UserLogin.id,this._Receipt.customersalesprice=0,this._Receipt.code=this.BasicCodeReceipt,this._Receipt.entry_date=this.datepipe.transform(new Date,"yyyy-MM-dd"),this._Receipt.receiving=!0,this.CheckValidDateBySubsidaryID(),this._Receipt.entry_time=this.SetTimeNow();let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&(this._Receipt.branch_id="null"==e.branchId||0==e.branchId?null:e.branchId,null!=this._Receipt.branch_id&&(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch())),setTimeout(()=>{this._ReceiptOriginal=JSON.parse(JSON.stringify(this._Receipt)),console.log(this._Receipt)},1e3)}else this._ReceiptSharedService.GetReceiptAndDetailsByID(this.ReceiptID).subscribe(e=>{if(null!=e.receipt){this.VouchersLinkedCount=e.voucherslinkedcount.voucherslinkedcount,this._Receipt.id=e.receipt.id,this._Receipt.subsidiaryid=e.receipt.subsidiaryid,this._Receipt.code=e.receipt.code,this._Receipt.entry_no=e.receipt.entry_no,this._Receipt.branch_id=e.receipt.branch_id,this.BranchApplyTax=e.receipt.applytax,this._Receipt.transaction_code=e.receipt.transaction_code,this._Receipt.customersalesprice=e.receipt.customersalesprice,this._Receipt.entry_date=this.datepipe.transform(e.receipt.entry_date,"yyyy-MM-dd"),this._Receipt.entry_time=e.receipt.entry_time,this._Receipt.reservedflag=e.receipt.reservedflag,this._Receipt.payment_type=e.receipt.payment_type,this._Receipt.vendor_id=e.receipt.vendor_id,this._Receipt.cashcustomerid=e.receipt.cashcustomerid,null!=this._Receipt.vendor_id&&(this._Receipt.cashcustomer_vendor_code={code:e.receipt.vendorcode},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?e.receipt.vendornamear:e.receipt.vendorname,this.PriceListItemsOnly=e.receipt.pricelistitemsonly),null!=this._Receipt.cashcustomerid&&(this._Receipt.cashcustomer_vendor_code={phonenumber:e.receipt.phonenumber},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?e.receipt.cashcustomername_ar:e.receipt.cashcustomername),this._Receipt.currency_id=e.receipt.currency_id,this._Receipt.currency_rate=e.receipt.currency_rate,this._Receipt.customerdeliverdate=this.datepipe.transform(e.receipt.customerdeliverdate,"yyyy-MM-dd"),this._Receipt.customerdeliverdate_time=e.receipt.customerdeliverdate_time,this._Receipt.ordertype=e.receipt.ordertype,this._Receipt.empoyee_id=e.receipt.empoyee_id,this._Receipt.memo=e.receipt.memo,this._Receipt.reference_no=e.receipt.reference_no,this._Receipt.salestypeid=e.receipt.salestypeid,this._Receipt.commisionaccountid=e.receipt.commisionaccountid,this._Receipt.commisionaccountfieldname="ar"==this.lang?{commisionaccountfieldname:e.receipt.commisionaccount_sug_ar}:{commisionaccountfieldname:e.receipt.commisionaccount_sug},this._Receipt.commissiontype=e.receipt.commissiontype,this._Receipt.commission=e.receipt.commission,this._Receipt.commissionnet=e.receipt.commissionnet,this._Receipt.commisionaccountid1=e.receipt.commisionaccountid1,this._Receipt.commisionaccountfieldname1="ar"==this.lang?{commisionaccountfieldname1:e.receipt.commisionaccount1_sug_ar}:{commisionaccountfieldname1:e.receipt.commisionaccount1_sug},this._Receipt.commissiontype1=e.receipt.commissiontype1,this._Receipt.commission1=e.receipt.commission1,this._Receipt.commissionnet1=e.receipt.commissionnet1,this._Receipt.costcenterid=e.receipt.costcenterid,this._Receipt.costcenterfieldname=null!=this._Receipt.costcenterid?"ar"==this.lang?{costcenterfieldname:e.receipt.costcenter_sug_ar}:{costcenterfieldname:e.receipt.costcenter_sug}:null,this._Receipt.classid=e.receipt.classid,this._Receipt.classfieldname=null!=this._Receipt.classid?"ar"==this.lang?{classfieldname:e.receipt.classes_sug_ar}:{classfieldname:e.receipt.classes_sug}:null,this._Receipt.locationid=e.receipt.locationid,this._Receipt.locationfieldname=null!=this._Receipt.locationid?"ar"==this.lang?{locationfieldname:e.receipt.location_sug_ar}:{locationfieldname:e.receipt.location_sug}:null,this._Receipt.departmentid=e.receipt.departmentid,this._Receipt.departmentfieldname=null!=this._Receipt.departmentid?"ar"==this.lang?{departmentfieldname:e.receipt.department_sug_ar}:{departmentfieldname:e.receipt.department_sug}:null,this._Receipt.carid=e.receipt.carid,this._Receipt.driverid=e.receipt.driverid,this._Receipt.valueforeign=e.receipt.valueforeign,this._Receipt.value=e.receipt.value,this._Receipt.discount_foreignpercent=e.receipt.discount_foreignpercent,this._Receipt.discount_percent=e.receipt.discount_percent,this._Receipt.discount_foreignvalue=e.receipt.discount_foreignvalue,this._Receipt.discount_value=e.receipt.discount_value,this._Receipt.deliveryfeesforeign=e.receipt.deliveryfeesforeign,this._Receipt.deliveryfees=e.receipt.deliveryfees,this._Receipt.surchargevalueforeign=e.receipt.surchargevalueforeign,this._Receipt.surchargevalue=e.receipt.surchargevalue,this._Receipt.surchargepercent=e.receipt.surchargepercent,this._Receipt.netvalueforeign=e.receipt.netvalueforeign,this._Receipt.netvalue=e.receipt.netvalue,this._Receipt.signature=e.receipt.signature,this._Receipt.related_voucher_type=e.receipt.related_voucher_type,this._Receipt.related_voucher_code=e.receipt.related_voucher_code,this._Receipt.status_id=e.receipt.status_id,this._Receipt.approvalstatus_id=e.receipt.approvalstatus_id,this._Receipt.costing_rate=e.receipt.costing_rate,this._Receipt.approvedby_id=e.receipt.approvedby_id,this._Receipt.shipmentterm_id=e.receipt.shipmentterm_id,this._Receipt.paymentterm_id=e.receipt.paymentterm_id,this._Receipt.supplieraccount_id=e.receipt.supplieraccount_id,this._Receipt.planneddeliverydate=e.receipt.planneddeliverydate,this._Receipt.actualdeliverydate=e.receipt.actualdeliverydate,this._Receipt.deliverylocation=e.receipt.deliverylocation,this._Receipt.contactedperson=e.receipt.contactedperson,this._Receipt.othernotes=e.receipt.othernotes,this._Receipt.cashdrawerid=e.receipt.cashdrawerid,this._Receipt.leadid=e.receipt.leadid,this._Receipt.deliverynotes=e.receipt.deliverynotes,this._Receipt.cashcustomerdetailid=e.receipt.cashcustomerdetailid,this._Receipt.is_canceled=e.receipt.is_canceled,this._Receipt.fromstoreid=e.receipt.fromstoreid,this._Receipt.tostoreid=e.receipt.tostoreid,this._Receipt.isdeliveryprint=e.receipt.isdeliveryprint,this._Receipt.printcount=e.receipt.printcount,this._Receipt.iskitchendone=e.receipt.iskitchendone,this._Receipt.paidamount=e.receipt.paidamount,this._Receipt.isholded=e.receipt.isholded,this._Receipt.branchtableid=e.receipt.branchtableid,this._Receipt.customeractualdeliverdate=e.receipt.customeractualdeliverdate,this._Receipt.deliverystatusid=e.receipt.deliverystatusid,this._Receipt.deposite=e.receipt.deposite,this._Receipt.paymentandconditions=e.receipt.paymentandconditions,this._Receipt.notes=e.receipt.notes,this._Receipt.chefid=e.receipt.chefid,this._Receipt.changeamount=e.receipt.changeamount,this._Receipt.divisionid=e.receipt.divisionid,this._Receipt.courierid=e.receipt.courierid,this._Receipt.depositepaymenttypeid=e.receipt.depositepaymenttypeid,this._Receipt.creationdate=e.receipt.creationdate,this._Receipt.lastupdatedate=e.receipt.lastupdatedate,this._Receipt.createdbyid=e.receipt.createdbyid,this._Receipt.updatedbyid=e.receipt.updatedbyid,this._Receipt.receiptattributeid=e.receipt.receiptattributeid,this._Receipt.costposted=e.receipt.costposted,this._Receipt.lcaccountid=e.receipt.lcaccountid,this._Receipt.lcno=e.receipt.lcno,this._Receipt.lcbank=e.receipt.lcbank,this._Receipt.lcstartdate=e.receipt.lcstartdate,this._Receipt.lcenddate=e.receipt.lcenddate,this._Receipt.lcrenewdate=e.receipt.lcrenewdate,this._Receipt.lcrenewenddate=e.receipt.lcrenewenddate,this._Receipt.lcinsurancecompany=e.receipt.lcinsurancecompany,this._Receipt.lcpolicyno=e.receipt.lcpolicyno,this._Receipt.insurancedate=e.receipt.insurancedate,this._Receipt.gooddeliverydate=e.receipt.gooddeliverydate,this._Receipt.lccondition=e.receipt.lccondition,this._Receipt.shippingmethod=e.receipt.shippingmethod,this._Receipt.exportport=e.receipt.exportport,this._Receipt.shipname=e.receipt.shipname,this._Receipt.lcnotes=e.receipt.lcnotes,this._Receipt.quotationcustomername=e.receipt.quotationcustomername,this._Receipt.duedate=e.receipt.duedate,this._Receipt.schedule_date=e.receipt.schedule_date,this._Receipt.storetype=e.receipt.storetype,this._Receipt.quotationenddate=e.receipt.quotationenddate,this._Receipt.wostatusid=e.receipt.wostatusid,this._Receipt.parentreceiptid=e.receipt.parentreceiptid,this._Receipt.isapproved=e.receipt.isapproved,this._Receipt.replenshimenttype=e.receipt.replenshimenttype,this._Receipt.reference=e.receipt.reference,this._Receipt.replenshimentfromdate=e.receipt.replenshimentfromdate,this._Receipt.replenshimenttodate=e.receipt.replenshimenttodate,this._Receipt.cancelreasonid=e.receipt.cancelreasonid,this._Receipt.contractstartdate=e.receipt.contractstartdate,this._Receipt.contractenddate=e.receipt.contractenddate,this._Receipt.previouscontractid=e.receipt.previouscontractid,this._Receipt.erpstatus=e.receipt.erpstatus,this._Receipt.loyalitybalance=e.receipt.loyalitybalance,this._Receipt.cpno=e.receipt.cpno,this._Receipt.accounttype=e.receipt.accounttype,this._Receipt.printing=e.receipt.printing,this._Receipt.storedelivery=e.receipt.storedelivery,this._Receipt.customerrecieve=e.receipt.customerrecieve,this._Receipt.promotionid=e.receipt.promotionid,this._Receipt.promotionpercent=e.receipt.promotionpercent,this._Receipt.promotionvalue=e.receipt.promotionvalue,this._Receipt.purchaserequeststatusid=e.receipt.purchaserequeststatusid,this._Receipt.urgent=e.receipt.urgent,this._Receipt.quotationstatusid=e.receipt.quotationstatusid,this._Receipt.salesorderstatusid=e.receipt.salesorderstatusid,this._Receipt.purchaseorderstatusid=e.receipt.purchaseorderstatusid,this._Receipt.expensesdistributionvoucherno=e.receipt.expensesdistributionvoucherno,this._Receipt.totalproductioncost=e.receipt.totalproductioncost,this._Receipt.totalvouchercost=e.receipt.totalvouchercost,this._Receipt.totalproductioncostforeign=e.receipt.totalproductioncostforeign,this._Receipt.totalvouchercostforeign=e.receipt.totalvouchercostforeign,this._Receipt.taxvalue=e.receipt.taxvalue,this._Receipt.sourceid=e.receipt.sourceid,this._Receipt.contractid=e.receipt.contractid,this._Receipt.type_id=e.receipt.type_id,this._Receipt.productionlineid=e.receipt.productionlineid,this._Receipt.linescheduleddate=e.receipt.linescheduleddate,this._Receipt.inchargepersonname=e.receipt.inchargepersonname,this._Receipt.inchargephoneno=e.receipt.inchargephoneno,this._Receipt.receiving=e.receipt.receiving,null!=e.receipt.batchorder_id&&(this._Receipt.batchorder_id=e.receipt.batchorder_id,this._Receipt.batchorder_no={entry_no:e.receipt.batchordercode,id:this._Receipt.batchorder_id},this.GetBatchOrderDetailsById(this._Receipt.batchorder_id,"details")),this._Receipt.details=e.items,this._Receipt.details.forEach(e=>{e.storecode={code:e.storecode},e.itemcode={code:e.itemcode},e.allowqtyselectforitem=!0,e.rowno=0,e.parentrowno=0}),this._Receipt.itemscomponent=e.itemcomponents,this._Receipt.itemscomponent.forEach(e=>{e.allowqtyselectforitem=!0,e.rowno=0,e.parentrowno=0}),this.ItemUnitsList=e.itemunits,this.ItemComponentUnitsList=e.componentsunits,this._Receipt.linkedreceipts=e.linkedreceipts,this._Receipt.receiptmultipayment=e.receiptmultipayment,this.originalSalesPrice=this._Receipt.customersalesprice,this.ItemsComponentList=JSON.parse(JSON.stringify(this._Receipt.itemscomponent)),this._ReceiptOriginalWithoutTo=JSON.parse(JSON.stringify(this._Receipt));let t=JSON.parse(JSON.stringify(this._ReceiptOriginalWithoutTo.details)),n=JSON.parse(JSON.stringify(this._ReceiptOriginalWithoutTo.itemscomponent));this._Receipt.details=t.filter(e=>e.store_id==this._Receipt.fromstoreid),this.ItemsComponentList=n.filter(e=>e.store_id==this._Receipt.fromstoreid),this._Receipt.itemscomponent=n.filter(e=>e.store_id==this._Receipt.fromstoreid),this._Receipt.details.forEach(t=>{if(3==t.isrequireserial){t.batcheslist=new Array;let n=e.batches.filter(e=>e.inv_receipt_d_id==t.id);t.batcheslist=[...n],this.ItemUnitsList.filter(e=>e.item_id==t.item_id&&e.id==t.unit_id),t.batcheslist.forEach(e=>{e.qty=e.qty})}}),this.entry_no=this._Receipt.entry_no,this.originalSalesPrice=this._Receipt.customersalesprice,this._ReceiptOriginal=JSON.parse(JSON.stringify(this._Receipt)),this.ReceivingPermis=-1!=this.UserStoreList.findIndex(e=>e.id==this._Receipt.tostoreid),this._CurrencySelected=this.CurrencyList.find(e=>e.id==this._Receipt.currency_id),this.ForeignCurrencyShow=1!=this._CurrencySelected.basecurrency,1==!this.ShowModeReceipt&&this.CheckValidDateBySubsidaryID(),this.OnSelectedItem(this._Receipt.details[0],0,"selected",!0),this.cd.markForCheck()}})}CheckPre_SaveReceipt(e){if(e.form.valid)if(0!=this.ValidPeriod){if(1==this._Receipt.details.length&&null==this._Receipt.details[0].item_id)return this.toastr.error(this.ItemsZeroErrorMsg),this._Receipt.details.splice(0,1),void this.AddItems();for(let e=0;e<this._Receipt.details.length;e++)if(null==this._Receipt.details[e].item_id)this._Receipt.details.splice(e,1),e--;else{if(!(this._Receipt.details[e].qty>0))return void this.toastr.error(this.qtyZeroErrorSaveMsg);0!=this._Receipt.value?(this._Receipt.details[e].h_discount_value=this._Receipt.discount_percent/100*this._Receipt.details[e].total/this._Receipt.details[e].qty%(1/0)||0,this._Receipt.details[e].h_discount_percentage=100*(this._Receipt.details[e].h_discount_value/(this._Receipt.details[e].total/this._Receipt.details[e].qty)%(1/0)||0)):(this._Receipt.details[e].h_discount_value=0,this._Receipt.details[e].h_discount_percentage=0);{let t=this.ItemUnitsList.find(t=>t.item_id==this._Receipt.details[e].item_id&&t.id==this._Receipt.details[e].unit_id);this._Receipt.details[e].final_conv=null!=t?(null!=t.finalconv?t.finalconv:1)*(this._Receipt.details[e].conv/t.conv):this._Receipt.details[e].conv,this._Receipt.details[e].final_conv=0==this._Receipt.details[e].final_conv?1:this._Receipt.details[e].final_conv}}if(0==this._Receipt.details.length)return this.toastr.error(this.ItemsZeroErrorMsg),void this.AddItems();for(let e=0;e<this._Receipt.itemscomponent.length;e++)if(this._Receipt.itemscomponent[e].qty>0){0!=this._Receipt.value?(this._Receipt.itemscomponent[e].h_discount_value=this._Receipt.discount_percent/100*this._Receipt.itemscomponent[e].total/this._Receipt.itemscomponent[e].qty%(1/0)||0,this._Receipt.itemscomponent[e].h_discount_percentage=100*(this._Receipt.itemscomponent[e].h_discount_value/(this._Receipt.itemscomponent[e].total/this._Receipt.itemscomponent[e].qty)%(1/0)||0)):(this._Receipt.itemscomponent[e].h_discount_value=0,this._Receipt.itemscomponent[e].h_discount_percentage=0);{let t=this.ItemComponentUnitsList.find(t=>t.item_id==this._Receipt.itemscomponent[e].item_id&&t.id==this._Receipt.itemscomponent[e].unit_id);this._Receipt.itemscomponent[e].final_conv=null!=t?(null!=t.finalconv?t.finalconv:1)*(this._Receipt.itemscomponent[e].conv/t.conv):this._Receipt.itemscomponent[e].conv,this._Receipt.itemscomponent[e].final_conv=0==this._Receipt.itemscomponent[e].final_conv?1:this._Receipt.itemscomponent[e].final_conv}}this.CheckBalanceForItemInStore(0,!0,!0)}else this.ShowPopUpFinancialPeriod()}SaveReceipt(){if(this._Receipt.lang=this.lang,"ar"!=this._Receipt.lang&&(this._Receipt.lang="en-US"),1==this.CashCustomerSetting.salesreturneffect){let e=[];if(this._Receipt.details.forEach(t=>{if(3==t.isrequireserial){t.allowqtyselectforitem=!0,0==t.batcheslist.length?(t.allowqtyselectforitem=!1,e.push(!1)):0==t.validrow&&(t.allowqtyselectforitem=!1,e.push(!0));let n=[],i=[],r=this._Receipt.details.filter(e=>e.item_id==t.item_id);if(null!=r&&r.length>1){r.forEach(e=>{let t=e.final_conv;e.batcheslist.forEach(e=>{let i=new Ne.WB;i.availableqty=e.availableqty*t,i.qty=e.qty*t,i.serial=e.serial,i.batchno=e.batchno,n.push(i)})}),console.log("serialdata:",n),n.forEach(e=>{var t=n.filter(t=>t.batchno==e.batchno&&t.serial==e.serial).map(e=>e.qty).reduce(function(e,t){return e+t});i.push({serial:e.batchno,qty:t,availableqty:e.availableqty})}),console.log("sum:",i);let s=i.filter(e=>e.qty>e.availableqty);null!=s&&s.length>0&&(t.validrow=!1,t.allowqtyselectforitem=!1,e.push(!1))}console.log("end:",t.validrow)}}),console.log("_isValidArr:",e),e.length>0)return e.includes(!1)&&(this.toastr.error(this.InValidNumberOfBatch),this.cd.markForCheck()),e.includes(!0)&&(this.toastr.error(this.QtyIsValidWithAvailableQty),this.cd.markForCheck()),void(this.DuringSaveDisable=!1);if(e=[],this._Receipt.details.forEach(t=>{if(3==t.isrequireserial)if(t.allowqtyselectforitem=!0,0==t.batcheslist.length)t.allowqtyselectforitem=!1,e.push(!1);else{let n=0;t.batcheslist.forEach(e=>{var t;n+=null!==(t=+e.qty)&&void 0!==t?t:0}),n!=t.qty&&(t.allowqtyselectforitem=!1,e.push(!1))}}),e.length>0)return e.includes(!1)&&(this.toastr.error(this.InValidNumberOfBatch),this.cd.markForCheck()),void(this.DuringSaveDisable=!1)}if(this._Receipt.details.filter(e=>0==e.allowqtyselectforitem).length>0)return this.toastr.error(this.qtyErrorSaveMsg),this.DuringSaveDisable=!1,void this.cd.markForCheck();if(this._ReceiptOriginalWithoutTo.details.filter(e=>0==e.allowqtyselectforitem).length>0)return this.toastr.error(this.qtyErrorSaveMsg),this.DuringSaveDisable=!1,void this.cd.markForCheck();if(console.log("con..."),this.DuringSaveDisable=!0,0==this.ReceivingPermis&&1==this._Receipt.receiving&&(null==this._Receipt.id||0==this._Receipt.id)&&1==this.InventorySetting[0].receivetransfers)return this.DuringSaveDisable=!1,this.toastr.error(this.RecivingError);if(this._Receipt.receiving!=this._ReceiptOriginal.receiving&&this._Receipt.id>0&&1==this.InventorySetting[0].receivetransfers&&0==this.ReceivingPermis&&1==this._Receipt.receiving)return this.DuringSaveDisable=!1,this.toastr.error(this.RecivingError);1==this._Receipt.receiving&&1==this.InventorySetting[0].receivetransfers||0==this.InventorySetting[0].receivetransfers||null==this.InventorySetting[0].receivetransfers?(this._Receipt.details.forEach(e=>e.transaction_move=-1),this._Receipt.itemscomponent.forEach(e=>e.transaction_move=-1),this.OppositItemsComponentList=this._Receipt.itemscomponent.map(e=>Object.assign({},e,{store_id:this._Receipt.tostoreid,transaction_move:1,id:null})),this._OppositDetailsReceipt=this._Receipt.details.map(e=>Object.assign({},e,{store_id:this._Receipt.tostoreid,transaction_move:1,rowno:0,id:null})),this._OppositDetailsReceipt.forEach(e=>{this._Receipt.details.push(e)}),this.OppositItemsComponentList.forEach(e=>{null==e.id&&this._Receipt.itemscomponent.push(e)})):(this._Receipt.details.forEach(e=>e.transaction_move=0),this._Receipt.itemscomponent.forEach(e=>e.transaction_move=0),this.OppositItemsComponentList=this._Receipt.itemscomponent.map(e=>Object.assign({},e,{store_id:this._Receipt.tostoreid,transaction_move:0})),this._OppositDetailsReceipt=this._Receipt.details.map(e=>Object.assign({},e,{store_id:this._Receipt.tostoreid,transaction_move:0,rowno:0,id:null})),this._OppositDetailsReceipt.forEach(e=>{this._Receipt.details.push(e)}),this.OppositItemsComponentList.forEach(e=>{null==e.id&&this._Receipt.itemscomponent.push(e)}));for(let e=0;e<this._Receipt.linkedreceipts.length;e++)0==this._Receipt.linkedreceipts[e].fire&&(this._Receipt.linkedreceipts.splice(e,1),e--);null==this._Receipt.id||0==this._Receipt.id?this._ReceiptSharedService.ReceiptCreate(this._Receipt).subscribe(e=>{this.DuringSaveDisable=!1,this.toastr.success(this.SaveMsg),this.ReceiptID=e.id,this._router.navigate(["/page/inventorytransfers/transfergood/"+this.ReceiptID]).then(()=>{window.location.reload()})}):(this._Receipt_h_Edit=new g.Iu,this._Receipt_h_Edit.Receipt_h=this._Receipt,this._Receipt_h_Edit.ReceiptOriginal=this._ReceiptOriginalWithoutTo,this._ReceiptSharedService.ReceiptUpdate(this._Receipt_h_Edit).subscribe(e=>{this.DuringSaveDisable=!1,this.toastr.success(this.SaveMsg),this._router.navigate(["/page/inventorytransfers/transfergood/"+this.ReceiptID]).then(()=>{window.location.reload()})}))}ChangePropFinish(e="",t=1){this.DuringSaveDisable=!0,this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,"EntryCode"==e?this.CheckEntryCode():"EntryDate"==e&&this.ChangeEntryDate()},1e3*t)}CheckEntryCode(){this._ReceiptSharedService.CheckEntryNo(this._Receipt.id,this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.entry_no,this._Receipt.branch_id).subscribe(e=>{this.DuringSaveDisable=!1,this.cd.markForCheck(),null!=e&&ke().fire({title:this.swalTitleEntry,text:this.swalTextEntry,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalConfirmButtonEntry,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.value?this._router.navigate(["/page/inventorytransfers/transfergood/"+e.id]).then(()=>{}):(this._Receipt.entry_no=this.entry_no,this.cd.markForCheck())})})}GetReceiptEntryCode(){this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(e=>{this._Receipt.entry_no=0==e.length?1:e[0].entry_no+1,this.entry_no=this._Receipt.entry_no,this.cd.markForCheck()})}GetBranchList(){this._ReceiptSharedService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(e=>{this.BranchList=e,this.cd.markForCheck()})}changeBranch(e){if(this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id)ke().fire({title:this.warning,text:this.WarningInfoLost,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{if(t.value){this._Receipt.details=new Array,this._Receipt.itemscomponent=new Array,this._Receipt.linkedreceipts=new Array,this.ItemUnitsList=[],this.ItemComponentUnitsList=[],this._Receipt.branch_id="null"==e.target.value?null:e.target.value;let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._Receipt.branch_id})),null!=this._Receipt.branch_id?(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch(!0)):this._Receipt.entry_no=null}else{let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&(this._Receipt.branch_id="null"==e.branchId||0==e.branchId?null:e.branchId)}});else{this._Receipt.branch_id="null"==e.target.value?null:e.target.value;let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._Receipt.branch_id})),null!=this._Receipt.branch_id?(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch()):this._Receipt.entry_no=null}this.onClearBatchOrder(e)}GetDefaultStoreCostCenterByBranch(e=!1,t=!0){1==t&&(this._Receipt.costcenterid=null,this._Receipt.costcenterfieldname=null),1==e&&this.Calculate_Total_Tax_Net(),this._ReceiptSharedService.DefaultStoreCostCenterByBranch(this._Receipt.branch_id).subscribe(e=>{if(e.length>0?(this.StoreCostCenterSetting=e[0],this.BranchApplyTax=e[0].applytax):this.StoreCostCenterSetting={storeid:null,storecode:null,costcenterid:null,costcentername:null,costcentername_ar:null},null!=this.StoreCostCenterSetting.storeid){if(this._Receipt.fromstoreid=this.StoreCostCenterSetting.storeid,this.StoreCode=this.StoreCostCenterSetting.storecode,0==this._Receipt.details.length){this._CashSalesDetailsReceipt=new g.hm,this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move;let e=Math.max(...this._Receipt.details.map(e=>e.rowno),0);this._CashSalesDetailsReceipt.rowno=e+1,this._Receipt.details.push(this._CashSalesDetailsReceipt),this._Receipt.details[0].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[0].storecode={code:this.StoreCostCenterSetting.storecode}}1==t&&this._Receipt.details.length>0&&(this._Receipt.details.forEach(e=>{e.store_id=this.StoreCostCenterSetting.storeid,e.storecode={code:this.StoreCostCenterSetting.storecode}}),this._Receipt.itemscomponent.forEach(e=>{e.store_id=this.StoreCostCenterSetting.storeid,e.storecode={code:this.StoreCostCenterSetting.storecode}}),this.CheckBalanceForItemInStore(0,!0))}null!=this.StoreCostCenterSetting.costcenterid&&(this._Receipt.costcenterid=this.StoreCostCenterSetting.costcenterid,this._Receipt.costcenterfieldname={costcenterfieldname:"ar"==this.lang?this.StoreCostCenterSetting.costcentername_ar:this.StoreCostCenterSetting.costcentername}),this.cd.markForCheck()})}GetCurrentUserSetting(){this._ReceiptSharedService.GetCurrentUserSetting().subscribe(e=>{this.CurrentUserSetting=e,this.SetCustomerSalesPriceList()})}GetUserStoreList(e=""){this._TransferService.GetAllActiveStoreBySubsIDAndUser(this.subsidiaryID,e).subscribe(e=>{this.UserStoreList=[],this.UserStoreList=e,this.cd.markForCheck()})}SetCustomerSalesPriceList(){let e=this.CurrentUserSetting.salespricepolicy;if(null==e||0==e){this.CustomerSalesPriceList=[{id:0,text:"Customer Price",text_ar:"\u0633\u0639\u0631 \u0627\u0644\u0639\u0645\u064a\u0644"},{id:1,text:"Price 1",text_ar:"\u0633\u0639\u0631 1"},{id:2,text:"Price 2",text_ar:"\u0633\u0639\u0631 2"},{id:3,text:"Price 3",text_ar:"\u0633\u0639\u0631 3"},{id:4,text:"Price 4",text_ar:"\u0633\u0639\u0631 4"}];let e=JSON.parse(localStorage.getItem("SalesPricePolicy"));this._Receipt.customersalesprice=null!=e&&null!=e?parseInt(e.SalesPricePolicy):this.CustomerSalesPriceList[0].id}else 1==e?this.CustomerSalesPriceList=[{id:0,text:"Customer Price",text_ar:"\u0633\u0639\u0631 \u0627\u0644\u0639\u0645\u064a\u0644"}]:2==e?this.CustomerSalesPriceList=[{id:1,text:"Price 1",text_ar:"\u0633\u0639\u0631 1"}]:3==e?this.CustomerSalesPriceList=[{id:2,text:"Price 2",text_ar:"\u0633\u0639\u0631 2"}]:4==e?this.CustomerSalesPriceList=[{id:3,text:"Price 3",text_ar:"\u0633\u0639\u0631 3"}]:5==e&&(this.CustomerSalesPriceList=[{id:4,text:"Price 4",text_ar:"\u0633\u0639\u0631 4"}]),this._Receipt.customersalesprice=this.CustomerSalesPriceList[0].id;this.originalSalesPrice=this._Receipt.customersalesprice}GetCashCustomerSettings(){this._ReceiptSharedService.GetCashCustomerSettings(this.subsidiaryID).subscribe(e=>{null!=e||null!=e?(this.CashCustomerSetting=e,this.CashCustomerSetting.allowdecimalpack=1==this.CashCustomerSetting.allowdecimalpack?".01":"1"):this.CashCustomerSetting={allowdecimalpack:"1",enablecashcustomer:!1,salesreturneffect:1,allowpack:!1,dispensingpolicy:1},this.cd.markForCheck()})}GetAllInventroySettingsBySubSidary(){this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID).subscribe(e=>{this.InventorySetting=e,this.cd.markForCheck()})}GetSubsaidarySetting(){this._ReceiptSharedService.GetSubsaidarySetting(this.subsidiaryID).subscribe(e=>{null!=e&&(this.subsaidarySetting=e[0],this.cd.markForCheck())})}GetCurrencyList(){this._VoucherService.GetSubsidaryCurrencyList(this.subsidiaryID).subscribe(e=>{var t;e.length>0&&(this.CurrencyList=e,this._BaseCurrency=this.CurrencyList.find(e=>1==e.basecurrency),this._CurrencySelected=this._BaseCurrency,this._Currencyprecision=null!==(t=this._BaseCurrency.currencyprecision)&&void 0!==t?t:3,this._Receipt.currency_id=this._CurrencySelected.id,this._Receipt.currency_rate=Number(1..toFixed(9)),this.cd.markForCheck())})}changeCurrency(e){if(console.log(e.target.value),this._CurrencySelected=this.CurrencyList.find(t=>t.id==e.target.value),null!=this._CurrencySelected){let e;e=""!=this._Receipt.entry_time&&null!=this._Receipt.entry_time&&null!=this._Receipt.entry_time?this._Receipt.entry_date+" "+this._Receipt.entry_time:this._Receipt.entry_date+" 23:59",this._VoucherService.GetSubsidaryCurrenciesRate(this.subsidiaryID,this._CurrencySelected.id,e,0).subscribe(e=>{this._Receipt.currency_rate=e&&e.length>0?e[0].rate.toFixed(9):Number(1..toFixed(9)),this.ForeignCurrencyShow=1!=this._CurrencySelected.basecurrency,this.Calculate_Total_Tax_Net(),this.cd.markForCheck()})}else this._CurrencySelected=null,this._Currencyprecision=3,this._Receipt.currency_rate=null,this.cd.markForCheck()}ChangeEntryDate(){if(null!=this._Receipt.entry_date&&""!=this._Receipt.entry_date&&null!=this._Receipt.entry_date){this.CheckValidDateBySubsidaryID();for(let e=0;e<this._Receipt.details.length;e++)1==this._Receipt.details[e].haswarrenty&&null!=this._Receipt.details[e].warrantydate&&null!=this._Receipt.details[e].warrantydate&&Date.parse(this._Receipt.details[e].warrantydate.toString())<Date.parse(this._Receipt.entry_date.toString())&&(this._Receipt.details[e].warrantydate=null,this.toastr.error(this.ItemWarrantyValidMsg))}else this.DuringSaveDisable=!1,this.cd.markForCheck()}CheckValidDateBySubsidaryID(){this._ReceiptSharedService.ValidDateBySubsidaryID(this._Receipt.entry_date,this.subsidiaryID).subscribe(e=>{if(this.DuringSaveDisable=!1,this.cd.markForCheck(),null!=e||null!=e){if(null!=e||null!=e){let t=Date.parse(e.subsidarystart.toString()),n=Date.parse(this._Receipt.entry_date.toString());0==e.openperiod?(this.ValidPeriod=!1,this.ShowModeReceipt=!0,this.ShowPopUpFinancialPeriod("close")):1==e.openperiod&&t<n?(this.ValidPeriod=!0,this.ShowModeReceipt=!1,this.GetMaxCostPostedSerDate()):(this.ValidPeriod=!1,this.ShowModeReceipt=!0,this.ShowPopUpFinancialPeriod())}}else this.ValidPeriod=!1,this.ShowModeReceipt=!0,this.ShowPopUpFinancialPeriod()})}ShowPopUpFinancialPeriod(e=""){let t="close"==e?this.FinancialPeriodCloseMsg:this.FinancialPeriodMsg;ke().fire({title:this.warning,text:t,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(e=>{})}ShowPopUpCostPostedSerDate(){ke().fire({title:this.warning,text:this.CostPostingPeriodMessage,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(e=>{})}onFocusInCustomerAccounts(e){this.GetCustomerAccountsList("")}CustomerAccountsChangeSearch(e){this.GetCustomerAccountsList(e.query.trim())}CustomerAccountsSelectEvent(e){1==e.pricelistitemsonly&&(this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id)?ke().fire({title:this.warning,text:this.CustomerPricelistMsg,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.value?(this._Receipt.details=new Array,this._Receipt.itemscomponent=new Array,this._Receipt.linkedreceipts=new Array,this.ItemUnitsList=[],this.ItemComponentUnitsList=[],this._Receipt.vendor_id=e.accountid,this._Receipt.cashcustomer_vendor_name="ar"!=this.lang?e.name:e.name_ar,this.PriceListItemsOnly=e.pricelistitemsonly,null!=e.salesmanid&&0!=e.salesmanid&&""!=e.salesmanid&&(this._Receipt.empoyee_id=e.salesmanid),null!=e.cutomerdiscount&&null!=e.cutomerdiscount&&(this._Receipt.discount_percent=e.cutomerdiscount),null!=e.internalreferencenum&&""!=e.internalreferencenum&&null!=e.cutomerdiscount&&(this._Receipt.reference_no=e.internalreferencenum),null!=this._Receipt.fromstoreid&&0==this._Receipt.details.length&&(this._CashSalesDetailsReceipt=new g.hm,this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move,this._Receipt.details.push(this._CashSalesDetailsReceipt),this._Receipt.details[0].store_id=this._Receipt.fromstoreid,this._Receipt.details[0].storecode={code:this.StoreCode})):(this._Receipt.vendor_id=null,this._Receipt.cashcustomerid=null,this._Receipt.cashcustomer_vendor_code=null,this._Receipt.cashcustomer_vendor_name=null,this._Receipt.costcenterid=null,this._Receipt.costcenterfieldname=null,null!=this._Receipt.fromstoreid&&0==this._Receipt.details.length&&(this._CashSalesDetailsReceipt=new g.hm,this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move,this._Receipt.details.push(this._CashSalesDetailsReceipt),this._Receipt.details[0].store_id=this._Receipt.fromstoreid,this._Receipt.details[0].storecode={code:this.StoreCode}))}):(this._Receipt.vendor_id=e.accountid,this._Receipt.cashcustomer_vendor_name="ar"!=this.lang?e.name:e.name_ar,this.PriceListItemsOnly=e.pricelistitemsonly,null!=e.salesmanid&&0!=e.salesmanid&&""!=e.salesmanid&&(this._Receipt.empoyee_id=e.salesmanid),null!=e.cutomerdiscount&&null!=e.cutomerdiscount&&(this._Receipt.discount_percent=e.cutomerdiscount),null!=e.internalreferencenum&&""!=e.internalreferencenum&&null!=e.cutomerdiscount&&(this._Receipt.reference_no=e.internalreferencenum),null!=this._Receipt.fromstoreid&&0==this._Receipt.details.length&&(this._CashSalesDetailsReceipt=new g.hm,this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move,this._Receipt.details.push(this._CashSalesDetailsReceipt),this._Receipt.details[0].store_id=this._Receipt.fromstoreid,this._Receipt.details[0].storecode={code:this.StoreCode}))}GetCustomerAccountsList(e=""){this._CustomerService.CustomerAccountsList(this.subsidiaryID,e).subscribe(e=>{this.CustomerAccountsList=[],this.CustomerAccountsList=e,this.cd.markForCheck()})}onClearCustomer(e){this._Receipt.cashcustomer_vendor_name=null,this._Receipt.vendor_id=null}GetFromStoreList(e=""){this._TransferService.GetAllActiveStoreBySubsID(this.subsidiaryID,e).subscribe(e=>{this.FromStoreList=[],this.FromStoreList=e,this.cd.markForCheck()})}onClearItems(e){let t=this._Receipt.details[e];if(3==t.item_type&&this._Receipt.itemscomponent.length>0&&this._Receipt.itemscomponent.filter(e=>e.finishedproductid==t.item_id).length>0)if(null!=t.id)for(let n=0;n<this._Receipt.itemscomponent.length;n++)this._Receipt.itemscomponent[n].finishedproductid==t.item_id&&this._Receipt.itemscomponent[n].finishedreceipt_did==t.id&&(this._Receipt.itemscomponent.splice(n,1),n--);else null==t.id&&(this._Receipt.itemscomponent=this._Receipt.itemscomponent.filter(e=>e.parentrowno!=t.rowno));if(null!=this._Receipt.details[e].id){let t=Math.max(...this._Receipt.details.map(e=>e.rowno),0);this._Receipt.details[e].rowno=t+1}this._Receipt.details[e].id=null,this._Receipt.details[e].finishedproductid=null,this._Receipt.details[e].finishedreceipt_did=null,this._Receipt.details[e].item_id=null,this._Receipt.details[e].itemname=null,this._Receipt.details[e].itemname_ar=null}onFocusInItems(e,t){this.GetItemsList("")}ItemsChangeSearch(e,t){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,this.GetItemsList(e.query.trim())},300)}ItemsSelectEvent(e,t){null!=this._Receipt.details[t].item_id&&this.onClearItems(t),0==e.stopinventorytransactions?(t==this._Receipt.details.length-1&&(this.InventorySetting?this.InventorySetting[0].permissiontorepeatiteminvoucher&&null!=this.InventorySetting[0].permissiontorepeatiteminvoucher&&null!=this.InventorySetting[0].permissiontorepeatiteminvoucher?this.AddItems():this._Receipt.details.some(t=>t.item_id==e.id)?this.duplicateItemSwalPopUp(t):this.AddItems():this.AddItems()),this._Receipt.details[t].item_id=e.id,this._Receipt.details[t].itemname=e.name,this._Receipt.details[t].itemname_ar=e.name_ar,this.GetItemDataDetailsLists(e,t)):(this._Receipt.details[t]=new g.hm,0==this._Receipt.id||null==this._Receipt.id?(this._Receipt.details[t].store_id=this._Receipt.fromstoreid,this._Receipt.details[t].storecode={code:this.StoreCode}):(this._Receipt.details[t].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.details[t].storecode=this._ReceiptOriginal.details[0].storecode),1!=this.CashCustomerSetting.salesreturneffect||1!=this.CashCustomerSetting.dispensingpolicy||2!=this._Receipt.details[t].isrequireserial&&3!=this._Receipt.details[t].isrequireserial||this.OnSerialItems(t,this.serialModel),this.cd.markForCheck(),this.toastr.error(this.StopInventoryErrorMsg))}duplicateItemSwalPopUp(e){ke().fire({title:this.warning,text:this.cantNotDuplicateItem,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(t=>{this.onClearItems(e),this._Receipt.details[e].itemcode=null,this.cd.markForCheck()})}DispensingPolicy(e){}GetItemsList(e=""){0==this.PriceListItemsOnly||null==this._Receipt.vendor_id?this._ReceiptSharedService.GetItemsDataList(this.subsidiaryID,e).subscribe(e=>{this.ItemsList=[],this.ItemsList=e,this.cd.markForCheck()}):1==this.PriceListItemsOnly&&this._ReceiptSharedService.GetItemsDataFromCustomerPriceList(this.subsidiaryID,this._Receipt.vendor_id,e).subscribe(e=>{this.ItemsList=[],this.ItemsList=e,this.cd.markForCheck()})}GetItemDataDetailsLists(e,t){this._Receipt.details[t].id=null,this._Receipt.details[t].finishedproductid=null,this._Receipt.details[t].finishedreceipt_did=null,this._Receipt.details[t].conv=1,this._Receipt.details[t].final_conv=1,this._Receipt.details[t].qty=1,this._Receipt.details[t].price=0,this._Receipt.details[t].discount_percent=0,this._Receipt.details[t].discount_value=0,this._Receipt.details[t].total=0,this._Receipt.details[t].notes="",this._Receipt.details[t].unit_id=null,this._ReceiptSharedService.GetItemDataDetailsLists(this.subsidiaryID,e.id).subscribe(n=>{0==n.itemunits.length?(this._Receipt.details[t]=new g.hm,this._Receipt.details[t].isrequireserial=n.item.isrequireserial,0==this._Receipt.id||null==this._Receipt.id?(this._Receipt.details[t].store_id=this._Receipt.fromstoreid,this._Receipt.details[t].storecode={code:this.StoreCode}):(this._Receipt.details[t].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.details[t].storecode=this._ReceiptOriginal.details[0].storecode),this.toastr.error(this.NoUnits)):3==e.item_type&&0==n.itemcomponents.length?(this._Receipt.details[t]=new g.hm,this._Receipt.details[t].isrequireserial=n.item.isrequireserial,0==this._Receipt.id||null==this._Receipt.id?(this._Receipt.details[t].store_id=this._Receipt.fromstoreid,this._Receipt.details[t].storecode={code:this.StoreCode}):(this._Receipt.details[t].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.details[t].storecode=this._ReceiptOriginal.details[0].storecode),this.toastr.error(this.NOComponents)):(this._Receipt.details[t].isrequireserial=n.item.isrequireserial,this._Receipt.details[t].notes=n.item.notes,this._Receipt.details[t].item_type=n.item.item_type,this._Receipt.details[t].qty=1,this._Receipt.details[t].haswarrenty=n.item.haswarrenty,this._Receipt.details[t].warrantydate=n.item.haswarrenty?this.getwarrantydateDate():null,this.ItemUnitsList.length>0?0==this.ItemUnitsList.filter(t=>t.item_id==e.id).length&&(this.ItemUnitsList=this.ItemUnitsList.concat(n.itemunits)):this.ItemUnitsList=this.ItemUnitsList.concat(n.itemunits),this._Receipt.details[t].unit_id=e.inventory_unitid,n.componentsunits.length>0&&(this.ItemComponentUnitsList=this.ItemComponentUnitsList.concat(n.componentsunits)),n.itemcomponents.length>0&&n.itemcomponents.forEach(e=>{let n=new g.hm;n.item_id=e.itemcomponentid,n.finishedproductid=e.item_id,n.itemname=e.itemname,n.itemname_ar=e.itemname_ar,n.itemcode=e.itemcode,n.unit_id=e.itemcomponentunitid,n.qty=e.itemcomponentqty,n.basicqtycomponent=e.itemcomponentqty,n.conv=e.itemcomponentconv,n.itemcode=e.itemcode,n.price=0,n.total=n.price*n.qty,n.store_id=this._Receipt.details[t].store_id,n.transaction_move=this.Transaction_move,n.item_type=e.item_type,n.storecode=null!=this._Receipt.details[t].storecode?this._Receipt.details[t].storecode.code:null,n.parentrowno=this._Receipt.details[t].rowno,this._Receipt.itemscomponent.push(n)}),this.ChangeItemUnits(e.inventory_unitid,t)),this.cd.markForCheck()})}ChangeItemUnits(e,t){e.toString().includes(":")&&(e=e.split(":")[1].trim());let n=this._Receipt.details[t].item_id,i=this.ItemUnitsList.filter(t=>t.item_id==n&&t.id==e);null!=this._Receipt.details[t].item_id&&null!=this._Receipt.details[t].unit_id&&this._ReceiptSharedService.GetItemCostAtDateStore(this._Receipt.details[t].item_id,this._Receipt.details[t].unit_id,0,this._Receipt.entry_date+" "+this._Receipt.entry_time).subscribe(e=>{console.log(e),e.length>0?(this._Receipt.details[t].price=Number((e[0].avgcost||0).toFixed(this._Currencyprecision)),this._Receipt.details[t].conv=i[0].conv,this._Receipt.details[t].final_conv=i[0].finalconv,this.OnSelectedItem(this._Receipt.details[t],t),this.CalaculteValuesItemsRow(t)):(this._Receipt.details[t].price=Number((0).toFixed(this._Currencyprecision)),this._Receipt.details[t].conv=i[0].conv,this._Receipt.details[t].final_conv=i[0].finalconv,this.OnSelectedItem(this._Receipt.details[t],t),this.CalaculteValuesItemsRow(t)),1!=this.CashCustomerSetting.salesreturneffect||1!=this.CashCustomerSetting.dispensingpolicy||2!=this._Receipt.details[t].isrequireserial&&3!=this._Receipt.details[t].isrequireserial||this.OnSerialItems(t,this.serialModel)}),this.cd.markForCheck()}ChangePackItem(e){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null;let t=0,n=0,i=this.ItemUnitsList.filter(t=>t.item_id==this._Receipt.details[e].item_id&&t.id==this._Receipt.details[e].unit_id);n=i[0].conv,this._ReceiptSharedService.GetItemCostAtDateStore(this._Receipt.details[e].item_id,this._Receipt.details[e].unit_id,0,this._Receipt.entry_date+" "+this._Receipt.entry_time).subscribe(i=>{console.log(i),i.length>0?(t=Number((i[0].avgcost||0).toFixed(this._Currencyprecision)),this._Receipt.details[e].price=t*this._Receipt.details[e].conv/n,this.OnSelectedItem(this._Receipt.details[e],e),this.CalaculteValuesItemsRow(e)):(t=0,this._Receipt.details[e].price=t*this._Receipt.details[e].conv/n,this.OnSelectedItem(this._Receipt.details[e],e),this.CalaculteValuesItemsRow(e)),1!=this.CashCustomerSetting.salesreturneffect||1!=this.CashCustomerSetting.dispensingpolicy||2!=this._Receipt.details[e].isrequireserial&&3!=this._Receipt.details[e].isrequireserial||this.OnSerialItems(e,this.serialModel)}),this.cd.markForCheck()},1e3)}ChangeQty(e){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{if(this.timeout=null,3==this._Receipt.details[e].item_type)if(this.ItemsComponentList=new Array,null!=this._Receipt.details[e].id){let t=this._Receipt.details[e];for(let e=0;e<this._Receipt.itemscomponent.length;e++)if(this._Receipt.itemscomponent[e].finishedproductid==t.item_id&&this._Receipt.itemscomponent[e].finishedreceipt_did==t.id){let n=this._ReceiptOriginalWithoutTo.details.find(e=>e.id==t.id).qty||0,i=this._ReceiptOriginalWithoutTo.itemscomponent.find(n=>n.finishedreceipt_did==t.id&&n.id==this._Receipt.itemscomponent[e].id).qty;this._Receipt.itemscomponent[e].basicqtycomponent=i/n,this._Receipt.itemscomponent[e].qty=this._Receipt.itemscomponent[e].basicqtycomponent*t.qty,this._Receipt.itemscomponent[e].store_id==this._Receipt.fromstoreid&&this.ItemsComponentList.push(this._Receipt.itemscomponent[e])}}else if(null==this._Receipt.details[e].id){let t=this._Receipt.details[e];for(let e=0;e<this._Receipt.itemscomponent.length;e++)this._Receipt.itemscomponent[e].finishedproductid==t.item_id&&null==this._Receipt.itemscomponent[e].id&&this._Receipt.itemscomponent[e].parentrowno==t.rowno&&(this._Receipt.itemscomponent[e].qty=this._Receipt.itemscomponent[e].basicqtycomponent*t.qty,this.ItemsComponentList.push(this._Receipt.itemscomponent[e]))}this.StockBalances(e),this.CheckBalanceForItemInStore(e),this.CalaculteValuesItemsRow(e),1!=this.CashCustomerSetting.salesreturneffect||1!=this.CashCustomerSetting.dispensingpolicy||2!=this._Receipt.details[e].isrequireserial&&3!=this._Receipt.details[e].isrequireserial||this.OnSerialItems(e,this.serialModel)},1e3)}OnSelectedItem(e=null,t=null,n="",i=!1){if(this.show_all_component=i,0==this.show_all_component)if(this.ItemsComponentList=new Array,this.SelectedItem=e,null!=e&&3==e.item_type){let t=e;if(null!=t.id)for(let e=0;e<this._Receipt.itemscomponent.length;e++)this._Receipt.itemscomponent[e].finishedproductid==t.item_id&&this._Receipt.itemscomponent[e].finishedreceipt_did==t.id&&this._Receipt.itemscomponent[e].store_id==this._Receipt.fromstoreid&&this.ItemsComponentList.push(this._Receipt.itemscomponent[e]);else null==t.id&&(this.ItemsComponentList=this._Receipt.itemscomponent.filter(e=>e.finishedproductid==t.item_id&&null==e.id&&e.parentrowno==t.rowno))}else this.ItemsComponentList=[];else this.show_all_component=!0,this.cd.markForCheck();this.itemqtyview=!1,null!=t&&this.StockBalances(t),""==n&&null!=t&&this.CheckBalanceForItemInStore(t)}AddItems(){this._CashSalesDetailsReceipt=new g.hm,this._Receipt.details.length>0?(this._CashSalesDetailsReceipt.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,this._CashSalesDetailsReceipt.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode):0==this._Receipt.id||null==this._Receipt.id?(this._CashSalesDetailsReceipt.store_id=this._Receipt.fromstoreid,this._CashSalesDetailsReceipt.storecode={code:this.StoreCode}):(this._CashSalesDetailsReceipt.store_id=this._ReceiptOriginal.details[0].store_id,this._CashSalesDetailsReceipt.storecode=this._ReceiptOriginal.details[0].storecode),this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move;let e=Math.max(...this._Receipt.details.map(e=>e.rowno),0);this._CashSalesDetailsReceipt.rowno=e+1,this._Receipt.details.push(this._CashSalesDetailsReceipt),this.cd.markForCheck()}DeleteItems(e){this.itemqtyview=!1;let t=this._Receipt.details[e];if(console.log(t,"obj"),null==t.batcheslist||-1==t.batcheslist.findIndex(e=>e.solidquantity>0)){if(this._Receipt.itemscomponent.length>0&&this._Receipt.itemscomponent.filter(e=>e.finishedproductid==t.item_id).length>0)if(null!=t.id)for(let e=0;e<this._Receipt.itemscomponent.length;e++)this._Receipt.itemscomponent[e].finishedproductid==t.item_id&&this._Receipt.itemscomponent[e].finishedreceipt_did==t.id&&(this._Receipt.itemscomponent.splice(e,1),e--);else null==t.id&&(this._Receipt.itemscomponent=this._Receipt.itemscomponent.filter(e=>e.parentrowno!=t.rowno));1==this._Receipt.details.filter(e=>e.item_id==t.item_id).length&&(this.ItemUnitsList=this.ItemUnitsList.filter(e=>e.item_id!=t.item_id)),this._Receipt.details.splice(e,1),0==this._Receipt.details.length&&(this._Receipt.discount_percent=0,this._Receipt.discount_foreignpercent=0,this._Receipt.deliveryfees=0,this._Receipt.deliveryfeesforeign=0,this._Receipt.discount_value=0,this._Receipt.discount_foreignvalue=0,this._Receipt.value=0,this._Receipt.valueforeign=0,this._Receipt.surchargevalueforeign=0,this._Receipt.surchargevalue=0),this.Calculate_Total_Tax_Net(),this.OnSelectedItem(null),this.cd.markForCheck()}else this.toastr.error(this.DeleteUsedBatchesOrSerials)}OnEditItemsNotes(e,t){this.DescriptionItem=new g.tH,this.DescriptionItem.index=e,this.DescriptionItem.detailshtml=this._Receipt.details[e].detailshtml,this.DescriptionItem.customitemname=this._Receipt.details[e].customitemname,this.OpenModal(t)}SaveNotes(){this._Receipt.details[this.DescriptionItem.index].customitemname=this.DescriptionItem.customitemname,this._Receipt.details[this.DescriptionItem.index].detailshtml=this.DescriptionItem.detailshtml,this._Receipt.details[this.DescriptionItem.index].salesmanid=this.DescriptionItem.salesmanid,this.CloseModal()}onContentChanged(e){this._Receipt.details[this.DescriptionItem.index].notes=e.text}CalaculteValuesItemsRow(e,t="percent"){this._Receipt.details[e].qty=this._Receipt.details[e].qty||0,this._Receipt.details[e].price=this._Receipt.details[e].price||0,this._Receipt.details[e].discount_value=this._Receipt.details[e].discount_value||0,this._Receipt.details[e].discount_percent=this._Receipt.details[e].discount_percent||0;let n=Number((this._Receipt.details[e].price*this._Receipt.details[e].qty).toFixed(this._Currencyprecision));"percent"==t&&(this._Receipt.details[e].discount_value=Number(((n*this._Receipt.details[e].discount_percent||0)/100).toFixed(this._Currencyprecision))),"value"==t&&(this._Receipt.details[e].discount_percent=100*(this._Receipt.details[e].discount_value/n%(1/0)||0)),this._Receipt.details[e].total=Number((n-this._Receipt.details[e].discount_value).toFixed(this._Currencyprecision)),this.Calculate_Total_Tax_Net(),this.cd.markForCheck()}ReCalaculteValuesChangeItemsRow(e){this._Receipt.details[e].qty=this._Receipt.details[e].qty||1,this._Receipt.details[e].price=this._Receipt.details[e].price||0,this._Receipt.details[e].discount_value=this._Receipt.details[e].discount_value||0,this._Receipt.details[e].discount_percent=this._Receipt.details[e].discount_percent||0,this._Receipt.details[e].total=Number((this._Receipt.details[e].total||0).toFixed(this._Currencyprecision)),0==this._Receipt.details[e].discount_value?this._Receipt.details[e].price=Number((this._Receipt.details[e].total/this._Receipt.details[e].qty%(1/0)||0).toFixed(this._Currencyprecision)):0!=this._Receipt.details[e].discount_value&&(this._Receipt.details[e].price=Number(((this._Receipt.details[e].total+this._Receipt.details[e].discount_value)/this._Receipt.details[e].qty%(1/0)||0).toFixed(this._Currencyprecision)),this._Receipt.details[e].discount_percent=100*(this._Receipt.details[e].discount_value/(this._Receipt.details[e].price*this._Receipt.details[e].qty)%(1/0)||0)),this.Calculate_Total_Tax_Net(),this.cd.markForCheck()}GetReceiptCodeList(){this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID).subscribe(e=>{this.ReceiptCodeList=e,this.ReceiptCodeList.find(e=>e.code==this.BasicCodeReceipt),this.Transaction_move=-1,this.cd.markForCheck()})}AddLinkedReceipt(){this._LinkedReceipt=new g.Cb,this._LinkedReceipt.code=this.BasicCodeReceipt,this._LinkedReceipt.branch_id=this._Receipt.branch_id,this._Receipt.linkedreceipts.push(this._LinkedReceipt),this.cd.markForCheck()}GetLinkedReceipt(e){let t=this._Receipt.linkedreceipts[e];this.ItemLinkedReceipt=[],this.ItemComponentsLinkedReceipt=[],null!=t.branch_id&&null!=t.code&&null!=t.entry_no&&t.entry_no>0&&0==t.fire&&(this._Receipt.linkedreceipts[e].fire=1,this.spinner.show(),this._ReceiptSharedService.GetReceiptForLinkedReceipt(t.branch_id,t.code,t.entry_no).subscribe(t=>{if(this.spinner.hide(),null==t.receipt.id)this._Receipt.linkedreceipts[e].fire=0,this.toastr.error(this.ReceiptNotFound);else if(t.items.length>0)if(1==this._Receipt.linkedreceipts.length&&(this._Receipt.subsidiaryid=t.receipt.subsidiaryid,this._Receipt.customersalesprice=t.receipt.customersalesprice,this._Receipt.payment_type=t.receipt.payment_type,this._Receipt.vendor_id=t.receipt.vendor_id,this._Receipt.cashcustomerid=t.receipt.cashcustomerid,null!=this._Receipt.vendor_id&&(this._Receipt.cashcustomer_vendor_code={code:t.receipt.vendorcode},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?t.receipt.vendornamear:t.receipt.vendorname,this._Receipt.vendor_balance=t.receipt.vendor_balance,this.PriceListItemsOnly=t.receipt.pricelistitemsonly),null!=this._Receipt.cashcustomerid&&(this._Receipt.cashcustomer_vendor_code={phonenumber:t.receipt.phonenumber},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?t.receipt.cashcustomername_ar:t.receipt.cashcustomername,this.PriceListItemsOnly=!1),this._Receipt.currency_id=t.receipt.currency_id,this._Receipt.currency_rate=t.receipt.currency_rate,this._Receipt.empoyee_id=t.receipt.empoyee_id,this._Receipt.memo=t.receipt.memo,this._Receipt.reference_no=t.receipt.reference_no,this._CurrencySelected=this.CurrencyList.find(e=>e.id==this._Receipt.currency_id),this.ForeignCurrencyShow=1!=this._CurrencySelected.basecurrency),0==this.PriceListItemsOnly||t.receipt.vendor_id==this._Receipt.vendor_id){if(this._Receipt.linkedreceipts[e].fire=1,this._Receipt.linkedreceipts[e].receiptid=t.receipt.id,this._Receipt.linkedreceipts[e].subsidiaryid=this.subsidiaryID,this._Receipt.linkedreceipts[e].parentreceiptid=this._Receipt.id,null!=t.receipt.fromstoreid){this._Receipt.fromstoreid=t.receipt.fromstoreid;const e=this.FromStoreList.find(e=>e.id==this._Receipt.fromstoreid);this.StoreCode=e.storecode,0==this._Receipt.details.length&&(this._CashSalesDetailsReceipt=new g.hm,this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move,this._Receipt.details.push(this._CashSalesDetailsReceipt),this._Receipt.details[0].store_id=e.id,this._Receipt.details[0].storecode={code:e.storecode}),this._Receipt.details.length>0&&(this._Receipt.details.forEach(t=>{t.store_id=e.id,t.storecode={code:e.storecode}}),this._Receipt.itemscomponent.forEach(t=>{t.store_id=e.id,t.storecode={code:e.storecode}}))}null!=t.receipt.tostoreid&&(this._Receipt.tostoreid=t.receipt.tostoreid);for(let e=0;e<this._Receipt.details.length;e++)null==this._Receipt.details[e].item_id&&(this._Receipt.details.splice(e,1),e--);t.itemunits.forEach(e=>{0==this.ItemUnitsList.filter(t=>t.item_id==e.item_id&&t.id==e.unit_id).length&&this.ItemUnitsList.push(e)}),t.itemcomponents.length>0&&(this.ItemComponentsLinkedReceipt=t.itemcomponents,81==t.receipt.code&&(this.ItemComponentsLinkedReceipt=this.ItemComponentsLinkedReceipt.filter(e=>-1==e.transaction_move)),this.ItemComponentUnitsList=this.ItemComponentUnitsList.concat(t.componentsunits)),this.ItemLinkedReceipt=t.items,81==t.receipt.code&&(this.ItemLinkedReceipt=this.ItemLinkedReceipt.filter(e=>-1==e.transaction_move)),this.SetLinkReceiptItemRow(0,this.ItemLinkedReceipt[0])}else this._Receipt.linkedreceipts[e].fire=0,this.toastr.info(this.CustomerPricelistMsg);else this.spinner.hide(),this._Receipt.linkedreceipts[e].fire=0,this.toastr.error(this.Receiptnoitems),this._Receipt.linkedreceipts[e].entry_no=null,this.cd.markForCheck()}))}SetLinkReceiptItemRow(e=0,t){this._CashSalesDetailsReceipt=new g.hm;let n=this._Receipt.details.findIndex(e=>e.item_id==t.item_id&&e.unit_id==t.unit_id&&e.conv==t.conv&&e.price==t.price);if(-1==n){if(this._Receipt.details.length>0)this._CashSalesDetailsReceipt.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,this._CashSalesDetailsReceipt.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode;else{const e=this.FromStoreList.find(e=>e.id==this._Receipt.fromstoreid);this._CashSalesDetailsReceipt.store_id=this._Receipt.fromstoreid,this._CashSalesDetailsReceipt.storecode={code:e.storecode}}this._CashSalesDetailsReceipt.item_id=t.item_id,this._CashSalesDetailsReceipt.itemcode={code:t.itemcode},this._CashSalesDetailsReceipt.itemname=t.itemname,this._CashSalesDetailsReceipt.itemname_ar=t.itemname_ar,this._CashSalesDetailsReceipt.unit_id=t.unit_id,this._CashSalesDetailsReceipt.conv=t.conv,this._CashSalesDetailsReceipt.qty=t.qty,this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move,this._CashSalesDetailsReceipt.isrequireserial=t.isrequireserial,this._CashSalesDetailsReceipt.item_type=t.item_type,this._CashSalesDetailsReceipt.notes=t.notes,this._CashSalesDetailsReceipt.haswarrenty=t.haswarrenty,this._CashSalesDetailsReceipt.warrantydate=t.warrantydate,this._CashSalesDetailsReceipt.detailshtml=t.detailshtml,this._CashSalesDetailsReceipt.customitemname=t.customitemname,this._CashSalesDetailsReceipt.salesmanid=t.salesmanid,this._CashSalesDetailsReceipt.price=0!=t.priceafterincrease&&null!=t.priceafterincrease?t.priceafterincrease:t.price,this._CashSalesDetailsReceipt.discount_percent=t.discount_percent,this._CashSalesDetailsReceipt.discount_value=t.discount_value,this._CashSalesDetailsReceipt.total=t.total;let n=Math.max(...this._Receipt.details.map(e=>e.rowno),0);this._CashSalesDetailsReceipt.rowno=n+1,3==t.item_type&&(this.ItemComponentsLinkedReceipt.filter(e=>e.finishedproductid==t.item_id&&e.finishedreceipt_did==t.id).forEach(e=>{let t=new g.hm;t.store_id=this._CashSalesDetailsReceipt.store_id,t.storecode=this._CashSalesDetailsReceipt.storecode.code,t.item_id=e.item_id,t.itemcode=e.itemcode,t.itemname=e.itemname,t.itemname_ar=e.itemname_ar,t.unit_id=e.unit_id,t.conv=e.conv,t.qty=e.qty,t.basicqtycomponent=e.qty/this._CashSalesDetailsReceipt.qty||0,t.price=e.price,t.discount_value=e.discount_value,t.discount_percent=e.discount_percent,t.total=e.total,t.transaction_move=this.Transaction_move,t.finishedproductid=e.finishedproductid,t.item_type=e.item_type,t.notes=e.notes,t.haswarrenty=e.haswarrenty,t.warrantydate=e.warrantydate,t.detailshtml=e.detailshtml,t.customitemname=e.customitemname,t.salesmanid=e.salesmanid,t.parentrowno=this._CashSalesDetailsReceipt.rowno,this._Receipt.itemscomponent.push(t)}),this.cd.markForCheck()),this.ItemUnitsList.filter(e=>e.item_id==t.item_id&&e.id==t.unit_id),this._Receipt.details.push(this._CashSalesDetailsReceipt),this.CalaculteValuesItemsRow(this._Receipt.details.length-1),e+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(e+1,this.ItemLinkedReceipt[e+1]):this.SetLinkReceiptItemFinished()}else{if(this._Receipt.details[n].qty=this._Receipt.details[n].qty+parseFloat(t.qty),3==t.item_type){let e=this.ItemComponentsLinkedReceipt.filter(e=>e.finishedproductid==t.item_id&&e.finishedreceipt_did==t.id);if(null!=this._Receipt.details[n].id){let t=this._Receipt.details[n];for(let n=0;n<this._Receipt.itemscomponent.length;n++)if(this._Receipt.itemscomponent[n].finishedproductid==t.item_id&&this._Receipt.itemscomponent[n].finishedreceipt_did==t.id){var i=e.find(e=>e.item_id==this._Receipt.itemscomponent[n].item_id);this._Receipt.itemscomponent[n].qty=this._Receipt.itemscomponent[n].qty+parseFloat(i.qty)}}else if(null==this._Receipt.details[n].id){let t=this._Receipt.details[n];for(let n=0;n<this._Receipt.itemscomponent.length;n++)this._Receipt.itemscomponent[n].finishedproductid==t.item_id&&null==this._Receipt.itemscomponent[n].id&&this._Receipt.itemscomponent[n].parentrowno==t.rowno&&(i=e.find(e=>e.item_id==this._Receipt.itemscomponent[n].item_id),this._Receipt.itemscomponent[n].qty=this._Receipt.itemscomponent[n].qty+parseFloat(i.qty))}}this.CalaculteValuesItemsRow(n),e+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(e+1,this.ItemLinkedReceipt[e+1]):this.SetLinkReceiptItemFinished()}}SetLinkReceiptItemFinished(){if(this.spinner.hide(),this.IxLRS+1<this.LinkedReceiptListSelected.length){this.IxLRS=this.IxLRS+1;let e=this._Receipt.linkedreceipts.length-(this.IxLRS+1);1!=this._Receipt.linkedreceipts[e].fire&&this.GetLinkedReceipt(e)}else this.CheckBalanceForItemInStore(0,!0),this.StockBalances(0);this.cd.markForCheck()}OnOpenLinkedReceipt(e){let t=this._Receipt.linkedreceipts[e],n=this._ReceiptSharedService.ReceiptsLinked_Url_Codes.find(e=>e.Code==t.code);null!=this._Receipt.linkedreceipts[e].receiptid?""!=n.Url&&window.open(n.Url+this._Receipt.linkedreceipts[e].receiptid+"/show","_blank"):null!=t.branch_id&&null!=t.code&&null!=t.entry_no&&t.entry_no>0&&this._ReceiptSharedService.GetLinkedReceiptID(t.branch_id,t.code,t.entry_no).subscribe(e=>{""!=n.Url&&null!=e?window.open(n.Url+e.id+"/show","_blank"):this.toastr.error(this.ReceiptNotFound)})}DeleteLinkedReceipt(e){this._Receipt.linkedreceipts.splice(e,1),this.cd.markForCheck()}OnSignatureSet(e){this._Receipt.signature=e.signature}Calculate_Total_Tax_Net(){let e=0;this._Receipt.details.forEach(t=>{e+=t.total}),1==this._Receipt.currency_rate?(this._Receipt.value=Number(e.toFixed(this._Currencyprecision)),this._Receipt.valueforeign=Number(e.toFixed(this._Currencyprecision))):(this._Receipt.valueforeign=Number(e.toFixed(this._Currencyprecision)),this._Receipt.value=Number((e/this._Receipt.currency_rate).toFixed(this._Currencyprecision))),this._Receipt.deliveryfees=this._Receipt.deliveryfees||0,this._Receipt.deliveryfeesforeign=this._Receipt.deliveryfeesforeign||0,this._Receipt.discount_foreignpercent=this._Receipt.discount_foreignpercent||0,this._Receipt.discount_foreignvalue=this._Receipt.discount_foreignvalue||0,this._Receipt.discount_percent=this._Receipt.discount_percent||0,this._Receipt.discount_value=this._Receipt.discount_value||0,this._Receipt.surchargepercent=this._Receipt.surchargepercent||0,this._Receipt.surchargevalue=this._Receipt.surchargevalue||0,this.CalculateTax_Net(e)}CalculateTax_Net(e=0){1==this._Receipt.currency_rate?(this._Receipt.netvalue=Number(e.toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0,this._Receipt.netvalueforeign=this._Receipt.netvalue):(this._Receipt.netvalueforeign=Number(e.toFixed(this._Currencyprecision)),this._Receipt.netvalueforeign=this._Receipt.netvalueforeign>=0?this._Receipt.netvalueforeign:0,this._Receipt.netvalue=Number((this._Receipt.netvalueforeign/this._Receipt.currency_rate).toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0)}StockBalances(e=null){null!=e&&3!=this._Receipt.details[e].item_type?(this.itemqtyview=!1,this._itemstoreqtyobj=new g.I$,this._itemstoreqtyobj.subsidairyid=this.subsidiaryID,this._itemstoreqtyobj.ReceiptCode=this.BasicCodeReceipt,this._itemstoreqtyobj.BranchID=this._Receipt.branch_id,this._itemstoreqtyobj.Entrydate=this._Receipt.entry_date,this._itemstoreqtyobj.Unit_ID=this._Receipt.details[e].unit_id,this._itemstoreqtyobj.conv=this._Receipt.details[e].conv,this._itemstoreqtyobj.itemid=this._Receipt.details[e].item_id,this._itemstoreqtyobj.StoreID=this._Receipt.fromstoreid,this._itemstoreqtyobj.ToStoreID=this._Receipt.tostoreid,this.itemqtyview=!0):(this.itemqtyview=!1,this._itemstoreqtyobj=new g.I$)}CheckBalanceForItemInStore(e,t=!1,n=!1){1==n&&(this.DuringSaveDisable=!0,this.cd.markForCheck());let i=!0,r=new g.I$;if(null!=this._Receipt.details[e].item_id){r.ReceiptCode=this.BasicCodeReceipt,r.BranchID=this._Receipt.branch_id,r.Entrydate=this._Receipt.entry_date+" "+this._Receipt.entry_time,r.Unit_ID=this._Receipt.details[e].unit_id,r.conv=this._Receipt.details[e].conv,r.Qty=0,r.itemid=this._Receipt.details[e].item_id,r.StoreID=this._Receipt.details[e].store_id,r.subsidairyid=this.subsidiaryID,r.ReceiptID=this._Receipt.id,console.log(r),this.ReceiptCodeList.filter(e=>e.code==this.BasicCodeReceipt);let s=-1,o=this.InventorySetting[0].physicalnegativeinventoryid;console.log(this._Receipt.details[e].item_type),2!=this._Receipt.details[e].item_type&&(-1==s||1==s&&this._Receipt.details[e].id>0)&&1==o?this._ReceiptSharedService.CheckBalanceForItemInStore(r).subscribe(r=>{let o=0,a=0,c=0,l=[],d=!0;if(0==r.consignment.consignment){if(null!=r.totalqty.totalqty){if(o=r.totalqty.totalqty,l=r.itemcomponent,this._Receipt.details.filter(t=>t.item_id==this._Receipt.details[e].item_id&&t.store_id==this._Receipt.fromstoreid).forEach(e=>{let t=this.ItemUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let n=null!=t.finalconv?t.finalconv:1,i=null!=t.conv?t.conv:1,r=e.conv;a=parseFloat(a.toString())+n*(r/i)*parseFloat(e.qty.toString())}}),3!=this._Receipt.details[e].item_type){this._Receipt.itemscomponent.filter(t=>t.item_id==this._Receipt.details[e].item_id&&null!=t.id&&t.store_id==this._Receipt.fromstoreid).forEach(e=>{let t=this.ItemComponentUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let n=(null!=t.finalconv?t.finalconv:1)*(e.conv/(null!=t.conv?t.conv:1))*parseFloat(e.qty.toString());a=parseFloat(a.toString())+n}});let t=[],n=this._Receipt.details.filter(e=>3==e.item_type&&null==e.id&&e.store_id==this._Receipt.fromstoreid);for(let i=0;i<n.length;i++){t=[],t=this._Receipt.itemscomponent.filter(t=>t.parentrowno==n[i].rowno&&t.finishedproductid==n[i].item_id&&null==t.id&&t.item_id==this._Receipt.details[e].item_id&&t.store_id==this._Receipt.fromstoreid);for(let e=0;e<t.length;e++){let n=t[e].qty,i=this.ItemComponentUnitsList.find(n=>n.item_id==t[e].item_id&&n.id==t[e].unit_id);if(null!=i){let r=(null!=i.finalconv?i.finalconv:1)*(t[e].conv/(null!=i.conv?i.conv:1))*parseFloat(n.toString());a=parseFloat(a.toString())+r}}}}if(-1==s?(c=o-a,console.log(c,o,a)):1==s&&(c=o+a),3==this._Receipt.details[e].item_type)for(let e=0;e<l.length;e++)if(2!=l[e].item_type){let t=this._Receipt.details.filter(t=>t.item_id==l[e].item_id&&t.store_id==this._Receipt.fromstoreid),n=0;t.forEach(e=>{let t=this.ItemUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let i=null!=t.finalconv?t.finalconv:1,r=null!=t.conv?t.conv:1,s=e.conv;n=parseFloat(n.toString())+i*(s/r)*parseFloat(e.qty.toString())}}),this._Receipt.itemscomponent.filter(t=>t.item_id==l[e].item_id&&null!=t.id&&t.store_id==this._Receipt.fromstoreid).forEach(e=>{let t=this.ItemComponentUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let i=(null!=t.finalconv?t.finalconv:1)*(e.conv/(null!=t.conv?t.conv:1))*parseFloat(e.qty.toString());n=parseFloat(n.toString())+i}});let i=[],r=this._Receipt.details.filter(e=>3==e.item_type&&null==e.id&&e.store_id==this._Receipt.fromstoreid);for(let s=0;s<r.length;s++){i=[],i=this._Receipt.itemscomponent.filter(t=>t.parentrowno==r[s].rowno&&t.finishedproductid==r[s].item_id&&null==t.id&&t.item_id==l[e].item_id&&t.store_id==this._Receipt.fromstoreid);for(let e=0;e<i.length;e++){let t=i[e].qty,r=this.ItemComponentUnitsList.find(t=>t.item_id==i[e].item_id&&t.id==i[e].unit_id);if(null!=r){let s=(null!=r.finalconv?r.finalconv:1)*(i[e].conv/(null!=r.conv?r.conv:1))*parseFloat(t.toString());n=parseFloat(n.toString())+s}}}if(!(n<=l[e].totalqty)){d=!1;break}d=!0}i=3!=this._Receipt.details[e].item_type?c>=0:1==d}else i=!1;0==i?(this._Receipt.details[e].allowqtyselectforitem=!1,this.cd.markForCheck(),this.toastr.warning(this.qtyErrorMsg+o)):(this._Receipt.details[e].allowqtyselectforitem=!0,this.cd.markForCheck())}1==t&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,n):1!=n||0!=this._Receipt.id&&null!=this._Receipt.id?1==n&&this._Receipt.id>0&&this.CheckBlanceInToStore(0,!0,n):this.SaveReceipt()}):1==t&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,n):1!=n||0!=this._Receipt.id&&null!=this._Receipt.id?1==n&&this._Receipt.id>0&&this.CheckBlanceInToStore(0,!0,n):this.SaveReceipt()}else 1==t&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,n):1!=n||0!=this._Receipt.id&&null!=this._Receipt.id?1==n&&this._Receipt.id>0&&this.CheckBlanceInToStore(0,!0,n):this.SaveReceipt()}CheckBlanceInToStore(e,t=!1,n=!1){let i=!0,r=new g.I$;if(null==this._ReceiptOriginalWithoutTo.details[e].item_id||this._ReceiptOriginalWithoutTo.details[e].store_id==this._Receipt.fromstoreid&&3!=this._ReceiptOriginalWithoutTo.details[e].item_type)1==t&&e+1<this._ReceiptOriginalWithoutTo.details.length?this.CheckBlanceInToStore(e+1,!0,n):1==n&&this.SaveReceipt();else{r.ReceiptCode=this.BasicCodeReceipt,r.BranchID=this._ReceiptOriginalWithoutTo.branch_id,r.Entrydate=this._Receipt.entry_date+" "+this._Receipt.entry_time,r.Unit_ID=this._ReceiptOriginalWithoutTo.details[e].unit_id,r.conv=this._ReceiptOriginalWithoutTo.details[e].conv,r.Qty=0,r.itemid=this._ReceiptOriginalWithoutTo.details[e].item_id,r.StoreID=this._ReceiptOriginalWithoutTo.tostoreid,r.subsidairyid=this.subsidiaryID,r.ReceiptID=this._ReceiptOriginalWithoutTo.id,console.log(r);let s=1,o=this.InventorySetting[0].physicalnegativeinventoryid;2!=this._ReceiptOriginalWithoutTo.details[e].item_type&&(-1==s||1==s&&this._ReceiptOriginalWithoutTo.details[e].id>0)&&1==o?this._ReceiptSharedService.GetTotalQtyForIteminStoreToStore(r).subscribe(r=>{let o=0,a=0,c=0,l=[],d=!0;var p=this._Receipt.details.find(t=>t.item_id==this._ReceiptOriginalWithoutTo.details[e].item_id&&t.store_id==this._ReceiptOriginalWithoutTo.fromstoreid);if(0==r.consignment.consignment){if(null!=r.totalqty.totalqty)if(o=r.totalqty.totalqty,l=r.itemcomponent,null!=p||null!=p){if(this._Receipt.details.filter(t=>t.item_id==this._ReceiptOriginalWithoutTo.details[e].item_id&&t.store_id==this._ReceiptOriginalWithoutTo.fromstoreid).forEach(e=>{let t=this.ItemUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let n=null!=t.finalconv?t.finalconv:1,i=null!=t.conv?t.conv:1,r=e.conv;a=parseFloat(a.toString())+n*(r/i)*parseFloat(e.qty.toString())}}),3!=this._ReceiptOriginalWithoutTo.details[e].item_type&&this._Receipt.itemscomponent.filter(t=>t.item_id==this._ReceiptOriginalWithoutTo.details[e].item_id&&null!=t.id&&t.store_id==this._ReceiptOriginalWithoutTo.tostoreid).forEach(e=>{let t=this.ItemComponentUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let n=(null!=t.finalconv?t.finalconv:1)*(e.conv/(null!=t.conv?t.conv:1))*parseFloat(e.qty.toString());a=parseFloat(a.toString())+n}}),-1==s?c=o-a:1==s&&(c=o+a),3==this._ReceiptOriginalWithoutTo.details[e].item_type)for(let e=0;e<l.length;e++){if(!(l[e].totalqty>=0)){d=!1;break}d=!0}i=c>=0&&1==d}else{if(a=0,3!=this._ReceiptOriginalWithoutTo.details[e].item_type&&this._Receipt.itemscomponent.filter(t=>t.item_id==this._ReceiptOriginalWithoutTo.details[e].item_id&&null!=t.id&&t.store_id==this._Receipt.tostoreid).forEach(e=>{let t=this.ItemComponentUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let n=(null!=t.finalconv?t.finalconv:1)*(e.conv/(null!=t.conv?t.conv:1))*parseFloat(e.qty.toString());a=parseFloat(a.toString())+n}}),-1==s?c=o-a:1==s&&(c=o+a),3==this._ReceiptOriginalWithoutTo.details[e].item_type)for(let e=0;e<l.length;e++){if(!(l[e].totalqty>=0)){d=!1;break}d=!0}i=c>=0&&1==d}else i=!1;0==i?(null!=p||null!=p?p.qty<this._ReceiptOriginalWithoutTo.details[e].qty&&(p.allowqtyselectforitem=!1,this.toastr.warning(this.qtyErrorMsg+o)):(this._ReceiptOriginalWithoutTo.details[e].allowqtyselectforitem=!1,this.toastr.warning(this.qtyErrorMsg+o)),this.cd.markForCheck()):null==p&&null==p||0!=p.allowqtyselectforitem?(null==p&&null==p||(p.allowqtyselectforitem=!0),this.cd.markForCheck()):p.allowqtyselectforitem=!1}1==t&&e+1<this._ReceiptOriginalWithoutTo.details.length?this.CheckBlanceInToStore(e+1,!0,n):1==n&&this.SaveReceipt()}):1==t&&e+1<this._ReceiptOriginalWithoutTo.details.length?this.CheckBlanceInToStore(e+1,!0,n):1==n&&this.SaveReceipt()}}CheckBalanceForItemInStoreBeforeDelete(e,t=!1){let n=!0,i=new g.I$;if(this._ReceiptOriginalWithoutTo.details.length>0)if(null==this._ReceiptOriginalWithoutTo.details[e].item_id||this._ReceiptOriginalWithoutTo.details[e].store_id==this._Receipt.fromstoreid&&3!=this._ReceiptOriginalWithoutTo.details[e].item_type)1==t&&e+1<this._ReceiptOriginalWithoutTo.details.length?this.CheckBalanceForItemInStoreBeforeDelete(e+1,!0):this.DeleteAction();else{i.ReceiptCode=this.BasicCodeReceipt,i.BranchID=this._ReceiptOriginalWithoutTo.branch_id,i.Entrydate=this._Receipt.entry_date+" "+this._Receipt.entry_time,i.Unit_ID=this._ReceiptOriginalWithoutTo.details[e].unit_id,i.conv=this._ReceiptOriginalWithoutTo.details[e].conv,i.Qty=0,i.itemid=this._ReceiptOriginalWithoutTo.details[e].item_id,i.StoreID=this._ReceiptOriginalWithoutTo.tostoreid,i.subsidairyid=this.subsidiaryID,i.ReceiptID=this._ReceiptOriginalWithoutTo.id;let r=1,s=this.InventorySetting[0].physicalnegativeinventoryid;2!=this._ReceiptOriginalWithoutTo.details[e].item_type&&1==r&&this._ReceiptOriginalWithoutTo.details[e].id>0&&1==s?this._ReceiptSharedService.GetTotalQtyForIteminStoreToStore(i).subscribe(i=>{let s=0,o=0,a=0,c=[],l=!0;if(0==i.consignment.consignment)if(null!=i.totalqty.totalqty){if(s=i.totalqty.totalqty,c=i.itemcomponent,this._ReceiptOriginalWithoutTo.details.filter(t=>t.item_id==this._ReceiptOriginalWithoutTo.details[e].item_id&&t.store_id==this._ReceiptOriginalWithoutTo.fromstoreid).forEach(e=>{let t=this.ItemUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let n=null!=t.finalconv?t.finalconv:1,i=null!=t.conv?t.conv:1,r=e.conv;o=parseFloat(o.toString())+n*(r/i)*parseFloat(e.qty.toString())}}),3!=this._ReceiptOriginalWithoutTo.details[e].item_type&&this._ReceiptOriginalWithoutTo.itemscomponent.filter(t=>t.item_id==this._ReceiptOriginalWithoutTo.details[e].item_id&&null!=t.id&&t.store_id==this._Receipt.tostoreid).forEach(e=>{let t=this.ItemComponentUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let n=(null!=t.finalconv?t.finalconv:1)*(e.conv/(null!=t.conv?t.conv:1))*parseFloat(e.qty.toString());o=parseFloat(o.toString())+n}}),-1==r?a=s-o:1==r&&(a=s+o),3==this._ReceiptOriginalWithoutTo.details[e].item_type)for(let e=0;e<c.length;e++){if(!(c[e].totalqty>=0)){l=!1;break}l=!0}n=a>=0&&1==l}else n=!1;else n=!0;var d;0==n?(null==(d=this._Receipt.details.find(t=>t.item_id==this._ReceiptOriginalWithoutTo.details[e].item_id))&&null==d||(d.allowqtyselectforitem=!1),this.cd.markForCheck(),this.toastr.warning(this.qtyErrorMsg+s)):(null==(d=this._Receipt.details.find(t=>t.item_id==this._ReceiptOriginalWithoutTo.details[e].item_id))&&null==d||(d.allowqtyselectforitem=!0),this.cd.markForCheck(),1==t&&e+1<this._ReceiptOriginalWithoutTo.details.length?this.CheckBalanceForItemInStoreBeforeDelete(e+1,!0):this.DeleteAction())}):1==t&&e+1<this._ReceiptOriginalWithoutTo.details.length?this.CheckBalanceForItemInStoreBeforeDelete(e+1,!0):this.DeleteAction()}else this.DeleteAction()}CreateNewAction(){console.log(this._Receipt,this._ReceiptOriginal),JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||1==this.ShowModeReceipt||this.ReceiptID>0&&!this.checkRoleParms(630)?this._router.navigate(["/page/inventorytransfers/transfergood/0"]).then(()=>{window.location.reload()}):ke().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",allowOutsideClick:!0,showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.value?this.CheckPre_SaveReceipt(this.RForm):e.dismiss===ke().DismissReason.cancel&&this._router.navigate(["/page/inventorytransfers/transfergood/0"]).then(()=>{window.location.reload()})})}DeleteAction(){ke().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.isConfirmed&&1==e.isConfirmed&&(this._Receipt.linkedreceipts.length>0&&(this._Receipt.linkedreceipts[0].code=80)&&this._ReceiptSharedService.UpdateTransferStatus(this._Receipt.linkedreceipts[0].receiptid,1).subscribe(e=>{}),this._ReceiptSharedService.DeleteReceipts(this._Receipt.id).subscribe(e=>{0==e.bcount?(this.toastr.success(this.toastrSuccessDelete),this._router.navigate(["/page/inventorytransfers/transfergood"])):-1==e.bcount?(e.usedserials.forEach(e=>{let t=this._Receipt.details.findIndex(t=>t.item_id==e.itemid&&t.batcheslist[0].id==e.id);-1!=t&&(this._Receipt.details[t].allowqtyselectforitem=!1)}),this.toastr.error(this.RelatedwithSerialsOrBatches)):this.toastr.error(this.DeleteRelationmsg)}))})}GetMaxCostPostedSerDate(){this._ReceiptSharedService.GetMaxCostPostedSerDate(this._Receipt.entry_date,this.subsidiaryID).subscribe(e=>{Date.parse(e[0].maxpostingdate.toString())<Date.parse(this._Receipt.entry_date.toString())?(this.ShowModeReceipt=!1,this.ValidPeriod=!0):(this.ShowModeReceipt=!0,this.ValidPeriod=!1,this.ShowPopUpCostPostedSerDate()),this.cd.markForCheck()})}DupilcateAction(){this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(e=>{this._Receipt.entry_no=0==e.length?1:e[0].entry_no+1,console.log(this._Receipt.entry_time);let t=Date.parse((this._Receipt.entry_date+""+this._Receipt.entry_time).toString());console.log(this._Receipt.entry_date+""+this._Receipt.entry_time,t),this.entry_no=this._Receipt.entry_no,this.location.replaceState("/page/inventorytransfers/transfergood/0"),this.ReceiptID=0,this._Receipt.id=null,this.VouchersLinkedCount=0,this.CheckBalanceForItemInStore(0,!0),this.cd.markForCheck()})}DocumentAction(){this._router.navigate(["/page/setupsettings/documents/3/"+this._Receipt.id+"/transfergood"],{relativeTo:this._activeRoute,queryParams:{show:this.LockedRecepit}})}PrintPreview(e){let t=this.getReportfilter(0==e?1:0);this.spinner.show(),this._ReceiptSharedService.GetReport(t).subscribe(t=>{this.spinner.hide(),1==e?this._authService.showPdfInNewTab(t.bytes,""):this._authService.printJS(t.bytes)}),this.cd.markForCheck()}onPrint(){let e=this.getReportfilter(0);this._VerifyReportsService.SaveVerifyReports(this.subsidiaryID,this.lang).subscribe(t=>{this.reporturl=`${this.reportdomainUrl}?q=${e.reportName}&ID=${e.ReceiptID}`,""!=e.lang&&(this.reporturl=this.reporturl+`&Lang=${e.lang}`),""!=e.DomainName&&(this.reporturl=this.reporturl+`&DomainName=${e.DomainName}`),""!=e.toEmail&&(this.reporturl=this.reporturl+`&email=${e.toEmail}+&Subject=${e.Subject}+&boby=${e.boby}`),this.reporturl=this.reporturl+`&Info=${t}`,this._authService.showReportInNextTab(this.reporturl),this.cd.markForCheck()})}sendEmail(e){this._emailobj=e.list;let t=this.getReportfilter(0);this.spinner.show(),this._ReceiptSharedService.GetReport(t).subscribe(e=>{this.spinner.hide(),alert(this.mailmsg)}),this.cd.markForCheck()}getReportfilter(e=0){const t=this._authService.userInfo().clientdatabase;let n="",i="";"ar"==this.lang&&(i="_ar"),n="P_I_81_TransferGoods"+i;let r={reportName:n,SubsidaryID:this.subsidiaryID,ReceiptID:this._Receipt.id,lang:"",DomainName:"",toEmail:"",Subject:"",boby:""};return t.indexOf("darshgf")>-1?n="P_All_Inv_Receipt_gl_web_darshgf"+i:t.indexOf("maisara")>-1?n="P_I_81_TransferGoods_Ar":t.indexOf("alromaih")>-1?n="P_I_60_IssueVoucher_GL_WEB_alromaih":t.indexOf("nojoom")>-1&&(n="P_I_81_TransferGoods"+i),r.reportName=n,r.toEmail=this._emailobj.email,r.Subject=this._emailobj.subject,r}BackAction(){JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||this.ReceiptID>0&&!this.checkRoleParms(630)||0==this.ReceiptID&&!this.checkRoleParms(326)||1==this.ShowModeReceipt?this._router.navigate(["/page/inventorytransfers/transfergood"]):ke().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.value?this.CheckPre_SaveReceipt(this.RForm):e.dismiss===ke().DismissReason.cancel&&this._router.navigate(["/page/inventorytransfers/transfergood"])})}getCurrentDate(){let e=new Date,t=e.getFullYear();return e.getMonth()+1+"/"+e.getDate()+"/"+t}getwarrantydateDate(){let e=new Date,t=e.getFullYear()+1;return e.getMonth()+1+"/"+e.getDate()+"/"+t}SetTimeNow(){let e=new Date;return("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)}OpenModal(e){this.modalReference=this.modalService.open(e,{size:"xl",backdrop:"static"})}CloseModal(){this.modalReference.close()}formateDecimal(e,t=3){return e.toFixed(t)}changeToStoreType(e){this._Receipt.fromstoreid==this._Receipt.tostoreid&&(this.toastr.error(this.ToStoreErrorMsg),this.cd.markForCheck()),this.ReceivingPermis=-1!=this.UserStoreList.findIndex(e=>e.id==this._Receipt.tostoreid)}ToStorFocus(){this._Receipt.fromstoreid==this._Receipt.tostoreid&&(this._Receipt.tostoreid=null,this.cd.markForCheck()),this.ReceivingPermis=-1!=this.UserStoreList.findIndex(e=>e.id==this._Receipt.tostoreid)}changeFromStoreType(e){if(this._Receipt.fromstoreid==this._Receipt.tostoreid)this.toastr.error(this.FromStoreErrorMsg),this.cd.markForCheck();else{const e=this.FromStoreList.find(e=>e.id==this._Receipt.fromstoreid);this.StoreCode=e.storecode,0==this._Receipt.details.length&&(this._CashSalesDetailsReceipt=new g.hm,this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move,this._Receipt.details.push(this._CashSalesDetailsReceipt),this._Receipt.details[0].store_id=e.id,this._Receipt.details[0].storecode={code:e.storecode}),this._Receipt.details.length>0&&(this._Receipt.details.forEach(t=>{t.store_id=e.id,t.storecode={code:e.storecode}}),this._Receipt.itemscomponent.forEach(t=>{t.store_id=e.id,t.storecode={code:e.storecode}}),this.ItemsComponentList.forEach(t=>{t.store_id=e.id,t.storecode={code:e.storecode}}),this.CheckBalanceForItemInStore(0,!0))}}FromStorFocus(){this._Receipt.fromstoreid==this._Receipt.tostoreid&&(this._Receipt.fromstoreid=null,this.cd.markForCheck())}OnSerialItems(e,t){var n;if(1==this.CashCustomerSetting.salesreturneffect&&1==this.CashCustomerSetting.dispensingpolicy&&0==this.ReceiptID&&(this._Receipt.details[this.selectedindex].batcheslist=[]),this.SelectedItem=this._Receipt.details[e],this.selectedindex=e,this._Receipt.details[e].qty<=0)return void this.toastr.error(this.InValidQty);this.requiredserial=this._Receipt.details[e].isrequireserial;let i=this.ItemUnitsList.filter(t=>t.item_id==this._Receipt.details[e].item_id&&t.id==this._Receipt.details[e].unit_id),r=this._Receipt.details[e].conv*i[0].finalconv/i[0].conv;this._batchqty=this._Receipt.details[e].qty,this._ReceiptSharedService.GetReceiptItemSerial(this._Receipt.details[e].item_id,this._Receipt.details[e].store_id,null!==(n=this._Receipt.id)&&void 0!==n?n:0,this._Receipt.entry_date+" "+this._Receipt.entry_time).subscribe(n=>{this.BatchesListForEatchRow=[];let i=[];if(n.seriallist.forEach(t=>{null!=this._Receipt.id&&0!=this._Receipt.id&&null!=this._ReceiptOriginal.details[this.selectedindex]&&this._ReceiptOriginal.details[this.selectedindex].unit_id!=this._Receipt.details[this.selectedindex].unit_id&&(t.availableqty=t.availableqty+this._ReceiptOriginal.details[e].qty*this._ReceiptOriginal.details[e].final_conv-this._Receipt.details[e].qty*this._Receipt.details[e].final_conv),t.availableqtywithsmallestunit=t.availableqty,t.availableqty=parseFloat((t.availableqty/r).toFixed(4))}),i=n.seriallist,console.log(n.seriallist,"d.seriallist"),this._Receipt.details[this.selectedindex].batcheslist.forEach(e=>{let t=i.findIndex(t=>t.id==e.previtemserialid);-1!=t&&(e.inv_receipt_d_id>0?null==this._Receipt.details[this.selectedindex].validrow||1==this._Receipt.details[this.selectedindex].validrow?(i[t].qty=e.qty,i[t].oldqty=e.qty,this._ReceiptOriginal.details[this.selectedindex].unit_id!=this._Receipt.details[this.selectedindex].unit_id&&(i[t].qty=this._Receipt.details[this.selectedindex].qty,i[t].oldqty=this._Receipt.details[this.selectedindex].qty),this._Receipt.details[this.selectedindex].validrow=!0):i[t].availableqty=i[t].availableqty+e.qty:1==this._Receipt.details[this.selectedindex].validrow&&(i[t].qty=e.qty,i[t].oldqty=e.qty,i[t].availableqty=parseFloat((i[t].availableqty-e.qty).toFixed(4)),this._Receipt.details[this.selectedindex].validrow=!0))}),this._Receipt.id>0)for(let e=0;e<i.length;e++)null==i[e].qty&&0==i[e].availableqty||this.BatchesListForEatchRow.push(i[e]);else this.BatchesListForEatchRow=[...i];if(1==this.CashCustomerSetting.salesreturneffect&&1==this.CashCustomerSetting.dispensingpolicy){if(this._Receipt.details[this.selectedindex].id>0&&this.ReceiptID>0){console.log(this.BatchesListForEatchRow);for(let e=0;e<this.BatchesListForEatchRow.length;e++)this.BatchesListForEatchRow[e].availableqty+=this.BatchesListForEatchRow[e].oldqty,this.BatchesListForEatchRow[e].qty=0,this.BatchesListForEatchRow[e].solidquantity=0}let t=0;if(this.BatchesListForEatchRow.forEach(e=>{t+=e.availableqty}),console.log(t,this._Receipt.details[e].qty),this._Receipt.details[e].qty>t)return void this.toastr.error(this.InValidQtyForBatch);if(this._Receipt.details[e].qty==t)this.BatchesListForEatchRow.forEach(e=>{e.qty=e.availableqty,e.oldqty=e.availableqty,e.availableqty=0}),this.saveSerialOnSalesReturnEffectDispensingPolicy();else{let t=this._Receipt.details[e].qty;this.BatchesListForEatchRow.forEach(e=>{0!=t&&(e.availableqty>=t?(e.qty=t,e.oldqty=t,e.availableqty=parseFloat((e.availableqty-t).toFixed(4)),t=0):(e.qty=e.availableqty,e.oldqty=e.availableqty,t-=e.availableqty,e.availableqty=0))}),this.saveSerialOnSalesReturnEffectDispensingPolicy()}}else this.OpenModal(t);1==this.CashCustomerSetting.salesreturneffect&&1==this.CashCustomerSetting.dispensingpolicy&&this.OpenModal(t)})}saveSerialOnSalesReturnEffectDispensingPolicy(){if(this.BatchesListForEatchRow.some(e=>e.qty>e.availableqty+e.oldqty))return this.toastr.error(this.QtyIsValidWithAvailableQty),void(this._Receipt.details[this.selectedindex].validrow=!1);let e,t=0;if(this.BatchesListForEatchRow.forEach(e=>{var n;t+=null!==(n=+e.qty)&&void 0!==n?n:0}),t!=this._batchqty)return this.toastr.error(this.InValidNumberOfBatch),void(this._Receipt.details[this.selectedindex].validrow=!1);let n=1;this.BatchesListForEatchRow.map(t=>{if(n++,t.qty>0){let i=this._Receipt.details[this.selectedindex].batcheslist.findIndex(e=>e.previtemserialid==t.id);-1!=i?this._Receipt.details[this.selectedindex].batcheslist[i].qty=+t.qty.toString():(e=new Ne.WB,e.id=0,e.qty=+t.qty,e.storeid=t.storeid,e.storename=t.name,e.storename_ar=t.name_ar,e.batchno=t.serial,e.date=t.expire_date,e.previtemserialid=t.id,e.serial=n,e.valid=!1,e.isdublicatebatch=!1,e.isused=!1,e.inv_receipt_d_id=null,e.availableqty=t.availableqty+t.qty,e.solidquantity=null,this._Receipt.details[this.selectedindex].batcheslist.push(e)),this._Receipt.details[this.selectedindex].validrow=!0}else{let e=this._Receipt.details[this.selectedindex].batcheslist.findIndex(e=>e.previtemserialid==t.id);-1!=e&&this._Receipt.details[this.selectedindex].batcheslist.splice(e,1)}}),console.log(this._Receipt.details,"this._Receipt.details")}saveserial(e){if(e.valid){if(this.BatchesListForEatchRow.some(e=>e.qty>e.availableqty+e.oldqty))return this.toastr.error(this.QtyIsValidWithAvailableQty),void(this._Receipt.details[this.selectedindex].validrow=!1);let e,t=0;if(this.BatchesListForEatchRow.forEach(e=>{var n;t+=null!==(n=+e.qty)&&void 0!==n?n:0}),t!=this._batchqty)return this.toastr.error(this.InValidNumberOfBatch),void(this._Receipt.details[this.selectedindex].validrow=!1);let n=1;this.BatchesListForEatchRow.map(t=>{if(n++,t.qty>0){let i=this._Receipt.details[this.selectedindex].batcheslist.findIndex(e=>e.previtemserialid==t.id);-1!=i?this._Receipt.details[this.selectedindex].batcheslist[i].qty=+t.qty.toString():(e=new Ne.WB,e.id=0,e.qty=+t.qty,e.storeid=t.storeid,e.storename=t.name,e.storename_ar=t.name_ar,e.batchno=t.serial,e.date=t.expire_date,e.previtemserialid=t.id,e.serial=n,e.valid=!1,e.isdublicatebatch=!1,e.isused=!1,e.inv_receipt_d_id=null,e.availableqty=t.availableqty+t.qty,e.solidquantity=null,this._Receipt.details[this.selectedindex].batcheslist.push(e)),this._Receipt.details[this.selectedindex].validrow=!0}else{let e=this._Receipt.details[this.selectedindex].batcheslist.findIndex(e=>e.previtemserialid==t.id);-1!=e&&this._Receipt.details[this.selectedindex].batcheslist.splice(e,1)}}),this.CloseModal()}console.log(this._Receipt.details,"this._Receipt.details")}ChangeBatchQty(e,t){if(+t>(null==e?void 0:e.availableqty)+(null==e?void 0:e.oldqty))return this.toastr.error(this.QtyIsValidWithAvailableQty),this._Receipt.details[this.selectedindex].validrow=!1,e.qty=null,e.availableqty=e.availableqty+e.oldqty,void(e.oldqty=0);e.qty=+t,e.availableqty=this.dealWith(e.availableqty+e.oldqty-+t),e.oldqty=+t}dealWith(e){return e%1==0?e:e.toString().split(".")[1].length>4?+e.toFixed(4):e}CheckShowWarrantyDateCols(){let e=this._Receipt.details.filter(e=>1==e.haswarrenty);this.ShowWarrantyDateCols=e.length>0,this.cd.markForCheck()}patch(e){this.modalReference=this.modalService.open(e,{size:"md",backdrop:"static"})}ClosePatchModal(){this.modalReference.close()}SavePatchModal(){var e;this._ReceiptSharedService.GetItemBatchDetailsLists(this.subsidiaryID,this.BatchNoText,this._Receipt.entry_date+" "+this._Receipt.entry_time,this._Receipt.details[0].store_id,null!==(e=this._Receipt.id)&&void 0!==e?e:0).subscribe(e=>{e.item.forEach(t=>{let n=new g.hm;if(n.item_id=t.id,n.itemcode={code:t.code},n.itemname=t.name,n.itemname_ar=t.name_ar,0==e.itemunits.length)n.isrequireserial=t.isrequireserial,n.allowtax=t.allowtax,null==this._Receipt.id||0==this._Receipt.id?(n.store_id=this.StoreCostCenterSetting.storeid,n.storecode={code:this.StoreCostCenterSetting.storecode}):(n.store_id=this._ReceiptOriginal.details[0].store_id,n.storecode=this._ReceiptOriginal.details[0].storecode),this.toastr.error(this.NoUnits);else if(3==t.item_type&&0==e.itemcomponents.length)n.isrequireserial=e.item.isrequireserial,n.allowtax=e.item.allowtax,null==this._Receipt.id||0==this._Receipt.id?(n.store_id=this.StoreCostCenterSetting.storeid,n.storecode={code:this.StoreCostCenterSetting.storecode}):(n.store_id=this._ReceiptOriginal.details[0].store_id,n.storecode=this._ReceiptOriginal.details[0].storecode),this.toastr.error(this.NOComponents);else{n.isrequireserial=t.isrequireserial,n.allowtax=t.allowtax,n.notes=t.notes,n.item_type=t.item_type,n.qty=1,n.haswarrenty=t.haswarrenty,n.warrantydate=t.haswarrenty?this.getwarrantydateDate():null,null==this._Receipt.id||0==this._Receipt.id?(n.store_id=this.StoreCostCenterSetting.storeid,n.storecode={code:this.StoreCostCenterSetting.storecode}):(n.store_id=this._ReceiptOriginal.details[0].store_id,n.storecode=this._ReceiptOriginal.details[0].storecode),this.ItemUnitsList.length>0?0==this.ItemUnitsList.filter(e=>e.item_id==t.id).length&&(this.ItemUnitsList=this.ItemUnitsList.concat(e.itemunits.filter(e=>e.item_id==t.id))):this.ItemUnitsList=this.ItemUnitsList.concat(e.itemunits.filter(e=>e.item_id==t.id)),n.unit_id=t.selling_unitid,this.CheckShowWarrantyDateCols(),e.componentsunits.filter(e=>e.item_id==t.id).length>0&&(this.ItemComponentUnitsList=this.ItemComponentUnitsList.concat(e.componentsunits.filter(e=>e.item_id==t.id))),e.itemcomponents.filter(e=>e.item_id==t.id).length>0&&e.itemcomponents.filter(e=>e.item_id==t.id).forEach(e=>{let t=new g.hm;t.item_id=e.itemcomponentid,t.finishedproductid=e.item_id,t.itemname=e.itemname,t.itemname_ar=e.itemname_ar,t.itemcode=e.itemcode,t.unit_id=e.itemcomponentunitid,t.qty=e.itemcomponentqty,t.basicqtycomponent=e.itemcomponentqty,t.conv=e.itemcomponentconv,t.itemcode=e.itemcode,t.price=0,t.total=t.price*t.qty,t.store_id=n.store_id,t.transaction_move=this.Transaction_move,t.item_type=e.item_type,t.storecode=null!=n.storecode?n.storecode.code:null,t.parentrowno=n.rowno,this._Receipt.itemscomponent.push(t)});for(let e=0;e<this._Receipt.details.length;e++)null==this._Receipt.details[e].item_id&&(this._Receipt.details.splice(e,1),e--);this._Receipt.details.push(n),this.ClosePatchModal(),this.ChangeItemUnits(t.selling_unitid,this._Receipt.details.length-1);var i=e.itemunits.filter(e=>e.item_id==t.id&&e.id==t.selling_unitid);null!=i&&i.length>0&&(this._Receipt.details[this._Receipt.details.length-1].conv=i[0].conv,this._Receipt.details[this._Receipt.details.length-1].final_conv=i[0].final_conv);var r=e.seriallist.filter(e=>e.itemid==t.id);this.OnSerialItemsImported(this._Receipt.details.length-1,r),this.CloseModal()}}),this.cd.markForCheck(),this.CloseModal()})}OnSerialItemsImported(e,t){if(this._Receipt.details[e].batcheslist=[],this._Receipt.details.filter(t=>t.item_id==this._Receipt.details[e].item_id),this.SelectedItem=this._Receipt.details[e],this.selectedindex=e,this._Receipt.details[e].qty<=0)return void this.toastr.error(this.InValidQty);this.requiredserial=this._Receipt.details[e].isrequireserial;let n=this.ItemUnitsList.filter(t=>t.item_id==this._Receipt.details[e].item_id&&t.id==this._Receipt.details[e].unit_id),i=this._Receipt.details[e].conv*n[0].finalconv/n[0].conv;this._batchqty=this._Receipt.details[e].qty;let r=this.BatchNoText.split("/",1);this.BatchesListForEatchRow=[];let s=[];if(s=t,s.forEach(e=>{e.availableqtywithsmallestunit=e.availableqty,e.availableqty=parseFloat((e.availableqty/i).toFixed(4))}),this._Receipt.details[this.selectedindex].batcheslist.forEach(e=>{let t=s.findIndex(t=>t.id==e.previtemserialid);-1!=t&&(e.inv_receipt_d_id>0?null==this._Receipt.details[this.selectedindex].validrow||1==this._Receipt.details[this.selectedindex].validrow?(s[t].qty=e.qty,s[t].oldqty=e.qty,this._Receipt.details[this.selectedindex].validrow=!0):s[t].availableqty=s[t].availableqty+e.qty:1==this._Receipt.details[this.selectedindex].validrow&&(s[t].qty=e.qty,s[t].oldqty=e.qty,s[t].availableqty=s[t].availableqty-e.qty,this._Receipt.details[this.selectedindex].validrow=!0))}),this._Receipt.id>0)for(let a=0;a<s.length;a++)null==s[a].qty&&0==s[a].availableqty||this.BatchesListForEatchRow.push(s[a]);else this.BatchesListForEatchRow=[...s];let o=0;if(this.BatchesListForEatchRow.forEach(t=>{r.length>0&&t.serial==r[0]&&(o+=t.availableqty,this._Receipt.details[e].qty=o,this.ChangeQty(e))}),console.log(o,this._Receipt.details[e].qty),this._Receipt.details[e].qty>o)return this._Receipt.details[this.selectedindex].validrow=!1,this.toastr.error(this.InValidQtyForBatch),!1;{let t=this._Receipt.details[e].qty;this._batchqty=t;let n=1;this.BatchesListForEatchRow.forEach(e=>{e.solidquantity=e.availableqty,r.length>0&&e.serial==r[0]&&0!=t&&(e.availableqty>=t?(e.qty=t,e.oldqty=t,e.availableqty=parseFloat((e.availableqty-t).toFixed(4)),t=0):(e.qty=e.availableqty,e.oldqty=e.availableqty,t-=e.availableqty,e.availableqty=0),n++)}),this.cd.markForCheck(),this.saveSerialOnSalesReturnEffectDispensingPolicy()}}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}customTrackBy(e,t){return e}GetBatchOrderDetailsById(e,t){this._ReceiptSharedService.GetBatchOrderDetailsById(e).subscribe(e=>{console.log("BatchOrderDetails",e),null!=e.data.receipt&&("SelectEvent"===t?(this._Receipt.vendor_id=e.data.receipt.vendor_id,null!=this._Receipt.vendor_id&&(this._Receipt.cashcustomer_vendor_code={code:e.data.receipt.vendorcode},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?e.data.receipt.vendornamear:e.data.receipt.vendorname,this.PriceListItemsOnly=e.data.receipt.pricelistitemsonly),null!=e.data.items?(this.batchOrderItems=[],this.batchOrderItems=[...this.batchOrderItems,...e.data.items]):this.batchOrderItems=[]):"details"===t&&null!=this._Receipt.batchorder_id&&(null!=e.data.items?(this.batchOrderItems=[],this.batchOrderItems=[...this.batchOrderItems,...e.data.items]):this.batchOrderItems=[]))})}onFocusInBatchOrder(e){this.GetBatchOrderList("")}BatchOrderChangeSearch(e){this.GetBatchOrderList(e.query.trim())}GetBatchOrderList(e=""){this._ProductionService.GetBatchOrderBySub(this.subsidiaryID,this._Receipt.branch_id,e).subscribe(e=>{this.BatchOrderList=[],this.BatchOrderList=e,this.cd.markForCheck()})}BatchOrderSelectEvent(e){this._Receipt.batchorder_id=e.id,this.GetBatchOrderDetailsById(this._Receipt.batchorder_id,"SelectEvent")}onClearBatchOrder(e){this._Receipt.batchorder_id=null,this._Receipt.cashcustomer_vendor_code={},this._Receipt.cashcustomer_vendor_name="",this._Receipt.batchorder_no={}}}return e.\u0275fac=function(t){return new(t||e)(y["\u0275\u0275directiveInject"](Be.v),y["\u0275\u0275directiveInject"](f.t),y["\u0275\u0275directiveInject"](Te),y["\u0275\u0275directiveInject"](Fe.H),y["\u0275\u0275directiveInject"](y.ChangeDetectorRef),y["\u0275\u0275directiveInject"](v._W),y["\u0275\u0275directiveInject"](c.F0),y["\u0275\u0275directiveInject"](R.m),y["\u0275\u0275directiveInject"](l.sK),y["\u0275\u0275directiveInject"](S.K),y["\u0275\u0275directiveInject"](c.gz),y["\u0275\u0275directiveInject"](P.FF),y["\u0275\u0275directiveInject"](b.t2),y["\u0275\u0275directiveInject"](x.e),y["\u0275\u0275directiveInject"](I.$),y["\u0275\u0275directiveInject"](C.J),y["\u0275\u0275directiveInject"](i.uU),y["\u0275\u0275directiveInject"](i.Ye),y["\u0275\u0275directiveInject"](Ve.g))},e.\u0275cmp=y["\u0275\u0275defineComponent"]({type:e,selectors:[["app-transfer-good-details"]],viewQuery:function(e,t){if(1&e&&(y["\u0275\u0275viewQuery"](Je,5),y["\u0275\u0275viewQuery"](Qe,5)),2&e){let e;y["\u0275\u0275queryRefresh"](e=y["\u0275\u0275loadQuery"]())&&(t.serialModel=e.first),y["\u0275\u0275queryRefresh"](e=y["\u0275\u0275loadQuery"]())&&(t.RForm=e.first)}},features:[y["\u0275\u0275ProvidersFeature"]([_.n,Be.v,f.t,i.uU,Fe.H,C.J,Te,Ve.g])],decls:9,vars:4,consts:[["class","row",4,"ngIf"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],["DescriptionItemModel",""],["serialModel",""],[1,"row"],[1,"HasNotPermission",2,"margin","auto","width","auto","margin-top","200px"],[1,"col-md-12","col-lg-12"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"container-fluid","py-4","pl-0","pr-0"],[1,"card","my-2","mx-2","px-3","pb-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-1","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"col-12","text-right","actionBtns"],["type","submit",1,"btn","btn-success","btn-md","mr-2","mb-2"],[1,"ft-check-square","mr-1"],["type","button",1,"btn","btn-success","btn-md","mr-2","mb-2",3,"click"],["class","btn btn-primary btn-md mr-2 mb-2","type","button",3,"click",4,"ngIf"],["class","btn btn-warning btn-md mr-2 mb-2","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-danger","btn-md","mr-2","mb-2",3,"click"],[1,"btn-group"],["type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-primary","dropdown-toggle","btn-md","mr-2","mb-2"],[1,"dropdown-menu"],[1,"col-12","col-md-6","mb-2","mb-md-0"],[1,"form-group"],["for","Category",1,"col-form-label"],[2,"color","red","font-weight","bold"],["name","Branch","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["Branch","ngModel"],["Value","null",4,"ngIf"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12","col-md-3","mb-2","mb-md-0"],["for","VendorCode",1,"col-form-label"],["type","text","id","entry_no","name","entry_no","PositiveNumbersOrDecimalOnly","","required","","customMin","",1,"form-control",3,"stepallow","ngModel","readonly","Min","CheckMin","ngClass","ngModelChange","keydown.space"],["entry_no","ngModel"],["class","col-md-2 mt-4",4,"ngIf"],["for","fromstoreid",1,"col-form-label"],["name","fromstoreid","required","",1,"form-control",3,"ngModel","disabled","ngClass","ngModelChange","change","focusout"],["fromstoreid","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","tostoreid",1,"col-form-label"],["name","tostoreid","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change","focusout"],["tostoreid","ngModel"],["for","entry_date",1,"col-form-label"],["type","date","id","entry_date","name","entry_date","required","",1,"form-control",3,"ngModel","readonly","ngClass","ngModelChange"],["entry_date","ngModel"],["for","entry_time",1,"col-form-label"],["type","time","id","entry_time","name","entry_time",1,"form-control",3,"readonly","ngModel","ngModelChange"],["entry_time","ngModel"],["for","memo",1,"col-form-label"],["type","text","id","memo","name","memo",1,"form-control",3,"ngModel","ngModelChange"],["memo","ngModel"],["for","reference_no",1,"col-form-label"],["type","text","id","reference_no","name","reference_no",1,"form-control",3,"ngModel","ngModelChange"],["reference_no","ngModel"],[1,"col-form-label"],["delay","0","minLength","0","field","entry_no","name","BatchOrder",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoBatchOrder",""],["pTemplate","BatchOrderTemplate"],["minLength","0","delay","0","field","code","name","CreditAccount",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoCustomerAccounts",""],["pTemplate","CustomerAccountsTemplate"],["for","cashcustomer_vendor_phone",1,"col-form-label"],["type","text","id","cashcustomer_vendor_name","name","cashcustomer_vendor_name",1,"form-control",3,"ngModel","readonly","ngModelChange"],["cashcustomer_vendor_name","ngModel"],[1,"card","my-2","mx-2","px-3","pb-3","pt-3"],[1,"col-12","nav-wrapper","position-relative","end-0","mt-3"],[1,"col-xl-7","col-md-7"],["ngbNav","",1,"nav","nav-pills","nav-fill","p-1",3,"activeId","destroyOnHide","activeIdChange"],["nav","ngbNav"],[1,"nav-item",3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],["PatchModal",""],[3,"ngbNavItem",4,"ngIf"],[3,"ngbNavItem"],[1,"mt-2",3,"ngbNavOutlet"],[1,"row","col-md-5",2,"margin-top","4rem"],[1,"col"],[1,"table-responsive","table","table-accountdetails"],[1,"row","col-md-7"],["type","button",1,"btn","btn-primary","btn-md","mr-2","mb-2",3,"click"],["type","button",1,"btn","btn-warning","btn-md","mr-2","mb-2",3,"click"],["class","dropdown-item","type","button",3,"click",4,"ngIf"],[3,"entryno","_savedemailobj"],["type","button",1,"dropdown-item",3,"click"],["Value","null"],[3,"value"],[1,"col-md-2","mt-4"],[1,"checkbox"],["type","checkbox","id","receiving",3,"checked","ngModelOptions","ngModel","ngModelChange"],["for","receiving"],[1,"row",2,"margin-top","10px"],[1,"table-responsive","table","table-accountdetails",3,"ngClass"],[1,"table"],["scope","col",2,"width","5%"],["scope","col"],["scope","col",2,"width","9%"],["scope","col",4,"ngIf"],["scope","col",2,"min-width","30px"],[4,"ngFor","ngForOf","ngForTrackBy"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-primary","mr-3","ml-3",3,"click"],[2,"padding-top","15px !important"],["minLength","0","delay","0","field","code",3,"ngModel","disabled","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoStore",""],["pTemplate","servstoreTemplate"],["minLength","0","delay","0","field","code",3,"ngModel","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoItems",""],["pTemplate","servCodeTemplate"],[3,"click"],[3,"ngClass",4,"ngIf"],[1,"form-control",3,"name","ngModel","required","ngClass","ngModelChange","change"],["itemunit","ngModel"],[3,"ngValue",4,"ngIf"],[3,"ngValue","selected",4,"ngFor","ngForOf"],["customMin","","PositiveNumbersOnly","","type","number",1,"form-control",3,"Min","CheckMin","ngModel","name","ngClass","keyup","ngModelChange"],["item_qty","ngModel"],[1,"form-control",3,"ngModel","id","name","ngModelChange"],[3,"ngValue"],["href","javascript:;",1,"primary","transparent-BG",3,"click"],[1,"fa-stack","fa-lg","addNotesIcon"],[1,"fa","fa-plus","fa-stack-1x"],[1,"fa","fa-sticky-note","fa-stack-2x"],["href","javascript:;",2,"color","red",3,"click"],[1,"fa","fa-trash","fa-lg"],[3,"ngClass"],[3,"ngValue","selected"],["customMin","","PositiveNumbersOrDecimalOnly","","type","number",1,"form-control",3,"readonly","step","Min","CheckMin","stepallow","ngModel","name","required","ngClass","keyup","ngModelChange"],["item_conv","ngModel"],["href","javascript:;","class","info p-0",3,"click",4,"ngIf"],["href","javascript:;",1,"info","p-0",3,"click"],[1,"fa","fa-list","font-medium-3","mr-2"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"row","mb-3","p-2"],[1,"col-md-3"],[1,"col-md-8"],["type","text","id","BatchNoTxt","name","BatchNoTxt",1,"form-control","batch-input",3,"ngModel","ngModelChange"],["BatchNoTxt","ngModel"],[1,"modal-footer"],["type","button",1,"btn","btn-success","mr-2","ml-2",3,"click"],[4,"ngFor","ngForOf"],["type","text",1,"form-control",3,"readonly","ngModel","name","ngModelChange"],[1,"form-control",3,"name","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","text",1,"form-control",3,"ngModel","name","readonly","ngModelChange"],["PositiveNumbersOnly","","type","text","customMin","",1,"form-control",3,"ngModel","name","readonly","Min","CheckMin","ngClass","ngModelChange"],["price","ngModel"],["PositiveNumbersOnly","","type","text",1,"form-control",3,"readonly","ngModel","name","ngModelChange"],[1,"form-control","red",3,"name","ngModel","ngModelChange"],["type","number",1,"form-control","red",3,"ngModel","name","ngModelChange"],["LinkedReceiptsentry_no","ngModel"],["href","javascript:;",2,"color","green",3,"click"],["aria-hidden","true",1,"fa","fa-plus-square","fa-lg"],["aria-hidden","true",1,"fa","fa-eye","fa-lg"],[3,"signature","signatureoutput"],[3,"wrappe"],["ItemStoreQty",""],[1,"modal-body"],[1,"col-md-12","form-group"],["for","customitemname",1,"col-form-label"],["type","text","id","customitemname","name","customitemname",1,"form-control",3,"ngModel","ngModelChange"],["customitemname","ngModel"],[1,"col-md-12","row"],[3,"styles","ngModel","ngModelOptions","ngModelChange","onContentChanged"],["type","button",1,"btn","btn-danger","mr-2","ml-2",3,"click"],[1,"ft-x","mr-1"],["class","modal-title",4,"ngIf"],[1,"col-md-12"],[1,"table-responsive"],[2,"width","20%"],["style","width: 15%",4,"ngIf"],["type","submit",1,"btn","btn-success"],[2,"width","15%"],["type","checkbox",3,"name","checked"],["type","number","PositiveNumbersOrDecimalOnly","","min","0",1,"form-control",3,"name","value","ngClass","change"],["style","color: red",4,"ngIf"],[2,"color","red"]],template:function(e,t){1&e&&(y["\u0275\u0275template"](0,Ye,4,3,"div",0),y["\u0275\u0275template"](1,En,172,137,"ng-container",1),y["\u0275\u0275elementStart"](2,"ngx-spinner",2),y["\u0275\u0275elementStart"](3,"p",3),y["\u0275\u0275text"](4,"Loading..."),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](5,Pn,26,18,"ng-template",null,4,y["\u0275\u0275templateRefExtractor"]),y["\u0275\u0275template"](7,$n,36,22,"ng-template",null,5,y["\u0275\u0275templateRefExtractor"])),2&e&&(y["\u0275\u0275property"]("ngIf",!(t.checkRoleParms(328)||t.checkRoleParms(329)||t.checkRoleParms(330)||t.checkRoleParms(630)||t.checkRoleParms(331))),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",t.checkRolesParms(y["\u0275\u0275pureFunction0"](3,Gn))),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("fullScreen",!0))},directives:[i.O5,b.Ro,s._Y,s.JL,s.F,s.EJ,s.Q7,s.JJ,s.On,i.mk,i.sg,s.Fj,Ae.L,Ue.a,a.Qc,$e.jx,P.Pz,P.nv,P.Vx,P.uN,P.tO,Ge.k,s.YN,s.Kr,s.Wl,s.wV,O.K,je.t,We.T,m.g6],pipes:[l.X$,i.uU,ze.N],styles:[".form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.headerform[_ngcontent-%COMP%]{background-color:#2f8be6;color:#fff;height:44px;padding-top:9px;margin-bottom:17px}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.table-accountdetails[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#80808030}.table-accountdetails[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#7b809a}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important;text-align:center}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}.batch-input[_ngcontent-%COMP%]{border:1px solid #1b62d8!important}.addNotesIcon[_ngcontent-%COMP%]{vertical-align:text-bottom}.addNotesIcon[_ngcontent-%COMP%], .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}.addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}.addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}.addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}.addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}"]}),e})();function Wn(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"div",4),y["\u0275\u0275elementStart"](1,"h1",5),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function zn(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.name)}}function Jn(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.name_ar)}}function Qn(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",52),y["\u0275\u0275template"](1,zn,2,1,"span",1),y["\u0275\u0275template"](2,Jn,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275propertyInterpolate"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Yn(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",53),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).OnAdd()}),y["\u0275\u0275element"](1,"i",27),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"]()}2&e&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](3,1,"Add")," "))}function Hn(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",54),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).OnPrint()}),y["\u0275\u0275element"](1,"i",27),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"]()}2&e&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](3,1,"Print")," "))}function Zn(e,t){1&e&&y["\u0275\u0275element"](0,"i",55)}function Kn(e,t){1&e&&y["\u0275\u0275element"](0,"i",56)}function Xn(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",48),y["\u0275\u0275template"](2,Zn,1,0,"i",49),y["\u0275\u0275template"](3,Kn,1,0,"i",50),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","BranchName"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchName"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchName"==e.sortColumn&&"desc"==e.sortDirection)}}function ei(e,t){1&e&&y["\u0275\u0275element"](0,"i",55)}function ti(e,t){1&e&&y["\u0275\u0275element"](0,"i",56)}function ni(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",48),y["\u0275\u0275template"](2,ei,1,0,"i",49),y["\u0275\u0275template"](3,ti,1,0,"i",50),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","BranchNameAR"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchNameAR"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchNameAR"==e.sortColumn&&"desc"==e.sortDirection)}}function ii(e,t){1&e&&y["\u0275\u0275element"](0,"i",55)}function ri(e,t){1&e&&y["\u0275\u0275element"](0,"i",56)}function si(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",48),y["\u0275\u0275template"](2,ii,1,0,"i",49),y["\u0275\u0275template"](3,ri,1,0,"i",50),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","FromStoreName"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","FromStoreName"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","FromStoreName"==e.sortColumn&&"desc"==e.sortDirection)}}function oi(e,t){1&e&&y["\u0275\u0275element"](0,"i",55)}function ai(e,t){1&e&&y["\u0275\u0275element"](0,"i",56)}function ci(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",48),y["\u0275\u0275template"](2,oi,1,0,"i",49),y["\u0275\u0275template"](3,ai,1,0,"i",50),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","FromStoreNameAR"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","FromStoreNameAR"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","FromStoreNameAR"==e.sortColumn&&"desc"==e.sortDirection)}}function li(e,t){1&e&&y["\u0275\u0275element"](0,"i",55)}function di(e,t){1&e&&y["\u0275\u0275element"](0,"i",56)}function pi(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",48),y["\u0275\u0275template"](2,li,1,0,"i",49),y["\u0275\u0275template"](3,di,1,0,"i",50),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","ToStoreName"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ToStoreName"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ToStoreName"==e.sortColumn&&"desc"==e.sortDirection)}}function hi(e,t){1&e&&y["\u0275\u0275element"](0,"i",55)}function mi(e,t){1&e&&y["\u0275\u0275element"](0,"i",56)}function ui(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",48),y["\u0275\u0275template"](2,hi,1,0,"i",49),y["\u0275\u0275template"](3,mi,1,0,"i",50),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","ToStoreNameAR"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ToStoreNameAR"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ToStoreNameAR"==e.sortColumn&&"desc"==e.sortDirection)}}function _i(e,t){1&e&&y["\u0275\u0275element"](0,"i",55)}function gi(e,t){1&e&&y["\u0275\u0275element"](0,"i",56)}function fi(e,t){1&e&&y["\u0275\u0275element"](0,"i",55)}function Ci(e,t){1&e&&y["\u0275\u0275element"](0,"i",56)}function yi(e,t){1&e&&y["\u0275\u0275element"](0,"i",55)}function vi(e,t){1&e&&y["\u0275\u0275element"](0,"i",56)}function Ri(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",48),y["\u0275\u0275template"](2,yi,1,0,"i",49),y["\u0275\u0275template"](3,vi,1,0,"i",50),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","UserName"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","UserName"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","UserName"==e.sortColumn&&"desc"==e.sortDirection)}}function Si(e,t){1&e&&y["\u0275\u0275element"](0,"i",55)}function bi(e,t){1&e&&y["\u0275\u0275element"](0,"i",56)}function xi(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",48),y["\u0275\u0275template"](2,Si,1,0,"i",49),y["\u0275\u0275template"](3,bi,1,0,"i",50),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","UserNameAR"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","UserNameAR"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","UserNameAR"==e.sortColumn&&"desc"==e.sortDirection)}}function Ii(e,t){1&e&&y["\u0275\u0275element"](0,"i",55)}function Mi(e,t){1&e&&y["\u0275\u0275element"](0,"i",56)}function Ei(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th"),y["\u0275\u0275text"](1,"\xa0"),y["\u0275\u0275elementEnd"]())}function Oi(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e?null:e.branchname)}}function Pi(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e?null:e.branchnamear)}}function wi(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e?null:e.fromstorename)}}function ki(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",null==e?null:e.fromstorenamear," ")}}function Di(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e?null:e.tostorename)}}function Bi(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e?null:e.tostorenamear)}}function Fi(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e?null:e.username)}}function Li(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e?null:e.usernamear)}}function qi(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.text," ")}}function Ti(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.text_ar," ")}}function Ni(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275template"](1,qi,2,1,"td",1),y["\u0275\u0275template"](2,Ti,2,1,"td",1),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"]().$implicit,i=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.id===n.approvalid&&"ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.id===n.approvalid&&"ar"==i.lang)}}function Vi(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1,"\xa0"),y["\u0275\u0275elementEnd"]())}function Ai(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"a",63),y["\u0275\u0275element"](1,"i",64),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2).$implicit;y["\u0275\u0275propertyInterpolate1"]("routerLink","/page/inventorytransfers/transferrequest/",null==e?null:e.id,"")}}function Ui(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"a",63),y["\u0275\u0275element"](1,"i",64),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2).$implicit;y["\u0275\u0275propertyInterpolate1"]("routerLink","/page/inventorytransfers/transferrequest/",null==e?null:e.id,"/show")}}function $i(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td",61),y["\u0275\u0275template"](1,Ai,2,1,"a",62),y["\u0275\u0275template"](2,Ui,2,1,"a",62),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",1==e.approvalid),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",3==e.approvalid)}}function Gi(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275template"](1,Oi,2,1,"td",1),y["\u0275\u0275template"](2,Pi,2,1,"td",1),y["\u0275\u0275template"](3,wi,2,1,"td",1),y["\u0275\u0275template"](4,ki,2,1,"td",1),y["\u0275\u0275template"](5,Di,2,1,"td",1),y["\u0275\u0275template"](6,Bi,2,1,"td",1),y["\u0275\u0275elementStart"](7,"td"),y["\u0275\u0275text"](8),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"td"),y["\u0275\u0275text"](10),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](11,Fi,2,1,"td",1),y["\u0275\u0275template"](12,Li,2,1,"td",1),y["\u0275\u0275template"](13,Ni,3,2,"ng-container",57),y["\u0275\u0275template"](14,Vi,2,0,"td",1),y["\u0275\u0275template"](15,$i,3,2,"td",58),y["\u0275\u0275elementStart"](16,"td"),y["\u0275\u0275elementStart"](17,"a",59),y["\u0275\u0275elementStart"](18,"span"),y["\u0275\u0275element"](19,"i",60),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](null==e?null:e.entry_no),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](null==e?null:e.entry_date),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",n.ERPStatusList),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",!e.approvalid),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",n.checkRoleParms(629)),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("routerLink","/page/inventorytransfers/transferrequest/",null==e?null:e.id,"/show")}}function ji(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"tbody"),y["\u0275\u0275template"](1,Gi,20,14,"tr",57),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",e.ReceiptList)}}function Wi(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"tbody"),y["\u0275\u0275elementStart"](1,"tr",65),y["\u0275\u0275elementStart"](2,"td",66),y["\u0275\u0275text"](3),y["\u0275\u0275pipe"](4,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](4,1,"NoData")))}function zi(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",67),y["\u0275\u0275elementStart"](1,"ngb-pagination",68),y["\u0275\u0275listener"]("pageChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).onPageChange(t)})("pageChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).PageNo=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](2,"p"),y["\u0275\u0275text"](3),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"select",69),y["\u0275\u0275listener"]("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).onPageSizeChange(t.target.value)})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).PageSize=t}),y["\u0275\u0275elementStart"](5,"option",70),y["\u0275\u0275text"](6,"10 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"option",71),y["\u0275\u0275text"](8,"50 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"option",72),y["\u0275\u0275text"](10,"100 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](11,"br"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("collectionSize",e.totalCount)("page",e.PageNo)("pageSize",e.PageSize)("maxSize",5)("boundaryLinks",!0),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",e._generalService.TotalDetailsTextShow(e.PageNo,e.PageSize,e.totalCount,e.lang)," "),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngModel",e.PageSize)}}function Ji(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275elementStart"](1,"div",6),y["\u0275\u0275elementStart"](2,"div",7),y["\u0275\u0275elementStart"](3,"div",8),y["\u0275\u0275elementStart"](4,"h6",9),y["\u0275\u0275text"](5),y["\u0275\u0275pipe"](6,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"div",10),y["\u0275\u0275elementStart"](8,"div",11),y["\u0275\u0275elementStart"](9,"section"),y["\u0275\u0275elementStart"](10,"div",4),y["\u0275\u0275elementStart"](11,"div",12),y["\u0275\u0275elementStart"](12,"form",13,14),y["\u0275\u0275listener"]("ngSubmit",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().SearchReceiptByEntryNo()}),y["\u0275\u0275elementStart"](14,"div",4),y["\u0275\u0275elementStart"](15,"div",15),y["\u0275\u0275elementStart"](16,"div",16),y["\u0275\u0275elementStart"](17,"label",17),y["\u0275\u0275text"](18),y["\u0275\u0275pipe"](19,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](20,"select",18,19),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._ReceiptSearch.BranchID=t})("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ChangeBranch(t.target.value)}),y["\u0275\u0275elementStart"](22,"option",20),y["\u0275\u0275text"](23),y["\u0275\u0275pipe"](24,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](25,Qn,3,3,"option",21),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](26,"div",15),y["\u0275\u0275elementStart"](27,"div",16),y["\u0275\u0275elementStart"](28,"label",22),y["\u0275\u0275text"](29),y["\u0275\u0275pipe"](30,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](31,"input",23,24),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._ReceiptSearch.EntryNo=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](33,"div",25),y["\u0275\u0275elementStart"](34,"button",26),y["\u0275\u0275element"](35,"i",27),y["\u0275\u0275text"](36),y["\u0275\u0275pipe"](37,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](38,"button",28),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ShowAll()}),y["\u0275\u0275element"](39,"i",27),y["\u0275\u0275text"](40),y["\u0275\u0275pipe"](41,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](42,"div",29),y["\u0275\u0275elementStart"](43,"div",30),y["\u0275\u0275elementStart"](44,"div",31),y["\u0275\u0275template"](45,Yn,4,3,"button",32),y["\u0275\u0275template"](46,Hn,4,3,"button",33),y["\u0275\u0275elementStart"](47,"button",34),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().OnPrint(1)}),y["\u0275\u0275element"](48,"i",27),y["\u0275\u0275text"](49),y["\u0275\u0275pipe"](50,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](51,"button",35),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().OnExcel()}),y["\u0275\u0275element"](52,"i",27),y["\u0275\u0275text"](53),y["\u0275\u0275pipe"](54,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](55,"div",36),y["\u0275\u0275elementStart"](56,"div",37),y["\u0275\u0275elementStart"](57,"label",38),y["\u0275\u0275text"](58),y["\u0275\u0275pipe"](59,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](60,"input",39,40),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._ReceiptSearch.SearchValue=t})("keyup",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ChangePropFinish()}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](62,"div",4),y["\u0275\u0275elementStart"](63,"div",41),y["\u0275\u0275elementStart"](64,"div",42),y["\u0275\u0275element"](65,"div",43),y["\u0275\u0275elementStart"](66,"div",44),y["\u0275\u0275elementStart"](67,"div",45),y["\u0275\u0275elementStart"](68,"table",46),y["\u0275\u0275elementStart"](69,"thead"),y["\u0275\u0275elementStart"](70,"tr"),y["\u0275\u0275elementStart"](71,"th",47),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("BranchName")}),y["\u0275\u0275text"](72),y["\u0275\u0275pipe"](73,"translate"),y["\u0275\u0275template"](74,Xn,4,3,"ng-container",1),y["\u0275\u0275template"](75,ni,4,3,"ng-container",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](76,"th",47),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("FromStoreName")}),y["\u0275\u0275text"](77),y["\u0275\u0275pipe"](78,"translate"),y["\u0275\u0275template"](79,si,4,3,"ng-container",1),y["\u0275\u0275template"](80,ci,4,3,"ng-container",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](81,"th",47),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("ToStoreName")}),y["\u0275\u0275text"](82),y["\u0275\u0275pipe"](83,"translate"),y["\u0275\u0275template"](84,pi,4,3,"ng-container",1),y["\u0275\u0275template"](85,ui,4,3,"ng-container",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](86,"th",47),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("Entry_No")}),y["\u0275\u0275text"](87),y["\u0275\u0275pipe"](88,"translate"),y["\u0275\u0275elementContainerStart"](89),y["\u0275\u0275element"](90,"i",48),y["\u0275\u0275template"](91,_i,1,0,"i",49),y["\u0275\u0275template"](92,gi,1,0,"i",50),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](93,"th",47),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("Entry_Date")}),y["\u0275\u0275text"](94),y["\u0275\u0275pipe"](95,"translate"),y["\u0275\u0275elementContainerStart"](96),y["\u0275\u0275element"](97,"i",48),y["\u0275\u0275template"](98,fi,1,0,"i",49),y["\u0275\u0275template"](99,Ci,1,0,"i",50),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](100,"th",47),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("UserName")}),y["\u0275\u0275text"](101),y["\u0275\u0275pipe"](102,"translate"),y["\u0275\u0275template"](103,Ri,4,3,"ng-container",1),y["\u0275\u0275template"](104,xi,4,3,"ng-container",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](105,"th",47),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("Status")}),y["\u0275\u0275text"](106),y["\u0275\u0275pipe"](107,"translate"),y["\u0275\u0275elementContainerStart"](108),y["\u0275\u0275element"](109,"i",48),y["\u0275\u0275template"](110,Ii,1,0,"i",49),y["\u0275\u0275template"](111,Mi,1,0,"i",50),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](112,Ei,2,0,"th",1),y["\u0275\u0275elementStart"](113,"th"),y["\u0275\u0275text"](114,"\xa0"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](115,ji,2,1,"tbody",1),y["\u0275\u0275template"](116,Wi,5,3,"tbody",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](117,zi,12,7,"div",51),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](6,43,"Transfer Request"),""),y["\u0275\u0275advance"](13),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](19,45,"Branch")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._ReceiptSearch.BranchID),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](24,47,"All")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngForOf",e.BranchList),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](30,49,"EntryNo")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._ReceiptSearch.EntryNo),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](37,51,"Search")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](41,53,"All")," "),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(320)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(325)),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](50,55,"pdf")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](54,57,"Excel")," "),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](59,59,"Search")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._ReceiptSearch.SearchValue),y["\u0275\u0275advance"](12),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](73,61,"Branch")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](78,63,"FromStore")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](83,65,"ToStore")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](88,67,"EntryNo")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("hidden","Entry_No"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_No"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_No"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](95,69,"Date")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("hidden","Entry_Date"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_Date"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_Date"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](102,71,"UserName")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](107,73,"Status")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("hidden","Status"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Status"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Status"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(629)),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngIf",e.ReceiptList.length>0),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",0==e.ReceiptList.length),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.totalCount>0)}}let Qi=(()=>{class e{constructor(e,t,n,i,r,s,o,a,c,l,d,p,h,m,u){this._cashsalesService=e,this.cd=t,this.toastr=n,this._router=i,this._generalService=r,this.translate=s,this._translateGlobalService=o,this.spinner=a,this._ReceiptSharedService=l,this._authService=d,this._printService=p,this._Excel=h,this._convertToPDF=m,this._VerifyReportsService=u,this.loaded=!1,this.subsidiaryID=0,this.PageSize=10,this.PageNo=1,this.ReceiptList=[],this.totalCount=0,this.BranchList=[],this.list=[],this._ReceiptSearch=new g.Wb,this.NumNotExist="",this.title="",this.ERPStatusList=[{id:1,text:"New",text_ar:"\u062c\u062f\u064a\u062f"},{id:2,text:"PartiallyReceived",text_ar:"\u0627\u0644\u0627\u0633\u062a\u0644\u0627\u0645 \u0627\u0644\u062c\u0632\u0626\u064a"},{id:3,text:"Received",text_ar:"\u062a\u0645 \u0627\u0644\u0627\u0633\u062a\u0644\u0627\u0645"}],this.timeout=null,this.sortDirection="asc",this.sortColumn="",this.SelectBranchMsg="",this.EntryNumberMsg="",this.subsidiaryID=this._generalService.SubsidiaryID,this.GetBranchList(),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get("SelectBranchError").subscribe(e=>{this.SelectBranchMsg=e}),this.ngTransUnsubscribe=this.translate.get("EntryNumberMsg").subscribe(e=>{this.EntryNumberMsg=e})}),c.params.subscribe(e=>{let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t?(console.log(t.branchId),this._ReceiptSearch.BranchID="null"!=t.branchId?t.branchId:0):this._ReceiptSearch.BranchID=0}),this.ngTransUnsubscribe=this.translate.get(["Transfer Request"]).subscribe(e=>{this.title=e["Transfer Request"],document.title=this.title}),this.ngTransUnsubscribe=this.translate.get(["NumNotExist"]).subscribe(e=>{this.NumNotExist=e.NumNotExist}),this.ngUnsubscribe=r.proadCastSubsidiaryID.subscribe(e=>{if(0==this.subsidiaryID&&(this.subsidiaryID=this._generalService.SubsidiaryID,this.ReceiptSearch()),this.subsidiaryID!=this._generalService.SubsidiaryID&&this.subsidiaryID>0){this.subsidiaryID=this._generalService.SubsidiaryID;let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&localStorage.removeItem("Branch"),this._ReceiptSearch.BranchID=0,localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this._ReceiptSearch.PageNo=1,this._ReceiptSearch.PageSize=10,this.GetBranchList(),this.ReceiptSearch()}})}ngOnInit(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this._ReceiptSearch.ReceiptCode="80",this._ReceiptSearch.sortColumn="Entry_Date.desc",0!=this.subsidiaryID&&(this.GetReceiptList(),this.GetReceiptListCount())}ReceiptSearch(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this.GetReceiptList(),this.GetReceiptListCount()}GetBranchList(){this._cashsalesService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(e=>{this.BranchList=e,this.cd.markForCheck()})}ChangeBranch(e){let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),this._ReceiptSearch.BranchID="0"!=e?e:0,localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this._ReceiptSearch.PageNo=1,this._ReceiptSearch.PageSize=10,this.ReceiptSearch()}ChangePropFinish(e=1){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,this.ReceiptSearch()},1e3*e)}GetReceiptList(e=null){this.sortColumn=null==e?null:e,this.sortDirection="asc"==this.sortDirection?"desc":"asc","ar"==this.lang&&("branch"!=this.sortColumn&&"accountname"!=this.sortColumn||(this.sortColumn=this.sortColumn+"ar")),null!=e&&(this.PageNo=1),null!=this.sortColumn&&""!=this.sortDirection&&(this._ReceiptSearch.sortColumn=this.sortColumn+"."+this.sortDirection),this.spinner.show(),this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(e=>{this.list=e,1==this.list.length&&this._ReceiptSearch.EntryNo>0?this._router.navigate(["/page/inventorytransfers/transferrequest/"+this.list[0].id]):0==this.list.length&&this._ReceiptSearch.EntryNo>0?this.toastr.warning(this.NumNotExist):this.ReceiptList=e,this.cd.markForCheck(),this.spinner.hide()})}GetReceiptListCount(){this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptListCount(this._ReceiptSearch).subscribe(e=>{this.totalCount=e[0].total,this.cd.markForCheck()})}OnAdd(){this._router.navigate(["/page/inventorytransfers/transferrequest/0"])}OnView(e){this._router.navigate(["/page/inventorytransfers/transferrequest/"+e.id+"/show"])}onEdit(e){let t="";t=`/page/inventorytransfers/transferrequest/${e.id}`,this._router.navigate([t])}ShowAll(){this._ReceiptSearch.BranchID=0,this._ReceiptSearch.EntryNo=0;let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this.GetReceiptList(),this.GetReceiptListCount()}SearchReceiptByEntryNo(){null!=this._ReceiptSearch.EntryNo&&null!=this._ReceiptSearch.EntryNo?(this.PageNo=1,this.PageSize=10,this.GetReceiptList(),this.GetReceiptListCount()):this.toastr.warning(this.EntryNumberMsg)}OnPrint(e=0){let t="",n="ar"==this.lang?"rtl":"ltr",i="ar"==this.lang?"\u0627\u0644\u0641\u0631\u0639":"Branch",r="ar"==this.lang?"\u0625\u0644\u0649 \u0645\u062e\u0632\u0646":"To store",s="ar"==this.lang?"\u0645\u0646 \u0645\u062e\u0632\u0646":"From store",o="ar"==this.lang?"\u0623\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645":"User Name",a="ar"==this.lang?"\u0627\u0644\u062d\u0627\u0644\u0629":"Status",c="ar"==this.lang?"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":"Entry no",l="ar"==this.lang?"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":"Date";this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(d=>{this.cd.markForCheck(),t=`\n           <table class="table text-center m-0 table table-striped"  border="1px"  dir = ${n}>\n                 <thead>\n                   <tr style="background: #e9f1f5;color: cornflowerblue;">\n                     <th>${i}</th>\n                     <th>${s}</th>\n                     <th>${r}</th>\n                     <th>${l}</th>\n                     <th>${c}</th>\n                     <th>${o}</th>\n                     <th>${a}</th>\n\n\n                   </tr>\n                 </thead>\n             <tbody>\n         `,d.map(e=>{let n="",i="";1==e.erpstatus?(n="New",i="\u062c\u062f\u064a\u062f "):2==e.erpstatus?(n="PartiallyReceived",i="\u0627\u0644\u0627\u0633\u062a\u0644\u0627\u0645 \u0627\u0644\u062c\u0632\u0626\u064a"):3==e.erpstatus?(n="Received",i="\u062a\u0645 \u0627\u0644\u0627\u0633\u062a\u0644\u0627\u0645"):(n="",i=""),t+=`\n        <tr>\n         <td>${"ar"==this.lang?e.branchnamear:e.branchname}</td>\n         <td>${"ar"==this.lang?e.fromstorenamear:e.fromstorename}</td>\n         <td>${"ar"==this.lang?e.tostorenamear:e.tostorename}</td>\n         <td>${e.entry_no}</td>\n         <td>${e.entry_date}</td>\n         <td>${"ar"==this.lang?e.usernamear:e.username}</td>\n         <td>${"ar"==this.lang?i:n}</td>\n\n\n        </tr>\n        `}),t+="</tbody></table>",1==e?this._convertToPDF.by_html2pdf(t):this._printService.OnPrintContent(t)})}OnExcel(){let e=[];this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(t=>{t.forEach(t=>{let n="",i="";1==t.erpstatus?(n="New",i="\u062c\u062f\u064a\u062f "):2==t.erpstatus?(n="PartiallyReceived",i="\u0627\u0644\u0627\u0633\u062a\u0644\u0627\u0645 \u0627\u0644\u062c\u0632\u0626\u064a"):3==t.erpstatus?(n="Received",i="\u062a\u0645 \u0627\u0644\u0627\u0633\u062a\u0644\u0627\u0645"):(n="",i=""),e.push("ar"==this.lang?{"\u0627\u0644\u0641\u0631\u0639":t.branchnamear,"\u0645\u0646 \u0645\u062e\u0632\u0646":t.fromstorenamear,"\u0627\u0644\u0649 \u0645\u062e\u0632\u0646":t.tostorenamear,"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":t.entry_no,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":t.entry_date,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645":t.usernamear,"\u0627\u0644\u062d\u0627\u0644\u0629":i}:{Branch:t.branchname,"From store":t.fromstorename,"To store":t.tostorename,"Entry No":t.entry_no,Date:t.entry_date,"User Name":t.username,Status:n})}),this._Excel.exportAsExcelFile(e,"transferrequests")})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}onPageChange(e){this._ReceiptSearch.PageNo=e,this.PageNo=e,this.GetReceiptList()}onPageSizeChange(e){this._ReceiptSearch.PageSize=e,this.PageSize=e,this.GetReceiptList()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(y["\u0275\u0275directiveInject"](_.n),y["\u0275\u0275directiveInject"](y.ChangeDetectorRef),y["\u0275\u0275directiveInject"](v._W),y["\u0275\u0275directiveInject"](c.F0),y["\u0275\u0275directiveInject"](R.m),y["\u0275\u0275directiveInject"](l.sK),y["\u0275\u0275directiveInject"](S.K),y["\u0275\u0275directiveInject"](b.t2),y["\u0275\u0275directiveInject"](c.gz),y["\u0275\u0275directiveInject"](f.t),y["\u0275\u0275directiveInject"](x.e),y["\u0275\u0275directiveInject"](I.$),y["\u0275\u0275directiveInject"](M.x),y["\u0275\u0275directiveInject"](E.z),y["\u0275\u0275directiveInject"](C.J))},e.\u0275cmp=y["\u0275\u0275defineComponent"]({type:e,selectors:[["app-transfer-request"]],features:[y["\u0275\u0275ProvidersFeature"]([_.n,f.t,C.J])],decls:5,vars:3,consts:[["class","row",4,"ngIf"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"row"],[1,"HasNotPermission",2,"margin","auto","width","auto","margin-top","200px"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-body"],[1,"col-sm-12"],[1,"col-md-8"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"col-lg-4","col-md-4","col-sm-12"],[1,"form-group"],["for","Branch"],["name","Branch","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["Branch","ngModel"],["Value","0"],[3,"value",4,"ngFor","ngForOf"],["for","EntryNumber"],["type","number","id","ReceiptNumber","name","ReceiptNumber","min","0","PositiveNumbersOnly","","required","",1,"form-control",3,"ngModel","ngModelChange"],["ReceiptNumber","ngModel"],[1,"col-lg-4","col-sm-4","mt-3","text-center"],["type","submit",1,"btn","btn-primary","mr-2"],[1,""],["type","button",1,"btn","btn-primary","mr-2",3,"click"],[1,"col-lg-12","mt-2","col-xs-12","text-center-sm"],[1,"row","mb-2"],[1,"col-lg-6","col-md-7","col-xs-12","my-auto","text-center-sm","actionBtns"],["class","btn btn-success mb-0 ng-star-inserted",3,"click",4,"ngIf"],["class","btn btn-warning mb-0 me-3 ng-star-inserted",3,"click",4,"ngIf"],[1,"btn","btn-danger","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-success","mb-0","me-3","ng-star-inserted",3,"click"],[1,"col-lg-6","col-md-6","col-sm-12","pull-right"],[1,"form-group","d-flex","justify-content-end"],["for","SearchValue",1,"pt-1","pl-1","pr-1","form-label"],["type","text","id","SearchValue","name","SearchValue",1,"form-control","col-md-6",3,"ngModel","ngModelChange","keyup"],["SearchValue","ngModel"],[1,"col-12"],[1,"card"],[1,"card-header"],[1,"card-content"],[1,"card-body","table-responsive"],[1,"table","text-center","m-0","table","table-striped"],[3,"click"],[1,"fa","fa-fw","fa-sort",3,"hidden"],["class","fa fa-fw fa-sort-desc",4,"ngIf"],["class","fa fa-fw fa-sort-asc",4,"ngIf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],[3,"value"],[1,"btn","btn-success","mb-0","ng-star-inserted",3,"click"],[1,"btn","btn-warning","mb-0","me-3","ng-star-inserted",3,"click"],[1,"fa","fa-fw","fa-sort-desc"],[1,"fa","fa-fw","fa-sort-asc"],[4,"ngFor","ngForOf"],["class","text-truncate",4,"ngIf"],["href","javascript:;",1,"primary","mr-1",3,"routerLink"],["aria-hidden","true",1,"fa","fa-list"],[1,"text-truncate"],["href","javascript:;","class","primary p-0",3,"routerLink",4,"ngIf"],["href","javascript:;",1,"primary","p-0",3,"routerLink"],[1,"ft-edit","mr-2"],[2,"background-color","#B0BED9"],["colspan","8"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(y["\u0275\u0275template"](0,Wn,4,3,"div",0),y["\u0275\u0275template"](1,Ji,118,75,"div",1),y["\u0275\u0275elementStart"](2,"ngx-spinner",2),y["\u0275\u0275elementStart"](3,"p",3),y["\u0275\u0275text"](4,"Loading..."),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275property"]("ngIf",!t.checkRoleParms(323)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",t.checkRoleParms(323)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("fullScreen",!0))},directives:[i.O5,b.Ro,s._Y,s.JL,s.F,s.EJ,s.Q7,s.JJ,s.On,s.YN,s.Kr,i.sg,s.qQ,s.wV,s.Fj,O.K,c.yS,P.N9],pipes:[l.X$],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.headerform[_ngcontent-%COMP%]{background-color:#2f8be6;color:#fff;height:44px;padding-top:9px;margin-bottom:17px}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important;text-align:center}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}']}),e})();var Yi=n(29609);const Hi=["RForm"],Zi=["PaymentMethodModel"];function Ki(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"div",4),y["\u0275\u0275elementStart"](1,"h1",5),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function Xi(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",81),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).DocumentAction()}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"Document")," ")}}function er(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",82),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).PrintPreview(0)}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"PrintPreview")," ")}}function tr(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",85),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).onPrint()}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"Print")," ")}}function nr(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",85),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).DupilcateAction()}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"Dupilcate")," ")}}function ir(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",85),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](4).DeleteAction()}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function rr(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275template"](1,ir,3,4,"button",83),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",0==e.ShowModeReceipt&&e.ReceiptID>0&&0==e.VouchersLinkedCount&&3!=e._Receipt.erpstatus)}}function sr(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275template"](1,tr,3,4,"button",83),y["\u0275\u0275elementStart"](2,"email-popup",84),y["\u0275\u0275listener"]("_savedemailobj",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).sendEmail(t)}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](3,nr,3,4,"button",83),y["\u0275\u0275template"](4,rr,2,1,"div",1),y["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(325)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("entryno",e._Receipt.entry_no),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(320)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(324))}}function or(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",86),y["\u0275\u0275text"](1,"choose"),y["\u0275\u0275elementEnd"]())}function ar(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",86),y["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),y["\u0275\u0275elementEnd"]())}function cr(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function lr(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function dr(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",87),y["\u0275\u0275template"](1,cr,2,1,"span",1),y["\u0275\u0275template"](2,lr,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function pr(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.text,"")}}function hr(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.text_ar,"")}}function mr(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",87),y["\u0275\u0275template"](1,pr,2,1,"span",1),y["\u0275\u0275template"](2,hr,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function ur(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.text,"")}}function _r(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.text_ar,"")}}function gr(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",87),y["\u0275\u0275template"](1,ur,2,1,"span",1),y["\u0275\u0275template"](2,_r,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](3);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}const fr=function(e,t){return{"invalid-data":e,"valid-data":t}};function Cr(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",32),y["\u0275\u0275elementStart"](1,"div",25),y["\u0275\u0275elementStart"](2,"label",93),y["\u0275\u0275text"](3),y["\u0275\u0275pipe"](4,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"span",27),y["\u0275\u0275text"](6,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"input",94,95),y["\u0275\u0275listener"]("focusout",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).CheckReplenshimentDate(t)})("ngModelChange",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275nextContext"](3);return n._Receipt.replenshimentfromdate=t,n.CheckReplenshimentDate(t)}),y["\u0275\u0275pipe"](9,"date"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](8);y["\u0275\u0275nextContext"](2);const t=y["\u0275\u0275reference"](4),n=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](4,3,"From")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngModel",y["\u0275\u0275pipeBind2"](9,5,n._Receipt.replenshimentfromdate,"yyyy-MM-dd"))("ngClass",y["\u0275\u0275pureFunction2"](8,fr,e.invalid&&t.submitted,e.valid&&t.submitted))}}function yr(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",32),y["\u0275\u0275elementStart"](1,"div",25),y["\u0275\u0275elementStart"](2,"label",96),y["\u0275\u0275text"](3),y["\u0275\u0275pipe"](4,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"span",27),y["\u0275\u0275text"](6,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"input",97,98),y["\u0275\u0275listener"]("focusout",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).CheckReplenshimentDate(t)})("ngModelChange",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275nextContext"](3);return n._Receipt.replenshimenttodate=t,n.CheckReplenshimentDate(t)}),y["\u0275\u0275pipe"](9,"date"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](8);y["\u0275\u0275nextContext"](2);const t=y["\u0275\u0275reference"](4),n=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](4,3,"To")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngModel",y["\u0275\u0275pipeBind2"](9,5,n._Receipt.replenshimenttodate,"yyyy-MM-dd"))("ngClass",y["\u0275\u0275pureFunction2"](8,fr,e.invalid&&t.submitted,e.valid&&t.submitted))}}function vr(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",4),y["\u0275\u0275elementStart"](1,"div",32),y["\u0275\u0275elementStart"](2,"div",25),y["\u0275\u0275elementStart"](3,"label",88),y["\u0275\u0275text"](4),y["\u0275\u0275pipe"](5,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"span",27),y["\u0275\u0275text"](7,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"select",89,90),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.replenshimenttype=t})("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).changeReplenshimentType(t)}),y["\u0275\u0275template"](10,gr,3,3,"option",39),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](11,Cr,10,11,"div",43),y["\u0275\u0275template"](12,yr,10,11,"div",43),y["\u0275\u0275elementStart"](13,"div",32),y["\u0275\u0275elementStart"](14,"button",91),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).Search()}),y["\u0275\u0275element"](15,"i",92),y["\u0275\u0275text"](16),y["\u0275\u0275pipe"](17,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](9);y["\u0275\u0275nextContext"]();const t=y["\u0275\u0275reference"](4),n=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](5,7,"replenshimenttype")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngModel",n._Receipt.replenshimenttype)("ngClass",y["\u0275\u0275pureFunction2"](11,fr,e.invalid&&t.submitted,e.valid&&t.submitted)),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngForOf",n.ReplenshimentTypeList),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",1==n._Receipt.replenshimenttype),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",1==n._Receipt.replenshimenttype),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](17,9,"Search")," ")}}function Rr(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.text,"")}}function Sr(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.text_ar,"")}}function br(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",87),y["\u0275\u0275template"](1,Rr,2,1,"span",1),y["\u0275\u0275template"](2,Sr,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function xr(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",86),y["\u0275\u0275text"](1,"choose"),y["\u0275\u0275elementEnd"]())}function Ir(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",86),y["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),y["\u0275\u0275elementEnd"]())}function Mr(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug,"")}}function Er(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar,"")}}function Or(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",87),y["\u0275\u0275template"](1,Mr,2,1,"span",1),y["\u0275\u0275template"](2,Er,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](3);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Pr(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",32),y["\u0275\u0275elementStart"](1,"div",25),y["\u0275\u0275elementStart"](2,"label",99),y["\u0275\u0275text"](3),y["\u0275\u0275pipe"](4,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"span",27),y["\u0275\u0275text"](6,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"select",100,101),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.tostoreid=t})("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).changeToStoreType(t)})("focusout",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).ToStorFocus()}),y["\u0275\u0275template"](9,xr,2,0,"option",30),y["\u0275\u0275template"](10,Ir,2,0,"option",30),y["\u0275\u0275template"](11,Or,3,3,"option",39),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](8);y["\u0275\u0275nextContext"]();const t=y["\u0275\u0275reference"](4),n=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](4,6,"ToStore")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngModel",n._Receipt.tostoreid)("ngClass",y["\u0275\u0275pureFunction2"](8,fr,e.invalid&&t.submitted,e.valid&&t.submitted)),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",n.UserToStoreList)}}function wr(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",86),y["\u0275\u0275text"](1,"choose"),y["\u0275\u0275elementEnd"]())}function kr(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",86),y["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),y["\u0275\u0275elementEnd"]())}function Dr(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug,"")}}function Br(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar,"")}}function Fr(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",87),y["\u0275\u0275template"](1,Dr,2,1,"span",1),y["\u0275\u0275template"](2,Br,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Lr(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",86),y["\u0275\u0275text"](1,"choose"),y["\u0275\u0275elementEnd"]())}function qr(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",86),y["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),y["\u0275\u0275elementEnd"]())}function Tr(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug,"")}}function Nr(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar,"")}}function Vr(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",87),y["\u0275\u0275template"](1,Tr,2,1,"span",1),y["\u0275\u0275template"](2,Nr,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](3);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Ar(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",32),y["\u0275\u0275elementStart"](1,"div",25),y["\u0275\u0275elementStart"](2,"label",99),y["\u0275\u0275text"](3),y["\u0275\u0275pipe"](4,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"span",27),y["\u0275\u0275text"](6,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"select",100,101),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.tostoreid=t})("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).changeToStoreType(t)})("focusout",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).ToStorFocus()}),y["\u0275\u0275template"](9,Lr,2,0,"option",30),y["\u0275\u0275template"](10,qr,2,0,"option",30),y["\u0275\u0275template"](11,Vr,3,3,"option",39),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](8);y["\u0275\u0275nextContext"]();const t=y["\u0275\u0275reference"](4),n=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](4,6,"ToStore")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngModel",n._Receipt.tostoreid)("ngClass",y["\u0275\u0275pureFunction2"](8,fr,e.invalid&&t.submitted,e.valid&&t.submitted)),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",n.UserToStoreList)}}function Ur(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",86),y["\u0275\u0275text"](1,"choose"),y["\u0275\u0275elementEnd"]())}function $r(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",86),y["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),y["\u0275\u0275elementEnd"]())}function Gr(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.text,"")}}function jr(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.text_ar,"")}}function Wr(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",87),y["\u0275\u0275template"](1,Gr,2,1,"span",1),y["\u0275\u0275template"](2,jr,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function zr(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",86),y["\u0275\u0275text"](1,"choose"),y["\u0275\u0275elementEnd"]())}function Jr(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",86),y["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),y["\u0275\u0275elementEnd"]())}function Qr(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function Yr(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function Hr(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",87),y["\u0275\u0275template"](1,Qr,2,1,"span",1),y["\u0275\u0275template"](2,Yr,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Zr(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",107),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Pack")," "))}function Kr(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",107),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Available")," "))}function Xr(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",107),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"ReorderQty")," "))}function es(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",107),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Netsales")," "))}function ts(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",107),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"QtyDiff")," "))}function ns(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function is(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function rs(e,t){if(1&e&&(y["\u0275\u0275template"](0,ns,2,1,"div",1),y["\u0275\u0275template"](1,is,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function ss(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function os(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function as(e,t){if(1&e&&(y["\u0275\u0275template"](0,ss,2,1,"div",1),y["\u0275\u0275template"](1,os,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}const cs=function(e,t){return{"invalid-qty":e,"valid-qty":t}};function ls(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",130),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275nextContext"](2);const t=y["\u0275\u0275reference"](4);y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction2"](2,cs,0==e.allowqtyselectforitem&&t.submitted||0==e.allowqtyselectforitem,1==e.allowqtyselectforitem&&t.submitted||1==e.allowqtyselectforitem)),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.itemname," ")}}function ds(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",130),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275nextContext"](2);const t=y["\u0275\u0275reference"](4);y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction2"](2,cs,0==e.allowqtyselectforitem&&t.submitted||0==e.allowqtyselectforitem,1==e.allowqtyselectforitem&&t.submitted||1==e.allowqtyselectforitem)),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.itemname_ar," ")}}function ps(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",131),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function hs(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",131),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function ms(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function us(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function _s(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",132),y["\u0275\u0275template"](1,ms,2,1,"span",1),y["\u0275\u0275template"](2,us,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"]().$implicit,i=y["\u0275\u0275nextContext"](3);y["\u0275\u0275property"]("ngValue",null==e?null:e.id)("selected",(null==e?null:e.id)===n.unit_id&&(null==e?null:e.item_id)===(null==n?null:n.item_id)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function gs(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",133,134),y["\u0275\u0275listener"]("keyup",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275nextContext"]().index;return y["\u0275\u0275nextContext"](3).ChangePackItem(t)})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().$implicit.conv=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](2),t=y["\u0275\u0275nextContext"](),n=t.index,i=t.$implicit;y["\u0275\u0275nextContext"](2);const r=y["\u0275\u0275reference"](4),s=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate"]("step",null==s.CashCustomerSetting?null:s.CashCustomerSetting.allowdecimalpack),y["\u0275\u0275propertyInterpolate1"]("name","item_conv",n,""),y["\u0275\u0275property"]("readonly",3==(null==i?null:i.item_type)&&null!=(null==i?null:i.item_id))("Min",1e-5)("CheckMin",null!=(null==i?null:i.item_id))("stepallow",null==s.CashCustomerSetting?null:s.CashCustomerSetting.allowdecimalpack)("ngModel",i.conv)("required",null!=(null==i?null:i.item_id))("ngClass",y["\u0275\u0275pureFunction2"](9,fr,e.invalid&&r.submitted,e.valid&&r.submitted))}}function fs(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",135,136),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().$implicit.netsales=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](2),t=y["\u0275\u0275nextContext"](),n=t.index,i=t.$implicit;y["\u0275\u0275nextContext"](2);const r=y["\u0275\u0275reference"](4);y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate1"]("name","netsales",n,""),y["\u0275\u0275property"]("Min",1e-5)("CheckMin",null!=(null==i?null:i.item_id))("ngModel",i.netsales)("ngClass",y["\u0275\u0275pureFunction2"](5,fr,e.invalid&&r.submitted,e.valid&&r.submitted))}}function Cs(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",135,137),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().$implicit.replenshdiff=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](2),t=y["\u0275\u0275nextContext"](),n=t.index,i=t.$implicit;y["\u0275\u0275nextContext"](2);const r=y["\u0275\u0275reference"](4);y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate1"]("name","replenshdiff",n,""),y["\u0275\u0275property"]("Min",1e-5)("CheckMin",null!=(null==i?null:i.item_id))("ngModel",i.replenshdiff)("ngClass",y["\u0275\u0275pureFunction2"](5,fr,e.invalid&&r.submitted,e.valid&&r.submitted))}}function ys(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",135,138),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().$implicit.availableqty=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](2),t=y["\u0275\u0275nextContext"](),n=t.index,i=t.$implicit;y["\u0275\u0275nextContext"](2);const r=y["\u0275\u0275reference"](4);y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate1"]("name","availableqty",n,""),y["\u0275\u0275property"]("Min",1e-5)("CheckMin",null!=(null==i?null:i.item_id))("ngModel",i.availableqty)("ngClass",y["\u0275\u0275pureFunction2"](5,fr,e.invalid&&r.submitted,e.valid&&r.submitted))}}function vs(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",135,139),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().$implicit.reorderqty=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](2),t=y["\u0275\u0275nextContext"](),n=t.index,i=t.$implicit;y["\u0275\u0275nextContext"](2);const r=y["\u0275\u0275reference"](4);y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate1"]("name","reorderqty",n,""),y["\u0275\u0275property"]("Min",1e-5)("CheckMin",null!=(null==i?null:i.item_id))("ngModel",i.reorderqty)("ngClass",y["\u0275\u0275pureFunction2"](5,fr,e.invalid&&r.submitted,e.valid&&r.submitted))}}const Rs=function(e){return{item_id:e}};function Ss(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275elementStart"](1,"td",113),y["\u0275\u0275text"](2),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](3,"td"),y["\u0275\u0275elementStart"](4,"p-autoComplete",114,115),y["\u0275\u0275listener"]("onFocus",function(t){const n=y["\u0275\u0275restoreView"](e).index,i=y["\u0275\u0275reference"](5),r=y["\u0275\u0275nextContext"](3);return r.onFocusInStore(t,n),i.show(),r.isType=!0})("onClick",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.storecode=e})("onSelect",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).StoreSelectEvent(t,n)})("completeMethod",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).StoreChangeSearch(t,n)})("onClear",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3)._Receipt.details[t].store_id=null}),y["\u0275\u0275pipe"](6,"translate"),y["\u0275\u0275template"](7,rs,2,2,"ng-template",116),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"td"),y["\u0275\u0275elementStart"](9,"p-autoComplete",117,118),y["\u0275\u0275listener"]("onFocus",function(t){const n=y["\u0275\u0275restoreView"](e).index,i=y["\u0275\u0275reference"](10),r=y["\u0275\u0275nextContext"](3);return r.onFocusInItems(t,n),i.show(),r.isType=!0})("onClick",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.itemcode=e})("onSelect",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).ItemsSelectEvent(t,n)})("completeMethod",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).ItemsChangeSearch(t,n)})("onClear",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).onClearItems(t)}),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275template"](12,as,2,2,"ng-template",119),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](13,"td",120),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e),n=t.$implicit,i=t.index;return y["\u0275\u0275nextContext"](3).OnSelectedItem(n,i,"selected")}),y["\u0275\u0275template"](14,ls,2,5,"div",121),y["\u0275\u0275template"](15,ds,2,5,"div",121),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](16,"td"),y["\u0275\u0275elementStart"](17,"select",122,123),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e})("change",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).ChangeItemUnits(t.target.value,n)}),y["\u0275\u0275template"](19,ps,2,1,"option",124),y["\u0275\u0275template"](20,hs,2,1,"option",124),y["\u0275\u0275template"](21,_s,3,4,"option",125),y["\u0275\u0275pipe"](22,"filterby"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](23,gs,3,12,"td",1),y["\u0275\u0275elementStart"](24,"td"),y["\u0275\u0275elementStart"](25,"input",126,127),y["\u0275\u0275listener"]("keyup",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).ChangeQty(t)})("ngModelChange",function(e){return t.$implicit.qty=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](27,fs,3,8,"td",1),y["\u0275\u0275template"](28,Cs,3,8,"td",1),y["\u0275\u0275template"](29,ys,3,8,"td",1),y["\u0275\u0275template"](30,vs,3,8,"td",1),y["\u0275\u0275elementStart"](31,"td"),y["\u0275\u0275elementStart"](32,"a",128),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).DeleteItems(t)}),y["\u0275\u0275element"](33,"i",129),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=t.index,r=y["\u0275\u0275reference"](18),s=y["\u0275\u0275reference"](26);y["\u0275\u0275nextContext"](2);const o=y["\u0275\u0275reference"](4),a=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](i+1),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","storecode",n,""),y["\u0275\u0275property"]("ngModel",e.storecode)("disabled",!0)("suggestions",a.FromStoreList)("showEmptyMessage",!0)("emptyMessage",y["\u0275\u0275pipeBind1"](6,34,"NoResultsFound"))("forceSelection",!0),y["\u0275\u0275advance"](5),y["\u0275\u0275propertyInterpolate1"]("name","itemcode",n,""),y["\u0275\u0275property"]("ngModel",e.itemcode)("suggestions",a.ItemsList)("showEmptyMessage",!0)("emptyMessage",y["\u0275\u0275pipeBind1"](11,36,"NoResultsFound"))("forceSelection",!0),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngIf","ar"!=a.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==a.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","itemunit",n,""),y["\u0275\u0275property"]("ngModel",e.unit_id)("required",null!=(null==e?null:e.item_id))("ngClass",y["\u0275\u0275pureFunction2"](41,fr,r.invalid&&o.submitted,r.valid&&o.submitted)),y["\u0275\u0275attribute"]("disabled",3==(null==e?null:e.item_type)&&null!=(null==e?null:e.item_id)||null),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=a.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==a.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",y["\u0275\u0275pipeBind2"](22,38,a.ItemUnitsList,y["\u0275\u0275pureFunction1"](44,Rs,null==e?null:e.item_id))),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==a.CashCustomerSetting?null:a.CashCustomerSetting.allowpack)),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","item_qty",n,""),y["\u0275\u0275property"]("Min",1e-5)("CheckMin",null!=(null==e?null:e.item_id))("ngModel",e.qty)("ngClass",y["\u0275\u0275pureFunction2"](46,fr,s.invalid&&o.submitted,s.valid&&o.submitted)),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",86==a._Receipt.code&&1==a._Receipt.replenshimenttype),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",86==a._Receipt.code&&1==a._Receipt.replenshimenttype),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",86==a._Receipt.code&&2==a._Receipt.replenshimenttype),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",86==a._Receipt.code&&2==a._Receipt.replenshimenttype)}}const bs=function(e){return{"table-for-autocomplete":e}};function xs(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",102),y["\u0275\u0275elementStart"](1,"div",103),y["\u0275\u0275elementStart"](2,"div",104),y["\u0275\u0275elementStart"](3,"table",105),y["\u0275\u0275elementStart"](4,"thead"),y["\u0275\u0275elementStart"](5,"tr"),y["\u0275\u0275element"](6,"th"),y["\u0275\u0275elementStart"](7,"th",106),y["\u0275\u0275text"](8),y["\u0275\u0275pipe"](9,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](10,"th",107),y["\u0275\u0275text"](11),y["\u0275\u0275pipe"](12,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](13,"th",107),y["\u0275\u0275text"](14),y["\u0275\u0275pipe"](15,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](16,"th",108),y["\u0275\u0275text"](17),y["\u0275\u0275pipe"](18,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](19,Zr,3,3,"th",109),y["\u0275\u0275elementStart"](20,"th",107),y["\u0275\u0275text"](21),y["\u0275\u0275pipe"](22,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](23,Kr,3,3,"th",109),y["\u0275\u0275template"](24,Xr,3,3,"th",109),y["\u0275\u0275template"](25,es,3,3,"th",109),y["\u0275\u0275template"](26,ts,3,3,"th",109),y["\u0275\u0275elementStart"](27,"th",110),y["\u0275\u0275text"](28," \xa0 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](29,"tbody"),y["\u0275\u0275template"](30,Ss,34,49,"tr",111),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](31,"button",112),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).AddItems()}),y["\u0275\u0275text"](32),y["\u0275\u0275pipe"](33,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction1"](26,bs,e.isType)),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](9,14,"Store")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](12,16,"ItemCode")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](15,18,"ItemDescription")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](18,20,"Unit")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==e.CashCustomerSetting?null:e.CashCustomerSetting.allowpack)),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](22,22,"qty")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",86==e._Receipt.code&&2==e._Receipt.replenshimenttype),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",86==e._Receipt.code&&2==e._Receipt.replenshimenttype),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",86==e._Receipt.code&&1==e._Receipt.replenshimenttype),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",86==e._Receipt.code&&1==e._Receipt.replenshimenttype),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngForOf",e._Receipt.details)("ngForTrackBy",e._ReceiptSharedService.customTrackBy),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](33,24,"Add")," ")}}function Is(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",107),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Pack")," "))}function Ms(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.itemname," ")}}function Es(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.itemname_ar," ")}}function Os(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",131),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function Ps(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",131),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function ws(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function ks(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function Ds(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",87),y["\u0275\u0275template"](1,ws,2,1,"span",1),y["\u0275\u0275template"](2,ks,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](5);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Bs(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",147),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().$implicit.conv=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](),t=e.index,n=e.$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate1"]("name","item_conv_c",t,""),y["\u0275\u0275property"]("readonly",!0)("ngModel",n.conv)}}function Fs(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275elementStart"](1,"td"),y["\u0275\u0275elementStart"](2,"input",142),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.storecode=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](3,"td"),y["\u0275\u0275elementStart"](4,"input",142),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.itemcode=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"td"),y["\u0275\u0275template"](6,Ms,2,1,"div",1),y["\u0275\u0275template"](7,Es,2,1,"div",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"td"),y["\u0275\u0275elementStart"](9,"select",143),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e}),y["\u0275\u0275template"](10,Os,2,1,"option",124),y["\u0275\u0275template"](11,Ps,2,1,"option",124),y["\u0275\u0275template"](12,Ds,3,3,"option",39),y["\u0275\u0275pipe"](13,"filterby"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](14,Bs,2,3,"td",1),y["\u0275\u0275elementStart"](15,"td"),y["\u0275\u0275elementStart"](16,"input",144),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.qty=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](17,"td"),y["\u0275\u0275elementStart"](18,"input",145,146),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.price=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](20,"td"),y["\u0275\u0275elementStart"](21,"input",144),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.total=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index,i=y["\u0275\u0275reference"](19);y["\u0275\u0275nextContext"](3);const r=y["\u0275\u0275reference"](4),s=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","storecode_c",n,""),y["\u0275\u0275property"]("readonly",!0)("ngModel",e.storecode),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","itemcode_c",n,""),y["\u0275\u0275property"]("readonly",!0)("ngModel",e.itemcode),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=s.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==s.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","itemunit_c",n,""),y["\u0275\u0275property"]("ngModel",e.unit_id),y["\u0275\u0275attribute"]("disabled",!0),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=s.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==s.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",y["\u0275\u0275pipeBind2"](13,27,s.ItemComponentUnitsList,y["\u0275\u0275pureFunction1"](30,Rs,e.item_id))),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==s.CashCustomerSetting?null:s.CashCustomerSetting.allowpack)),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","item_qty_c",n,""),y["\u0275\u0275property"]("ngModel",e.qty)("readonly",!0),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","item_price_c",n,""),y["\u0275\u0275property"]("ngModel",e.price)("Min",0)("CheckMin",null!=(null==e?null:e.item_id))("readonly",!0)("ngClass",y["\u0275\u0275pureFunction2"](32,fr,i.invalid&&r.submitted,i.valid&&r.submitted)),y["\u0275\u0275advance"](3),y["\u0275\u0275propertyInterpolate1"]("name","item_total_c",n,""),y["\u0275\u0275property"]("ngModel",e.total)("readonly",!0)}}const Ls=function(e){return{finishedproductid:e}};function qs(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",102),y["\u0275\u0275elementStart"](1,"div",103),y["\u0275\u0275elementStart"](2,"div",140),y["\u0275\u0275elementStart"](3,"table",105),y["\u0275\u0275elementStart"](4,"thead"),y["\u0275\u0275elementStart"](5,"tr"),y["\u0275\u0275elementStart"](6,"th",107),y["\u0275\u0275text"](7),y["\u0275\u0275pipe"](8,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"th",107),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"th",107),y["\u0275\u0275text"](13),y["\u0275\u0275pipe"](14,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](15,"th",108),y["\u0275\u0275text"](16),y["\u0275\u0275pipe"](17,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](18,Is,3,3,"th",109),y["\u0275\u0275elementStart"](19,"th",107),y["\u0275\u0275text"](20),y["\u0275\u0275pipe"](21,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](22,"th",107),y["\u0275\u0275text"](23),y["\u0275\u0275pipe"](24,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](25,"th",107),y["\u0275\u0275text"](26),y["\u0275\u0275pipe"](27,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](28,"tbody"),y["\u0275\u0275template"](29,Fs,22,35,"tr",141),y["\u0275\u0275pipe"](30,"filterby"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](7),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](8,9,"Store")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](11,11,"ItemCode")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](14,13,"ItemDescription")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](17,15,"Unit")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==e.CashCustomerSetting?null:e.CashCustomerSetting.allowpack)),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](21,17,"qty")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](24,19,"Price")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](27,21,"Total")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngForOf",0==e.show_all_component?y["\u0275\u0275pipeBind2"](30,23,e.ItemsComponentList,y["\u0275\u0275pureFunction1"](26,Ls,null==e.SelectedItem?null:e.SelectedItem.item_id)):e.ItemsComponentList)}}function Ts(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"li",74),y["\u0275\u0275elementStart"](1,"a",75),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](4,qs,31,28,"ng-template",76),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275property"]("ngbNavItem",2),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](3,2,"Components")))}function Ns(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",86),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]())}function Vs(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",86),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]())}function As(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function Us(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function $s(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",87),y["\u0275\u0275template"](1,As,2,1,"span",1),y["\u0275\u0275template"](2,Us,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Gs(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",131),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function js(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",131),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function Ws(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.codename,"")}}function zs(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.codenamear,"")}}function Js(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",87),y["\u0275\u0275template"](1,Ws,2,1,"span",1),y["\u0275\u0275template"](2,zs,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("value",e.code),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Qs(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275elementStart"](1,"td"),y["\u0275\u0275elementStart"](2,"select",148),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.branch_id=e}),y["\u0275\u0275template"](3,Ns,2,0,"option",30),y["\u0275\u0275template"](4,Vs,2,0,"option",30),y["\u0275\u0275template"](5,$s,3,3,"option",39),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"td"),y["\u0275\u0275elementStart"](7,"select",148),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.code=e}),y["\u0275\u0275template"](8,Gs,2,1,"option",124),y["\u0275\u0275template"](9,js,2,1,"option",124),y["\u0275\u0275template"](10,Js,3,3,"option",39),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](11,"td"),y["\u0275\u0275elementStart"](12,"input",149,150),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.entry_no=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](14,"td"),y["\u0275\u0275elementStart"](15,"a",151),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).GetLinkedReceipt(t)}),y["\u0275\u0275element"](16,"i",152),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](17,"td"),y["\u0275\u0275elementStart"](18,"a",153),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).OnOpenLinkedReceipt(t)}),y["\u0275\u0275element"](19,"i",154),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](20,"td"),y["\u0275\u0275elementStart"](21,"a",128),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).DeleteLinkedReceipt(t)}),y["\u0275\u0275element"](22,"i",129),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsbranch",n,""),y["\u0275\u0275property"]("ngModel",e.branch_id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",i.BranchList),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptscode",n,""),y["\u0275\u0275property"]("ngModel",e.code),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",i.ReceiptCodeList),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsentry_no",n,""),y["\u0275\u0275property"]("ngModel",e.entry_no),y["\u0275\u0275advance"](3),y["\u0275\u0275attribute"]("disabled",(null==e?null:e.fire)>0||null)}}function Ys(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",102),y["\u0275\u0275elementStart"](1,"div",103),y["\u0275\u0275elementStart"](2,"div",140),y["\u0275\u0275elementStart"](3,"table",105),y["\u0275\u0275elementStart"](4,"thead"),y["\u0275\u0275elementStart"](5,"tr"),y["\u0275\u0275elementStart"](6,"th",107),y["\u0275\u0275text"](7),y["\u0275\u0275pipe"](8,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"th",107),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"th",107),y["\u0275\u0275text"](13),y["\u0275\u0275pipe"](14,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](15,"th",110),y["\u0275\u0275text"](16," \xa0 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](17,"th",110),y["\u0275\u0275text"](18," \xa0 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](19,"th",110),y["\u0275\u0275text"](20," \xa0 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](21,"tbody"),y["\u0275\u0275template"](22,Qs,23,13,"tr",141),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](23,"button",112),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).AddLinkedReceipt()}),y["\u0275\u0275text"](24),y["\u0275\u0275pipe"](25,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](7),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](8,5,"Branch")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](11,7,"Receipttype")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](14,9,"EntryNo")," "),y["\u0275\u0275advance"](9),y["\u0275\u0275property"]("ngForOf",e._Receipt.linkedreceipts),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](25,11,"Add")," ")}}function Hs(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",102),y["\u0275\u0275elementStart"](1,"div",103),y["\u0275\u0275elementStart"](2,"Signature",155),y["\u0275\u0275listener"]("signatureoutput",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).OnSignatureSet(t)}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("signature",e._Receipt.signature)}}function Zs(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275elementStart"](1,"Item-StoreQty",156,157),y["\u0275\u0275listener"]("BalancesList",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).GetBalnce(t)}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("wrappe",e._itemstoreqtyobj)}}function Ks(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275elementStart"](1,"div",6),y["\u0275\u0275elementStart"](2,"div",4),y["\u0275\u0275elementStart"](3,"form",7,8),y["\u0275\u0275listener"]("ngSubmit",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275reference"](4);return y["\u0275\u0275nextContext"]().CheckPre_SaveReceipt(t)}),y["\u0275\u0275elementStart"](5,"div",9),y["\u0275\u0275elementStart"](6,"div",10),y["\u0275\u0275elementStart"](7,"div",11),y["\u0275\u0275elementStart"](8,"div",12),y["\u0275\u0275elementStart"](9,"h6",13),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"div",4),y["\u0275\u0275elementStart"](13,"div",14),y["\u0275\u0275elementStart"](14,"button",15),y["\u0275\u0275element"](15,"i",16),y["\u0275\u0275text"](16),y["\u0275\u0275pipe"](17,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](18,"button",17),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().CreateNewAction()}),y["\u0275\u0275text"](19),y["\u0275\u0275pipe"](20,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](21,Xi,3,4,"button",18),y["\u0275\u0275template"](22,er,3,4,"button",19),y["\u0275\u0275elementStart"](23,"button",20),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().BackAction()}),y["\u0275\u0275text"](24),y["\u0275\u0275pipe"](25,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](26,"div",21),y["\u0275\u0275elementStart"](27,"button",22),y["\u0275\u0275text"](28),y["\u0275\u0275pipe"](29,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](30,"div",23),y["\u0275\u0275template"](31,sr,5,4,"ng-container",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](32,"hr"),y["\u0275\u0275elementStart"](33,"div",4),y["\u0275\u0275elementStart"](34,"div",24),y["\u0275\u0275elementStart"](35,"div",25),y["\u0275\u0275elementStart"](36,"label",26),y["\u0275\u0275text"](37),y["\u0275\u0275pipe"](38,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](39,"span",27),y["\u0275\u0275text"](40,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](41,"select",28,29),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.branch_id=t})("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().changeBranch(t)}),y["\u0275\u0275template"](43,or,2,0,"option",30),y["\u0275\u0275template"](44,ar,2,0,"option",30),y["\u0275\u0275template"](45,dr,3,3,"option",31),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](46,"div",32),y["\u0275\u0275elementStart"](47,"div",25),y["\u0275\u0275elementStart"](48,"label",33),y["\u0275\u0275text"](49),y["\u0275\u0275pipe"](50,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](51,"span",27),y["\u0275\u0275text"](52,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](53,"input",34,35),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.entry_no=t})("ngModelChange",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ChangePropFinish("EntryCode",2)})("keydown.space",function(e){return e.preventDefault()}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](55,"div",32),y["\u0275\u0275elementStart"](56,"div",25),y["\u0275\u0275elementStart"](57,"label",36),y["\u0275\u0275text"](58),y["\u0275\u0275pipe"](59,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](60,"span",27),y["\u0275\u0275text"](61,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](62,"select",37,38),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.code=t})("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().changeEntryType(t)}),y["\u0275\u0275template"](64,mr,3,3,"option",39),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](65,vr,18,14,"div",0),y["\u0275\u0275elementStart"](66,"div",4),y["\u0275\u0275elementStart"](67,"div",32),y["\u0275\u0275elementStart"](68,"div",25),y["\u0275\u0275elementStart"](69,"label",40),y["\u0275\u0275text"](70),y["\u0275\u0275pipe"](71,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](72,"span",27),y["\u0275\u0275text"](73,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](74,"select",41,42),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.storetype=t})("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().changeStoreType(t)}),y["\u0275\u0275template"](76,br,3,3,"option",39),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](77,Pr,12,11,"div",43),y["\u0275\u0275elementStart"](78,"div",32),y["\u0275\u0275elementStart"](79,"div",25),y["\u0275\u0275elementStart"](80,"label",44),y["\u0275\u0275text"](81),y["\u0275\u0275pipe"](82,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](83,"span",27),y["\u0275\u0275text"](84,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](85,"select",45,46),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.fromstoreid=t})("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().changeFromStoreType(t)})("focusout",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().FromStorFocus()}),y["\u0275\u0275template"](87,wr,2,0,"option",30),y["\u0275\u0275template"](88,kr,2,0,"option",30),y["\u0275\u0275template"](89,Fr,3,3,"option",39),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](90,Ar,12,11,"div",43),y["\u0275\u0275elementStart"](91,"div",32),y["\u0275\u0275elementStart"](92,"div",25),y["\u0275\u0275elementStart"](93,"label",47),y["\u0275\u0275text"](94),y["\u0275\u0275pipe"](95,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](96,"span",27),y["\u0275\u0275text"](97,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](98,"select",48,49),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.erpstatus=t}),y["\u0275\u0275template"](100,Ur,2,0,"option",30),y["\u0275\u0275template"](101,$r,2,0,"option",30),y["\u0275\u0275template"](102,Wr,3,3,"option",39),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](103,"div",4),y["\u0275\u0275elementStart"](104,"div",32),y["\u0275\u0275elementStart"](105,"div",25),y["\u0275\u0275elementStart"](106,"label",50),y["\u0275\u0275text"](107),y["\u0275\u0275pipe"](108,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](109,"span",27),y["\u0275\u0275text"](110,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](111,"input",51,52),y["\u0275\u0275listener"]("ngModelChange",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275nextContext"]();return n._Receipt.entry_date=t,n.ChangePropFinish("EntryDate",2)}),y["\u0275\u0275pipe"](113,"date"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](114,"div",32),y["\u0275\u0275elementStart"](115,"div",25),y["\u0275\u0275elementStart"](116,"label",50),y["\u0275\u0275text"](117),y["\u0275\u0275pipe"](118,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](119,"input",53,54),y["\u0275\u0275listener"]("ngModelChange",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ChangePropFinish("SchedualDate",2)})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.entry_time=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](121,"div",32),y["\u0275\u0275elementStart"](122,"div",25),y["\u0275\u0275elementStart"](123,"label",55),y["\u0275\u0275text"](124),y["\u0275\u0275pipe"](125,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](126,"span",27),y["\u0275\u0275text"](127,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](128,"input",56,57),y["\u0275\u0275listener"]("ngModelChange",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275nextContext"]();return n._Receipt.schedule_date=t,n.ChangePropFinish("SchedualDate",2)}),y["\u0275\u0275pipe"](130,"date"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](131,"div",32),y["\u0275\u0275elementStart"](132,"div",25),y["\u0275\u0275elementStart"](133,"label",55),y["\u0275\u0275text"](134),y["\u0275\u0275pipe"](135,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](136,"input",58,59),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.schedule_time=t})("ngModelChange",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ChangePropFinish("SchedualDate",2)}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](138,"div",4),y["\u0275\u0275elementStart"](139,"div",32),y["\u0275\u0275elementStart"](140,"div",25),y["\u0275\u0275elementStart"](141,"label",60),y["\u0275\u0275text"](142),y["\u0275\u0275pipe"](143,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](144,"span",27),y["\u0275\u0275text"](145,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](146,"select",61,62),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.createdbyid=t}),y["\u0275\u0275template"](148,zr,2,0,"option",30),y["\u0275\u0275template"](149,Jr,2,0,"option",30),y["\u0275\u0275template"](150,Hr,3,3,"option",39),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](151,"div",32),y["\u0275\u0275elementStart"](152,"div",25),y["\u0275\u0275elementStart"](153,"label",63),y["\u0275\u0275text"](154),y["\u0275\u0275pipe"](155,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](156,"input",64,65),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.reference_no=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](158,"div",32),y["\u0275\u0275elementStart"](159,"div",25),y["\u0275\u0275elementStart"](160,"label",66),y["\u0275\u0275text"](161),y["\u0275\u0275pipe"](162,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](163,"input",67,68),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.memo=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](165,"div",69),y["\u0275\u0275elementStart"](166,"div",70),y["\u0275\u0275elementStart"](167,"div",4),y["\u0275\u0275elementStart"](168,"div",71),y["\u0275\u0275elementStart"](169,"ul",72,73),y["\u0275\u0275listener"]("activeIdChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().activeNav=t}),y["\u0275\u0275elementStart"](171,"li",74),y["\u0275\u0275elementStart"](172,"a",75),y["\u0275\u0275text"](173),y["\u0275\u0275pipe"](174,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](175,xs,34,28,"ng-template",76),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](176,Ts,5,4,"li",77),y["\u0275\u0275elementStart"](177,"li",74),y["\u0275\u0275elementStart"](178,"a",75),y["\u0275\u0275text"](179),y["\u0275\u0275pipe"](180,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](181,Ys,26,13,"ng-template",76),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](182,"li",74),y["\u0275\u0275elementStart"](183,"a",75),y["\u0275\u0275text"](184),y["\u0275\u0275pipe"](185,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](186,Hs,3,1,"ng-template",76),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](187,"div",78),y["\u0275\u0275elementStart"](188,"div",4),y["\u0275\u0275element"](189,"div",79),y["\u0275\u0275elementStart"](190,"div",80),y["\u0275\u0275template"](191,Zs,3,1,"div",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](4),t=y["\u0275\u0275reference"](42),n=y["\u0275\u0275reference"](54),i=y["\u0275\u0275reference"](63),r=y["\u0275\u0275reference"](75),s=y["\u0275\u0275reference"](86),o=y["\u0275\u0275reference"](99),a=y["\u0275\u0275reference"](112),c=y["\u0275\u0275reference"](147),l=y["\u0275\u0275reference"](170),d=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](10),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](11,86,"Transfer Request"),""),y["\u0275\u0275advance"](4),y["\u0275\u0275attribute"]("disabled",d.VouchersLinkedCount>0||1==d.ShowModeReceipt||1==d.DuringSaveDisable||3==d._Receipt.erpstatus||d.ReceiptID>0&&!d.checkRoleParms(629)||0==d.ReceiptID&&!d.checkRoleParms(320)||null),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](17,88,"Save")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275attribute"]("disabled",!d.checkRoleParms(320)||1==d.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](20,90,"CreateNew")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",d.ReceiptID>0&&0==d.VouchersLinkedCount),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",d.ReceiptID>0&&d.checkRoleParms(325)),y["\u0275\u0275advance"](1),y["\u0275\u0275attribute"]("disabled",1==d.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](25,92,"Exit")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](29,94,"Action Menu")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngIf",d.ReceiptID>0),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](38,96,"Branch")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngModel",d._Receipt.branch_id)("ngClass",y["\u0275\u0275pureFunction2"](134,fr,t.invalid&&e.submitted,t.valid&&e.submitted)),y["\u0275\u0275attribute"]("disabled",d.ReceiptID>0||null),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=d.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==d.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",d.BranchList)("ngForTrackBy",d.customTrackBy),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](50,98,"Entry#")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("stepallow",1)("ngModel",d._Receipt.entry_no)("readonly",0==(null==d.CurrentUserSetting?null:d.CurrentUserSetting.controlvouchernumanddate)||d.VouchersLinkedCount>0||1==d.LockedRecepit)("Min",1)("CheckMin",!0)("ngClass",y["\u0275\u0275pureFunction2"](137,fr,n.invalid&&e.submitted,n.valid&&e.submitted)),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](59,100,"Entry_Type")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngModel",d._Receipt.code)("ngClass",y["\u0275\u0275pureFunction2"](140,fr,i.invalid&&e.submitted,i.valid&&e.submitted)),y["\u0275\u0275attribute"]("disabled",d.ReceiptID>0||null),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngForOf",d.EntryTypeList),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",86==d._Receipt.code),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](71,102,"storetype")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngModel",d._Receipt.storetype)("ngClass",y["\u0275\u0275pureFunction2"](143,fr,r.invalid&&e.submitted,r.valid&&e.submitted)),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngForOf",d.StoreTypeList),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",2==d._Receipt.storetype),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](82,104,"FromStore")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngModel",d._Receipt.fromstoreid)("ngClass",y["\u0275\u0275pureFunction2"](146,fr,s.invalid&&e.submitted,s.valid&&e.submitted)),y["\u0275\u0275attribute"]("disabled",d.ReceiptID>0||null),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=d.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==d.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",d.FromStoreList),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",1==d._Receipt.storetype),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](95,106,"status")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngModel",d._Receipt.erpstatus)("ngClass",y["\u0275\u0275pureFunction2"](149,fr,o.invalid&&e.submitted,o.valid&&e.submitted)),y["\u0275\u0275attribute"]("disabled",!0),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=d.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==d.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",d.ERPStatusList),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](108,108,"Date")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngModel",y["\u0275\u0275pipeBind2"](113,110,d._Receipt.entry_date,"yyyy-MM-dd"))("readonly",0==(null==d.CurrentUserSetting?null:d.CurrentUserSetting.controlvouchernumanddate)||d.VouchersLinkedCount>0||1==d.LockedRecepit)("ngClass",y["\u0275\u0275pureFunction2"](152,fr,a.invalid&&e.submitted||0==d.ValidPeriod,a.valid&&e.submitted)),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](118,113,"Time")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("readonly",0==(null==d.CurrentUserSetting?null:d.CurrentUserSetting.controlvouchernumanddate)||d.VouchersLinkedCount>0||1==d.LockedRecepit)("ngModel",d._Receipt.entry_time),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](125,115,"Schedule_Date")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngModel",y["\u0275\u0275pipeBind2"](130,117,d._Receipt.schedule_date,"yyyy-MM-dd"))("ngClass",y["\u0275\u0275pureFunction2"](155,fr,0==d.ScheduledateValid,1==d.ScheduledateValid)),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](135,120,"Time")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",d._Receipt.schedule_time)("ngClass",y["\u0275\u0275pureFunction2"](158,fr,0==d.ScheduledateValid,1==d.ScheduledateValid)),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](143,122,"createdby")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngModel",d._Receipt.createdbyid)("ngClass",y["\u0275\u0275pureFunction2"](161,fr,c.invalid&&e.submitted,c.valid&&e.submitted)),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=d.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==d.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",d.EmployeesList),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](155,124,"ReferenceNo")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",d._Receipt.reference_no),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](162,126,"Memo")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",d._Receipt.memo),y["\u0275\u0275advance"](6),y["\u0275\u0275property"]("destroyOnHide",!1)("activeId",d.activeNav),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngbNavItem",1),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](174,128,"Items")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngIf",null==d.CurrentUserSetting?null:d.CurrentUserSetting.showreceiptitemcomponent),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngbNavItem",3),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](180,130,"LinkedReceipt")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngbNavItem",4),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](185,132,"Signature")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngbNavOutlet",l),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngIf",d.itemqtyview)}}const Xs=function(){return[320,323,324,325,629]};let eo=(()=>{class e{constructor(e,t,n,i,r,s,o,a,c,l,d,p,h,m,u,_,f,C,y){this._cashsalesService=e,this._CustomerService=t,this._TransferService=n,this._ReceiptSharedService=i,this._VoucherService=r,this.cd=s,this.toastr=o,this._router=a,this._generalService=c,this.translate=l,this._translateGlobalService=d,this._activeRoute=p,this.modalService=h,this.spinner=m,this._authService=u,this._printService=_,this._VerifyReportsService=f,this.datepipe=C,this.location=y,this.isType=!1,this.subsidiaryID=0,this.ReceiptID=0,this.activeNav=1,this.PriceListItemsOnly=!1,this.BasicCodeReceipt=80,this.Transaction_move=0,this._Receipt=new g.tY,this._ReceiptOriginal=new g.tY,this._Receipt_h_Edit=new g.Iu,this._CashSalesDetailsReceipt=new g.hm,this.ItemsComponentList=new Array,this.DescriptionItem=new g.tH,this._LinkedReceipt=new g.Cb,this.ShowWarrantyDateCols=!1,this.IsSalesManImplemented=!1,this._Currencyprecision=3,this.MultiPaymentypeShow=!1,this.ForeignCurrencyShow=!1,this.ValidPeriod=!0,this.ScheduledateValid=!0,this.VouchersLinkedCount=0,this.DuringSaveDisable=!1,this.show_all_component=!1,this.BranchList=[],this.PaymentTypeList=[],this.MultiPaymentMethodsList=[],this.CustomerAccountsList=[],this.CashCustomerList=[],this.EmployeesList=[],this.SalesTypesList=[],this.CostCenterList=[],this.SalesManlist=[],this.ReceiptCodeList=[],this.TransactionAccountList=[],this.CarsList=[],this.DriversList=[],this.DepartmentList=[],this.LocationList=[],this.ClassList=[],this.CurrencyList=[],this.FromStoreList=[],this.UserToStoreList=[],this.ItemsList=[],this.ItemUnitsList=[],this.ItemComponentUnitsList=[],this.ERPStatusList=[{id:1,text:"New",text_ar:"\u062c\u062f\u064a\u062f"},{id:2,text:"PartiallyReceived",text_ar:"\u0627\u0644\u0627\u0633\u062a\u0644\u0627\u0645 \u0627\u0644\u062c\u0632\u0626\u064a"},{id:3,text:"Received",text_ar:"\u062a\u0645 \u0627\u0644\u0627\u0633\u062a\u0644\u0627\u0645"}],this.StoreTypeList=[{id:1,text:"From Store",text_ar:"\u0645\u0646 \u0645\u062e\u0632\u0646"},{id:2,text:"To Store",text_ar:" \u0627\u0644\u0649 \u0645\u062e\u0632\u0646"}],this.ReplenshimentTypeList=[{id:1,text:"Net sales",text_ar:"\u0635\u0627\u0641\u0649 \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a"},{id:2,text:"Reorder Point and minimum",text_ar:"\u0631\u0635\u064a\u062f \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0637\u0644\u0628 \u0648\u0627\u0644\u062d\u062f \u0627\u0644\u0623\u062f\u0646\u0649"}],this.EntryTypeList=[{id:80,text:"Direct",text_ar:" \u0645\u0628\u0627\u0634\u0631\u0629"},{id:86,text:"Replenshiment",text_ar:"\u0627\u0644\u0627\u0633\u062a\u0639\u0627\u0636\u0629"}],this.reporturl="",this.reportdomainUrl=Le.N.aspDomain,this._emailobj={email:"",subject:""},this.mailmsg="",this.allowDelete=!1,this.ShowModeReceipt=!1,this.LockedRecepit=!1,this.swalTitleEntry="",this.swalTextEntry="",this.swalConfirmButtonEntry="",this.Cancel="",this.WarningInfoLost="",this.warning="",this.Yes="",this.FinancialPeriodMsg="",this.Close="",this.FinancialPeriodCloseMsg="",this.StopInventoryErrorMsg="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.DeleteRelationmsg="",this.ItemsZeroErrorMsg="",this.MultiPayErrorMsg="",this.ItemsEqualZeroMsg="",this.ReceiptNotFound="",this.CustomerPricelistMsg="",this.Receiptnoitems="",this.NoUnits="",this.ItemWarrantyValidMsg="",this.ScheduleDateError="",this.qtyErrorSaveMsg="",this.qtyErrorMsg="",this.qtyZeroErrorSaveMsg="",this.NOComponents="",this.SaveMsg="",this.No="",this.swalNewActionTitle="",this.swalNewActionText="",this.dateErrorMsg="",this.SelectBranchError="",this.RepItemnotfoundMsg="",this.ToStoreErrorMsg="",this.FromStoreErrorMsg="",this.BalancList=[],this.SearchBtnDisablead=!1,this.RelatedwithSerialsOrBatches="",this.timeout=null,this.ItemLinkedReceipt=[],this.ItemComponentsLinkedReceipt=[],this.LinkedReceiptListSelected=[],this.IxLRS=0,this.itemqtyview=!1,this._itemstoreqtyobj=new g.I$,this._itemqtyList=new Array,this._totalcost=0,this.quillConfig={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"]]},this.ngUnsubscribe=c.proadCastSubsidiaryID.subscribe(e=>{0==this.subsidiaryID&&(this.subsidiaryID=this._generalService.SubsidiaryID,this.SetInitialMethods()),this.subsidiaryID!=this._generalService.SubsidiaryID&&this.subsidiaryID>0&&(this.subsidiaryID=this._generalService.SubsidiaryID,this._router.navigate(["/page/inventorytransfers/transferrequest/0"]).then(()=>{window.location.reload()}))}),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","swalTitleEntryno","swalEntrynoText","swalEntrynoConfirmButton","WarningInfoLost","warning","Yes","mailmsg","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","DeleteRelationmsg","successMsg","ItemsZeroErrorMsg","MultiPayErrorMsg","ItemsEqualZeroMsg","ReceiptNotFound","CustomerPricelistMsg","Receiptnoitems","NoUnits","ItemWarrantyValidMsg","FinancialPeriodMsg","CloseFinancialPeriodMsg","StopInventoryErrorMsg","Close","ScheduleDateError","qtyErrorSaveMsg","qtyErrorMsg","qtyZeroErrorSaveMsg","SaveMsg","dateErrorMsg","RepItemnotfoundMsg","ToStoreErrorMsg","FromStoreErrorMsg","SelectBranchError","No","swalNewActionTitle","swalNewActionText","NOComponents","Transfer Request","RelatedwithSerialsOrBatches","cantNotDuplicateItem"]).subscribe(e=>{document.title=e["Transfer Request"],this.Cancel=e.Cancel,this.swalTitleEntry=e.swalTitleEntryno,this.swalTextEntry=e.swalEntrynoText,this.swalConfirmButtonEntry=e.swalEntrynoConfirmButton,this.WarningInfoLost=e.WarningInfoLost,this.warning=e.warning,this.Yes=e.Yes,this.No=e.No,this.NOComponents=e.NOComponents,this.swalNewActionTitle=e.swalNewActionTitle,this.swalNewActionText=e.swalNewActionText,this.mailmsg=e.mailmsg,this.swalDeleteTitle=e.swalDeleteTitle,this.swalDetlateText=e.swalDetlateText,this.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,this.DeleteRelationmsg=e.DeleteRelationmsg,this.toastrSuccessDelete=e.successMsg,this.ItemsZeroErrorMsg=e.ItemsZeroErrorMsg,this.MultiPayErrorMsg=e.MultiPayErrorMsg,this.ItemsEqualZeroMsg=e.ItemsEqualZeroMsg,this.ReceiptNotFound=e.ReceiptNotFound,this.CustomerPricelistMsg=e.CustomerPricelistMsg,this.Receiptnoitems=e.Receiptnoitems,this.NoUnits=e.NoUnits,this.ItemWarrantyValidMsg=e.ItemWarrantyValidMsg,this.FinancialPeriodMsg=e.FinancialPeriodMsg,this.StopInventoryErrorMsg=e.StopInventoryErrorMsg,this.FinancialPeriodCloseMsg=e.CloseFinancialPeriodMsg,this.Close=e.Close,this.ScheduleDateError=e.ScheduleDateError,this.qtyErrorMsg=e.qtyErrorMsg,this.qtyErrorSaveMsg=e.qtyErrorSaveMsg,this.qtyZeroErrorSaveMsg=e.qtyZeroErrorSaveMsg,this.SaveMsg=e.SaveMsg,this.dateErrorMsg=e.dateErrorMsg,this.RepItemnotfoundMsg=e.RepItemnotfoundMsg,this.ToStoreErrorMsg=e.ToStoreErrorMsg,this.FromStoreErrorMsg=e.FromStoreErrorMsg,this.SelectBranchError=e.SelectBranchError,this.RelatedwithSerialsOrBatches=e.RelatedwithSerialsOrBatches,this.cantNotDuplicateItem=e.cantNotDuplicateItem})}),p.params.subscribe(e=>{this.ReceiptID=e.id,this.ShowModeReceipt=null!=e.show&&"show"==e.show&&e.id>0,this.LockedRecepit=this.ShowModeReceipt,this.subsidiaryID=this._generalService.SubsidiaryID,this._UserLogin=this._authService.userInfo(),this.subsidiaryID>0&&this.SetInitialMethods()})}ngOnInit(){}SetInitialMethods(){this._Receipt=new g.tY,this.GetFromStoreList(""),this.GetEmployeesList(),this.GetCurrentUserSetting(),this.GetBranchList(),this.GetCashCustomerSettings(),this.GetSubsaidarySetting(),this.GetCurrencyList(),this.GetReceipt_AfterReceiptCode_InventroySettings()}GetReceipt_AfterReceiptCode_InventroySettings(){let e=this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID),t=this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID);(0,De.D)([e,t]).subscribe(([e,t])=>{this.ReceiptCodeList=e,this.InventorySetting=t,0==this.InventorySetting[0].transferuserpermissions?this.UserToStoreList=this.FromStoreList:this.GetUserToStoreList();let n=this.ReceiptCodeList.find(e=>e.code==this.BasicCodeReceipt);this.Transaction_move=n.items,this.GetReceipt(),this.cd.markForCheck()})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}checkRolesParms(e){let t=!0;return this._authService.isHasRole(e)||(t=!1),t}GetReceipt(){if(this._Receipt.subsidiaryid=this.subsidiaryID,0==this.ReceiptID){this._Receipt.customersalesprice=0,this._Receipt.code=this.BasicCodeReceipt,this._Receipt.entry_date=this.datepipe.transform(new Date,"yyyy-MM-dd"),this._Receipt.schedule_date=this.datepipe.transform(new Date,"yyyy-MM-dd"),this._Receipt.storetype=1,this._Receipt.erpstatus=1,this._Receipt.createdbyid=this._UserLogin.id,this._Receipt.code=(this._Receipt.replenshimenttype=3)?80:86,this.CheckValidDateBySubsidaryID(),this._Receipt.entry_time=this.SetTimeNow(),this._Receipt.schedule_time=this.SetTimeNow();let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&(this._Receipt.branch_id="null"==e.branchId||0==e.branchId?null:e.branchId,null!=this._Receipt.branch_id&&(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch())),setTimeout(()=>{this._ReceiptOriginal=JSON.parse(JSON.stringify(this._Receipt)),console.log(this._Receipt)},1e3)}else this._ReceiptSharedService.GetReceiptAndDetailsByID(this.ReceiptID).subscribe(e=>{null!=e.receipt&&(this.VouchersLinkedCount=e.voucherslinkedcount.voucherslinkedcount,this._Receipt.id=e.receipt.id,this._Receipt.subsidiaryid=e.receipt.subsidiaryid,this._Receipt.code=e.receipt.code,this._Receipt.entry_no=e.receipt.entry_no,this._Receipt.branch_id=e.receipt.branch_id,this._Receipt.transaction_code=e.receipt.transaction_code,this._Receipt.customersalesprice=e.receipt.customersalesprice,this._Receipt.entry_date=this.datepipe.transform(e.receipt.entry_date,"yyyy-MM-dd"),this._Receipt.entry_time=e.receipt.entry_time,this._Receipt.reservedflag=e.receipt.reservedflag,this._Receipt.payment_type=e.receipt.payment_type,this._Receipt.vendor_id=e.receipt.vendor_id,this._Receipt.cashcustomerid=e.receipt.cashcustomerid,null!=this._Receipt.vendor_id&&(this._Receipt.cashcustomer_vendor_code={code:e.receipt.vendorcode},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?e.receipt.vendornamear:e.receipt.vendorname),null!=this._Receipt.cashcustomerid&&(this._Receipt.cashcustomer_vendor_code={phonenumber:e.receipt.phonenumber},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?e.receipt.cashcustomername_ar:e.receipt.cashcustomername),this._Receipt.currency_id=e.receipt.currency_id,this._Receipt.currency_rate=e.receipt.currency_rate,this._Receipt.customerdeliverdate=this.datepipe.transform(e.receipt.customerdeliverdate,"yyyy-MM-dd"),this._Receipt.customerdeliverdate_time=e.receipt.customerdeliverdate_time,this._Receipt.ordertype=e.receipt.ordertype,this._Receipt.empoyee_id=e.receipt.empoyee_id,this._Receipt.memo=e.receipt.memo,this._Receipt.reference_no=e.receipt.reference_no,this._Receipt.salestypeid=e.receipt.salestypeid,this._Receipt.commisionaccountid=e.receipt.commisionaccountid,this._Receipt.commisionaccountfieldname="ar"==this.lang?{commisionaccountfieldname:e.receipt.commisionaccount_sug_ar}:{commisionaccountfieldname:e.receipt.commisionaccount_sug},this._Receipt.commissiontype=e.receipt.commissiontype,this._Receipt.commission=e.receipt.commission,this._Receipt.commissionnet=e.receipt.commissionnet,this._Receipt.commisionaccountid1=e.receipt.commisionaccountid1,this._Receipt.commisionaccountfieldname1="ar"==this.lang?{commisionaccountfieldname1:e.receipt.commisionaccount1_sug_ar}:{commisionaccountfieldname1:e.receipt.commisionaccount1_sug},this._Receipt.commissiontype1=e.receipt.commissiontype1,this._Receipt.commission1=e.receipt.commission1,this._Receipt.commissionnet1=e.receipt.commissionnet1,this._Receipt.costcenterid=e.receipt.costcenterid,this._Receipt.costcenterfieldname=null!=this._Receipt.costcenterid?"ar"==this.lang?{costcenterfieldname:e.receipt.costcenter_sug_ar}:{costcenterfieldname:e.receipt.costcenter_sug}:null,this._Receipt.classid=e.receipt.classid,this._Receipt.classfieldname=null!=this._Receipt.classid?"ar"==this.lang?{classfieldname:e.receipt.classes_sug_ar}:{classfieldname:e.receipt.classes_sug}:null,this._Receipt.locationid=e.receipt.locationid,this._Receipt.locationfieldname=null!=this._Receipt.locationid?"ar"==this.lang?{locationfieldname:e.receipt.location_sug_ar}:{locationfieldname:e.receipt.location_sug}:null,this._Receipt.departmentid=e.receipt.departmentid,this._Receipt.departmentfieldname=null!=this._Receipt.departmentid?"ar"==this.lang?{departmentfieldname:e.receipt.department_sug_ar}:{departmentfieldname:e.receipt.department_sug}:null,this._Receipt.carid=e.receipt.carid,this._Receipt.driverid=e.receipt.driverid,this._Receipt.valueforeign=e.receipt.valueforeign,this._Receipt.value=e.receipt.value,this._Receipt.discount_foreignpercent=e.receipt.discount_foreignpercent,this._Receipt.discount_percent=e.receipt.discount_percent,this._Receipt.discount_foreignvalue=e.receipt.discount_foreignvalue,this._Receipt.discount_value=e.receipt.discount_value,this._Receipt.deliveryfeesforeign=e.receipt.deliveryfeesforeign,this._Receipt.deliveryfees=e.receipt.deliveryfees,this._Receipt.surchargevalueforeign=e.receipt.surchargevalueforeign,this._Receipt.surchargevalue=e.receipt.surchargevalue,this._Receipt.surchargepercent=e.receipt.surchargepercent,this._Receipt.netvalueforeign=e.receipt.netvalueforeign,this._Receipt.netvalue=e.receipt.netvalue,this._Receipt.signature=e.receipt.signature,this._Receipt.related_voucher_type=e.receipt.related_voucher_type,this._Receipt.related_voucher_code=e.receipt.related_voucher_code,this._Receipt.status_id=e.receipt.status_id,this._Receipt.approvalstatus_id=e.receipt.approvalstatus_id,this._Receipt.costing_rate=e.receipt.costing_rate,this._Receipt.approvedby_id=e.receipt.approvedby_id,this._Receipt.shipmentterm_id=e.receipt.shipmentterm_id,this._Receipt.paymentterm_id=e.receipt.paymentterm_id,this._Receipt.supplieraccount_id=e.receipt.supplieraccount_id,this._Receipt.planneddeliverydate=e.receipt.planneddeliverydate,this._Receipt.actualdeliverydate=e.receipt.actualdeliverydate,this._Receipt.deliverylocation=e.receipt.deliverylocation,this._Receipt.contactedperson=e.receipt.contactedperson,this._Receipt.othernotes=e.receipt.othernotes,this._Receipt.cashdrawerid=e.receipt.cashdrawerid,this._Receipt.leadid=e.receipt.leadid,this._Receipt.deliverynotes=e.receipt.deliverynotes,this._Receipt.cashcustomerdetailid=e.receipt.cashcustomerdetailid,this._Receipt.is_canceled=e.receipt.is_canceled,this._Receipt.fromstoreid=e.receipt.fromstoreid,this._Receipt.tostoreid=e.receipt.tostoreid,this._Receipt.isdeliveryprint=e.receipt.isdeliveryprint,this._Receipt.printcount=e.receipt.printcount,this._Receipt.iskitchendone=e.receipt.iskitchendone,this._Receipt.paidamount=e.receipt.paidamount,this._Receipt.isholded=e.receipt.isholded,this._Receipt.branchtableid=e.receipt.branchtableid,this._Receipt.customeractualdeliverdate=e.receipt.customeractualdeliverdate,this._Receipt.deliverystatusid=e.receipt.deliverystatusid,this._Receipt.deposite=e.receipt.deposite,this._Receipt.paymentandconditions=e.receipt.paymentandconditions,this._Receipt.notes=e.receipt.notes,this._Receipt.chefid=e.receipt.chefid,this._Receipt.changeamount=e.receipt.changeamount,this._Receipt.divisionid=e.receipt.divisionid,this._Receipt.courierid=e.receipt.courierid,this._Receipt.depositepaymenttypeid=e.receipt.depositepaymenttypeid,this._Receipt.creationdate=e.receipt.creationdate,this._Receipt.lastupdatedate=e.receipt.lastupdatedate,this._Receipt.createdbyid=e.receipt.createdbyid,this._Receipt.updatedbyid=e.receipt.updatedbyid,this._Receipt.receiptattributeid=e.receipt.receiptattributeid,this._Receipt.costposted=e.receipt.costposted,this._Receipt.lcaccountid=e.receipt.lcaccountid,this._Receipt.lcno=e.receipt.lcno,this._Receipt.lcbank=e.receipt.lcbank,this._Receipt.lcstartdate=e.receipt.lcstartdate,this._Receipt.lcenddate=e.receipt.lcenddate,this._Receipt.lcrenewdate=e.receipt.lcrenewdate,this._Receipt.lcrenewenddate=e.receipt.lcrenewenddate,this._Receipt.lcinsurancecompany=e.receipt.lcinsurancecompany,this._Receipt.lcpolicyno=e.receipt.lcpolicyno,this._Receipt.insurancedate=e.receipt.insurancedate,this._Receipt.gooddeliverydate=e.receipt.gooddeliverydate,this._Receipt.lccondition=e.receipt.lccondition,this._Receipt.shippingmethod=e.receipt.shippingmethod,this._Receipt.exportport=e.receipt.exportport,this._Receipt.shipname=e.receipt.shipname,this._Receipt.lcnotes=e.receipt.lcnotes,this._Receipt.quotationcustomername=e.receipt.quotationcustomername,this._Receipt.duedate=e.receipt.duedate,this._Receipt.schedule_date=e.receipt.schedule_date,this._Receipt.schedule_time=e.receipt.schedule_time,this._Receipt.storetype=e.receipt.storetype,this._Receipt.quotationenddate=e.receipt.quotationenddate,this._Receipt.wostatusid=e.receipt.wostatusid,this._Receipt.parentreceiptid=e.receipt.parentreceiptid,this._Receipt.isapproved=e.receipt.isapproved,this._Receipt.replenshimenttype=e.receipt.replenshimenttype,this._Receipt.reference=e.receipt.reference,this._Receipt.replenshimentfromdate=e.receipt.replenshimentfromdate,this._Receipt.replenshimenttodate=e.receipt.replenshimenttodate,this._Receipt.cancelreasonid=e.receipt.cancelreasonid,this._Receipt.contractstartdate=e.receipt.contractstartdate,this._Receipt.contractenddate=e.receipt.contractenddate,this._Receipt.previouscontractid=e.receipt.previouscontractid,this._Receipt.erpstatus=e.receipt.erpstatus,this._Receipt.loyalitybalance=e.receipt.loyalitybalance,this._Receipt.cpno=e.receipt.cpno,this._Receipt.accounttype=e.receipt.accounttype,this._Receipt.printing=e.receipt.printing,this._Receipt.storedelivery=e.receipt.storedelivery,this._Receipt.customerrecieve=e.receipt.customerrecieve,this._Receipt.promotionid=e.receipt.promotionid,this._Receipt.promotionpercent=e.receipt.promotionpercent,this._Receipt.promotionvalue=e.receipt.promotionvalue,this._Receipt.purchaserequeststatusid=e.receipt.purchaserequeststatusid,this._Receipt.urgent=e.receipt.urgent,this._Receipt.quotationstatusid=e.receipt.quotationstatusid,this._Receipt.salesorderstatusid=e.receipt.salesorderstatusid,this._Receipt.purchaseorderstatusid=e.receipt.purchaseorderstatusid,this._Receipt.expensesdistributionvoucherno=e.receipt.expensesdistributionvoucherno,this._Receipt.totalproductioncost=e.receipt.totalproductioncost,this._Receipt.totalvouchercost=e.receipt.totalvouchercost,this._Receipt.totalproductioncostforeign=e.receipt.totalproductioncostforeign,this._Receipt.totalvouchercostforeign=e.receipt.totalvouchercostforeign,this._Receipt.taxvalue=e.receipt.taxvalue,this._Receipt.sourceid=e.receipt.sourceid,this._Receipt.contractid=e.receipt.contractid,this._Receipt.type_id=e.receipt.type_id,this._Receipt.productionlineid=e.receipt.productionlineid,this._Receipt.linescheduleddate=e.receipt.linescheduleddate,this._Receipt.inchargepersonname=e.receipt.inchargepersonname,this._Receipt.inchargephoneno=e.receipt.inchargephoneno,this._Receipt.details=e.items,this._Receipt.details.forEach(e=>{e.storecode={code:e.storecode},e.itemcode={code:e.itemcode},e.allowqtyselectforitem=!0,e.rowno=0,e.parentrowno=0}),this._Receipt.itemscomponent=e.itemcomponents,this._Receipt.itemscomponent.forEach(e=>{e.allowqtyselectforitem=!0,e.rowno=0,e.parentrowno=0}),this.ItemUnitsList=e.itemunits,this.ItemComponentUnitsList=e.componentsunits,this._Receipt.linkedreceipts=e.linkedreceipts,this._Receipt.receiptmultipayment=e.receiptmultipayment,this.ItemsComponentList=JSON.parse(JSON.stringify(this._Receipt.itemscomponent)),this._ReceiptOriginal=JSON.parse(JSON.stringify(this._Receipt)),console.log(this._ReceiptOriginal),console.log(this._Receipt),this.entry_no=this._Receipt.entry_no,this.originalSalesPrice=this._Receipt.customersalesprice,this._CurrencySelected=this.CurrencyList.find(e=>e.id==this._Receipt.currency_id),this.ForeignCurrencyShow=1!=this._CurrencySelected.basecurrency,1==!this.ShowModeReceipt&&this.CheckValidDateBySubsidaryID(),this.OnSelectedItem(this._Receipt.details[0],0,"selected",!0),this.cd.markForCheck())})}CheckPre_SaveReceipt(e){if(e.form.valid)if((this._Receipt.code=80)?this._Receipt.replenshimenttype=3:this._Receipt.code=80,0!=this.ValidPeriod)if(0!=this.ScheduledateValid){if(1==this._Receipt.details.length&&null==this._Receipt.details[0].item_id)return this.toastr.error(this.ItemsZeroErrorMsg),this._Receipt.details.splice(0,1),void this.AddItems();for(let e=0;e<this._Receipt.details.length;e++)if(null==this._Receipt.details[e].item_id)this._Receipt.details.splice(e,1),e--;else{if(!(this._Receipt.details[e].qty>0))return void this.toastr.error(this.qtyZeroErrorSaveMsg);0!=this._Receipt.value?(this._Receipt.details[e].h_discount_value=this._Receipt.discount_percent/100*this._Receipt.details[e].total/this._Receipt.details[e].qty%(1/0)||0,this._Receipt.details[e].h_discount_percentage=100*(this._Receipt.details[e].h_discount_value/(this._Receipt.details[e].total/this._Receipt.details[e].qty)%(1/0)||0)):(this._Receipt.details[e].h_discount_value=0,this._Receipt.details[e].h_discount_percentage=0);{let t=this.ItemUnitsList.find(t=>t.item_id==this._Receipt.details[e].item_id&&t.id==this._Receipt.details[e].unit_id);this._Receipt.details[e].final_conv=null!=t?(null!=t.finalconv?t.finalconv:1)*(this._Receipt.details[e].conv/t.conv):this._Receipt.details[e].conv,this._Receipt.details[e].final_conv=0==this._Receipt.details[e].final_conv?1:this._Receipt.details[e].final_conv}}if(0==this._Receipt.details.length)return this.toastr.error(this.ItemsZeroErrorMsg),void this.AddItems();for(let e=0;e<this._Receipt.itemscomponent.length;e++)if(this._Receipt.itemscomponent[e].qty>0){0!=this._Receipt.value?(this._Receipt.itemscomponent[e].h_discount_value=this._Receipt.discount_percent/100*this._Receipt.itemscomponent[e].total/this._Receipt.itemscomponent[e].qty%(1/0)||0,this._Receipt.itemscomponent[e].h_discount_percentage=100*(this._Receipt.itemscomponent[e].h_discount_value/(this._Receipt.itemscomponent[e].total/this._Receipt.itemscomponent[e].qty)%(1/0)||0)):(this._Receipt.itemscomponent[e].h_discount_value=0,this._Receipt.itemscomponent[e].h_discount_percentage=0);{let t=this.ItemComponentUnitsList.find(t=>t.item_id==this._Receipt.itemscomponent[e].item_id&&t.id==this._Receipt.itemscomponent[e].unit_id);this._Receipt.itemscomponent[e].final_conv=null!=t?(null!=t.finalconv?t.finalconv:1)*(this._Receipt.itemscomponent[e].conv/t.conv):this._Receipt.itemscomponent[e].conv,this._Receipt.itemscomponent[e].final_conv=0==this._Receipt.itemscomponent[e].final_conv?1:this._Receipt.itemscomponent[e].final_conv}}this.CheckBalanceForItemInStore(0,!0,!0)}else this.toastr.error(this.ScheduleDateError);else this.ShowPopUpFinancialPeriod();else this.activeNav="INVALID"==e.form.controls.CostCenter.status||"INVALID"==e.form.controls.Department.status||"INVALID"==e.form.controls.Classes.status||"INVALID"==e.form.controls.Location.status?5:1}SaveReceipt(){if(this._Receipt.lang=this.lang,"ar"!=this._Receipt.lang&&(this._Receipt.lang="en-US"),this._Receipt.details.filter(e=>0==e.allowqtyselectforitem).length>0)return this.toastr.error(this.qtyErrorSaveMsg),this.DuringSaveDisable=!1,void this.cd.markForCheck();this.DuringSaveDisable=!0;for(let e=0;e<this._Receipt.linkedreceipts.length;e++)0==this._Receipt.linkedreceipts[e].fire&&(this._Receipt.linkedreceipts.splice(e,1),e--);""==this._Receipt.schedule_date||null==this._Receipt.schedule_date||""==this._Receipt.entry_time||null==this._Receipt.entry_time||""!=this._Receipt.schedule_time&&null!=this._Receipt.schedule_time||(this._Receipt.schedule_time=this._Receipt.entry_time),null==this._Receipt.id||0==this._Receipt.id?this._ReceiptSharedService.ReceiptCreate(this._Receipt).subscribe(e=>{this.DuringSaveDisable=!1,this.toastr.success(this.SaveMsg),this.ReceiptID=e.id,this._router.navigate(["/page/inventorytransfers/transferrequest/"+this.ReceiptID]).then(()=>{window.location.reload()})}):(this._Receipt_h_Edit=new g.Iu,this._Receipt_h_Edit.Receipt_h=this._Receipt,this._Receipt_h_Edit.ReceiptOriginal=this._ReceiptOriginal,this._ReceiptSharedService.ReceiptUpdate(this._Receipt_h_Edit).subscribe(e=>{this.DuringSaveDisable=!1,this.toastr.success(this.SaveMsg),this._router.navigate(["/page/inventorytransfers/transferrequest/"+this.ReceiptID]).then(()=>{window.location.reload()})}))}ChangePropFinish(e="",t=1){this.DuringSaveDisable=!0,this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,"EntryCode"==e?this.CheckEntryCode():"EntryDate"==e?this.ChangeEntryDate():"SchedualDate"==e&&this.CheckScheduleDate()},1e3*t)}CheckEntryCode(){this._ReceiptSharedService.CheckEntryNo(this._Receipt.id,this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.entry_no,this._Receipt.branch_id).subscribe(e=>{this.DuringSaveDisable=!1,this.cd.markForCheck(),null!=e&&ke().fire({title:this.swalTitleEntry,text:this.swalTextEntry,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalConfirmButtonEntry,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.value?this._router.navigate(["/page/inventorytransfers/transferrequest/"+e.id]).then(()=>{}):(this._Receipt.entry_no=this.entry_no,this.cd.markForCheck())})})}GetReceiptEntryCode(){this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(e=>{this._Receipt.entry_no=0==e.length?1:e[0].entry_no+1,this.entry_no=this._Receipt.entry_no,this.cd.markForCheck()})}GetBranchList(){this._ReceiptSharedService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(e=>{this.BranchList=e,this.cd.markForCheck()})}changeBranch(e){if(this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id||null!=this._Receipt.vendor_id)ke().fire({title:this.warning,text:this.WarningInfoLost,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{if(t.value){this._Receipt.details=new Array,this._Receipt.itemscomponent=new Array,this._Receipt.linkedreceipts=new Array,this.ItemUnitsList=[],this.ItemComponentUnitsList=[],this._Receipt.branch_id="null"==e.target.value?null:e.target.value;let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._Receipt.branch_id})),null!=this._Receipt.branch_id?(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch(!0)):this._Receipt.entry_no=null}else{let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&(this._Receipt.branch_id="null"==e.branchId||0==e.branchId?null:e.branchId)}});else{this._Receipt.branch_id="null"==e.target.value?null:e.target.value;let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._Receipt.branch_id})),null!=this._Receipt.branch_id?(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch()):this._Receipt.entry_no=null}}GetDefaultStoreCostCenterByBranch(e=!1,t=!0){1==t&&(this._Receipt.vendor_id=null,this._Receipt.cashcustomerid=null,this._Receipt.cashcustomer_vendor_code=null,this._Receipt.cashcustomer_vendor_name=null,this._Receipt.costcenterid=null,this._Receipt.costcenterfieldname=null),1==e&&this.Calculate_Total_Tax_Net(),this._ReceiptSharedService.DefaultStoreCostCenterByBranch(this._Receipt.branch_id).subscribe(e=>{if(this.StoreCostCenterSetting=e.length>0?e[0]:{storeid:null,storecode:null,costcenterid:null,costcentername:null,costcentername_ar:null},null!=this.StoreCostCenterSetting.storeid)if(1==this._Receipt.storetype){if(this._Receipt.fromstoreid=this.StoreCostCenterSetting.storeid,this.StoreCode=this.StoreCostCenterSetting.storecode,0==this._Receipt.details.length){this._CashSalesDetailsReceipt=new g.hm,this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move;let e=Math.max(...this._Receipt.details.map(e=>e.rowno),0);this._CashSalesDetailsReceipt.rowno=e+1,this._Receipt.details.push(this._CashSalesDetailsReceipt),this._Receipt.details[0].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[0].storecode={code:this.StoreCostCenterSetting.storecode}}1==t&&this._Receipt.details.length>0&&(this._Receipt.details.forEach(e=>{e.store_id=this.StoreCostCenterSetting.storeid,e.storecode={code:this.StoreCostCenterSetting.storecode}}),this._Receipt.itemscomponent.forEach(e=>{e.store_id=this.StoreCostCenterSetting.storeid,e.storecode={code:this.StoreCostCenterSetting.storecode}}),this.CheckBalanceForItemInStore(0,!0))}else this._Receipt.tostoreid=this.StoreCostCenterSetting.storeid;null!=this.StoreCostCenterSetting.costcenterid&&(this._Receipt.costcenterid=this.StoreCostCenterSetting.costcenterid,this._Receipt.costcenterfieldname={costcenterfieldname:"ar"==this.lang?this.StoreCostCenterSetting.costcentername_ar:this.StoreCostCenterSetting.costcentername}),this.cd.markForCheck()})}GetEmployeesList(){this._TransferService.AllEmployee(this.subsidiaryID).subscribe(e=>{this.EmployeesList=e,0==this.ReceiptID&&this.EmployeesList.length>0&&(this.EmployeesList.find(e=>e.id==this._UserLogin.id),this._Receipt.createdbyid=this._UserLogin.id),this.cd.markForCheck()})}GetUserToStoreList(e=""){this._TransferService.GetAllActiveStoreBySubsIDAndUser(this.subsidiaryID,e).subscribe(e=>{this.UserToStoreList=[],this.UserToStoreList=e,this.cd.markForCheck()})}GetCurrentUserSetting(){this._ReceiptSharedService.GetCurrentUserSetting().subscribe(e=>{this.CurrentUserSetting=e})}GetCashCustomerSettings(){this._ReceiptSharedService.GetCashCustomerSettings(this.subsidiaryID).subscribe(e=>{null!=e||null!=e?(this.CashCustomerSetting=e,this.CashCustomerSetting.allowdecimalpack=1==this.CashCustomerSetting.allowdecimalpack?".01":"1"):this.CashCustomerSetting={allowdecimalpack:"1",enablecashcustomer:!1,salesreturneffect:"1",allowpack:!1},this.cd.markForCheck()})}GetAllInventroySettingsBySubSidary(){this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID).subscribe(e=>{this.InventorySetting=e})}GetSubsaidarySetting(){this._ReceiptSharedService.GetSubsaidarySetting(this.subsidiaryID).subscribe(e=>{null!=e&&(this.subsaidarySetting=e[0],this.cd.markForCheck())})}GetCurrencyList(){this._VoucherService.GetSubsidaryCurrencyList(this.subsidiaryID).subscribe(e=>{var t;e.length>0&&(this.CurrencyList=e,this._BaseCurrency=this.CurrencyList.find(e=>1==e.basecurrency),this._CurrencySelected=this._BaseCurrency,this._Currencyprecision=null!==(t=this._BaseCurrency.currencyprecision)&&void 0!==t?t:3,this._Receipt.currency_id=this._CurrencySelected.id,this._Receipt.currency_rate=Number(1..toFixed(6)),this.cd.markForCheck())})}changeCurrency(e){if(console.log(e.target.value),this._CurrencySelected=this.CurrencyList.find(t=>t.id==e.target.value),null!=this._CurrencySelected){let e;e=""!=this._Receipt.entry_time&&null!=this._Receipt.entry_time&&null!=this._Receipt.entry_time?this._Receipt.entry_date+" "+this._Receipt.entry_time:this._Receipt.entry_date+" 23:59",this._VoucherService.GetSubsidaryCurrenciesRate(this.subsidiaryID,this._CurrencySelected.id,e,0).subscribe(e=>{this._Receipt.currency_rate=e&&e.length>0?e[0].rate.toFixed(6):Number(1..toFixed(6)),this.ForeignCurrencyShow=1!=this._CurrencySelected.basecurrency,this.Calculate_Total_Tax_Net(),this.cd.markForCheck()})}else this._CurrencySelected=null,this._Currencyprecision=3,this._Receipt.currency_rate=null,this.cd.markForCheck()}ChangeEntryDate(){if(null!=this._Receipt.entry_date&&""!=this._Receipt.entry_date&&null!=this._Receipt.entry_date){this.CheckValidDateBySubsidaryID(),this.CheckScheduleDate();for(let e=0;e<this._Receipt.details.length;e++)1==this._Receipt.details[e].haswarrenty&&null!=this._Receipt.details[e].warrantydate&&null!=this._Receipt.details[e].warrantydate&&Date.parse(this._Receipt.details[e].warrantydate.toString())<Date.parse(this._Receipt.entry_date.toString())&&(this._Receipt.details[e].warrantydate=null,this.toastr.error(this.ItemWarrantyValidMsg))}else this.DuringSaveDisable=!1,this.cd.markForCheck()}CheckScheduleDate(){if(this.DuringSaveDisable=!1,this.cd.markForCheck(),null!=this._Receipt.schedule_date&&""!=this._Receipt.schedule_date&&null!=this._Receipt.schedule_date){let e=Yi(`${this._Receipt.entry_date} ${this._Receipt.entry_time}`,"YYYY-MM-DD HH:mm").format(),t=Yi(`${this._Receipt.schedule_date} ${this._Receipt.schedule_time}`,"YYYY-MM-DD HH:mm").format();0==Yi(e).isSameOrBefore(t)?(this.ScheduledateValid=!1,this.toastr.error(this.ScheduleDateError)):this.ScheduledateValid=!0}}CheckValidDateBySubsidaryID(){this._ReceiptSharedService.ValidDateBySubsidaryID(this._Receipt.entry_date,this.subsidiaryID).subscribe(e=>{if(this.DuringSaveDisable=!1,this.cd.markForCheck(),null!=e||null!=e){if(null!=e||null!=e){let t=Date.parse(e.subsidarystart.toString()),n=Date.parse(this._Receipt.entry_date.toString());0==e.openperiod?(this.ValidPeriod=!1,this.ShowPopUpFinancialPeriod("close")):1==e.openperiod&&t<n?this.ValidPeriod=!0:(this.ValidPeriod=!1,this.ShowPopUpFinancialPeriod())}}else this.ValidPeriod=!1,this.ShowPopUpFinancialPeriod()})}ShowPopUpFinancialPeriod(e=""){let t="close"==e?this.FinancialPeriodCloseMsg:this.FinancialPeriodMsg;ke().fire({title:this.warning,text:t,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(e=>{})}onFocusInStore(e,t){t==this._Receipt.details.length-1&&this.AddItems(),this.GetFromStoreList("")}StoreChangeSearch(e,t){this.GetFromStoreList(e.query.trim())}StoreSelectEvent(e,t){this._Receipt.details[t].store_id=e.id,this._Receipt.details.forEach(t=>{t.store_id=e.id,t.storecode=e}),this._Receipt.itemscomponent.forEach(t=>{t.store_id=e.id,t.storecode=e.code}),this.CheckBalanceForItemInStore(0,!0)}GetFromStoreList(e=""){this._TransferService.GetAllActiveStoreBySubsID(this.subsidiaryID,e).subscribe(e=>{this.FromStoreList=[],this.FromStoreList=e,this.cd.markForCheck()})}onClearItems(e){let t=this._Receipt.details[e];if(3==t.item_type&&this._Receipt.itemscomponent.length>0&&this._Receipt.itemscomponent.filter(e=>e.finishedproductid==t.item_id).length>0)if(null!=t.id)for(let n=0;n<this._Receipt.itemscomponent.length;n++)this._Receipt.itemscomponent[n].finishedproductid==t.item_id&&this._Receipt.itemscomponent[n].finishedreceipt_did==t.id&&(this._Receipt.itemscomponent.splice(n,1),n--);else null==t.id&&(this._Receipt.itemscomponent=this._Receipt.itemscomponent.filter(e=>e.parentrowno!=t.rowno));if(null!=this._Receipt.details[e].id){let t=Math.max(...this._Receipt.details.map(e=>e.rowno),0);this._Receipt.details[e].rowno=t+1}this._Receipt.details[e].id=null,this._Receipt.details[e].finishedproductid=null,this._Receipt.details[e].finishedreceipt_did=null,this._Receipt.details[e].item_id=null,this._Receipt.details[e].itemname=null,this._Receipt.details[e].itemname_ar=null}onFocusInItems(e,t){this.GetItemsList("")}ItemsChangeSearch(e,t){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,this.GetItemsList(e.query.trim())},300)}ItemsSelectEvent(e,t){null!=this._Receipt.details[t].item_id&&this.onClearItems(t),0==e.stopinventorytransactions?(t==this._Receipt.details.length-1&&(this.InventorySetting?this.InventorySetting[0].permissiontorepeatiteminvoucher&&null!=this.InventorySetting[0].permissiontorepeatiteminvoucher&&null!=this.InventorySetting[0].permissiontorepeatiteminvoucher?this.AddItems():this._Receipt.details.some(t=>t.item_id==e.id)?this.duplicateItemSwalPopUp(t):this.AddItems():this.AddItems()),this._Receipt.details[t].item_id=e.id,this._Receipt.details[t].itemname=e.name,this._Receipt.details[t].itemname_ar=e.name_ar,this.GetItemDataDetailsLists(e,t)):(this._Receipt.details[t]=new g.hm,0==this._Receipt.id?(this._Receipt.details[t].store_id=this._Receipt.fromstoreid,this._Receipt.details[t].storecode={code:this.StoreCode}):(this._Receipt.details[t].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.details[t].storecode=this._ReceiptOriginal.details[0].storecode),this.cd.markForCheck(),this.toastr.error(this.StopInventoryErrorMsg))}duplicateItemSwalPopUp(e){ke().fire({title:this.warning,text:this.cantNotDuplicateItem,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(t=>{this.onClearItems(e),this._Receipt.details[e].itemcode=null,this.cd.markForCheck()})}GetItemsList(e=""){0==this.PriceListItemsOnly?this._ReceiptSharedService.GetItemsDataList(this.subsidiaryID,e).subscribe(e=>{this.ItemsList=[],this.ItemsList=e,this.cd.markForCheck()}):1==this.PriceListItemsOnly&&this._ReceiptSharedService.GetItemsDataFromCustomerPriceList(this.subsidiaryID,this._Receipt.vendor_id,e).subscribe(e=>{this.ItemsList=[],this.ItemsList=e,this.cd.markForCheck()})}GetItemDataDetailsLists(e,t){null!=e.item_id&&(e.id=e.item_id),this._Receipt.details[t].finishedproductid=null,this._Receipt.details[t].finishedreceipt_did=null,this._Receipt.details[t].conv=1,this._Receipt.details[t].final_conv=1,this._Receipt.details[t].qty=1,this._Receipt.details[t].price=0,this._Receipt.details[t].discount_percent=0,this._Receipt.details[t].discount_value=0,this._Receipt.details[t].total=0,this._Receipt.details[t].notes="",this._Receipt.details[t].unit_id=null,this._ReceiptSharedService.GetItemDataDetailsLists(this.subsidiaryID,e.id).subscribe(n=>{0==n.itemunits.length?(this._Receipt.details[t]=new g.hm,0==this._Receipt.id?(this._Receipt.details[t].store_id=this._Receipt.fromstoreid,this._Receipt.details[t].storecode={code:this.StoreCode}):(this._Receipt.details[t].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.details[t].storecode=this._ReceiptOriginal.details[0].storecode),this.toastr.error(this.NoUnits)):3==e.item_type&&0==n.itemcomponents.length?(this._Receipt.details[t]=new g.hm,0==this._Receipt.id||null==this._Receipt.id?(this._Receipt.details[t].store_id=this._Receipt.fromstoreid,this._Receipt.details[t].storecode={code:this.StoreCode}):(this._Receipt.details[t].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.details[t].storecode=this._ReceiptOriginal.details[0].storecode),this.toastr.error(this.NOComponents)):(this._Receipt.details[t].notes=n.item.notes,this._Receipt.details[t].item_type=n.item.item_type,this._Receipt.details[t].qty=1,this._Receipt.details[t].haswarrenty=n.item.haswarrenty,this._Receipt.details[t].warrantydate=n.item.haswarrenty?this.getwarrantydateDate():null,this.ItemUnitsList.length>0?0==this.ItemUnitsList.filter(t=>t.item_id==e.id).length&&(this.ItemUnitsList=this.ItemUnitsList.concat(n.itemunits)):this.ItemUnitsList=this.ItemUnitsList.concat(n.itemunits),this._Receipt.details[t].unit_id=e.inventory_unitid,n.componentsunits.length>0&&(this.ItemComponentUnitsList=this.ItemComponentUnitsList.concat(n.componentsunits)),n.itemcomponents.length>0&&n.itemcomponents.forEach(e=>{let n=new g.hm;n.item_id=e.itemcomponentid,n.finishedproductid=e.item_id,n.itemname=e.itemname,n.itemname_ar=e.itemname_ar,n.itemcode=e.itemcode,n.unit_id=e.itemcomponentunitid,n.qty=e.itemcomponentqty,n.basicqtycomponent=e.itemcomponentqty,n.conv=e.itemcomponentconv,n.itemcode=e.itemcode,n.price=0,n.total=n.price*n.qty,n.store_id=this._Receipt.details[t].store_id,n.transaction_move=this.Transaction_move,n.item_type=e.item_type,n.storecode=null!=this._Receipt.details[t].storecode?this._Receipt.details[t].storecode.code:null,n.parentrowno=this._Receipt.details[t].rowno,this._Receipt.itemscomponent.push(n)}),this.ChangeItemUnits(e.inventory_unitid,t)),this.cd.markForCheck()})}ChangeItemUnits(e,t){e.toString().includes(":")&&(e=e.split(":")[1].trim());let n=this._Receipt.details[t].item_id,i=this.ItemUnitsList.filter(t=>t.item_id==n&&t.id==e);null!=this._Receipt.details[t].item_id&&null!=this._Receipt.details[t].unit_id&&this._ReceiptSharedService.GetItemCostAtDateStore(this._Receipt.details[t].item_id,this._Receipt.details[t].unit_id,0,this._Receipt.entry_date+" "+this._Receipt.entry_time).subscribe(e=>{console.log(e),e.length>0?(this._Receipt.details[t].price=Number((e[0].avgcost||0).toFixed(this._Currencyprecision)),this._Receipt.details[t].conv=i[0].conv,this._Receipt.details[t].final_conv=i[0].finalconv,this.OnSelectedItem(this._Receipt.details[t],t),this.CalaculteValuesItemsRow(t)):(this._Receipt.details[t].price=Number((0).toFixed(this._Currencyprecision)),this._Receipt.details[t].conv=i[0].conv,this._Receipt.details[t].final_conv=i[0].finalconv,this.OnSelectedItem(this._Receipt.details[t],t),this.CalaculteValuesItemsRow(t))}),this.cd.markForCheck()}ChangePackItem(e){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null;let t=0,n=0,i=this.ItemUnitsList.filter(t=>t.item_id==this._Receipt.details[e].item_id&&t.id==this._Receipt.details[e].unit_id);n=i[0].conv,this._ReceiptSharedService.GetItemCostAtDateStore(this._Receipt.details[e].item_id,this._Receipt.details[e].unit_id,0,this._Receipt.entry_date+" "+this._Receipt.entry_time).subscribe(i=>{console.log(i),i.length>0?(t=Number((i[0].avgcost||0).toFixed(this._Currencyprecision)),this._Receipt.details[e].price=t*this._Receipt.details[e].conv/n,this.OnSelectedItem(this._Receipt.details[e],e),this.CalaculteValuesItemsRow(e)):(t=0,this._Receipt.details[e].price=t*this._Receipt.details[e].conv/n,this.OnSelectedItem(this._Receipt.details[e],e),this.CalaculteValuesItemsRow(e))}),this.cd.markForCheck()},1e3)}ChangeQty(e){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{if(this.timeout=null,3==this._Receipt.details[e].item_type)if(this.ItemsComponentList=new Array,null!=this._Receipt.details[e].id){let t=this._Receipt.details[e];for(let e=0;e<this._Receipt.itemscomponent.length;e++)if(this._Receipt.itemscomponent[e].finishedproductid==t.item_id&&this._Receipt.itemscomponent[e].finishedreceipt_did==t.id){let n=this._ReceiptOriginal.details.find(e=>e.id==t.id).qty,i=this._ReceiptOriginal.itemscomponent.find(n=>n.finishedreceipt_did==t.id&&n.id==this._Receipt.itemscomponent[e].id).qty;this._Receipt.itemscomponent[e].basicqtycomponent=i/n,this._Receipt.itemscomponent[e].qty=this._Receipt.itemscomponent[e].basicqtycomponent*t.qty,this.ItemsComponentList.push(this._Receipt.itemscomponent[e])}}else if(null==this._Receipt.details[e].id){let t=this._Receipt.details[e];for(let e=0;e<this._Receipt.itemscomponent.length;e++)this._Receipt.itemscomponent[e].finishedproductid==t.item_id&&null==this._Receipt.itemscomponent[e].id&&this._Receipt.itemscomponent[e].parentrowno==t.rowno&&(this._Receipt.itemscomponent[e].qty=this._Receipt.itemscomponent[e].basicqtycomponent*t.qty,this.ItemsComponentList.push(this._Receipt.itemscomponent[e]))}this.StockBalances(e),this.CheckBalanceForItemInStore(e),this.CalaculteValuesItemsRow(e)},1e3)}OnSelectedItem(e=null,t=null,n="",i=!1){if(this.show_all_component=i,0==this.show_all_component)if(this.ItemsComponentList=new Array,this.SelectedItem=e,null!=e&&3==e.item_type){let t=e;if(null!=t.id)for(let e=0;e<this._Receipt.itemscomponent.length;e++)this._Receipt.itemscomponent[e].finishedproductid==t.item_id&&this._Receipt.itemscomponent[e].finishedreceipt_did==t.id&&this.ItemsComponentList.push(this._Receipt.itemscomponent[e]);else null==t.id&&(this.ItemsComponentList=this._Receipt.itemscomponent.filter(e=>e.finishedproductid==t.item_id&&null==e.id&&e.parentrowno==t.rowno))}else this.ItemsComponentList=[];else this.show_all_component=!0,this.cd.markForCheck();this.itemqtyview=!1,null!=t&&this.StockBalances(t),""==n&&null!=t&&this.CheckBalanceForItemInStore(t)}AddItems(){this._CashSalesDetailsReceipt=new g.hm,this._Receipt.details.length>0?(this._CashSalesDetailsReceipt.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,this._CashSalesDetailsReceipt.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode):0==this._Receipt.id||null==this._Receipt.id?(this._CashSalesDetailsReceipt.store_id=this._Receipt.fromstoreid,this._CashSalesDetailsReceipt.storecode={code:this.StoreCode}):(this._CashSalesDetailsReceipt.store_id=this._ReceiptOriginal.details[0].store_id,this._CashSalesDetailsReceipt.storecode=this._ReceiptOriginal.details[0].storecode),this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move;let e=Math.max(...this._Receipt.details.map(e=>e.rowno),0);this._CashSalesDetailsReceipt.rowno=e+1,this._Receipt.details.push(this._CashSalesDetailsReceipt),this.cd.markForCheck()}DeleteItems(e){this.itemqtyview=!1;let t=this._Receipt.details[e];if(this._Receipt.itemscomponent.length>0&&this._Receipt.itemscomponent.filter(e=>e.finishedproductid==t.item_id).length>0)if(null!=t.id)for(let n=0;n<this._Receipt.itemscomponent.length;n++)this._Receipt.itemscomponent[n].finishedproductid==t.item_id&&this._Receipt.itemscomponent[n].finishedreceipt_did==t.id&&(this._Receipt.itemscomponent.splice(n,1),n--);else null==t.id&&(this._Receipt.itemscomponent=this._Receipt.itemscomponent.filter(e=>e.parentrowno!=t.rowno));1==this._Receipt.details.filter(e=>e.item_id==t.item_id).length&&(this.ItemUnitsList=this.ItemUnitsList.filter(e=>e.item_id!=t.item_id)),this._Receipt.details.splice(e,1),0==this._Receipt.details.length&&(this._Receipt.discount_percent=0,this._Receipt.discount_foreignpercent=0,this._Receipt.deliveryfees=0,this._Receipt.deliveryfeesforeign=0,this._Receipt.discount_value=0,this._Receipt.discount_foreignvalue=0,this._Receipt.value=0,this._Receipt.valueforeign=0,this._Receipt.surchargevalueforeign=0,this._Receipt.surchargevalue=0),this.Calculate_Total_Tax_Net(),this.OnSelectedItem(null),this.cd.markForCheck()}OnSerialItems(e){}CalaculteValuesItemsRow(e,t="percent"){this._Receipt.details[e].qty=this._Receipt.details[e].qty||0,this._Receipt.details[e].price=this._Receipt.details[e].price||0,this._Receipt.details[e].discount_value=this._Receipt.details[e].discount_value||0,this._Receipt.details[e].discount_percent=this._Receipt.details[e].discount_percent||0;let n=Number((this._Receipt.details[e].price*this._Receipt.details[e].qty).toFixed(this._Currencyprecision));"percent"==t&&(this._Receipt.details[e].discount_value=Number(((n*this._Receipt.details[e].discount_percent||0)/100).toFixed(this._Currencyprecision))),"value"==t&&(this._Receipt.details[e].discount_percent=100*(this._Receipt.details[e].discount_value/n%(1/0)||0)),this._Receipt.details[e].total=Number((n-this._Receipt.details[e].discount_value).toFixed(this._Currencyprecision)),this.Calculate_Total_Tax_Net(),this.cd.markForCheck()}ReCalaculteValuesChangeItemsRow(e){this._Receipt.details[e].qty=this._Receipt.details[e].qty||1,this._Receipt.details[e].price=this._Receipt.details[e].price||0,this._Receipt.details[e].discount_value=this._Receipt.details[e].discount_value||0,this._Receipt.details[e].discount_percent=this._Receipt.details[e].discount_percent||0,this._Receipt.details[e].total=Number((this._Receipt.details[e].total||0).toFixed(this._Currencyprecision)),0==this._Receipt.details[e].discount_value?this._Receipt.details[e].price=Number((this._Receipt.details[e].total/this._Receipt.details[e].qty%(1/0)||0).toFixed(this._Currencyprecision)):0!=this._Receipt.details[e].discount_value&&(this._Receipt.details[e].price=Number(((this._Receipt.details[e].total+this._Receipt.details[e].discount_value)/this._Receipt.details[e].qty%(1/0)||0).toFixed(this._Currencyprecision)),this._Receipt.details[e].discount_percent=100*(this._Receipt.details[e].discount_value/(this._Receipt.details[e].price*this._Receipt.details[e].qty)%(1/0)||0)),this.Calculate_Total_Tax_Net(),this.cd.markForCheck()}GetReceiptCodeList(){this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID).subscribe(e=>{this.ReceiptCodeList=e;let t=this.ReceiptCodeList.find(e=>e.code==this.BasicCodeReceipt);this.Transaction_move=t.items,this.cd.markForCheck()})}AddLinkedReceipt(){this._LinkedReceipt=new g.Cb,this._LinkedReceipt.code=this.BasicCodeReceipt,this._LinkedReceipt.branch_id=this._Receipt.branch_id,this._Receipt.linkedreceipts.push(this._LinkedReceipt),this.cd.markForCheck()}GetLinkedReceipt(e){let t=this._Receipt.linkedreceipts[e];this.ItemLinkedReceipt=[],this.ItemComponentsLinkedReceipt=[],null!=t.branch_id&&null!=t.code&&null!=t.entry_no&&t.entry_no>0&&0==t.fire&&(this._Receipt.linkedreceipts[e].fire=1,this.spinner.show(),this._ReceiptSharedService.GetReceiptForLinkedReceipt(t.branch_id,t.code,t.entry_no).subscribe(t=>{if(this.spinner.hide(),null==t.receipt.id)this._Receipt.linkedreceipts[e].fire=0,this.toastr.error(this.ReceiptNotFound);else if(t.items.length>0)if(1==this._Receipt.linkedreceipts.length&&(this._Receipt.subsidiaryid=t.receipt.subsidiaryid,this._Receipt.customersalesprice=t.receipt.customersalesprice,this._Receipt.payment_type=t.receipt.payment_type,this._Receipt.vendor_id=t.receipt.vendor_id,this._Receipt.cashcustomerid=t.receipt.cashcustomerid,null!=this._Receipt.vendor_id&&(this._Receipt.cashcustomer_vendor_code={code:t.receipt.vendorcode},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?t.receipt.vendornamear:t.receipt.vendorname,this._Receipt.vendor_balance=t.receipt.vendor_balance,this.PriceListItemsOnly=t.receipt.pricelistitemsonly),null!=this._Receipt.cashcustomerid&&(this._Receipt.cashcustomer_vendor_code={phonenumber:t.receipt.phonenumber},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?t.receipt.cashcustomername_ar:t.receipt.cashcustomername,this.PriceListItemsOnly=!1),this._Receipt.currency_id=t.receipt.currency_id,this._Receipt.currency_rate=t.receipt.currency_rate,this._Receipt.empoyee_id=t.receipt.empoyee_id,this._Receipt.memo=t.receipt.memo,this._Receipt.reference_no=t.receipt.reference_no,this._CurrencySelected=this.CurrencyList.find(e=>e.id==this._Receipt.currency_id),this.ForeignCurrencyShow=1!=this._CurrencySelected.basecurrency),0==this.PriceListItemsOnly||t.receipt.vendor_id==this._Receipt.vendor_id){if(this._Receipt.linkedreceipts[e].fire=1,this._Receipt.linkedreceipts[e].receiptid=t.receipt.id,this._Receipt.linkedreceipts[e].subsidiaryid=this.subsidiaryID,this._Receipt.linkedreceipts[e].parentreceiptid=this._Receipt.id,null!=t.receipt.fromstoreid){this._Receipt.fromstoreid=t.receipt.fromstoreid;const e=this.FromStoreList.find(e=>e.id==this._Receipt.fromstoreid);this.StoreCode=e.storecode,0==this._Receipt.details.length&&(this._CashSalesDetailsReceipt=new g.hm,this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move,this._Receipt.details.push(this._CashSalesDetailsReceipt),this._Receipt.details[0].store_id=e.id,this._Receipt.details[0].storecode={code:e.storecode}),this._Receipt.details.length>0&&(this._Receipt.details.forEach(t=>{t.store_id=e.id,t.storecode={code:e.storecode}}),this._Receipt.itemscomponent.forEach(t=>{t.store_id=e.id,t.storecode={code:e.storecode}}))}null!=t.receipt.tostoreid&&(this._Receipt.tostoreid=t.receipt.tostoreid);for(let e=0;e<this._Receipt.details.length;e++)null==this._Receipt.details[e].item_id&&(this._Receipt.details.splice(e,1),e--);t.itemunits.forEach(e=>{0==this.ItemUnitsList.filter(t=>t.item_id==e.item_id&&t.id==e.unit_id).length&&this.ItemUnitsList.push(e)}),t.itemcomponents.length>0&&(this.ItemComponentsLinkedReceipt=t.itemcomponents,81==t.receipt.code&&(this.ItemComponentsLinkedReceipt=this.ItemComponentsLinkedReceipt.filter(e=>-1==e.transaction_move)),this.ItemComponentUnitsList=this.ItemComponentUnitsList.concat(t.componentsunits)),this.ItemLinkedReceipt=t.items,81==t.receipt.code&&(this.ItemLinkedReceipt=this.ItemLinkedReceipt.filter(e=>-1==e.transaction_move)),this.SetLinkReceiptItemRow(0,this.ItemLinkedReceipt[0])}else this._Receipt.linkedreceipts[e].fire=0,this.toastr.info(this.CustomerPricelistMsg);else this.spinner.hide(),this._Receipt.linkedreceipts[e].fire=0,this.toastr.error(this.Receiptnoitems),this._Receipt.linkedreceipts[e].entry_no=null,this.cd.markForCheck()}))}SetLinkReceiptItemRow(e=0,t){this._CashSalesDetailsReceipt=new g.hm;let n=this._Receipt.details.findIndex(e=>e.item_id==t.item_id&&e.unit_id==t.unit_id&&e.conv==t.conv&&e.price==t.price);if(-1==n){this._Receipt.details.length>0?(this._CashSalesDetailsReceipt.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,this._CashSalesDetailsReceipt.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode):(this._CashSalesDetailsReceipt.store_id=t.store_id,this._CashSalesDetailsReceipt.storecode={code:t.storecode}),this._CashSalesDetailsReceipt.item_id=t.item_id,this._CashSalesDetailsReceipt.itemcode={code:t.itemcode},this._CashSalesDetailsReceipt.itemname=t.itemname,this._CashSalesDetailsReceipt.itemname_ar=t.itemname_ar,this._CashSalesDetailsReceipt.unit_id=t.unit_id,this._CashSalesDetailsReceipt.conv=t.conv,this._CashSalesDetailsReceipt.qty=t.qty,this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move,this._CashSalesDetailsReceipt.isrequireserial=t.isrequireserial,this._CashSalesDetailsReceipt.item_type=t.item_type,this._CashSalesDetailsReceipt.notes=t.notes,this._CashSalesDetailsReceipt.haswarrenty=t.haswarrenty,this._CashSalesDetailsReceipt.warrantydate=t.warrantydate,this._CashSalesDetailsReceipt.detailshtml=t.detailshtml,this._CashSalesDetailsReceipt.customitemname=t.customitemname,this._CashSalesDetailsReceipt.salesmanid=t.salesmanid,this._CashSalesDetailsReceipt.price=0!=t.priceafterincrease&&null!=t.priceafterincrease?t.priceafterincrease:t.price,this._CashSalesDetailsReceipt.discount_percent=t.discount_percent,this._CashSalesDetailsReceipt.discount_value=t.discount_value,this._CashSalesDetailsReceipt.total=t.total;let n=Math.max(...this._Receipt.details.map(e=>e.rowno),0);this._CashSalesDetailsReceipt.rowno=n+1,3==t.item_type&&(this.ItemComponentsLinkedReceipt.filter(e=>e.finishedproductid==t.item_id&&e.finishedreceipt_did==t.id).forEach(e=>{let t=new g.hm;t.store_id=this._CashSalesDetailsReceipt.store_id,t.storecode=this._CashSalesDetailsReceipt.storecode.code,t.item_id=e.item_id,t.itemcode=e.itemcode,t.itemname=e.itemname,t.itemname_ar=e.itemname_ar,t.unit_id=e.unit_id,t.conv=e.conv,t.qty=e.qty,t.basicqtycomponent=e.qty/this._CashSalesDetailsReceipt.qty||0,t.price=e.price,t.discount_value=e.discount_value,t.discount_percent=e.discount_percent,t.total=e.total,t.transaction_move=this.Transaction_move,t.finishedproductid=e.finishedproductid,t.item_type=e.item_type,t.notes=e.notes,t.haswarrenty=e.haswarrenty,t.warrantydate=e.warrantydate,t.detailshtml=e.detailshtml,t.customitemname=e.customitemname,t.salesmanid=e.salesmanid,t.parentrowno=this._CashSalesDetailsReceipt.rowno,this._Receipt.itemscomponent.push(t)}),this.cd.markForCheck()),this.ItemUnitsList.filter(e=>e.item_id==t.item_id&&e.id==t.unit_id),this._Receipt.details.push(this._CashSalesDetailsReceipt),this.CalaculteValuesItemsRow(this._Receipt.details.length-1),e+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(e+1,this.ItemLinkedReceipt[e+1]):this.SetLinkReceiptItemFinished()}else{if(this._Receipt.details[n].qty=this._Receipt.details[n].qty+parseFloat(t.qty),3==t.item_type){let e=this.ItemComponentsLinkedReceipt.filter(e=>e.finishedproductid==t.item_id&&e.finishedreceipt_did==t.id);if(null!=this._Receipt.details[n].id){let t=this._Receipt.details[n];for(let n=0;n<this._Receipt.itemscomponent.length;n++)if(this._Receipt.itemscomponent[n].finishedproductid==t.item_id&&this._Receipt.itemscomponent[n].finishedreceipt_did==t.id){var i=e.find(e=>e.item_id==this._Receipt.itemscomponent[n].item_id);this._Receipt.itemscomponent[n].qty=this._Receipt.itemscomponent[n].qty+parseFloat(i.qty)}}else if(null==this._Receipt.details[n].id){let t=this._Receipt.details[n];for(let n=0;n<this._Receipt.itemscomponent.length;n++)this._Receipt.itemscomponent[n].finishedproductid==t.item_id&&null==this._Receipt.itemscomponent[n].id&&this._Receipt.itemscomponent[n].parentrowno==t.rowno&&(i=e.find(e=>e.item_id==this._Receipt.itemscomponent[n].item_id),this._Receipt.itemscomponent[n].qty=this._Receipt.itemscomponent[n].qty+parseFloat(i.qty))}}this.CalaculteValuesItemsRow(n),e+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(e+1,this.ItemLinkedReceipt[e+1]):this.SetLinkReceiptItemFinished()}}SetLinkReceiptItemFinished(){if(this.spinner.hide(),this.IxLRS+1<this.LinkedReceiptListSelected.length){this.IxLRS=this.IxLRS+1;let e=this._Receipt.linkedreceipts.length-(this.IxLRS+1);1!=this._Receipt.linkedreceipts[e].fire&&this.GetLinkedReceipt(e)}else this.CheckBalanceForItemInStore(0,!0),this.StockBalances(0);this.cd.markForCheck()}OnOpenLinkedReceipt(e){let t=this._Receipt.linkedreceipts[e],n=this._ReceiptSharedService.ReceiptsLinked_Url_Codes.find(e=>e.Code==t.code);null!=this._Receipt.linkedreceipts[e].receiptid?""!=n.Url&&window.open(n.Url+this._Receipt.linkedreceipts[e].receiptid+"/show","_blank"):null!=t.branch_id&&null!=t.code&&null!=t.entry_no&&t.entry_no>0&&this._ReceiptSharedService.GetLinkedReceiptID(t.branch_id,t.code,t.entry_no).subscribe(e=>{""!=n.Url&&null!=e?window.open(n.Url+e.id+"/show","_blank"):this.toastr.error(this.ReceiptNotFound)})}DeleteLinkedReceipt(e){this._Receipt.linkedreceipts.splice(e,1),this.cd.markForCheck()}OnSignatureSet(e){this._Receipt.signature=e.signature}Calculate_Total_Tax_Net(){let e=0;this._Receipt.details.forEach(t=>{e+=t.total}),1==this._Receipt.currency_rate?(this._Receipt.value=Number(e.toFixed(this._Currencyprecision)),this._Receipt.valueforeign=Number(e.toFixed(this._Currencyprecision))):(this._Receipt.valueforeign=Number(e.toFixed(this._Currencyprecision)),this._Receipt.value=Number((e/this._Receipt.currency_rate).toFixed(this._Currencyprecision))),this._Receipt.deliveryfees=this._Receipt.deliveryfees||0,this._Receipt.deliveryfeesforeign=this._Receipt.deliveryfeesforeign||0,this._Receipt.discount_foreignpercent=this._Receipt.discount_foreignpercent||0,this._Receipt.discount_foreignvalue=this._Receipt.discount_foreignvalue||0,this._Receipt.discount_percent=this._Receipt.discount_percent||0,this._Receipt.discount_value=this._Receipt.discount_value||0,this._Receipt.surchargepercent=this._Receipt.surchargepercent||0,this._Receipt.surchargevalue=this._Receipt.surchargevalue||0,this.CalculateTax_Net(e)}CalculateTax_Net(e=0){1==this._Receipt.currency_rate?(this._Receipt.netvalue=Number(e.toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0,this._Receipt.netvalueforeign=this._Receipt.netvalue):(this._Receipt.netvalueforeign=Number(e.toFixed(this._Currencyprecision)),this._Receipt.netvalueforeign=this._Receipt.netvalueforeign>=0?this._Receipt.netvalueforeign:0,this._Receipt.netvalue=Number((this._Receipt.netvalueforeign/this._Receipt.currency_rate).toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0)}StockBalances(e=null){null!=e&&3!=this._Receipt.details[e].item_type?(this.itemqtyview=!1,this._itemstoreqtyobj=new g.I$,this._itemstoreqtyobj.subsidairyid=this.subsidiaryID,this._itemstoreqtyobj.ReceiptCode=this.BasicCodeReceipt,this._itemstoreqtyobj.BranchID=this._Receipt.branch_id,this._itemstoreqtyobj.Entrydate=this._Receipt.entry_date,this._itemstoreqtyobj.Unit_ID=this._Receipt.details[e].unit_id,this._itemstoreqtyobj.conv=this._Receipt.details[e].conv,this._itemstoreqtyobj.itemid=this._Receipt.details[e].item_id,this._itemstoreqtyobj.StoreID=this._Receipt.fromstoreid,this._itemstoreqtyobj.ToStoreID=this._Receipt.tostoreid,this.itemqtyview=!0):(this.itemqtyview=!1,this._itemstoreqtyobj=new g.I$)}CheckBalanceForItemInStore(e,t=!1,n=!1){var i;1==n&&(this.DuringSaveDisable=!0,this.cd.markForCheck());let r=!0,s=new g.I$;if(null!=this._Receipt.details[e].item_id){s.ReceiptCode=this.BasicCodeReceipt,s.BranchID=this._Receipt.branch_id,s.Entrydate=this._Receipt.entry_date+" "+this._Receipt.entry_time,s.Unit_ID=this._Receipt.details[e].unit_id,s.conv=this._Receipt.details[e].conv,s.Qty=0,s.itemid=this._Receipt.details[e].item_id,s.StoreID=this._Receipt.details[e].store_id,s.subsidairyid=this.subsidiaryID,s.ReceiptID=this._Receipt.id,console.log(s);let o=null!==(i=this.ReceiptCodeList.filter(e=>e.code==this.BasicCodeReceipt)[0].items)&&void 0!==i?i:-1,a=this.InventorySetting[0].physicalnegativeinventoryid;console.log(this._Receipt.details[e].item_type),2!=this._Receipt.details[e].item_type&&(-1==o||1==o&&this._Receipt.details[e].id>0)&&1==a?this._ReceiptSharedService.CheckBalanceForItemInStore(s).subscribe(i=>{let s=0,a=0,c=0,l=[],d=!0;if(0==i.consignment.consignment){if(null!=i.totalqty.totalqty){if(s=i.totalqty.totalqty,l=i.itemcomponent,this._Receipt.details.filter(t=>t.item_id==this._Receipt.details[e].item_id).forEach(e=>{let t=this.ItemUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let n=null!=t.finalconv?t.finalconv:1,i=null!=t.conv?t.conv:1,r=e.conv;a=parseFloat(a.toString())+n*(r/i)*parseFloat(e.qty.toString())}}),3!=this._Receipt.details[e].item_type){this._Receipt.itemscomponent.filter(t=>t.item_id==this._Receipt.details[e].item_id&&null!=t.id).forEach(e=>{let t=this.ItemComponentUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let n=(null!=t.finalconv?t.finalconv:1)*(e.conv/(null!=t.conv?t.conv:1))*parseFloat(e.qty.toString());a=parseFloat(a.toString())+n}});let t=[],n=this._Receipt.details.filter(e=>3==e.item_type&&null==e.id);for(let i=0;i<n.length;i++){t=[],t=this._Receipt.itemscomponent.filter(t=>t.parentrowno==n[i].rowno&&t.finishedproductid==n[i].item_id&&null==t.id&&t.item_id==this._Receipt.details[e].item_id);for(let e=0;e<t.length;e++){let n=t[e].qty,i=this.ItemComponentUnitsList.find(n=>n.item_id==t[e].item_id&&n.id==t[e].unit_id);if(null!=i){let r=(null!=i.finalconv?i.finalconv:1)*(t[e].conv/(null!=i.conv?i.conv:1))*parseFloat(n.toString());a=parseFloat(a.toString())+r}}}}if(-1==o?c=s-a:1==o&&(c=s+a),3==this._Receipt.details[e].item_type)for(let e=0;e<l.length;e++)if(2!=l[e].item_type){let t=this._Receipt.details.filter(t=>t.item_id==l[e].item_id),n=0;t.forEach(e=>{let t=this.ItemUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let i=null!=t.finalconv?t.finalconv:1,r=null!=t.conv?t.conv:1,s=e.conv;n=parseFloat(n.toString())+i*(s/r)*parseFloat(e.qty.toString())}}),this._Receipt.itemscomponent.filter(t=>t.item_id==l[e].item_id&&null!=t.id).forEach(e=>{let t=this.ItemComponentUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let i=(null!=t.finalconv?t.finalconv:1)*(e.conv/(null!=t.conv?t.conv:1))*parseFloat(e.qty.toString());n=parseFloat(n.toString())+i}});let i=[],r=this._Receipt.details.filter(e=>3==e.item_type&&null==e.id);for(let s=0;s<r.length;s++){i=[],i=this._Receipt.itemscomponent.filter(t=>t.parentrowno==r[s].rowno&&t.finishedproductid==r[s].item_id&&null==t.id&&t.item_id==l[e].item_id);for(let e=0;e<i.length;e++){let t=i[e].qty,r=this.ItemComponentUnitsList.find(t=>t.item_id==i[e].item_id&&t.id==i[e].unit_id);if(null!=r){let s=(null!=r.finalconv?r.finalconv:1)*(i[e].conv/(null!=r.conv?r.conv:1))*parseFloat(t.toString());n=parseFloat(n.toString())+s}}}if(!(n<=l[e].totalqty)){d=!1;break}d=!0}r=c>=0&&1==d}else r=!1;0==r?(this._Receipt.details[e].allowqtyselectforitem=!1,this.cd.markForCheck(),this.toastr.warning(this.qtyErrorMsg+s)):(this._Receipt.details[e].allowqtyselectforitem=!0,this.cd.markForCheck())}1==t&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,n):1==n&&this.SaveReceipt()}):1==t&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,n):1==n&&this.SaveReceipt()}else 1==t&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,n):1==n&&this.SaveReceipt()}getCurrentDate(){let e=new Date,t=e.getFullYear();return e.getMonth()+1+"/"+e.getDate()+"/"+t}getwarrantydateDate(){let e=new Date,t=e.getFullYear()+1;return e.getMonth()+1+"/"+e.getDate()+"/"+t}SetTimeNow(){let e=new Date;return("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)}OpenModal(e){this.modalReference=this.modalService.open(e,{size:"xl",backdrop:"static"})}CloseModal(){this.modalReference.close()}formateDecimal(e,t=3){return e.toFixed(t)}CreateNewAction(){JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||1==this.ShowModeReceipt||3==this._Receipt.erpstatus||this.ReceiptID>0&&!this.checkRoleParms(629)?this._router.navigate(["/page/inventorytransfers/transferrequest/0"]).then(()=>{window.location.reload()}):ke().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.value?this.CheckPre_SaveReceipt(this.RForm):e.dismiss===ke().DismissReason.cancel&&this._router.navigate(["/page/inventorytransfers/transferrequest/0"]).then(()=>{window.location.reload()})})}DeleteAction(){ke().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.isConfirmed&&1==e.isConfirmed&&this._ReceiptSharedService.DeleteReceipts(this._Receipt.id).subscribe(e=>{0==e.bcount?(this.toastr.success(this.toastrSuccessDelete),this._router.navigate(["/page/inventorytransfers/transferrequest"])):-1==e.bcount?(e.usedserials.forEach(e=>{let t=this._Receipt.details.findIndex(t=>t.item_id==e.itemid&&t.batcheslist[0].id==e.id);-1!=t&&(this._Receipt.details[t].allowqtyselectforitem=!1)}),this.toastr.error(this.RelatedwithSerialsOrBatches)):this.toastr.error(this.DeleteRelationmsg)})})}DupilcateAction(){this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(e=>{this._Receipt.entry_no=0==e.length?1:e[0].entry_no+1,this._Receipt.erpstatus=1,this.entry_no=this._Receipt.entry_no,this.location.replaceState("/page/inventorytransfers/transferrequest/0"),this.ReceiptID=0,this._Receipt.id=null,this.VouchersLinkedCount=0,this.CheckBalanceForItemInStore(0,!0),this.cd.markForCheck()})}DocumentAction(){this._router.navigate(["/page/setupsettings/documents/3/"+this._Receipt.id+"/transferrequest"],{relativeTo:this._activeRoute,queryParams:{show:this.LockedRecepit}})}PrintPreview(e){let t=this.getReportfilter(0==e?1:0);this.spinner.show(),this._ReceiptSharedService.GetReport(t).subscribe(t=>{this.spinner.hide(),1==e?this._authService.showPdfInNewTab(t.bytes,""):this._authService.printJS(t.bytes)}),this.cd.markForCheck()}onPrint(){let e=this.getReportfilter(0);this._VerifyReportsService.SaveVerifyReports(this.subsidiaryID,this.lang).subscribe(t=>{this.reporturl=`${this.reportdomainUrl}?q=${e.reportName}&ID=${e.ReceiptID}`,""!=e.lang&&(this.reporturl=this.reporturl+`&Lang=${e.lang}`),""!=e.DomainName&&(this.reporturl=this.reporturl+`&DomainName=${e.DomainName}`),""!=e.toEmail&&(this.reporturl=this.reporturl+`&email=${e.toEmail}+&Subject=${e.Subject}+&boby=${e.boby}`),this.reporturl=this.reporturl+`&Info=${t}`,this._authService.showReportInNextTab(this.reporturl),this.cd.markForCheck()})}sendEmail(e){this._emailobj=e.list;let t=this.getReportfilter(0);this.spinner.show(),this._ReceiptSharedService.GetReport(t).subscribe(e=>{this.spinner.hide(),alert(this.mailmsg)}),this.cd.markForCheck()}getReportfilter(e=0){const t=this._authService.userInfo();let n="",i="";"ar"==this.lang&&(i="_ar"),n="P_I_80_TransferRequest"+i;let r={reportName:n,SubsidaryID:this.subsidiaryID,ReceiptID:this._Receipt.id,lang:"",DomainName:"",toEmail:"",Subject:"",boby:""};return t.clientdatabase.indexOf("alnasaem")>-1&&(n="P_I_80_TransferRequest_Print"+i),r.toEmail=this._emailobj.email,r.Subject=this._emailobj.subject,r}BackAction(){JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||this.ReceiptID>0&&!this.checkRoleParms(629)||0==this.ReceiptID&&!this.checkRoleParms(323)||1==this.ShowModeReceipt?this._router.navigate(["/page/inventorytransfers/transferrequest"]):ke().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.value?this.CheckPre_SaveReceipt(this.RForm):e.dismiss===ke().DismissReason.cancel&&this._router.navigate(["/page/inventorytransfers/transferrequest"])})}changeEntryType(e){86==this._Receipt.code?(this._Receipt.replenshimenttype=1,this._Receipt.replenshimentfromdate=new Date,this._Receipt.replenshimenttodate=new Date):this._Receipt.replenshimenttype=null,this.BasicCodeReceipt=this._Receipt.code}changeStoreType(e){}changeToStoreType(e){this._Receipt.fromstoreid==this._Receipt.tostoreid&&(this.toastr.error(this.ToStoreErrorMsg),this.cd.markForCheck())}ToStorFocus(){this._Receipt.fromstoreid==this._Receipt.tostoreid&&(this._Receipt.tostoreid=null,this.cd.markForCheck())}changeFromStoreType(e){if(this._Receipt.fromstoreid==this._Receipt.tostoreid)this.toastr.error(this.FromStoreErrorMsg),this.cd.markForCheck();else{const e=this.FromStoreList.find(e=>e.id==this._Receipt.fromstoreid);this.StoreCode=e.storecode,0==this._Receipt.details.length&&(this._CashSalesDetailsReceipt=new g.hm,this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move,this._Receipt.details.push(this._CashSalesDetailsReceipt),this._Receipt.details[0].store_id=e.id,this._Receipt.details[0].storecode={code:e.storecode}),this._Receipt.details.length>0&&(this._Receipt.details.forEach(t=>{t.store_id=e.id,t.storecode={code:e.storecode}}),this._Receipt.itemscomponent.forEach(t=>{t.store_id=e.id,t.storecode={code:e.storecode}}),this.ItemsComponentList.forEach(t=>{t.store_id=e.id,t.storecode={code:e.storecode}}),this.CheckBalanceForItemInStore(0,!0))}}FromStorFocus(){this._Receipt.fromstoreid==this._Receipt.tostoreid&&(this._Receipt.fromstoreid=null,this.cd.markForCheck())}changeReplenshimentType(e){1==this._Receipt.replenshimenttype?(this._Receipt.replenshimentfromdate=new Date,this._Receipt.replenshimenttodate=new Date):(this._Receipt.replenshimentfromdate=null,this._Receipt.replenshimenttodate=null)}CheckReplenshimentDate(e){this._Receipt.replenshimentfromdate>this._Receipt.replenshimenttodate&&(this.toastr.error(this.dateErrorMsg),this.SearchBtnDisablead=!0,this.cd.markForCheck())}Search(){if(1==this._Receipt.replenshimenttype){var e=this.datepipe.transform(this._Receipt.replenshimentfromdate,"yyyy-MM-dd"),t=this.datepipe.transform(this._Receipt.replenshimenttodate,"yyyy-MM-dd");this._TransferService.RtrieveItembyNetsales(this._Receipt.branch_id,this.StoreCostCenterSetting.storeid,e,t).subscribe(e=>{null==e||0==e.length?this.toastr.error(this.RepItemnotfoundMsg):(this._Receipt.details=e,this._Receipt.details.forEach((e,t)=>{e.storecode={code:e.storecode},e.itemcode={code:e.itemcode},e.allowqtyselectforitem=!0,this.GetItemDataDetailsLists(e,t)}))})}else this._TransferService.RtrieveItembyReplenshMinQty(this.subsidiaryID,this.StoreCostCenterSetting.storeid).subscribe(e=>{0==e.length?this.toastr.error(this.RepItemnotfoundMsg):(this._Receipt.details=e,this._Receipt.details.forEach((t,n)=>{new g.I$,t.storecode={code:t.storecode},t.itemcode={code:t.itemcode},t.allowqtyselectforitem=!0,this.ChangeItemUnits(e[n].inventory_unitid,n)}))})}GetBalnce(e){this.BalancList=[],this.BalancList=e.list;var t=this.BalancList.find(e=>{});this._Receipt.details.forEach((e,n)=>{e.item_id==t.itemid&&(e.availableqty=t.available)})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}customTrackBy(e,t){return e}}return e.\u0275fac=function(t){return new(t||e)(y["\u0275\u0275directiveInject"](_.n),y["\u0275\u0275directiveInject"](Be.v),y["\u0275\u0275directiveInject"](Te),y["\u0275\u0275directiveInject"](f.t),y["\u0275\u0275directiveInject"](Fe.H),y["\u0275\u0275directiveInject"](y.ChangeDetectorRef),y["\u0275\u0275directiveInject"](v._W),y["\u0275\u0275directiveInject"](c.F0),y["\u0275\u0275directiveInject"](R.m),y["\u0275\u0275directiveInject"](l.sK),y["\u0275\u0275directiveInject"](S.K),y["\u0275\u0275directiveInject"](c.gz),y["\u0275\u0275directiveInject"](P.FF),y["\u0275\u0275directiveInject"](b.t2),y["\u0275\u0275directiveInject"](x.e),y["\u0275\u0275directiveInject"](I.$),y["\u0275\u0275directiveInject"](C.J),y["\u0275\u0275directiveInject"](i.uU),y["\u0275\u0275directiveInject"](i.Ye))},e.\u0275cmp=y["\u0275\u0275defineComponent"]({type:e,selectors:[["app-transfer-request-details"]],viewQuery:function(e,t){if(1&e&&(y["\u0275\u0275viewQuery"](Hi,5),y["\u0275\u0275viewQuery"](Zi,5)),2&e){let e;y["\u0275\u0275queryRefresh"](e=y["\u0275\u0275loadQuery"]())&&(t.RForm=e.first),y["\u0275\u0275queryRefresh"](e=y["\u0275\u0275loadQuery"]())&&(t.PaymentMethodModel=e.first)}},features:[y["\u0275\u0275ProvidersFeature"]([_.n,Be.v,f.t,i.uU,Fe.H,C.J,Te])],decls:5,vars:4,consts:[["class","row",4,"ngIf"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"row"],[2,"margin","0 30% 0 30%","margin-top","200px"],[1,"col-md-12","col-lg-12"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"container-fluid","py-4","pl-0","pr-0"],[1,"card","my-2","mx-2","px-3","pb-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"col-12","text-right","actionBtns"],["type","submit",1,"btn","btn-success","mr-2","mb-2"],[1,"ft-check-square","mr-1"],["type","button",1,"btn","btn-success","mr-2","mb-2",3,"click"],["class","btn btn-primary mr-2 mb-2","type","button",3,"click",4,"ngIf"],["class","btn btn-warning mr-2 mb-2","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-danger","mr-2","mb-2",3,"click"],[1,"btn-group","mr-2","mb-2","mt-3"],["type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-primary","dropdown-toggle"],[1,"dropdown-menu"],[1,"col-12","col-md-6","mb-2","mb-md-0"],[1,"form-group"],["for","Category",1,"col-form-label"],[2,"color","red","font-weight","bold"],["name","Branch","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["Branch","ngModel"],["Value","null",4,"ngIf"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12","col-md-3","mb-2","mb-md-0"],["for","VendorCode",1,"col-form-label"],["type","text","id","entry_no","name","entry_no","PositiveNumbersOrDecimalOnly","","required","","customMin","",1,"form-control",3,"stepallow","ngModel","readonly","Min","CheckMin","ngClass","ngModelChange","keydown.space"],["entry_no","ngModel"],["for","Code",1,"col-form-label"],["name","Code","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["Code","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","storetype",1,"col-form-label"],["name","storetype","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["storetype","ngModel"],["class","col-12 col-md-3 mb-2 mb-md-0",4,"ngIf"],["for","fromstoreid",1,"col-form-label"],["name","fromstoreid","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change","focusout"],["fromstoreid","ngModel"],["for","erpstatus",1,"col-form-label"],["name","erpstatus","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["erpstatus","ngModel"],["for","entry_date",1,"col-form-label"],["type","date","id","entry_date","name","entry_date","required","",1,"form-control",3,"ngModel","readonly","ngClass","ngModelChange"],["entry_date","ngModel"],["type","time","id","entry_time","name","entry_time",1,"form-control",3,"readonly","ngModel","ngModelChange"],["entry_time","ngModel"],["for","Schedule_Date",1,"col-form-label"],["type","date","id","Schedule_Date","name","Schedule_Date","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["Schedule_Date","ngModel"],["type","time","id","Schedule_time","name","Schedule_time",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["Schedule_time","ngModel"],["for","createdbyid",1,"col-form-label"],["name","createdbyid","required","","disabled","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["createdbyid","ngModel"],["for","reference_no",1,"col-form-label"],["type","text","id","reference_no","name","reference_no",1,"form-control",3,"ngModel","ngModelChange"],["reference_no","ngModel"],["for","memo",1,"col-form-label"],["type","text","id","memo","name","memo",1,"form-control",3,"ngModel","ngModelChange"],["memo","ngModel"],[1,"card","my-2","mx-2","px-3","pb-3","pt-3"],[1,"col-12","nav-wrapper","position-relative","end-0","mt-3"],[1,"col-xl-7","col-md-7"],["ngbNav","",1,"nav","nav-pills","nav-fill","p-1",3,"destroyOnHide","activeId","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavItem",4,"ngIf"],[1,"mt-2",3,"ngbNavOutlet"],[1,"row","col-md-5",2,"margin-top","4rem"],[1,"row","col-md-7"],["type","button",1,"btn","btn-primary","mr-2","mb-2",3,"click"],["type","button",1,"btn","btn-warning","mr-2","mb-2",3,"click"],["class","dropdown-item","type","button",3,"click",4,"ngIf"],[3,"entryno","_savedemailobj"],["type","button",1,"dropdown-item",3,"click"],["Value","null"],[3,"value"],["for","replenshimenttype",1,"col-form-label"],["name","replenshimenttype","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["replenshimenttype","ngModel"],["type","button",1,"btn","btn-primary","mt-3",3,"click"],[1,""],["for","replenshimentfromdate",1,"col-form-label"],["type","date","id","replenshimentfromdate","name","replenshimentfromdate","required","",1,"form-control",3,"ngModel","ngClass","focusout","ngModelChange"],["replenshimentfromdate","ngModel"],["for","replenshimenttodate",1,"col-form-label"],["type","date","id","replenshimenttodate","name","replenshimenttodate","required","",1,"form-control",3,"ngModel","ngClass","focusout","ngModelChange"],["replenshimenttodate","ngModel"],["for","tostoreid",1,"col-form-label"],["name","tostoreid","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change","focusout"],["tostoreid","ngModel"],[1,"row",2,"margin-top","10px"],[1,"col"],[1,"table-responsive","table","table-accountdetails",3,"ngClass"],[1,"table"],["scope","col",2,"width","5%"],["scope","col"],["scope","col",2,"width","9%"],["scope","col",4,"ngIf"],["scope","col",2,"min-width","30px"],[4,"ngFor","ngForOf","ngForTrackBy"],["type","button",1,"btn","btn-success",3,"click"],[2,"padding-top","15px !important"],["minLength","0","delay","0","field","code",3,"ngModel","disabled","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoStore",""],["pTemplate","servstoreTemplate"],["minLength","0","delay","0","field","code",3,"ngModel","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoItems",""],["pTemplate","servCodeTemplate"],[3,"click"],[3,"ngClass",4,"ngIf"],[1,"form-control",3,"name","ngModel","required","ngClass","ngModelChange","change"],["itemunit","ngModel"],[3,"ngValue",4,"ngIf"],[3,"ngValue","selected",4,"ngFor","ngForOf"],["customMin","","PositiveNumbersOnly","","type","number",1,"form-control",3,"Min","CheckMin","ngModel","name","ngClass","keyup","ngModelChange"],["item_qty","ngModel"],["href","javascript:;",2,"color","red",3,"click"],[1,"fa","fa-trash","fa-lg"],[3,"ngClass"],[3,"ngValue"],[3,"ngValue","selected"],["customMin","","PositiveNumbersOrDecimalOnly","","type","number",1,"form-control",3,"readonly","step","Min","CheckMin","stepallow","ngModel","name","required","ngClass","keyup","ngModelChange"],["item_conv","ngModel"],["disabled","","type","number",1,"form-control",3,"Min","CheckMin","ngModel","name","ngClass","ngModelChange"],["netsales","ngModel"],["replenshdiff","ngModel"],["availableqty","ngModel"],["reorderqty","ngModel"],[1,"table-responsive","table","table-accountdetails"],[4,"ngFor","ngForOf"],["type","text",1,"form-control",3,"readonly","ngModel","name","ngModelChange"],[1,"form-control",3,"name","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","text",1,"form-control",3,"ngModel","name","readonly","ngModelChange"],["PositiveNumbersOnly","","type","text","customMin","",1,"form-control",3,"ngModel","name","Min","CheckMin","readonly","ngClass","ngModelChange"],["price","ngModel"],["PositiveNumbersOnly","","type","text",1,"form-control",3,"readonly","ngModel","name","ngModelChange"],[1,"form-control","red",3,"name","ngModel","ngModelChange"],["type","number",1,"form-control","red",3,"ngModel","name","ngModelChange"],["LinkedReceiptsentry_no","ngModel"],["href","javascript:;",2,"color","green",3,"click"],["aria-hidden","true",1,"fa","fa-plus-square","fa-lg"],["href","javascript:;",1,"info","p-0",3,"click"],["aria-hidden","true",1,"fa","fa-eye","fa-lg"],[3,"signature","signatureoutput"],[3,"wrappe","BalancesList"],["ItemStoreQty",""]],template:function(e,t){1&e&&(y["\u0275\u0275template"](0,Ki,4,3,"div",0),y["\u0275\u0275template"](1,Ks,192,164,"ng-container",1),y["\u0275\u0275elementStart"](2,"ngx-spinner",2),y["\u0275\u0275elementStart"](3,"p",3),y["\u0275\u0275text"](4,"Loading..."),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275property"]("ngIf",!(t.checkRoleParms(320)||t.checkRoleParms(323)||t.checkRoleParms(324)||t.checkRoleParms(629)||t.checkRoleParms(325))),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",t.checkRolesParms(y["\u0275\u0275pureFunction0"](3,Xs))),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("fullScreen",!0))},directives:[i.O5,b.Ro,s._Y,s.JL,s.F,s.EJ,s.Q7,s.JJ,s.On,i.mk,i.sg,s.Fj,Ae.L,Ue.a,P.Pz,P.nv,P.Vx,P.uN,P.tO,Ge.k,s.YN,s.Kr,a.Qc,$e.jx,s.wV,O.K,je.t,We.T],pipes:[l.X$,i.uU,ze.N],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.headerform[_ngcontent-%COMP%]{background-color:#2f8be6;color:#fff;height:44px;padding-top:9px;margin-bottom:17px}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important;text-align:center}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}']}),e})(),to=(()=>{class e{constructor(e){this._http=e,this.baseUrl=Le.N.apiUrl}GetAllActiveStoreBySubsID(e,t){var n=`${this.baseUrl}/TransferApproval/GetAllActiveStoreBySubsIDAndUser?SubsidiaryID=${e}&where=${t}`;return null!=t&&null!=t&&""!=t||(n=`${this.baseUrl}/TransferApproval/GetAllActiveStoreBySubsIDAndUser?SubsidiaryID=${e}`),this._http.get(n).pipe((0,qe.U)(e=>e))}TransferApprovalList(e){return this._http.post(this.baseUrl+"/TransferApproval/TransferApprovalList",e).pipe((0,qe.U)(e=>e))}TransferApprovalCount(e){return this._http.post(this.baseUrl+"/TransferApproval/TransferApprovalListCount",e).pipe((0,qe.U)(e=>e))}GetReceiptDetails(e){return this._http.get(this.baseUrl+`/TransferApproval/GetReceiptDetails?ReceiptId=${e}`).pipe((0,qe.U)(e=>e))}Approval(e,t){return this._http.get(this.baseUrl+`/TransferApproval/Approval?ReceiptId=${e}&physicalnegativeinventoryid=${t}`).pipe((0,qe.U)(e=>e))}}return e.\u0275fac=function(t){return new(t||e)(y["\u0275\u0275inject"](o.eN))},e.\u0275prov=y["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();class no{constructor(){this.SubsidaryId=0,this.UserID=0,this.fromDate="",this.toDate="",this.fromScheduleDate="",this.toScheduleDate="",this.fromStore=null,this.toStore=null,this.EntryNo=null,this.id=null,this.skip=1,this.take=10,this.lang="",this.searchValue="",this.orderby=""}}function io(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"div",4),y["\u0275\u0275elementStart"](1,"h1",5),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function ro(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",57),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]())}function so(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",57),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]())}function oo(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug,"")}}function ao(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar,"")}}function co(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",58),y["\u0275\u0275template"](1,oo,2,1,"span",1),y["\u0275\u0275template"](2,ao,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function lo(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",57),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]())}function po(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",57),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]())}function ho(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug,"")}}function mo(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar,"")}}function uo(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",58),y["\u0275\u0275template"](1,ho,2,1,"span",1),y["\u0275\u0275template"](2,mo,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function _o(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",59),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).OnPrint()}),y["\u0275\u0275element"](1,"i",38),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"]()}2&e&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](3,1,"Print")," "))}function go(e,t){1&e&&y["\u0275\u0275element"](0,"img",60)}function fo(e,t){1&e&&y["\u0275\u0275element"](0,"i",70)}function Co(e,t){1&e&&y["\u0275\u0275element"](0,"i",71)}function yo(e,t){1&e&&y["\u0275\u0275element"](0,"i",70)}function vo(e,t){1&e&&y["\u0275\u0275element"](0,"i",71)}function Ro(e,t){1&e&&y["\u0275\u0275element"](0,"i",70)}function So(e,t){1&e&&y["\u0275\u0275element"](0,"i",71)}function bo(e,t){1&e&&y["\u0275\u0275element"](0,"i",70)}function xo(e,t){1&e&&y["\u0275\u0275element"](0,"i",71)}function Io(e,t){1&e&&y["\u0275\u0275element"](0,"i",70)}function Mo(e,t){1&e&&y["\u0275\u0275element"](0,"i",71)}function Eo(e,t){1&e&&y["\u0275\u0275element"](0,"i",70)}function Oo(e,t){1&e&&y["\u0275\u0275element"](0,"i",71)}function Po(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"div",79),y["\u0275\u0275text"](1," new "),y["\u0275\u0275elementEnd"]())}function wo(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"div",79),y["\u0275\u0275text"](1," \u062c\u062f\u064a\u062f "),y["\u0275\u0275elementEnd"]())}function ko(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.itemname_ar," ")}}function Do(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.itemname," ")}}function Bo(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.uname,"")}}function Fo(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.uname_ar,"")}}function Lo(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275elementStart"](1,"td"),y["\u0275\u0275text"](2),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](3,ko,2,1,"td",1),y["\u0275\u0275template"](4,Do,2,1,"td",1),y["\u0275\u0275elementStart"](5,"td"),y["\u0275\u0275template"](6,Bo,2,1,"span",1),y["\u0275\u0275template"](7,Fo,2,1,"span",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"td"),y["\u0275\u0275text"](9),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](10,"td"),y["\u0275\u0275text"](11),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](5);y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](e.itemcode),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](e.conv),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](e.qty)}}function qo(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275elementStart"](1,"td",73),y["\u0275\u0275elementStart"](2,"table",74),y["\u0275\u0275elementStart"](3,"tr",75),y["\u0275\u0275elementStart"](4,"td",76),y["\u0275\u0275elementStart"](5,"div",77),y["\u0275\u0275elementStart"](6,"div"),y["\u0275\u0275elementStart"](7,"input",78),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).$implicit;return y["\u0275\u0275nextContext"](4).showItemFun(t)}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"div",79),y["\u0275\u0275text"](9),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](10,"div",79),y["\u0275\u0275text"](11),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"div",79),y["\u0275\u0275text"](13),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](14,"div",79),y["\u0275\u0275text"](15),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](16,"div",79),y["\u0275\u0275text"](17),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](18,Po,2,0,"div",80),y["\u0275\u0275template"](19,wo,2,0,"div",80),y["\u0275\u0275elementStart"](20,"div",79),y["\u0275\u0275elementStart"](21,"button",81),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).$implicit;return y["\u0275\u0275nextContext"](4).Approval(t)}),y["\u0275\u0275text"](22),y["\u0275\u0275pipe"](23,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](24,"tr",75),y["\u0275\u0275elementStart"](25,"td",82),y["\u0275\u0275elementStart"](26,"div",83),y["\u0275\u0275elementStart"](27,"div",4),y["\u0275\u0275elementStart"](28,"div",79),y["\u0275\u0275elementStart"](29,"div",84),y["\u0275\u0275elementStart"](30,"div",85),y["\u0275\u0275elementStart"](31,"table"),y["\u0275\u0275elementStart"](32,"thead"),y["\u0275\u0275elementStart"](33,"tr",86),y["\u0275\u0275elementStart"](34,"th",64),y["\u0275\u0275text"](35),y["\u0275\u0275pipe"](36,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](37,"th",64),y["\u0275\u0275text"](38),y["\u0275\u0275pipe"](39,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](40,"th",64),y["\u0275\u0275text"](41),y["\u0275\u0275pipe"](42,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](43,"th",64),y["\u0275\u0275text"](44),y["\u0275\u0275pipe"](45,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](46,"th",64),y["\u0275\u0275text"](47),y["\u0275\u0275pipe"](48,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](49,"tbody"),y["\u0275\u0275template"](50,Lo,12,7,"tr",72),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=y["\u0275\u0275nextContext"](4);y["\u0275\u0275advance"](7),y["\u0275\u0275property"]("src",e.imgSrc,y["\u0275\u0275sanitizeUrl"]),y["\u0275\u0275attribute"]("data-target","#demo"+n),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](null==e?null:e.fromstore),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](null==e?null:e.date),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](null==e?null:e.billno),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](null==e?null:e.username),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](null==e?null:e.totalqty),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=i.lang&&1==(null==e?null:e.erpstatus)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==i.lang&&1==(null==e?null:e.erpstatus)),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](23,17,"Approval")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275propertyInterpolate1"]("id","demo",n,""),y["\u0275\u0275advance"](9),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](36,19,"ItemCode")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](39,21,"ItemDescription")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](42,23,"Unit")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](45,25,"Pack")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](48,27,"qty")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngForOf",e.details)}}function To(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"tbody"),y["\u0275\u0275template"](1,qo,51,29,"tr",72),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",e.TransferApprovallist)}}function No(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"tbody"),y["\u0275\u0275elementStart"](1,"tr",87),y["\u0275\u0275elementStart"](2,"td",88),y["\u0275\u0275text"](3),y["\u0275\u0275pipe"](4,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](4,1,"NoData")))}function Vo(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"table",61),y["\u0275\u0275elementStart"](1,"thead",62),y["\u0275\u0275elementStart"](2,"tr",63),y["\u0275\u0275elementStart"](3,"th",64),y["\u0275\u0275text"](4,"\xa0"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"th",65),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).TransferApprovalList("FromStore")}),y["\u0275\u0275elementContainerStart"](6),y["\u0275\u0275element"](7,"i",66),y["\u0275\u0275template"](8,fo,1,0,"i",67),y["\u0275\u0275template"](9,Co,1,0,"i",68),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"th",65),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).TransferApprovalList("Date")}),y["\u0275\u0275elementContainerStart"](13),y["\u0275\u0275element"](14,"i",66),y["\u0275\u0275template"](15,yo,1,0,"i",67),y["\u0275\u0275template"](16,vo,1,0,"i",68),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275text"](17),y["\u0275\u0275pipe"](18,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](19,"th",65),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).TransferApprovalList("BillNo")}),y["\u0275\u0275elementContainerStart"](20),y["\u0275\u0275element"](21,"i",66),y["\u0275\u0275template"](22,Ro,1,0,"i",67),y["\u0275\u0275template"](23,So,1,0,"i",68),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275text"](24),y["\u0275\u0275pipe"](25,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](26,"th",65),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).TransferApprovalList("UserName")}),y["\u0275\u0275elementContainerStart"](27),y["\u0275\u0275element"](28,"i",66),y["\u0275\u0275template"](29,bo,1,0,"i",67),y["\u0275\u0275template"](30,xo,1,0,"i",68),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275text"](31),y["\u0275\u0275pipe"](32,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](33,"th",65),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).TransferApprovalList("totalQty")}),y["\u0275\u0275elementContainerStart"](34),y["\u0275\u0275element"](35,"i",66),y["\u0275\u0275template"](36,Io,1,0,"i",67),y["\u0275\u0275template"](37,Mo,1,0,"i",68),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275text"](38),y["\u0275\u0275pipe"](39,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](40,"th",65),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).TransferApprovalList("erpStatus")}),y["\u0275\u0275elementContainerStart"](41),y["\u0275\u0275element"](42,"i",66),y["\u0275\u0275template"](43,Eo,1,0,"i",67),y["\u0275\u0275template"](44,Oo,1,0,"i",68),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275text"](45),y["\u0275\u0275pipe"](46,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](47,"th",69),y["\u0275\u0275text"](48,"\xa0"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](49,To,2,1,"tbody",1),y["\u0275\u0275template"](50,No,5,3,"tbody",1),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](7),y["\u0275\u0275property"]("hidden","FromStore"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","FromStore"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","FromStore"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](11,26,"FromStore")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("hidden","Date"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Date"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Date"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](18,28,"SchedualeDate")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("hidden","BillNo"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BillNo"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BillNo"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](25,30,"EntryNo")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("hidden","UserName"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","UserName"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","UserName"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](32,32,"UserName")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("hidden","totalQty"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","totalQty"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","totalQty"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](39,34,"TotalQty")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("hidden","erpStatus"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","erpStatus"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","erpStatus"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](46,36,"Status")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngIf",e.TransferApprovallist.length>0),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",0==e.TransferApprovallist.length)}}function Ao(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",89),y["\u0275\u0275elementStart"](1,"ngb-pagination",90),y["\u0275\u0275listener"]("pageChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).onPageChange(t)})("pageChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).PageNo=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](2,"p"),y["\u0275\u0275text"](3),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"select",91),y["\u0275\u0275listener"]("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).onPageSizeChange(t.target.value)})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).PageSize=t}),y["\u0275\u0275elementStart"](5,"option",92),y["\u0275\u0275text"](6,"10 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"option",93),y["\u0275\u0275text"](8,"50 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"option",94),y["\u0275\u0275text"](10,"100 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](11,"br"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("collectionSize",e.totalCount)("page",e.PageNo)("pageSize",e.PageSize)("maxSize",5)("boundaryLinks",!0),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",e._generalService.TotalDetailsTextShow(e.PageNo,e.PageSize,e.totalCount,e.lang)," "),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngModel",e.PageSize)}}function Uo(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275elementStart"](1,"div",6),y["\u0275\u0275elementStart"](2,"div",7),y["\u0275\u0275elementStart"](3,"div",8),y["\u0275\u0275elementStart"](4,"h6",9),y["\u0275\u0275text"](5),y["\u0275\u0275pipe"](6,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"div",10),y["\u0275\u0275elementStart"](8,"div",11),y["\u0275\u0275elementStart"](9,"section"),y["\u0275\u0275elementStart"](10,"div",4),y["\u0275\u0275elementStart"](11,"div",11),y["\u0275\u0275elementStart"](12,"form",12,13),y["\u0275\u0275elementStart"](14,"div",4),y["\u0275\u0275elementStart"](15,"div",14),y["\u0275\u0275elementStart"](16,"div",15),y["\u0275\u0275elementStart"](17,"label",16),y["\u0275\u0275text"](18),y["\u0275\u0275pipe"](19,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](20,"select",17,18),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Wrapper.fromStore=t})("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().changeFromStoreType(t)}),y["\u0275\u0275template"](22,ro,2,0,"option",19),y["\u0275\u0275template"](23,so,2,0,"option",19),y["\u0275\u0275template"](24,co,3,3,"option",20),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](25,"div",14),y["\u0275\u0275elementStart"](26,"div",15),y["\u0275\u0275elementStart"](27,"label",21),y["\u0275\u0275text"](28),y["\u0275\u0275pipe"](29,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](30,"select",22,23),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Wrapper.toStore=t})("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().changeToStoreType(t)}),y["\u0275\u0275template"](32,lo,2,0,"option",19),y["\u0275\u0275template"](33,po,2,0,"option",19),y["\u0275\u0275template"](34,uo,3,3,"option",20),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](35,"div",4),y["\u0275\u0275elementStart"](36,"div",14),y["\u0275\u0275elementStart"](37,"div",15),y["\u0275\u0275elementStart"](38,"label",24),y["\u0275\u0275text"](39),y["\u0275\u0275pipe"](40,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](41,"input",25,26),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Wrapper.fromDate=t}),y["\u0275\u0275pipe"](43,"date"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](44,"div",14),y["\u0275\u0275elementStart"](45,"div",15),y["\u0275\u0275elementStart"](46,"label",27),y["\u0275\u0275text"](47),y["\u0275\u0275pipe"](48,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](49,"input",28,29),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Wrapper.toDate=t}),y["\u0275\u0275pipe"](51,"date"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](52,"div",4),y["\u0275\u0275elementStart"](53,"div",14),y["\u0275\u0275elementStart"](54,"div",15),y["\u0275\u0275elementStart"](55,"label",30),y["\u0275\u0275text"](56),y["\u0275\u0275pipe"](57,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](58,"input",31,32),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Wrapper.fromScheduleDate=t}),y["\u0275\u0275pipe"](60,"date"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](61,"div",14),y["\u0275\u0275elementStart"](62,"div",15),y["\u0275\u0275elementStart"](63,"label",33),y["\u0275\u0275text"](64),y["\u0275\u0275pipe"](65,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](66,"input",34,35),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Wrapper.toScheduleDate=t}),y["\u0275\u0275pipe"](68,"date"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](69,"div",4),y["\u0275\u0275elementStart"](70,"div",36),y["\u0275\u0275elementStart"](71,"button",37),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().preview()}),y["\u0275\u0275element"](72,"i",38),y["\u0275\u0275text"](73),y["\u0275\u0275pipe"](74,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](75,"div",39),y["\u0275\u0275elementStart"](76,"div",40),y["\u0275\u0275elementStart"](77,"div",41),y["\u0275\u0275template"](78,_o,4,3,"button",42),y["\u0275\u0275elementStart"](79,"button",43),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().OnPrint(1)}),y["\u0275\u0275element"](80,"i",38),y["\u0275\u0275text"](81),y["\u0275\u0275pipe"](82,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](83,"button",44),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().OnExcel()}),y["\u0275\u0275element"](84,"i",38),y["\u0275\u0275text"](85),y["\u0275\u0275pipe"](86,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](87,"div",45),y["\u0275\u0275elementStart"](88,"div",46),y["\u0275\u0275elementStart"](89,"label",47),y["\u0275\u0275text"](90),y["\u0275\u0275pipe"](91,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](92,"input",48,49),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Wrapper.searchValue=t})("keyup",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().TransferApprovalSearch()}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](94,"div",4),y["\u0275\u0275elementStart"](95,"div",50),y["\u0275\u0275elementStart"](96,"div",51),y["\u0275\u0275elementStart"](97,"div",52),y["\u0275\u0275elementStart"](98,"div",53),y["\u0275\u0275template"](99,go,1,0,"img",54),y["\u0275\u0275template"](100,Vo,51,38,"table",55),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](101,Ao,12,7,"div",56),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](6,28,"Transfer Approval"),""),y["\u0275\u0275advance"](13),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](19,30,"FromStore")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._Wrapper.fromStore),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",e.StoreList),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](29,32,"ToStore")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._Wrapper.toStore),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",e.StoreList),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](40,34,"fromDate")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",y["\u0275\u0275pipeBind2"](43,36,e._Wrapper.fromDate,"yyyy-MM-dd")),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](48,39,"toDate")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",y["\u0275\u0275pipeBind2"](51,41,e._Wrapper.toDate,"yyyy-MM-dd")),y["\u0275\u0275advance"](7),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](57,44,"fromScheduleDate")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",y["\u0275\u0275pipeBind2"](60,46,e._Wrapper.fromScheduleDate,"yyyy-MM-dd")),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](65,49,"toSchedule_Date")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",y["\u0275\u0275pipeBind2"](68,51,e._Wrapper.toScheduleDate,"yyyy-MM-dd")),y["\u0275\u0275advance"](7),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](74,54,"Search")," "),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(8813)),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](82,56,"pdf")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](86,58,"Excel")," "),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](91,60,"Search"),":"),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._Wrapper.searchValue),y["\u0275\u0275advance"](7),y["\u0275\u0275property"]("ngIf",e.isloading),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",!e.isloading),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.totalCount>0)}}let $o=(()=>{class e{constructor(e,t,n,i,r,s,o,a,c,l,d,p,h,m,u,_){this._TransferApprovalService=e,this._ReceiptSharedService=t,this.cd=n,this.toastr=i,this._generalService=r,this.translate=s,this._translateGlobalService=o,this.spinner=a,this._router=l,this._authService=d,this._printService=p,this._Excel=h,this._convertToPDF=m,this.datepipe=u,this.location=_,this.subsidiaryID=0,this.StoreList=[],this.TransferApprovallist=[],this.isloading=!1,this.SaveMsg="",this.swalSubmitConfirmButtonText="",this.PageSize=10,this.totalCount=0,this.PageNo=1,this.title="",this.invalidDateMsg="",this.NoDataMsg="",this.ToStoreErrorMsg="",this.FromStoreErrorMsg="",this.dateErrorMsg="",this.imgSrc="../../../../assets/img/datatables/details_open.png",this.ApproveSucc="",this.Cancel="",this.Warning23="",this.qtyErrorMsg="",this.close="",this._Wrapper=new no,this.filterData=new no,this._Receipt=new g.tY,this.LinkedReceipt=new g.Cb,this.subsidiaryID=this._generalService.SubsidiaryID,this.GetStoreList(),this.GetAllInventroySettingsBySubSidary(),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang)}),this._UserLogin=this._authService.userInfo(),c.params.subscribe(e=>{this._Wrapper.toStore=null!=e.tostore?e.tostore:null,this.preview()}),this.ngTransUnsubscribe=this.translate.get(["Transfer Approval","invalidDateMsg","swalSubmitConfirmButtonText","SaveMsg","NoDataMsg","dateErrorMsg","ToStoreErrorMsg","FromStoreErrorMsg","ApproveSucc","Cancel","Warning23","TransferTransactionHasNegativeQtyMessage","Close"]).subscribe(e=>{this.title=e["Transfer Approval"],document.title=this.title,this.invalidDateMsg=e.invalidDateMsg,this.swalSubmitConfirmButtonText=e.swalSubmitConfirmButtonText,this.SaveMsg=e.SaveMsg,this.NoDataMsg=e.NoDataMsg,this.dateErrorMsg=e.dateErrorMsg,this.ToStoreErrorMsg=e.ToStoreErrorMsg,this.FromStoreErrorMsg=e.FromStoreErrorMsg,this.ApproveSucc=e.ApproveSucc,this.Cancel=e.Cancel,this.Warning23=e.Warning23,this.qtyErrorMsg=e.TransferTransactionHasNegativeQtyMessage,this.close=e.Close}),this.ngUnsubscribe=r.proadCastSubsidiaryID.subscribe(e=>{this.subsidiaryID=this._generalService.SubsidiaryID,this.GetAllInventroySettingsBySubSidary()})}GetAllInventroySettingsBySubSidary(){this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID).subscribe(e=>{this.InventorySetting=e})}preview(){this._Wrapper.lang=this.lang,this._Wrapper.SubsidaryId=this.subsidiaryID,this.filterData=Object.assign({},this._Wrapper),this._Wrapper.toDate<this._Wrapper.fromDate&&""!=this._Wrapper.fromDate&&""!=this._Wrapper.toDate||this._Wrapper.toScheduleDate<this._Wrapper.fromScheduleDate&&""!=this._Wrapper.fromScheduleDate&&""!=this._Wrapper.toScheduleDate?this.toastr.error(this.invalidDateMsg):(null!=this._Wrapper.fromStore&&"null"!=this._Wrapper.fromStore||(this.filterData.fromStore=0),null!=this._Wrapper.toStore&&"null"!=this._Wrapper.toStore||(this.filterData.toStore=0),this.totalCount=0,this.PageNo=1,this.PageSize=10,this.TransferApprovalList(),this.TransferApprovalCount())}TransferApprovalSearch(){this._Wrapper.lang=this.lang,this.filterData&&(this.filterData.searchValue=this._Wrapper.searchValue.trim(),this.TransferApprovalList(),this.TransferApprovalCount())}TransferApprovalList(e=null){0!==Object.keys(this.filterData).length&&(this.sortColumn=null==e?null:e,this.sortDirection="asc"==this.sortDirection?"desc":"asc",null!=e&&(this.PageNo=1),null!=this.sortColumn&&""!=this.sortDirection&&(this.filterData.orderby=this.sortColumn+"."+this.sortDirection),this.isloading=!0,this._TransferApprovalService.TransferApprovalList(this.filterData).subscribe(e=>{this.TransferApprovallist=e,console.log(e),this.TransferApprovallist.map(e=>{console.log(e),e.imgSrc=this.imgSrc}),this.isloading=!1,this.cd.markForCheck()}))}TransferApprovalCount(){this._TransferApprovalService.TransferApprovalCount(this.filterData).subscribe(e=>{this.totalCount=e[0].total,console.log(e),this.cd.markForCheck()})}GetStoreList(e=""){this._TransferApprovalService.GetAllActiveStoreBySubsID(this.subsidiaryID,e).subscribe(e=>{this.StoreList=[],console.log(this.StoreList),this.StoreList=e,this.cd.markForCheck()})}changeToStoreType(e){this._Wrapper.fromStore==this._Wrapper.toStore&&(this.toastr.error(this.ToStoreErrorMsg),this._Wrapper.toStore=null,this.cd.markForCheck())}changeFromStoreType(e){this._Wrapper.fromStore==this._Wrapper.toStore&&(this.toastr.error(this.FromStoreErrorMsg),this._Wrapper.fromStore=null,this.cd.markForCheck())}OnPrint(e=0){let t="",n="ar"==this.lang?"rtl":"ltr",i="ar"==this.lang?"\u0645\u0646 \u0645\u062e\u0632\u0646":"FromStore",r="ar"==this.lang?"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":"Entry no",s="ar"==this.lang?"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062c\u062f\u0648\u0644 \u0627\u0644\u0632\u0645\u0646\u064a":"Scheduale Date",o="ar"==this.lang?"\u0623\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645":"User Name",a="ar"==this.lang?"\u0625\u062c\u0645\u0627\u0644\u0649 \u0627\u0644\u0643\u0645\u064a\u0629":"Total Qty",c="ar"==this.lang?"\u0627\u0644\u062d\u0627\u0644\u0629":"Status";this.filterData.EntryNo=null==this.filterData.EntryNo?0:this.filterData.EntryNo,this._TransferApprovalService.TransferApprovalList(this.filterData).subscribe(l=>{this.cd.markForCheck(),t=`\n           <table class="table text-center m-0 table table-striped"  border="1px"  dir = ${n}>\n                 <thead>\n                   <tr style="background: #e9f1f5;color: cornflowerblue;">\n                     <th>${i}</th>\n                     <th>${s}</th>\n                     <th>${r}</th>\n                     <th>${o}</th>\n                     <th>${a}</th>\n                     <th>${c}</th>\n                   </tr>\n                 </thead>\n             <tbody>\n         `,l.map(e=>{let n="",i="";1==e.erpstatus?(n="New",i="\u062c\u062f\u064a\u062f "):2==e.erpstatus?(n="PartiallyReceived",i="\u0627\u0644\u0627\u0633\u062a\u0644\u0627\u0645 \u0627\u0644\u062c\u0632\u0626\u064a"):3==e.erpstatus?(n="Received",i="\u062a\u0645 \u0627\u0644\u0627\u0633\u062a\u0644\u0627\u0645"):(n="",i=""),t+=`\n        <tr>\n         <td>${e.fromstore}</td>\n         <td>${e.date}</td>\n         <td>${e.billno}</td>\n         <td>${e.username}</td>\n         <td>${e.totalqty}</td>\n         <td>${"ar"==this.lang?i:n}</td>\n        </tr>\n        `}),t+="</tbody></table>",1==e?this._convertToPDF.by_html2pdf(t):this._printService.OnPrintContent(t)})}OnExcel(){let e=[];this.filterData.take=this.totalCount,this.filterData.EntryNo=null==this.filterData.EntryNo?0:this.filterData.EntryNo,this._TransferApprovalService.TransferApprovalList(this.filterData).subscribe(t=>{t.forEach(t=>{let n="",i="";1==t.erpstatus?(n="New",i="\u062c\u062f\u064a\u062f "):2==t.erpstatus?(n="PartiallyReceived",i="\u0627\u0644\u0627\u0633\u062a\u0644\u0627\u0645 \u0627\u0644\u062c\u0632\u0626\u064a"):3==t.erpstatus?(n="Received",i="\u062a\u0645 \u0627\u0644\u0627\u0633\u062a\u0644\u0627\u0645"):(n="",i=""),e.push("ar"==this.lang?{"\u0645\u0646 \u0645\u062e\u0632\u0646":t.fromstore,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062c\u062f\u0648\u0644 \u0627\u0644\u0632\u0645\u0646\u064a":t.date,"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":t.billno,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645":t.username,"\u0627\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0643\u0645\u064a\u0629":t.totalqty,"\u0627\u0644\u062d\u0627\u0644\u0629":i}:{"From Store":t.fromstore,"Scheduale Date":t.date,"Entry No":t.billno,"User Name":t.username,"Total Qty":t.totalqty,Status:i})}),this._Excel.exportAsExcelFile(e,"transferrequests")})}showItemFun(e){"../../../../assets/img/datatables/details_open.png"==e.imgSrc?(e.imgSrc="../../../../assets/img/datatables/details_close.png",this.GetReceiptDetails(e)):e.imgSrc="../../../../assets/img/datatables/details_open.png"}GetReceiptDetails(e){this._TransferApprovalService.GetReceiptDetails(e.id).subscribe(t=>{e.details=t,this.cd.markForCheck()})}Approval(e){this.spinner.show(),this._TransferApprovalService.Approval(e.id,this.InventorySetting[0].physicalnegativeinventoryid).subscribe(t=>{"ValidQty"==t?(this.spinner.hide(),ke().fire({text:this.qtyErrorMsg,showCancelButton:!1,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.close,customClass:{confirmButton:"btn btn-danger",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{})):null!=t.reciptdata?(this._Receipt=t.reciptdata.receipt,this._Receipt.receiving=1!=this.InventorySetting[0].receivetransfers,this.ReceiptID=this._Receipt.id,this.LinkedReceipt.code=80,this.LinkedReceipt.branch_id=this._Receipt.branch_id,this.LinkedReceipt.subsidiaryid=this._Receipt.subsidiaryid,this.LinkedReceipt.entry_no=this._Receipt.entry_no,this.LinkedReceipt.receiptid=this.ReceiptID,this._Receipt.linkedreceipts=[],this._Receipt.linkedreceipts.push(this.LinkedReceipt),this._Receipt.entry_date=this.datepipe.transform(t.newprop.newentry_date,"yyyy-MM-dd"),this._Receipt.entry_time=this.datepipe.transform(t.newprop.newentry_date,"HH:mm:aa"),this._Receipt.entry_no=t.newprop.newentry_no,this._Receipt.code=81,t.reciptdata.items.forEach((e,n)=>{e.rowno=n,3==e.item_type&&t.reciptdata.itemcomponents.filter(t=>t.finishedproductid==e.item_id&&t.finishedreceipt_did==e.id).forEach((e,t)=>{e.rowno=t,e.parentrowno=n,e.id=null,e.parent_id=null,e.transaction_move=1==this.InventorySetting[0].receivetransfers?0:-1,e.finishedreceipt_did=null}),e.id=null,e.parent_id=null,e.transaction_move=1==this.InventorySetting[0].receivetransfers?0:-1}),this._Receipt.details=t.reciptdata.items,this._Receipt.itemscomponent=t.reciptdata.itemcomponents,this._Receipt.receiptmultipayment=t.reciptdata.receiptmultipayment,this.SaveReceipt(),console.log(t,"Result"),this.cd.markForCheck()):(this._ReceiptSharedService.UpdateTransferStatus(e.id,this.subsidiaryID).subscribe(e=>{this.spinner.hide(),alert("Something is wrong"),this.TransferApprovalSearch()}),console.log(t))})}SaveReceipt(){this._Receipt.lang=this.lang,"ar"!=this._Receipt.lang&&(this._Receipt.lang="en-US");var e=this._Receipt.details.filter(e=>3!=e.item_type);this._OppositDetailsReceipt=e.map(e=>Object.assign({},e,{store_id:this._Receipt.tostoreid,transaction_move:1==this.InventorySetting[0].receivetransfers?0:1,id:null})),this.OppositItemsComponentList=this._Receipt.itemscomponent.map(e=>Object.assign({},e,{store_id:this._Receipt.tostoreid,transaction_move:1==this.InventorySetting[0].receivetransfers?0:1,id:null})),this._OppositDetailsReceipt.forEach(e=>{this._Receipt.details.push(e)}),this.OppositItemsComponentList.forEach(e=>{this._Receipt.itemscomponent.push(e)}),this._Receipt.id=0,null!=this._Receipt.id&&0!=this._Receipt.id||this._ReceiptSharedService.ReceiptCreate(this._Receipt).subscribe(e=>{this.spinner.hide(),ke().fire({text:this.ApproveSucc,showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Warning23,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.value?(window.open(`/page/inventorytransfers/transfergood/${e.id}`,"_blank"),this.TransferApprovalSearch(),this.cd.markForCheck()):(this.TransferApprovalSearch(),this.cd.markForCheck())})})}SetTimeNow(){let e=new Date;return("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)}onPageChange(e){this.filterData.skip=e,this.PageNo=e,this.TransferApprovalSearch()}onPageSizeChange(e){this.filterData.take=e,this.PageSize=e,this.TransferApprovalSearch()}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(y["\u0275\u0275directiveInject"](to),y["\u0275\u0275directiveInject"](f.t),y["\u0275\u0275directiveInject"](y.ChangeDetectorRef),y["\u0275\u0275directiveInject"](v._W),y["\u0275\u0275directiveInject"](R.m),y["\u0275\u0275directiveInject"](l.sK),y["\u0275\u0275directiveInject"](S.K),y["\u0275\u0275directiveInject"](b.t2),y["\u0275\u0275directiveInject"](c.gz),y["\u0275\u0275directiveInject"](c.F0),y["\u0275\u0275directiveInject"](x.e),y["\u0275\u0275directiveInject"](I.$),y["\u0275\u0275directiveInject"](M.x),y["\u0275\u0275directiveInject"](E.z),y["\u0275\u0275directiveInject"](i.uU),y["\u0275\u0275directiveInject"](i.Ye))},e.\u0275cmp=y["\u0275\u0275defineComponent"]({type:e,selectors:[["app-transferapproval"]],features:[y["\u0275\u0275ProvidersFeature"]([to,C.J,f.t,i.uU])],decls:5,vars:3,consts:[["class","row",4,"ngIf"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"row"],[2,"margin","0 30% 0 30%","margin-top","200px"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-1","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-body"],[1,"col-12"],["method","POST","role","form"],["RForm","ngForm"],[1,"col-lg-6","col-md-6","col-sm-12"],[1,"form-group"],["for","fromStore",1,"col-form-label"],["name","fromStore",1,"form-control",3,"ngModel","ngModelChange","change"],["fromStore","ngModel"],["Value","null",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["for","toStore",1,"col-form-label"],["name","toStore",1,"form-control",3,"ngModel","ngModelChange","change"],["toStore","ngModel"],["for","fromDate"],["type","date","id","fromDate","name","fromDate",1,"form-control",3,"ngModel","ngModelChange"],["fromDate","ngModel"],["for","toDate"],["type","date","id","toDate","name","toDate",1,"form-control",3,"ngModel","ngModelChange"],["toDate","ngModel"],["for","fromScheduleDate"],["type","date","id","fromScheduleDate","name","fromScheduleDate",1,"form-control",3,"ngModel","ngModelChange"],["fromScheduleDate","ngModel"],["for","toScheduleDate"],["type","date","id","toScheduleDate","name","toScheduleDate",1,"form-control",3,"ngModel","ngModelChange"],["toScheduleDate","ngModel"],[1,"search-filter"],["type","button",1,"btn","btn-success","mt-3","btn-md","btn-block",3,"click"],[1,""],[1,"col-lg-12","mt-2","col-xs-12","text-center-sm"],[1,"row","mb-2"],[1,"col-lg-6","col-md-7","col-xs-12","my-auto","text-center-sm","actionBtns"],["class","btn btn-warning mb-0 ng-star-inserted",3,"click",4,"ngIf"],[1,"btn","btn-danger","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-success","mb-0","me-3","ng-star-inserted",3,"click"],[1,"col-lg-6","col-md-6","col-sm-12","pull-right"],[1,"form-group","d-flex","justify-content-end"],["for","SearchValue",1,"pt-1","pl-1","pr-1","form-label"],["type","text","id","SearchValue","name","SearchValue",1,"form-control","col-md-6",3,"ngModel","ngModelChange","keyup"],["SearchValue","ngModel"],[1,"col-12","p-0"],[1,"card","transparent-BG"],[1,"card-content"],[1,"table-responsive","card-body"],["src","../../../../assets/img/loading/loading.gif",4,"ngIf"],["class","table text-center m-0 table table-striped","id","Transfer",4,"ngIf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],["Value","null"],[3,"value"],[1,"btn","btn-warning","mb-0","ng-star-inserted",3,"click"],["src","../../../../assets/img/loading/loading.gif"],["id","Transfer",1,"table","text-center","m-0","table","table-striped"],[2,"background-color","#80808030"],[2,"color","#7b809a"],["scope","col"],["scope","col",3,"click"],[1,"fa","fa-fw","fa-sort",3,"hidden"],["class","fa fa-fw fa-sort-desc",4,"ngIf"],["class","fa fa-fw fa-sort-asc",4,"ngIf"],["scope","col","width","18%"],[1,"fa","fa-fw","fa-sort-desc"],[1,"fa","fa-fw","fa-sort-asc"],[4,"ngFor","ngForOf"],["colspan","12"],[1,"col",2,"border","none","padding","0","margin","0","background","none !important"],[2,"border","none","padding","0","margin","0","background","none !important"],["colspan","12",2,"border","none","padding","0","margin","0","background","none !important"],[1,"row","col"],["type","image","data-toggle","collapse",3,"src","click"],[1,"col"],["class","col",4,"ngIf"],[1,"btn","btn-success",3,"click"],["colspan","4",2,"border","none !important"],[1,"collapse","multi-collapse",3,"id"],[1,"card","card-body"],[1,"col-sm-8"],[2,"background","#e9f1f5","color","cornflowerblue"],[2,"background-color","#b0bed9"],["colspan","8"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(y["\u0275\u0275template"](0,io,4,3,"div",0),y["\u0275\u0275template"](1,Uo,102,62,"div",1),y["\u0275\u0275elementStart"](2,"ngx-spinner",2),y["\u0275\u0275elementStart"](3,"p",3),y["\u0275\u0275text"](4,"Loading..."),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275property"]("ngIf",!t.checkRoleParms(8754)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",t.checkRoleParms(8754)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("fullScreen",!0))},directives:[i.O5,b.Ro,s._Y,s.JL,s.F,s.EJ,s.JJ,s.On,i.sg,s.Fj,s.YN,s.Kr,P.N9],pipes:[l.X$,i.uU],styles:['.headerform[_ngcontent-%COMP%]{border-radius:5px;font-size:1.5rem;padding:5px 2em}.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}td.details-control[_ngcontent-%COMP%]{cursor:pointer}div.col[_ngcontent-%COMP%]{padding:0;margin:0}th[_ngcontent-%COMP%]{padding-left:0;margin-left:0}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.headerform[_ngcontent-%COMP%]{background-color:#2f8be6;color:#fff;height:44px;padding-top:9px;margin-bottom:17px}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}.table-accountdetails[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#80808030}.table-accountdetails[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#7b809a}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}.search-filter[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:10%}']}),e})();function Go(e){return new d.z(e,[{prefix:"assets/i18n/Inventory/",suffix:".json"},{prefix:"assets/i18n/Receivable/",suffix:".json"},{prefix:"assets/i18n/shared/",suffix:".json"}])}const jo=[{path:"transfergood",component:Pe},{path:"transfergood/:id",component:jn},{path:"transfergood/:id/:show",component:jn},{path:"transfergood/:id/:storeid/:vendorid/:items",component:jn},{path:"transferrequest",component:Qi},{path:"transferrequest/:id",component:eo},{path:"transferrequest/:id/:show",component:eo},{path:"transferapproval",component:$o},{path:"transferapproval/:tostore",component:$o}];let Wo=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=y["\u0275\u0275defineInjector"]({providers:[l.gM,l.sK,i.uU],imports:[[s.u5,i.ez,r.m,s.UX,a.WN,h.o6,l.aw.forChild({loader:{provide:l.Zw,useFactory:Go,deps:[o.eN]},extend:!0}),c.Bz.forChild(jo),p.xc,u.d,m.fi.forRoot()]]}),e})()}}]);
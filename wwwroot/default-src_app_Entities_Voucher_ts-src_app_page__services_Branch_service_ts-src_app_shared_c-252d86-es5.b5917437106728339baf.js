!function(){function e(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,c=[],a=!0,i=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);a=!0);}catch(s){i=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(i)throw o}}return c}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(self.webpackChunkapex_admin=self.webpackChunkapex_admin||[]).push([["default-src_app_Entities_Voucher_ts-src_app_page__services_Branch_service_ts-src_app_shared_c-252d86"],{82825:function(e,t,n){"use strict";n.d(t,{qd:function(){return r},V$:function(){return c},B:function(){return a}});var r=function e(){o(this,e),this.VoucherTypeCode=null,this.BranchID=null,this.UserID=0,this.Language="",this.PageNo=1,this.PageSize=10,this.orderby="",this.typeListOrCount=""},c=function e(){o(this,e),this.ID=null,this.BranchID=null,this.Posted=!1,this.IsActive=!0,this.CurrencyID=null,this.ClassificationCategoryID=null,this.WorkItemID=null,this.WorkItemCode=null,this.SubContractorContractID=null,this.ExchangeRate=1,this.VoucherDetails=[],this.Service=[],this.links=[],this.Approved=!1,this.DeferEntry=!1,this.PaymentTypeId=null,this.PaidAmount=null,this.CashDrawerId=null,this.IsPosExpanceVoucher=!1,this.Prepaid=null,this.CollectionBookId=null,this.CollecterId=null,this.CollectionNumber="",this.CheeckBookID=null,this.DueDate=null,this.ReceiptID=null,this.InvoiceInstallmentsDetailsId=null},a=function e(){o(this,e),this.ID=null,this.VoucherID=null,this.CostcenterID=null,this.AccountNoID=null,this.Debit=0,this.Credit=0,this.DebitForeign=0,this.CreditForeign=0,this.IsActive=!0,this.LocationID=null,this.DepartmentID=null,this.ClassID=null,this.Reconciled=!1,this.Cleared=!1,this.Accountcode="",this.Header=null,this.DivisionID=null}},30445:function(e,t,n){"use strict";n.d(t,{b:function(){return u}});var c=n(79996),a=n(529),i=n(31572),s=n(29063),u=function(){var e=function(){function e(t){o(this,e),this.http=t,this.baseUrl=a.N.apiUrl}return r(e,[{key:"BranchCreate",value:function(e){return this.http.post(this.baseUrl+"/Branch/BranchCreate",e).pipe((0,c.U)(function(e){return e}))}},{key:"BranchByID",value:function(e,t){return this.http.get("".concat(this.baseUrl,"/Branch/GetBranchByID?ID=").concat(e,"&lang=").concat(t)).pipe((0,c.U)(function(e){return e}))}},{key:"BranchUpdate",value:function(e){return this.http.post(this.baseUrl+"/Branch/BranchUpdate",e).pipe((0,c.U)(function(e){return e}))}},{key:"DeleteBranch",value:function(e){return this.http.post(this.baseUrl+"/Branch/DeleteBranch",parseInt(e)).pipe((0,c.U)(function(e){return e}))}},{key:"BranchList",value:function(e,t,n,r,o){return this.http.get("".concat(this.baseUrl,"/Branch/BranchList?SubsidiaryID=").concat(e,"&PageNo=").concat(t,"&PageSize=").concat(n,"&SearchValue=").concat(r,"&Orderby=").concat(o)).pipe((0,c.U)(function(e){return e}))}},{key:"BranchListCount",value:function(e,t){return this.http.get("".concat(this.baseUrl,"/Branch/BranchListCount?SubsidiaryID=").concat(e,"&SearchValue=").concat(t)).pipe((0,c.U)(function(e){return e}))}},{key:"GetAllBranchBySub",value:function(e){return this.http.get("".concat(this.baseUrl,"/Branch/GetAllBranchBySub?SubsidiaryID=").concat(e)).pipe((0,c.U)(function(e){return e}))}},{key:"GetAllBranchBySubs",value:function(e){return this.http.get("".concat(this.baseUrl,"/Branch/GetAllBranchBySubs?SubsidiaryID=").concat(e)).pipe((0,c.U)(function(e){return e}))}},{key:"AllActiveBranchddlbysub",value:function(e){return this.http.get("".concat(this.baseUrl,"/Branch/GetAllActiveBranchddlbysub?SubsidiaryID=").concat(e)).pipe((0,c.U)(function(e){return e}))}},{key:"GetLastBranchCode",value:function(e){return this.http.get("".concat(this.baseUrl,"/Branch/GetLastBranchCode?SubsidiaryID=").concat(e)).pipe((0,c.U)(function(e){return e}))}},{key:"CheckCode",value:function(e,t,n){return this.http.get("".concat(this.baseUrl,"/Branch/CheckCode?ID=").concat(e,"&code=").concat(t,"&SubsidiaryID=").concat(n)).pipe((0,c.U)(function(e){return e}))}},{key:"GetStore",value:function(e){return this.http.get("".concat(this.baseUrl,"/Branch/GetStore?subsidiaryID=").concat(e)).pipe((0,c.U)(function(e){return e}))}},{key:"Getcostcenter",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,o="".concat(this.baseUrl,"/Branch/Getcostcenter?subsidiaryID=").concat(e,"&where=").concat(t,"&lang=").concat(n,"&accountID=").concat(r);return null!=t&&null!=t&&""!=t||(o="".concat(this.baseUrl,"/Branch/Getcostcenter?subsidiaryID=").concat(e,"&lang=").concat(n,"&accountID=").concat(r)),this.http.get(o).pipe((0,c.U)(function(e){return e}))}},{key:"GetAllTrancostcenter",value:function(e,t){var n="".concat(this.baseUrl,"/Branch/GetAllTrancostcenter?lang=").concat(t,"&where=").concat(e);return null!=e&&null!=e&&""!=e||(n="".concat(this.baseUrl,"/Branch/GetAllTrancostcenter?lang=").concat(t)),this.http.get(n).pipe((0,c.U)(function(e){return e}))}},{key:"IsDefaultActiveBranch",value:function(e){return this.http.get("".concat(this.baseUrl,"/Branch/IsDefaultActiveBranch?subId=").concat(e)).pipe((0,c.U)(function(e){return e}))}},{key:"GetcostcenterByAccount",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return this.http.get("".concat(this.baseUrl,"/Branch/GetcostcenterByAccount?lang=").concat(e,"&subsidiaryID=").concat(t,"&accountID=").concat(n)).pipe((0,c.U)(function(e){return e}))}},{key:"GetAllForDropdown",value:function(){return this.http.get(this.baseUrl+"/Branch/GetAllForDropdown").pipe((0,c.U)(function(e){return e}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](s.eN))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}()},47521:function(e,t,n){"use strict";n.d(t,{K:function(){return u}});var c=n(79996),a=n(529),i=n(31572),s=n(29063),u=function(){var e=function(){function e(t){o(this,e),this._http=t,this.baseUrl=a.N.apiUrl}return r(e,[{key:"VoucherTypeCreate",value:function(e){return this._http.post(this.baseUrl+"/VoucherType/VoucherTypeCreate",e).pipe((0,c.U)(function(e){return e}))}},{key:"VoucherTypeByID",value:function(e){return this._http.get("".concat(this.baseUrl,"/VoucherType/GetVoucherTypeByID?ID=").concat(e)).pipe((0,c.U)(function(e){return e}))}},{key:"VoucherTypeUpdate",value:function(e){return this._http.post(this.baseUrl+"/VoucherType/VoucherTypeUpdate",e).pipe((0,c.U)(function(e){return e}))}},{key:"DeleteVoucherType",value:function(e){return this._http.post(this.baseUrl+"/VoucherType/DeleteVoucherType",e).pipe((0,c.U)(function(e){return e}))}},{key:"VoucherTypesList",value:function(e,t,n){return this._http.get("".concat(this.baseUrl,"/VoucherType/VoucherTypeList?PageNo=").concat(e,"&PageSize=").concat(t,"&SearchValue=").concat(n)).pipe((0,c.U)(function(e){return e}))}},{key:"VoucherTypesListCount",value:function(e){return this._http.get("".concat(this.baseUrl,"/VoucherType/VoucherTypeCount?SearchValue=").concat(e)).pipe((0,c.U)(function(e){return e}))}},{key:"GetVoucherTypeNextNumber",value:function(){return this._http.get("".concat(this.baseUrl,"/VoucherType/GetVoucherTypeNextNumber")).pipe((0,c.U)(function(e){return e}))}},{key:"CheckVoucherTypeRelation",value:function(e){return this._http.get("".concat(this.baseUrl,"/VoucherType/CheckVoucherTypeRelation?ID=").concat(e)).pipe((0,c.U)(function(e){return e}))}},{key:"Core_GetVoucherTypebyCode",value:function(e){return this._http.get("".concat(this.baseUrl,"/VoucherType/Core_GetVoucherTypebyCode?code=").concat(e)).pipe((0,c.U)(function(e){return e}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](s.eN))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}()},38088:function(t,n,c){"use strict";c.d(n,{e:function(){return M}});var a=c(31572),i=c(16073),s=c(16676),u=c(22501),l=c.n(u),h=c(47521),d=c(3148),g=c(62120),p=c(48160),f=c(96898),C=c(63567),b=c(61511),y=["input"];function m(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"span"),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"translate"),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,1,"Please enter code")," "))}function v(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"span",11),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"translate"),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,1,"Please enter right code")," "))}function _(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"span",8),a["\u0275\u0275template"](1,m,3,3,"span",9),a["\u0275\u0275template"](2,v,3,3,"span",10),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",n.entrynoForm.get("Code").errors.required),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",n.entrynoForm.get("Code").errors.incorrect)}}function P(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"span",6),a["\u0275\u0275elementStart"](1,"span",2),a["\u0275\u0275text"](2,"*"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](3,_,3,2,"span",7),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngIf",!n.entrynoForm.get("Code").errors.valid)}}var O={provide:i.JU,useExisting:(0,a.forwardRef)(function(){return M}),multi:!0},M=function(){var t=function(){function t(e,n,r,c,a,s,u){var l=this;o(this,t),this.fb=e,this.cd=n,this._translateGlobalService=r,this.translate=c,this._voucherService=a,this._router=s,this._VoucherTypesService=u,this.c=new i.NI,this.VoucherID=0,this.inCode=null,this.swalEntrynoText="",this.swalEntrynoConfirmButton="",this.swalEntrynoCancel="",this.swalTitleEntryno="",this.errors=["*"],this.innerValue="",this.propagateChange=function(e){},this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(function(e){l.lang=e.lang,l.translate.use(e.lang)}),this.ngTransUnsubscribe=this.translate.get(["swalEntrynoText","swalEntrynoConfirmButton","swalEntrynoCancel","swalTitleEntryno"]).subscribe(function(e){l.swalEntrynoText=e.swalEntrynoText,l.swalEntrynoConfirmButton=e.swalEntrynoConfirmButton,l.swalEntrynoCancel=e.swalEntrynoCancel,l.swalTitleEntryno=e.swalTitleEntryno})}return r(t,[{key:"ngOnInit",value:function(){this.setEntrynoForm()}},{key:"ngOnChanges",value:function(e){console.log(e,"parmsss"),this.VoucherID>0&&null!=e.inCode&&this.setVoucherCode(),null==e.subsidiaryID&&null==e.BranchID&&null==e.VoucherTypeCode&&null==e.VoucherID||this.GetVoucherCode()}},{key:"ngAfterViewInit",value:function(){var e=this;this.c.valueChanges.subscribe(function(){""!=e.c.value&&null!=e.c.value&&null!=e.c.value||(e.innerValue="",e.inputRef.nativeElement.value="")})}},{key:"setEntrynoForm",value:function(){this.entrynoForm=this.fb.group({Code:[this.inCode,[i.kI.required]]})}},{key:"setVoucherCode",value:function(){this.entrynoForm.patchValue({Code:this.inCode})}},{key:"onFocusOut",value:function(){var e=this,t=this.entrynoForm.controls.Code.value;null!=t&&null!=t&&""!=t.toString().trim()&&t!=this.inCode&&(this.codeVoucherUnsubscribe=this._voucherService.CheckVoucherNumberAndIsStandAlone(this.VoucherID,t,this.subsidiaryID,this.VoucherTypeCode,this.BranchID).subscribe(function(t){null!=t&&(e.entrynoForm.get("Code").setErrors({incorrect:!0}),10==e.VoucherTypeCode||11==e.VoucherTypeCode||12==e.VoucherTypeCode?(10==e.VoucherTypeCode&&l().fire({title:e.swalTitleEntryno,text:e.swalEntrynoText,footer:'<a class="btn btn-warning" href="/page/payables/vendorpayment/'.concat(t.id,'" target="_blank">').concat(e.swalEntrynoConfirmButton,"</a>"),icon:"warning",confirmButtonColor:"#F55252",confirmButtonText:e.swalEntrynoCancel,customClass:{confirmButton:"btn btn-danger"},buttonsStyling:!1}).then(function(t){if(t.isConfirmed&&1==t.isConfirmed)return e.entrynoForm.get("Code").patchValue(e.inCode),void e.cd.markForCheck()}),11==e.VoucherTypeCode&&l().fire({title:e.swalTitleEntryno,text:e.swalEntrynoText,footer:'<a class="btn btn-warning" href="/page/receivables/customerreceipts/'.concat(t.id,'" target="_blank">').concat(e.swalEntrynoConfirmButton,"</a>"),icon:"warning",confirmButtonColor:"#F55252",confirmButtonText:e.swalEntrynoCancel,customClass:{confirmButton:"btn btn-danger"},buttonsStyling:!1}).then(function(t){if(t.isConfirmed&&1==t.isConfirmed)return e.entrynoForm.get("Code").patchValue(e.inCode),void e.cd.markForCheck()}),12==e.VoucherTypeCode&&l().fire({title:e.swalTitleEntryno,text:e.swalEntrynoText,footer:'<a class="btn btn-warning" href="/page/receivables/creditnote/'.concat(t.id,'" target="_blank">').concat(e.swalEntrynoConfirmButton,"</a>"),icon:"warning",confirmButtonColor:"#F55252",confirmButtonText:e.swalEntrynoCancel,customClass:{confirmButton:"btn btn-danger"},buttonsStyling:!1}).then(function(t){if(t.isConfirmed&&1==t.isConfirmed)return e.entrynoForm.get("Code").patchValue(e.inCode),void e.cd.markForCheck()})):20==e.VoucherTypeCode?l().fire({title:e.swalTitleEntryno,text:e.swalEntrynoText,footer:'<a class="btn btn-warning" href="/page/financial/moneytransfer/'.concat(t.id,'" target="_blank">').concat(e.swalEntrynoConfirmButton,"</a>"),icon:"warning",confirmButtonColor:"#F55252",confirmButtonText:e.swalEntrynoCancel,customClass:{confirmButton:"btn btn-danger"},buttonsStyling:!1}).then(function(t){if(t.isConfirmed&&1==t.isConfirmed)return e.entrynoForm.get("Code").patchValue(e.inCode),void e.cd.markForCheck()}):l().fire({title:e.swalTitleEntryno,text:e.swalEntrynoText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:e.swalEntrynoConfirmButton,cancelButtonText:e.swalEntrynoCancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){if(n.value){var r="";"voucher"==e.formType&&(r="/page/financial/voucher/"+t.code+"/"+t.id),"cheque"==e.formType&&(r="/page/financial/checkvoucher/"+t.id),e._router.navigate([r]).then(function(){window.location.reload()})}else e.entrynoForm.get("Code").patchValue(e.inCode)}))}))}},{key:"GetVoucherCode",value:function(){var e=this;if(0==this.VoucherID){var t=null!=this.BranchID?this.BranchID:0;this._VoucherTypesService.Core_GetVoucherTypebyCode(this.VoucherTypeCode).subscribe(function(n){var r;n&&n.length>0&&(null===(r=n[0])||void 0===r?void 0:r.vouchertypeserialcode),e.GetVoucherCodeParms(t,e.VoucherTypeCode)})}}},{key:"GetVoucherCodeParms",value:function(e,t){var n=this;this.codeVoucherUnsubscribe=this._voucherService.VoucherCodeBySubIDVouchertype(this.subsidiaryID,e,t).subscribe(function(e){n.inCode=e.length>0?(parseFloat(e[0].code)+1).toString():"1",n.entrynoForm.controls.Code.patchValue(n.inCode),console.log(n.entrynoForm.controls.Code.value,"Code"),n.cd.markForCheck()})}},{key:"GetVoucherCodeParmsNotStandAlone",value:function(t,n,r){var o=this,c=this._voucherService.VoucherCodeBySubIDVouchertype(this.subsidiaryID,t,n),a=this._voucherService.VoucherCodeBySubIDVouchertype(this.subsidiaryID,t,r);(0,d.D)([c,a]).subscribe(function(t){var n,r=e(t,2),c=r[0],a=r[1],i=0,s=0;c.length>0&&(i=parseFloat(c[0].code)),a.length>0&&(s=parseFloat(a[0].code)),n=s>=i?s:i,o.inCode=(n+1).toString(),o.entrynoForm.patchValue({Code:o.inCode}),o.cd.markForCheck()})}},{key:"onChange",value:function(e,t){for(var n in this.innerValue=t,this.propagateChange(this.innerValue),this.innerValue%1!=0&&(this.c.setErrors({incorrect:!0}),this.entrynoForm.get("Code").setErrors({incorrect:!0})),this.errors=[],this.c.errors)this.c.errors.hasOwnProperty(n)&&this.errors.push("required"===n?"This field is required":this.c.errors[n])}},{key:"value",get:function(){return this.innerValue},set:function(e){e!==this.innerValue&&(this.innerValue=e)}},{key:"writeValue",value:function(e){this.innerValue=e}},{key:"registerOnChange",value:function(e){this.propagateChange=e}},{key:"registerOnTouched",value:function(e){}},{key:"ngOnDestroy",value:function(){null!=this.ngTransUnsubscribe&&(this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()),null!=this.codeVoucherUnsubscribe&&(this.codeVoucherUnsubscribe.next(),this.codeVoucherUnsubscribe.complete())}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a["\u0275\u0275directiveInject"](i.qu),a["\u0275\u0275directiveInject"](a.ChangeDetectorRef),a["\u0275\u0275directiveInject"](g.K),a["\u0275\u0275directiveInject"](p.sK),a["\u0275\u0275directiveInject"](s.H),a["\u0275\u0275directiveInject"](f.F0),a["\u0275\u0275directiveInject"](h.K))},t.\u0275cmp=a["\u0275\u0275defineComponent"]({type:t,selectors:[["entryno-code"]],viewQuery:function(e,t){var n;(1&e&&a["\u0275\u0275viewQuery"](y,5),2&e)&&(a["\u0275\u0275queryRefresh"](n=a["\u0275\u0275loadQuery"]())&&(t.inputRef=n.first))},inputs:{c:"c",formType:"formType",subsidiaryID:"subsidiaryID",BranchID:"BranchID",VoucherID:"VoucherID",controlvouchernumanddate:"controlvouchernumanddate",VoucherTypeCode:"VoucherTypeCode",inCode:"inCode"},features:[a["\u0275\u0275ProvidersFeature"]([O,s.H,h.K]),a["\u0275\u0275NgOnChangesFeature"]],decls:9,vars:9,consts:[[3,"formGroup"],[1,"mb-1"],[2,"color","red","font-weight","bold"],["type","number","min","1","formControlName","Code","PositiveNumbersOrDecimalOnly","",1,"form-control",3,"readonly","stepallow","focusout","blur"],["input",""],["class","help-block",4,"ngIf"],[1,"help-block"],["class","has-error",4,"ngIf"],[1,"has-error"],[4,"ngIf"],["style","font-size: 14px;",4,"ngIf"],[2,"font-size","14px"]],template:function(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"label",1),a["\u0275\u0275text"](2),a["\u0275\u0275pipe"](3,"translate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"span",2),a["\u0275\u0275text"](5,"*"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"input",3,4),a["\u0275\u0275listener"]("focusout",function(){return t.onFocusOut()})("blur",function(e){a["\u0275\u0275restoreView"](n);var r=a["\u0275\u0275reference"](7);return t.onChange(e,r.value)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](8,P,4,1,"span",5),a["\u0275\u0275elementEnd"]()}2&e&&(a["\u0275\u0275property"]("formGroup",t.entrynoForm),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](3,7,"VoucherNumber")),a["\u0275\u0275advance"](4),a["\u0275\u0275classProp"]("has-error",t.entrynoForm.get("Code").errors),a["\u0275\u0275property"]("readonly",0==t.controlvouchernumanddate)("stepallow",1),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",(t.entrynoForm.get("Code").touched||t.entrynoForm.get("Code").dirty)&&!t.entrynoForm.get("Code").valid))},directives:[i.JL,i.sg,i.qQ,i.wV,i.Fj,i.JJ,i.u,C.L,b.O5],pipes:[p.X$],styles:[".has-error[_ngcontent-%COMP%]{border:1px solid red}.headerform[_ngcontent-%COMP%]{background-color:#2f8be6;color:#fff;height:44px;padding-top:9px;margin-bottom:17px}"],changeDetection:0}),t}()},573:function(e,t,n){"use strict";n.d(t,{_:function(){return v}});var c=n(22501),a=n.n(c),i=n(31572),s=n(16676),u=n(25181),l=n(96898),h=n(7427),d=n(48160),g=n(62120),p=n(16073),f=n(61511),C=n(82270);function b(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](n.name)}}function y(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](n.name_ar)}}function m(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",17),i["\u0275\u0275template"](1,b,2,1,"span",18),i["\u0275\u0275template"](2,y,2,1,"span",18),i["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,r=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("value",n.id),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf","ar"!=r.lang),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf","ar"==r.lang)}}var v=function(){var e=function(){function e(t,n,r,c,a,i,s,u){var l=this;o(this,e),this._VoucherService=t,this.cd=n,this.toastr=r,this._router=c,this._generalService=a,this.translate=i,this._translateGlobalService=s,this.BranchID=0,this.BranchList=[],this.BranchIDSelected=null,this.voucherPage=0,this.SelectBranchMsg="",this.EntryNumberMsg="",this.EntryNumNotExist="",this.VoucherNumber="",this.Cancel="",this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(function(e){l.lang=e.lang,l.dir=e.dir,l.translate.use(e.lang),l.ngTransUnsubscribe=l.translate.get(["SelectBranchError","EntryNumberMsg","EntryNumNotExist","VoucherNumber","Cancel"]).subscribe(function(e){l.SelectBranchMsg=e.SelectBranchError,l.EntryNumberMsg=e.EntryNumberMsg,l.EntryNumNotExist=e.EntryNumNotExist,l.VoucherNumber=e.VoucherNumber,l.Cancel=e.Cancel})})}return r(e,[{key:"VoucherTypeCodeProperty",set:function(e){this.VoucherTypeCode=e}},{key:"BranchListProperty",set:function(e){this.BranchList=e}},{key:"subsidiaryIDProperty",set:function(e){this.subsidiaryID=e}},{key:"codeProperty",set:function(e){this.code=e}},{key:"BranchIDProperty",set:function(e){this.BranchID=e,this.BranchIDSelected=this.BranchID}},{key:"voucherPageProperty",set:function(e){this.voucherPage=e}},{key:"SearchVouchers",value:function(){var e=this;null==this.BranchIDSelected?this.toastr.warning(this.SelectBranchMsg):null!=this._VoucherNumber&&null!=this._VoucherNumber?this._VoucherService.SearchVouchersByCode(this.subsidiaryID,this.VoucherTypeCode,this.BranchIDSelected,this._VoucherNumber).subscribe(function(t){if(t.length>0){var n=JSON.parse(localStorage.getItem("Branch"));null!=n&&null!=n&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:e.BranchIDSelected})),0==e.voucherPage&&e._router.navigate(["/page/financial/voucher/"+e.VoucherTypeCode+"/"+t[0].id]).then(function(){window.location.reload()}),1==e.voucherPage&&e._router.navigate(["/page/financial/checkvoucher/"+t[0].id]).then(function(){window.location.reload()}),2==e.voucherPage&&e._router.navigate(["/page/financial/moneytransfer/"+t[0].id]).then(function(){window.location.reload()}),3==e.voucherPage&&e._router.navigate(["/page/receivables/reconciliation/"+t[0].id]).then(function(){window.location.reload()}),4==e.voucherPage&&e._router.navigate(["/page/receivables/customerreceipts/"+t[0].id]).then(function(){window.location.reload()}),5==e.voucherPage&&e._router.navigate(["/page/receivables/creditnote/"+t[0].id]).then(function(){window.location.reload()}),10==e.voucherPage&&e._router.navigate(["/page/payables/vendorpayment/"+t[0].id]).then(function(){window.location.reload()}),14==e.voucherPage&&e._router.navigate(["/page/payables/debitnote/"+t[0].id]).then(function(){window.location.reload()})}else a().fire({title:e.VoucherNumber,text:e.EntryNumNotExist,confirmButtonColor:"#2F8BE6",confirmButtonText:"Ok",customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1})}):a().fire({title:this.VoucherNumber,text:this.EntryNumberMsg,confirmButtonColor:"#2F8BE6",confirmButtonText:"Ok",customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1})}},{key:"SearchVouchersfirstlast",value:function(e){var t=this;null!=this.BranchID&&null!=this.BranchID&&this.BranchID>0?this._VoucherService.SearchVouchersfirstlast(this.subsidiaryID,this.VoucherTypeCode,this.BranchID,e).subscribe(function(e){e.length>0&&(0==t.voucherPage&&t._router.navigate(["/page/financial/voucher/"+t.VoucherTypeCode+"/"+e[0].id]).then(function(){window.location.reload()}),1==t.voucherPage&&t._router.navigate(["/page/financial/checkvoucher/"+e[0].id]).then(function(){window.location.reload()}),2==t.voucherPage&&t._router.navigate(["/page/financial/moneytransfer/"+e[0].id]).then(function(){window.location.reload()}),3==t.voucherPage&&t._router.navigate(["/page/receivables/reconciliation/"+e[0].id]).then(function(){window.location.reload()}),4==t.voucherPage&&t._router.navigate(["/page/receivables/customerreceipts/"+e[0].id]).then(function(){window.location.reload()}),5==t.voucherPage&&t._router.navigate(["/page/receivables/creditnote/"+e[0].id]).then(function(){window.location.reload()}),10==t.voucherPage&&t._router.navigate(["/page/payables/vendorpayment/"+e[0].id]).then(function(){window.location.reload()}),14==t.voucherPage&&t._router.navigate(["/page/payables/debitnote/"+e[0].id]).then(function(){window.location.reload()}))}):this.toastr.warning(this.SelectBranchMsg)}},{key:"SearchVouchersPreviousNext",value:function(e){var t=this;null!=this.BranchID&&null!=this.BranchID&&this.BranchID>0?this._VoucherService.SearchPreviousNextVoucher(this.subsidiaryID,this.VoucherTypeCode,this.BranchID,this.code,e).subscribe(function(e){e.length>0&&(0==t.voucherPage&&t._router.navigate(["/page/financial/voucher/"+t.VoucherTypeCode+"/"+e[0].id]).then(function(){window.location.reload()}),1==t.voucherPage&&t._router.navigate(["/page/financial/checkvoucher/"+e[0].id]).then(function(){window.location.reload()}),2==t.voucherPage&&t._router.navigate(["/page/financial/moneytransfer/"+e[0].id]).then(function(){window.location.reload()}),3==t.voucherPage&&t._router.navigate(["/page/receivables/reconciliation/"+e[0].id]).then(function(){window.location.reload()}),4==t.voucherPage&&t._router.navigate(["/page/receivables/customerreceipts/"+e[0].id]).then(function(){window.location.reload()}),5==t.voucherPage&&t._router.navigate(["/page/receivables/creditnote/"+e[0].id]).then(function(){window.location.reload()}),10==t.voucherPage&&t._router.navigate(["/page/payables/vendorpayment/"+e[0].id]).then(function(){window.location.reload()}),14==t.voucherPage&&t._router.navigate(["/page/payables/debitnote/"+e[0].id]).then(function(){window.location.reload()}))}):this.toastr.warning(this.SelectBranchMsg)}},{key:"ngOnDestroy",value:function(){this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](s.H),i["\u0275\u0275directiveInject"](i.ChangeDetectorRef),i["\u0275\u0275directiveInject"](u._W),i["\u0275\u0275directiveInject"](l.F0),i["\u0275\u0275directiveInject"](h.m),i["\u0275\u0275directiveInject"](d.sK),i["\u0275\u0275directiveInject"](g.K),i["\u0275\u0275directiveInject"](l.gz))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["SearchVoucher-AddEdit"]],inputs:{VoucherTypeCodeProperty:["VoucherTypeCode","VoucherTypeCodeProperty"],BranchListProperty:["Branch","BranchListProperty"],subsidiaryIDProperty:["subsidiary","subsidiaryIDProperty"],codeProperty:["code","codeProperty"],BranchIDProperty:["BranchID","BranchIDProperty"],voucherPageProperty:["voucherPage","voucherPageProperty"]},decls:28,vars:9,consts:[[1,"row"],[1,"col-md-6","col-xs-12"],[1,"form-group"],["for","Branch",1,"mb-1"],["name","Branch","required","",1,"form-control",3,"ngModel","ngModelChange"],["Branch","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","VoucherNumber",1,"mb-1"],["type","number","id","VoucherNumber","name","VoucherNumber","min","0","PositiveNumbersOnly","","required","",1,"form-control",3,"ngModel","ngModelChange"],["VoucherNumber","ngModel"],[1,"col-xl-12","col-lg-4","col-md-5","col-xs-12","searchBarSection","text-center"],["type","button",1,"btn","mx-1","btn-light",3,"click"],[1,"fa","fa-angle-double-left"],[1,"fa","fa-angle-left"],["aria-hidden","true",1,"fa","fa-search"],["aria-hidden","true",1,"fa","fa-angle-right"],["aria-hidden","true",1,"fa","fa-angle-double-right"],[3,"value"],[4,"ngIf"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"form"),i["\u0275\u0275elementStart"](1,"div",0),i["\u0275\u0275elementStart"](2,"div",1),i["\u0275\u0275elementStart"](3,"div",2),i["\u0275\u0275elementStart"](4,"label",3),i["\u0275\u0275text"](5),i["\u0275\u0275pipe"](6,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"select",4,5),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.BranchIDSelected=e}),i["\u0275\u0275template"](9,m,3,3,"option",6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"div",1),i["\u0275\u0275elementStart"](11,"div",2),i["\u0275\u0275elementStart"](12,"label",7),i["\u0275\u0275text"](13),i["\u0275\u0275pipe"](14,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"input",8,9),i["\u0275\u0275listener"]("ngModelChange",function(e){return t._VoucherNumber=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](17,"div",10),i["\u0275\u0275elementStart"](18,"button",11),i["\u0275\u0275listener"]("click",function(){return t.SearchVouchersfirstlast(1)}),i["\u0275\u0275element"](19,"i",12),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](20,"button",11),i["\u0275\u0275listener"]("click",function(){return t.SearchVouchersPreviousNext(1)}),i["\u0275\u0275element"](21,"i",13),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](22,"button",11),i["\u0275\u0275listener"]("click",function(){return t.SearchVouchers()}),i["\u0275\u0275element"](23,"i",14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](24,"button",11),i["\u0275\u0275listener"]("click",function(){return t.SearchVouchersPreviousNext(2)}),i["\u0275\u0275element"](25,"i",15),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](26,"button",11),i["\u0275\u0275listener"]("click",function(){return t.SearchVouchersfirstlast(2)}),i["\u0275\u0275element"](27,"i",16),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](6,5,"Branch")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",t.BranchIDSelected),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",t.BranchList),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](14,7,"VoucherNumber")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",t._VoucherNumber))},directives:[p._Y,p.JL,p.F,p.EJ,p.Q7,p.JJ,p.On,f.sg,p.qQ,p.wV,p.Fj,C.K,p.YN,p.Kr,f.O5],pipes:[d.X$],styles:['.headerform[_ngcontent-%COMP%]{border-radius:5px;font-size:1.5rem;padding:5px 2em}.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}']}),e}()}}])}();
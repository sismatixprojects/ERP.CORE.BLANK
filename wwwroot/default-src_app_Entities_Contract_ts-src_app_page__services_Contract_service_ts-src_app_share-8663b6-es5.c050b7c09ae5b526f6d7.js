!function(){function e(e,t){for(var n=0;n<t.length;n++){var l=t[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}function t(t,n,l){return n&&e(t.prototype,n),l&&e(t,l),Object.defineProperty(t,"prototype",{writable:!1}),t}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(self.webpackChunkapex_admin=self.webpackChunkapex_admin||[]).push([["default-src_app_Entities_Contract_ts-src_app_page__services_Contract_service_ts-src_app_share-8663b6"],{62216:function(e,t,l){"use strict";l.d(t,{ji:function(){return a},VP:function(){return i},K$:function(){return r}});var a=function e(){n(this,e),this.subsidiaryid=null,this.receiptid="",this.branchid=null,this.userid=0,this.entryno=null,this.RealState=!1,this.orderby="",this.lang="",this.pageno=1,this.pagesize=10},i=function e(){n(this,e),this.BranchID=null,this.FromDateString="",this.ToDateString=""},r=function e(){n(this,e),this.filter=!1,this.filterby=0}},67901:function(e,t,l){"use strict";l.d(t,{M:function(){return a},$:function(){return i}});var a=function e(){n(this,e),this.id=null,this.name="",this.deposit=null,this.deposittype=!0,this.installmentcounts=1,this.period=1,this.periodtypeid=1,this.name_ar="",this.installmentvalue=0,this.firstdueperiod=1,this.profitpercentage=null,this.SearchValue="",this.installmenttypesfilecategory=[]},i=function e(){n(this,e),this.id=0,this.installmenttypeid=0,this.archivingfilecategoryid=0,this.required=!0}},78183:function(e,l,a){"use strict";a.d(l,{U:function(){return c}});var i=a(79996),r=a(529),s=a(31572),o=a(29063),c=function(){var e=function(){function e(t){n(this,e),this.http=t,this.baseUrl=r.N.apiUrl}return t(e,[{key:"GetAllReceiptList",value:function(e){return this.http.post(this.baseUrl+"/Contract/GetAllReceiptList",e).pipe((0,i.U)(function(e){return console.log(e),e}))}},{key:"GetAllReceiptListCount",value:function(e){return this.http.post(this.baseUrl+"/Contract/GetReceiptListCount",e).pipe((0,i.U)(function(e){return console.log(e),e}))}},{key:"GetsubsidiaryDateFormate",value:function(e){return this.http.get("".concat(this.baseUrl,"/Subsidiary/GetSubsidiariesDetailsByID?ID=").concat(e)).pipe((0,i.U)(function(e){return e}))}},{key:"AllActiveUserBranchddl",value:function(e){return this.http.get("".concat(this.baseUrl,"/Branch/AllActiveUserBranchddl?SubsidiaryID=").concat(e)).pipe((0,i.U)(function(e){return e}))}},{key:"GetAllApprovalStatus",value:function(e){return this.http.get("".concat(this.baseUrl,"/Contract/GetAllApprovalStatus?subid=").concat(e)).pipe((0,i.U)(function(e){return e}))}},{key:"GetContractById",value:function(e,t){return this.http.get("".concat(this.baseUrl,"/Contract/ContractByID?ContractID=").concat(e,"&subsidiaryID=").concat(t)).pipe((0,i.U)(function(e){return e}))}},{key:"ContractInsert",value:function(e){return this.http.post(this.baseUrl+"/Contract/ContractInsert",e).pipe((0,i.U)(function(e){return e}))}},{key:"ContractUpdate",value:function(e){return this.http.post(this.baseUrl+"/Contract/ContractUpdate",e).pipe((0,i.U)(function(e){return e}))}},{key:"DeleteContractById",value:function(e){return this.http.get("".concat(this.baseUrl,"/Contract/ContractDelete?id=").concat(e)).pipe((0,i.U)(function(e){return e}))}},{key:"GetAllContractTasksList",value:function(e){return this.http.get("".concat(this.baseUrl,"/Contract/GetAllContractTaskList?userid=").concat(e)).pipe((0,i.U)(function(e){return e}))}},{key:"GetAllContractTasksCount",value:function(e){return this.http.get("".concat(this.baseUrl,"/Contract/GetAllContractTaskList?userid=").concat(e)).pipe((0,i.U)(function(e){return e}))}},{key:"GetContractTaskById",value:function(e){return this.http.get("".concat(this.baseUrl,"/Contract/GetContractTaskbyID?ID=").concat(e)).pipe((0,i.U)(function(e){return e}))}},{key:"ContractTaskCreate",value:function(e){return this.http.post(this.baseUrl+"/Contract/ContractTaskCreate",e).pipe((0,i.U)(function(e){return e}))}},{key:"ContractTaskUpdate",value:function(e){return this.http.post(this.baseUrl+"/Contract/ContractTaskUpdate",e).pipe((0,i.U)(function(e){return e}))}},{key:"DeleteContractTaskById",value:function(e){return this.http.get("".concat(this.baseUrl,"/Contract/DeleteContractTask?ID=").concat(e)).pipe((0,i.U)(function(e){return e}))}},{key:"GetContractList",value:function(e,t){return this.http.get("".concat(this.baseUrl,"/Contract/GetContracts?subsidiaryID=").concat(e,"&where=").concat(t)).pipe((0,i.U)(function(e){return e}))}},{key:"GetAllInstallmentTypes",value:function(){return this.http.get("".concat(this.baseUrl,"/CreditSalesInstallments/GetAllInstallmentTypesList")).pipe((0,i.U)(function(e){return e}))}},{key:"GetContractAndDetailsByID",value:function(e){return this.http.get("".concat(this.baseUrl,"/Contract/GetContractAndDetailsByID?ReceiptID=").concat(e)).pipe((0,i.U)(function(e){return e}))}},{key:"GetRSContractAndDetailsByID",value:function(e){return this.http.get("".concat(this.baseUrl,"/Contract/GetRSContractAndDetailsByID?ReceiptID=").concat(e)).pipe((0,i.U)(function(e){return e}))}},{key:"CustomerAndContractList",value:function(e,t){return this.http.get("".concat(this.baseUrl,"/Contract/CustomerAndContractList?SubsidiaryID=").concat(e,"&SearchValue=").concat(t)).pipe((0,i.U)(function(e){return e}))}},{key:"ReceiptToCustomer",value:function(e,t,n){return this.http.get("".concat(this.baseUrl,"/Contract/ReceiptToCustomer?SubId=").concat(e,"&CustomerId=").concat(t,"&ReceiptNo=").concat(n)).pipe((0,i.U)(function(e){return e}))}},{key:"GetUnitDataDetailsLists",value:function(e,t){return this.http.get("".concat(this.baseUrl,"/Contract/GetUnitDataDetailsLists?SubsidiaryID=").concat(e,"&ItemID=").concat(t)).pipe((0,i.U)(function(e){return e}))}},{key:"UploadFile",value:function(e){return this.http.post(this.baseUrl+"/Contract/UploadFile",e).pipe((0,i.U)(function(e){return e}))}},{key:"DownLoadFile",value:function(e){return this.http.get("".concat(this.baseUrl,"/Contract/DownLoadFile?path=").concat(e),{reportProgress:!0,observe:"events",responseType:"blob"})}},{key:"GetImage",value:function(e){return this.http.get(this.baseUrl+"/Contract/GetImage?path=".concat(e),{responseType:"blob"})}},{key:"GetPdf",value:function(e){return this.http.get(this.baseUrl+"/Contract/GetPdf?path=".concat(e),{responseType:"blob"})}},{key:"GetDoc",value:function(e){return this.http.get(this.baseUrl+"/DocumentsCategory/GetDoc?path=".concat(e),{responseType:"blob"})}},{key:"DeleteFiles",value:function(e){return this.http.post(this.baseUrl+"/Contract/DeleteFiles",e).pipe((0,i.U)(function(e){return e}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275inject"](o.eN))},e.\u0275prov=s["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}()},64861:function(e,l,a){"use strict";a.d(l,{j:function(){return c}});var i=a(79996),r=a(529),s=a(31572),o=a(29063),c=function(){var e=function(){function e(t){n(this,e),this.http=t,this.baseUrl=r.N.apiUrl}return t(e,[{key:"GetAllInstallmentTypes",value:function(){return this.http.get("".concat(this.baseUrl,"/CreditSalesInstallments/GetAllInstallmentTypesList")).pipe((0,i.U)(function(e){return e}))}},{key:"GetCurrency",value:function(e){return this.http.get("".concat(this.baseUrl,"/CreditSalesInstallments/GetCurrency?SubsidaryID=").concat(e)).pipe((0,i.U)(function(e){return e}))}},{key:"GetInstallmentSettings",value:function(e,t){return this.http.get("".concat(this.baseUrl,"/CreditSalesInstallments/GetInstallmentSettings?InvoiceID=").concat(e,"&SubsidaryID=").concat(t)).pipe((0,i.U)(function(e){return e}))}},{key:"GetInvoiceInstallmentByID",value:function(e){return this.http.get("".concat(this.baseUrl,"/CreditSalesInstallments/GetInvoiceInstallmentByID?InvoiceInstallmentsId=").concat(e)).pipe((0,i.U)(function(e){return e}))}},{key:"GetTotalPaid",value:function(e){return this.http.get("".concat(this.baseUrl,"/CreditSalesInstallments/GetTotalPaid?InvoiceID=").concat(e)).pipe((0,i.U)(function(e){return e}))}},{key:"GenerateInvoiceInstallments",value:function(e){return this.http.post("".concat(this.baseUrl,"/CreditSalesInstallments/GenerateInvoiceInstallments"),e).pipe((0,i.U)(function(e){return e}))}},{key:"GenerateSubInstallments",value:function(e){return this.http.post("".concat(this.baseUrl,"/CreditSalesInstallments/GenerateSubInstallments"),e).pipe((0,i.U)(function(e){return e}))}},{key:"GetarchivingFileCategories",value:function(e){return this.http.get("".concat(this.baseUrl,"/CreditSalesInstallments/GetarchivingFileCategories?InstallmentsTypeID=").concat(e)).pipe((0,i.U)(function(e){return e}))}},{key:"DeleteInstallments",value:function(e,t){return this.http.get("".concat(this.baseUrl,"/CreditSalesInstallments/DeleteInstallments?installmentId=").concat(e,"&Lang=").concat(t)).pipe((0,i.U)(function(e){return e}))}},{key:"EditInvoiceInstallmentsDetails",value:function(e){return this.http.post("".concat(this.baseUrl,"/CreditSalesInstallments/EditInvoiceInstallmentsDetails"),e).pipe((0,i.U)(function(e){return e}))}},{key:"ApproveInvoiceInstallments",value:function(e,t){return this.http.get("".concat(this.baseUrl,"/CreditSalesInstallments/ApproveInvoiceInstallments?ID=").concat(e,"&Lang=").concat(t)).pipe((0,i.U)(function(e){return e}))}},{key:"CreditSalesInstallmentsSave",value:function(e){return this.http.post("".concat(this.baseUrl,"/CreditSalesInstallments/CreditSalesInstallmentsSave"),e).pipe((0,i.U)(function(e){return e}))}},{key:"SaveInstallmentsDetails",value:function(e){return this.http.post("".concat(this.baseUrl,"/CreditSalesInstallments/SaveInstallmentsDetails"),e).pipe((0,i.U)(function(e){return e}))}},{key:"GetVendorCreditAndCurrency",value:function(e,t,n,l){return this.http.get("".concat(this.baseUrl,"/CreditSalesInstallments/GetVendorCreditAndCurrency?InvoiceID=").concat(e,"&CurrencyID=").concat(t,"&VendorID=").concat(n,"&SubsidaryID=").concat(l)).pipe((0,i.U)(function(e){return e}))}},{key:"getCurrencyById",value:function(e){return this.http.get("".concat(this.baseUrl,"/Currency/getCurrencyById?id=").concat(e)).pipe((0,i.U)(function(e){return e}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275inject"](o.eN))},e.\u0275prov=s["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}()},64010:function(e,l,a){"use strict";a.d(l,{j:function(){return pe}});var i=a(31572),r=a(22501),s=a.n(r),o=a(64861),c=a(7427),d=a(83801),u=a(67901),p=a(82589),m=a(96898),v=a(48160),h=a(62120),g=a(5851),I=a(25181),f=a(61511),y=a(16073),C=a(63567),b=a(20590);function x(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](null==n?null:n.name)}}function S(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](null==n?null:n.name_ar)}}function P(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",36),i["\u0275\u0275template"](1,x,2,1,"span",22),i["\u0275\u0275template"](2,S,2,1,"span",22),i["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,l=i["\u0275\u0275nextContext"](2);i["\u0275\u0275propertyInterpolate"]("value",n.id),i["\u0275\u0275property"]("selected",n.id==l.InstallmentsTypeID),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf","ar"!=l.lang),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf","ar"==l.lang)}}var M=function(e){return{readonlyDiv:e}};function D(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"div",9),i["\u0275\u0275elementStart"](2,"div",10),i["\u0275\u0275elementStart"](3,"label",11),i["\u0275\u0275text"](4),i["\u0275\u0275pipe"](5,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",13),i["\u0275\u0275elementStart"](7,"input",37),i["\u0275\u0275listener"]("ngModelChange",function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"](2).installment.currency=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"div",10),i["\u0275\u0275elementStart"](9,"label",11),i["\u0275\u0275text"](10),i["\u0275\u0275pipe"](11,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"div",13),i["\u0275\u0275elementStart"](13,"div",38),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"](2)._generalService.onFocusControl("profitvalueforeign")}),i["\u0275\u0275text"](14),i["\u0275\u0275pipe"](15,"numberFormat"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"input",39),i["\u0275\u0275listener"]("keyup",function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"](2).ProfitValueForeignChange(e)})("ngModelChange",function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"](2).installment.profitvalueforeign=e})("focusout",function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"](2)._generalService.onFocusoutControl("profitvalueforeign")}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](17,"br"),i["\u0275\u0275elementContainerEnd"]()}if(2&e){var l=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](5,7,"Currency")),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngModel",l.installment.currency),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](11,9,"ProfitValueForeign")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](14,M,1==l.installment.currencyrate||l.installmentid>0&&l.invoiceinstallmentsdetailscount>0)),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind2"](15,11,l.installment.profitvalueforeign,l.CurrencyPrecision)," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",l.installment.profitvalueforeign),i["\u0275\u0275attribute"]("readonly",1==l.installment.currencyrate||l.installmentid>0&&l.invoiceinstallmentsdetailscount>0||null)}}function E(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",10),i["\u0275\u0275elementStart"](1,"button",41),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](n);var e=i["\u0275\u0275nextContext"](3);return e.generateInstallment(e.installment)}),i["\u0275\u0275element"](2,"i",42),i["\u0275\u0275text"](3),i["\u0275\u0275pipe"](4,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){var l=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("disabled",(null==l.vouchercount?null:l.vouchercount.vouchercount)>0||null),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](4,2,"Generate Installment")," ")}}function _(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",10),i["\u0275\u0275elementStart"](1,"button",43),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](n);var e=i["\u0275\u0275nextContext"](3),t=i["\u0275\u0275reference"](7);return e.OpenModal(t,2)}),i["\u0275\u0275element"](2,"i",42),i["\u0275\u0275text"](3),i["\u0275\u0275pipe"](4,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}2&e&&(i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](4,1,"Installment Generation")," "))}function k(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"div",10),i["\u0275\u0275elementStart"](2,"button",44),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"](3).deleteAllInstallment()}),i["\u0275\u0275element"](3,"i",45),i["\u0275\u0275text"](4),i["\u0275\u0275pipe"](5,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",10),i["\u0275\u0275elementStart"](7,"button",46),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"](3).addInstallment()}),i["\u0275\u0275element"](8,"i",47),i["\u0275\u0275text"](9),i["\u0275\u0275pipe"](10,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"div",10),i["\u0275\u0275elementStart"](12,"button",33),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"](3).SaveInsatllments()}),i["\u0275\u0275text"](13),i["\u0275\u0275pipe"](14,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){var l=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("disabled",(null==l.vouchercount?null:l.vouchercount.vouchercount)>0||null),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](5,4,"Delete All Installment")," "),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](10,6,"Add New Installment")," "),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](14,8,"Save")," ")}}function F(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",9),i["\u0275\u0275template"](1,E,5,4,"div",40),i["\u0275\u0275template"](2,_,5,3,"div",40),i["\u0275\u0275template"](3,k,15,10,"ng-container",22),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",0==n.EnableRealState),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",1==n.EnableRealState),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.IsGenerateInstallment)}}function O(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](null==n?null:n.name)}}function V(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](null==n?null:n.name_ar)}}function w(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",36),i["\u0275\u0275template"](1,O,2,1,"span",22),i["\u0275\u0275template"](2,V,2,1,"span",22),i["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,l=i["\u0275\u0275nextContext"]().$implicit,a=i["\u0275\u0275nextContext"](3);i["\u0275\u0275propertyInterpolate"]("value",n.id),i["\u0275\u0275property"]("selected",l.installmentdetailtypeid==n.id),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf","ar"!=a.lang),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf","ar"==a.lang)}}function T(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](null==n?null:n.name)}}function G(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](null==n?null:n.name_ar)}}function U(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",36),i["\u0275\u0275template"](1,T,2,1,"span",22),i["\u0275\u0275template"](2,G,2,1,"span",22),i["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,l=i["\u0275\u0275nextContext"]().$implicit,a=i["\u0275\u0275nextContext"](3);i["\u0275\u0275propertyInterpolate"]("value",n.id),i["\u0275\u0275property"]("selected",l.installmentstypeid==n.id),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf","ar"!=a.lang),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf","ar"==a.lang)}}function B(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](null==n?null:n.name)}}function L(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](null==n?null:n.name_ar)}}function A(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",36),i["\u0275\u0275template"](1,B,2,1,"span",22),i["\u0275\u0275template"](2,L,2,1,"span",22),i["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,l=i["\u0275\u0275nextContext"]().$implicit,a=i["\u0275\u0275nextContext"](3);i["\u0275\u0275propertyInterpolate"]("value",n.id),i["\u0275\u0275property"]("selected",l.statusid==n.id),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf","ar"!=a.lang),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf","ar"==a.lang)}}var $=function(e){return{addDisplayNone:e}};function R(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"button",68),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](n);var e=i["\u0275\u0275nextContext"](),t=e.$implicit,l=e.index;return i["\u0275\u0275nextContext"](3).EditValue(t,l)}),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"button",69),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](n);var e=i["\u0275\u0275nextContext"](),t=e.$implicit,l=e.index;return i["\u0275\u0275nextContext"](3).SaveValue(t,l)}),i["\u0275\u0275text"](5),i["\u0275\u0275pipe"](6,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){var l=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](8,$,!(null!=l&&l.isdisabled))),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](3,4,"EditValue")," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](10,$,null==l?null:l.isdisabled)),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](6,6,"SaveValue")," ")}}function j(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"button",70),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,"EditValue")," "))}function N(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"button",71),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](n);var e=i["\u0275\u0275nextContext"](),t=e.$implicit,l=e.index;return i["\u0275\u0275nextContext"](3).deleteRow(t,l)}),i["\u0275\u0275element"](2,"i",72),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}}function z(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"button",73),i["\u0275\u0275element"](1,"i",72),i["\u0275\u0275elementEnd"]())}var W=function(e){return{"custom-input":e}};function q(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"tr"),i["\u0275\u0275elementStart"](1,"td"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td"),i["\u0275\u0275elementStart"](4,"input",58,59),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.installmentdate=e}),i["\u0275\u0275pipe"](6,"date"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"td"),i["\u0275\u0275elementStart"](8,"div",60),i["\u0275\u0275listener"]("click",function(){var e=i["\u0275\u0275restoreView"](n).index;return i["\u0275\u0275nextContext"](3)._generalService.onFocusControl("generatedinstallmentvalue"+e)}),i["\u0275\u0275text"](9),i["\u0275\u0275pipe"](10,"numberFormat"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"input",61),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.installmentvalue=e})("keyup",function(e){var t=i["\u0275\u0275restoreView"](n).$implicit,l=i["\u0275\u0275nextContext"](3);return l.installmentValueChange(t,l.index,e)})("focusout",function(){var e=i["\u0275\u0275restoreView"](n).index;return i["\u0275\u0275nextContext"](3)._generalService.onFocusoutControl("generatedinstallmentvalue"+e)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"td"),i["\u0275\u0275elementStart"](13,"select",62,63),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.installmentdetailtypeid=e}),i["\u0275\u0275template"](15,w,3,4,"option",16),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"td"),i["\u0275\u0275elementStart"](17,"select",62,63),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.installmentstypeid=e}),i["\u0275\u0275template"](19,U,3,4,"option",16),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](20,"td"),i["\u0275\u0275elementStart"](21,"select",62,64),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.statusid=e}),i["\u0275\u0275template"](23,A,3,4,"option",16),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](24,"td"),i["\u0275\u0275template"](25,R,7,12,"ng-container",65),i["\u0275\u0275template"](26,j,3,3,"ng-template",null,66,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](28,"td"),i["\u0275\u0275template"](29,N,3,0,"ng-container",65),i["\u0275\u0275template"](30,z,2,0,"ng-template",null,67,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){var l=t.$implicit,a=t.index,r=i["\u0275\u0275reference"](27),s=i["\u0275\u0275reference"](31),o=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](a+1),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",i["\u0275\u0275pipeBind2"](6,31,l.installmentdate,"yyyy-MM-dd")),i["\u0275\u0275attribute"]("disabled",0!=(null==l?null:l.vouchercount)||null),i["\u0275\u0275advance"](4),i["\u0275\u0275propertyInterpolate1"]("id","Display_generatedinstallmentvalue",a,""),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](37,M,(null==l?null:l.isdisabled)&&!(null!=l&&l.isaddednew))),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind2"](10,34,l.installmentvalue,o.CurrencyPrecision)," "),i["\u0275\u0275advance"](2),i["\u0275\u0275propertyInterpolate1"]("id","generatedinstallmentvalue",a,""),i["\u0275\u0275propertyInterpolate1"]("name","generatedinstallmentvalue",a,""),i["\u0275\u0275propertyInterpolate"]("value",l.installmentvalue),i["\u0275\u0275property"]("ngModel",l.installmentvalue)("hidden",!0)("readonly",!(null==l||!l.isdisabled||null!=l&&l.isaddednew)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",l.installmentdetailtypeid)("ngClass",i["\u0275\u0275pureFunction1"](39,W,!(null!=l&&l.isaddednew))),i["\u0275\u0275attribute"]("readonly",null==l||!l.isaddednew||null)("disabled",null==l||!l.isaddednew||null),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",o.InstallmentDetailsType),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",l.installmentstypeid)("ngClass",i["\u0275\u0275pureFunction1"](41,W,!(null!=l&&l.isaddednew))),i["\u0275\u0275attribute"]("readonly",null==l||!l.isaddednew||null)("disabled",null==l||!l.isaddednew||null),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",o.InstallmentTypes),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",l.statusid)("ngClass",i["\u0275\u0275pureFunction1"](43,W,!(null!=l&&l.isaddednew))),i["\u0275\u0275attribute"]("readonly",null==l||!l.isaddednew||null)("disabled",null==l||!l.isaddednew||null),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",o.InstallmentDetailsStatusesList),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",0==(null==l?null:l.vouchercount)&&1!=(null==l?null:l.statusid))("ngIfElse",r),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngIf",0==(null==l?null:l.vouchercount))("ngIfElse",s)}}function K(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"div",48),i["\u0275\u0275elementStart"](2,"table",49),i["\u0275\u0275elementStart"](3,"thead"),i["\u0275\u0275elementStart"](4,"tr"),i["\u0275\u0275elementStart"](5,"th",50),i["\u0275\u0275text"](6),i["\u0275\u0275pipe"](7,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"th",51),i["\u0275\u0275text"](9),i["\u0275\u0275pipe"](10,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"th",51),i["\u0275\u0275text"](12),i["\u0275\u0275pipe"](13,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"th",52),i["\u0275\u0275text"](15),i["\u0275\u0275pipe"](16,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](17,"th",52),i["\u0275\u0275text"](18),i["\u0275\u0275pipe"](19,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](20,"th",52),i["\u0275\u0275text"](21),i["\u0275\u0275pipe"](22,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](23,"th",53),i["\u0275\u0275element"](24,"th"),i["\u0275\u0275element"](25,"th",54),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](26,"tbody"),i["\u0275\u0275template"](27,q,32,45,"tr",55),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](28,"tfoot"),i["\u0275\u0275elementStart"](29,"tr",56),i["\u0275\u0275element"](30,"td"),i["\u0275\u0275elementStart"](31,"td"),i["\u0275\u0275text"](32),i["\u0275\u0275pipe"](33,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](34,"td"),i["\u0275\u0275elementStart"](35,"label"),i["\u0275\u0275text"](36),i["\u0275\u0275pipe"](37,"numberFormat"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](38,"td",57),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](39,"tr",56),i["\u0275\u0275element"](40,"td"),i["\u0275\u0275elementStart"](41,"td"),i["\u0275\u0275text"](42),i["\u0275\u0275pipe"](43,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](44,"td"),i["\u0275\u0275elementStart"](45,"label"),i["\u0275\u0275text"](46),i["\u0275\u0275pipe"](47,"numberFormat"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](48,"td",57),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e){var n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](7,11,"SerialNum")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](10,13,"Date")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](13,15,"Value")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](16,17,"Type")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](19,19,"InstallmentType")),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](22,21,"Status")," "),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("ngForOf",n.generatedInstallmentsList),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](33,23,"TotalPaid")),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind2"](37,25,n.TotalPaid,n.CurrencyPrecision)),i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](43,28,"TotalUnPaid")),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind2"](47,30,n.TotalUnPaid,n.CurrencyPrecision))}}function J(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",3),i["\u0275\u0275elementStart"](1,"h6",4),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"button",5),i["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),i["\u0275\u0275elementStart"](5,"span",6),i["\u0275\u0275text"](6,"\xd7"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div"),i["\u0275\u0275element"](8,"br"),i["\u0275\u0275elementStart"](9,"div",7),i["\u0275\u0275elementStart"](10,"fieldset",8),i["\u0275\u0275elementStart"](11,"div",9),i["\u0275\u0275elementStart"](12,"div",10),i["\u0275\u0275elementStart"](13,"label",11),i["\u0275\u0275text"](14),i["\u0275\u0275pipe"](15,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"span",12),i["\u0275\u0275text"](17," *"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](18,"div",13),i["\u0275\u0275elementStart"](19,"select",14,15),i["\u0275\u0275listener"]("change",function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().changeInstallmentsTypeID(e)})("ngModelChange",function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().installment.installmentstypeid=e}),i["\u0275\u0275template"](21,P,3,4,"option",16),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](22,"div",10),i["\u0275\u0275elementStart"](23,"label",11),i["\u0275\u0275text"](24),i["\u0275\u0275pipe"](25,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](26,"span",12),i["\u0275\u0275text"](27," *"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](28,"div",13),i["\u0275\u0275elementStart"](29,"input",17,18),i["\u0275\u0275listener"]("ngModelChange",function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().installment.startdate=e}),i["\u0275\u0275pipe"](31,"date"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](32,"br"),i["\u0275\u0275elementStart"](33,"div",9),i["\u0275\u0275elementStart"](34,"div",10),i["\u0275\u0275elementStart"](35,"label",11),i["\u0275\u0275text"](36),i["\u0275\u0275pipe"](37,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](38,"span",12),i["\u0275\u0275text"](39," *"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](40,"div",13),i["\u0275\u0275elementStart"](41,"div",19),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]()._generalService.onFocusControl("InvoiceValue")}),i["\u0275\u0275text"](42),i["\u0275\u0275pipe"](43,"numberFormat"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](44,"input",20),i["\u0275\u0275listener"]("focusout",function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]()._generalService.onFocusoutControl("InvoiceValue")})("ngModelChange",function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().installment.invoicevalue=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](45,"div",10),i["\u0275\u0275elementStart"](46,"label",11),i["\u0275\u0275text"](47),i["\u0275\u0275pipe"](48,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](49,"div",13),i["\u0275\u0275elementStart"](50,"input",21),i["\u0275\u0275listener"]("ngModelChange",function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().installment.status=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](51,"br"),i["\u0275\u0275template"](52,D,18,16,"ng-container",22),i["\u0275\u0275elementStart"](53,"div",9),i["\u0275\u0275elementStart"](54,"div",10),i["\u0275\u0275elementStart"](55,"label",11),i["\u0275\u0275text"](56),i["\u0275\u0275pipe"](57,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](58,"div",13),i["\u0275\u0275elementStart"](59,"input",23),i["\u0275\u0275listener"]("ngModelChange",function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().installment.profitpercentage=e})("keyup",function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().ProfitPercentageChange(e)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](60,"div",10),i["\u0275\u0275elementStart"](61,"label",11),i["\u0275\u0275text"](62),i["\u0275\u0275pipe"](63,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](64,"div",13),i["\u0275\u0275elementStart"](65,"div",24),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]()._generalService.onFocusControl("profitvalue")}),i["\u0275\u0275text"](66),i["\u0275\u0275pipe"](67,"numberFormat"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](68,"input",25),i["\u0275\u0275listener"]("keyup",function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().ProfitValuesChange(e)})("focusout",function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]()._generalService.onFocusoutControl("profitvalue")})("ngModelChange",function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().installment.profitvalue=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](69,"br"),i["\u0275\u0275elementStart"](70,"div",9),i["\u0275\u0275elementStart"](71,"div",10),i["\u0275\u0275elementStart"](72,"label",11),i["\u0275\u0275text"](73),i["\u0275\u0275pipe"](74,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](75,"span",12),i["\u0275\u0275text"](76," *"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](77,"div",13),i["\u0275\u0275elementStart"](78,"div",26),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]()._generalService.onFocusControl("previouslypaid")}),i["\u0275\u0275text"](79),i["\u0275\u0275pipe"](80,"numberFormat"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](81,"input",27),i["\u0275\u0275listener"]("ngModelChange",function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().installment.previouslypaid=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](82,"div",28),i["\u0275\u0275elementStart"](83,"input",29),i["\u0275\u0275listener"]("change",function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().installment.takepreviouslypaid=e.target.checked})("checkedChange",function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().installment.takepreviouslypaid=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](84,"label",30),i["\u0275\u0275text"](85),i["\u0275\u0275pipe"](86,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](87,"br"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](88,F,4,3,"div",31),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](89,K,49,33,"ng-container",22),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](90,"div",32),i["\u0275\u0275elementStart"](91,"button",33),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().SaveInsatllments()}),i["\u0275\u0275text"](92),i["\u0275\u0275pipe"](93,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](94,"button",34),i["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),i["\u0275\u0275element"](95,"i",35),i["\u0275\u0275text"](96),i["\u0275\u0275pipe"](97,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){var l=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](3,38,"ContractInstallments")),i["\u0275\u0275advance"](8),i["\u0275\u0275property"]("disabled",!!l.IsGenerateInstallment||null),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](15,40,"Type")),i["\u0275\u0275advance"](5),i["\u0275\u0275classProp"]("custom-input",l.installmentid>0&&l.invoiceinstallmentsdetailscount>0||null),i["\u0275\u0275property"]("ngModel",l.installment.installmentstypeid)("ngClass",i["\u0275\u0275pureFunction1"](72,W,l.IsGenerateInstallment)),i["\u0275\u0275attribute"]("disabled",l.installmentid>0&&l.invoiceinstallmentsdetailscount>0||null)("readonly",l.installmentid>0&&l.invoiceinstallmentsdetailscount>0||null),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",l.InstallmentTypes),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](25,42,"Date")),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngModel",i["\u0275\u0275pipeBind2"](31,44,l.installment.startdate,"yyyy-MM-dd")),i["\u0275\u0275attribute"]("readonly",l.installmentid>0&&l.invoiceinstallmentsdetailscount>0||null),i["\u0275\u0275advance"](7),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](37,47,"Invoice Value")),i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind2"](43,49,null==l.installment?null:l.installment.invoicevalue,l.CurrencyPrecision)," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",l.installment.invoicevalue),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](48,52,"Status")),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngModel",l.installment.status),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",""!=l.installment.currency),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](57,54,"Profit Percentage")),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngModel",l.installment.profitpercentage),i["\u0275\u0275attribute"]("readonly",l.installmentid>0&&l.invoiceinstallmentsdetailscount>0||null),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](63,56,"ProfitValues")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](74,M,1!=l.installment.currencyrate||l.installmentid>0&&l.invoiceinstallmentsdetailscount>0)),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind2"](67,58,l.installment.profitvalue,l.CurrencyPrecision)," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",l.installment.profitvalue),i["\u0275\u0275attribute"]("readonly",1!=l.installment.currencyrate||l.installmentid>0&&l.invoiceinstallmentsdetailscount>0||null),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](74,61,"PreviouslyPaid")),i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind2"](80,63,l.installment.previouslypaid,l.CurrencyPrecision)," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",l.installment.previouslypaid),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("checked",l.installment.takepreviouslypaid)("ngClass",i["\u0275\u0275pureFunction1"](76,W,l.IsGenerateInstallment)),i["\u0275\u0275attribute"]("readonly",l.installmentid>0&&l.invoiceinstallmentsdetailscount>0||null),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](86,66,"Take Previously Paid in Installments")),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",null==l.installment.creditreturnreceiptid||0==l.installment.creditreturnreceiptid),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",l.IsGenerateInstallment),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](93,68,"Save")," "),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"]("",i["\u0275\u0275pipeBind1"](97,70,"Cancel")," ")}}function Q(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](null==n?null:n.name)}}function X(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](null==n?null:n.name_ar)}}function Y(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",36),i["\u0275\u0275template"](1,Q,2,1,"span",22),i["\u0275\u0275template"](2,X,2,1,"span",22),i["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,l=i["\u0275\u0275nextContext"](2);i["\u0275\u0275propertyInterpolate"]("value",n.id),i["\u0275\u0275property"]("selected",n.id==l.SubInstallment.installmentstypeid),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf","ar"!=l.lang),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf","ar"==l.lang)}}function H(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"div",74),i["\u0275\u0275elementStart"](2,"button",80),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"](3).deleteAllInstallment(2)}),i["\u0275\u0275element"](3,"i",45),i["\u0275\u0275text"](4),i["\u0275\u0275pipe"](5,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",74),i["\u0275\u0275elementStart"](7,"button",33),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"](3).SaveSubInstallment()}),i["\u0275\u0275text"](8),i["\u0275\u0275pipe"](9,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}2&e&&(i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](5,2,"Delete All Installment")," "),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](9,4,"Save")," "))}function Z(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",9),i["\u0275\u0275elementStart"](1,"div",74),i["\u0275\u0275elementStart"](2,"button",41),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](n);var e=i["\u0275\u0275nextContext"](2);return e.generateInstallment(e.SubInstallment,2)}),i["\u0275\u0275element"](3,"i",42),i["\u0275\u0275text"](4),i["\u0275\u0275pipe"](5,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](6,H,10,6,"ng-container",22),i["\u0275\u0275elementEnd"]()}if(2&e){var l=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("disabled",(null==l.vouchercount?null:l.vouchercount.vouchercount)>0||null),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](5,3,"Generate Installment")," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",l.SubInstallmentDetails.length>0)}}function ee(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](null==n?null:n.name)}}function te(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](null==n?null:n.name_ar)}}function ne(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",36),i["\u0275\u0275template"](1,ee,2,1,"span",22),i["\u0275\u0275template"](2,te,2,1,"span",22),i["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,l=i["\u0275\u0275nextContext"]().$implicit,a=i["\u0275\u0275nextContext"](3);i["\u0275\u0275propertyInterpolate"]("value",n.id),i["\u0275\u0275property"]("selected",l.installmentdetailtypeid==n.id),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf","ar"!=a.lang),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf","ar"==a.lang)}}function le(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](null==n?null:n.name)}}function ae(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](null==n?null:n.name_ar)}}function ie(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",36),i["\u0275\u0275template"](1,le,2,1,"span",22),i["\u0275\u0275template"](2,ae,2,1,"span",22),i["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,l=i["\u0275\u0275nextContext"]().$implicit,a=i["\u0275\u0275nextContext"](3);i["\u0275\u0275propertyInterpolate"]("value",n.id),i["\u0275\u0275property"]("selected",l.installmentstypeid==n.id),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf","ar"!=a.lang),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf","ar"==a.lang)}}function re(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](null==n?null:n.name)}}function se(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](null==n?null:n.name_ar)}}function oe(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",36),i["\u0275\u0275template"](1,re,2,1,"span",22),i["\u0275\u0275template"](2,se,2,1,"span",22),i["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,l=i["\u0275\u0275nextContext"]().$implicit,a=i["\u0275\u0275nextContext"](3);i["\u0275\u0275propertyInterpolate"]("value",n.id),i["\u0275\u0275property"]("selected",l.statusid==n.id),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf","ar"!=a.lang),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf","ar"==a.lang)}}function ce(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"tr"),i["\u0275\u0275elementStart"](1,"td"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td"),i["\u0275\u0275elementStart"](4,"input",58,59),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.installmentdate=e}),i["\u0275\u0275pipe"](6,"date"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"td"),i["\u0275\u0275elementStart"](8,"div",60),i["\u0275\u0275listener"]("click",function(){var e=i["\u0275\u0275restoreView"](n).index;return i["\u0275\u0275nextContext"](3)._generalService.onFocusControl("Subgeneratedinstallmentvalue"+e)}),i["\u0275\u0275text"](9),i["\u0275\u0275pipe"](10,"numberFormat"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"input",81),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.installmentvalue=e})("keyup",function(e){var t=i["\u0275\u0275restoreView"](n).$implicit,l=i["\u0275\u0275nextContext"](3);return l.installmentValueChange(t,l.index,e)})("focusout",function(){var e=i["\u0275\u0275restoreView"](n).index;return i["\u0275\u0275nextContext"](3)._generalService.onFocusoutControl("Subgeneratedinstallmentvalue"+e)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"td"),i["\u0275\u0275elementStart"](13,"select",62,63),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.installmentdetailtypeid=e}),i["\u0275\u0275template"](15,ne,3,4,"option",16),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"td"),i["\u0275\u0275elementStart"](17,"select",62,63),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.installmentstypeid=e}),i["\u0275\u0275template"](19,ie,3,4,"option",16),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](20,"td"),i["\u0275\u0275elementStart"](21,"select",62,64),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.statusid=e}),i["\u0275\u0275template"](23,oe,3,4,"option",16),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){var l=t.$implicit,a=t.index,r=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](a+1),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",i["\u0275\u0275pipeBind2"](6,27,l.installmentdate,"yyyy-MM-dd")),i["\u0275\u0275attribute"]("disabled",0!=(null==l?null:l.vouchercount)||null),i["\u0275\u0275advance"](4),i["\u0275\u0275propertyInterpolate1"]("id","Display_Subgeneratedinstallmentvalue",a,""),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](33,M,(null==l?null:l.isdisabled)&&!(null!=l&&l.isaddednew))),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind2"](10,30,l.installmentvalue,r.CurrencyPrecision)," "),i["\u0275\u0275advance"](2),i["\u0275\u0275propertyInterpolate"]("value",l.installmentvalue),i["\u0275\u0275propertyInterpolate1"]("id","Subgeneratedinstallmentvalue",a,""),i["\u0275\u0275propertyInterpolate1"]("name","Subgeneratedinstallmentvalue",a,""),i["\u0275\u0275property"]("ngModel",l.installmentvalue)("hidden",!0)("readonly",!(null==l||!l.isdisabled||null!=l&&l.isaddednew)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",l.installmentdetailtypeid)("ngClass",i["\u0275\u0275pureFunction1"](35,W,!(null!=l&&l.isaddednew))),i["\u0275\u0275attribute"]("readonly",null==l||!l.isaddednew||null)("disabled",null==l||!l.isaddednew||null),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",r.InstallmentDetailsType),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",l.installmentstypeid)("ngClass",i["\u0275\u0275pureFunction1"](37,W,!(null!=l&&l.isaddednew))),i["\u0275\u0275attribute"]("readonly",null==l||!l.isaddednew||null)("disabled",null==l||!l.isaddednew||null),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",r.InstallmentTypes),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",l.statusid)("ngClass",i["\u0275\u0275pureFunction1"](39,W,!(null!=l&&l.isaddednew))),i["\u0275\u0275attribute"]("readonly",null==l||!l.isaddednew||null)("disabled",null==l||!l.isaddednew||null),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",r.InstallmentDetailsStatusesList)}}function de(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"div",48),i["\u0275\u0275elementStart"](2,"table",49),i["\u0275\u0275elementStart"](3,"thead"),i["\u0275\u0275elementStart"](4,"tr"),i["\u0275\u0275elementStart"](5,"th",50),i["\u0275\u0275text"](6),i["\u0275\u0275pipe"](7,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"th",51),i["\u0275\u0275text"](9),i["\u0275\u0275pipe"](10,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"th",51),i["\u0275\u0275text"](12),i["\u0275\u0275pipe"](13,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"th",52),i["\u0275\u0275text"](15),i["\u0275\u0275pipe"](16,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](17,"th",52),i["\u0275\u0275text"](18),i["\u0275\u0275pipe"](19,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](20,"th",52),i["\u0275\u0275text"](21),i["\u0275\u0275pipe"](22,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](23,"tbody"),i["\u0275\u0275template"](24,ce,24,41,"tr",55),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e){var n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](7,7,"SerialNum")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](10,9,"Date")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](13,11,"Value")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](16,13,"Type")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](19,15,"InstallmentType")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](22,17,"Status")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngForOf",n.SubInstallmentDetails)}}function ue(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",3),i["\u0275\u0275elementStart"](1,"h6",4),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"button",5),i["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),i["\u0275\u0275elementStart"](5,"span",6),i["\u0275\u0275text"](6,"\xd7"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div"),i["\u0275\u0275element"](8,"br"),i["\u0275\u0275elementStart"](9,"div",7),i["\u0275\u0275elementStart"](10,"fieldset"),i["\u0275\u0275elementStart"](11,"div",9),i["\u0275\u0275elementStart"](12,"label"),i["\u0275\u0275text"](13),i["\u0275\u0275pipe"](14,"translate"),i["\u0275\u0275pipe"](15,"numberFormat"),i["\u0275\u0275pipe"](16,"translate"),i["\u0275\u0275pipe"](17,"numberFormat"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](18,"div",9),i["\u0275\u0275elementStart"](19,"div",74),i["\u0275\u0275elementStart"](20,"label",11),i["\u0275\u0275text"](21),i["\u0275\u0275pipe"](22,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](23,"span",12),i["\u0275\u0275text"](24," *"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](25,"div",75),i["\u0275\u0275elementStart"](26,"select",76,15),i["\u0275\u0275listener"]("ngModelChange",function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().SubInstallment.installmentstypeid=e})("change",function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().ChangeSubType(e)}),i["\u0275\u0275template"](28,Y,3,4,"option",16),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](29,"div",9),i["\u0275\u0275elementStart"](30,"div",74),i["\u0275\u0275elementStart"](31,"label",11),i["\u0275\u0275text"](32),i["\u0275\u0275pipe"](33,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](34,"span",12),i["\u0275\u0275text"](35," *"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](36,"div",75),i["\u0275\u0275elementStart"](37,"input",17,18),i["\u0275\u0275listener"]("ngModelChange",function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().SubInstallment.startdate=e}),i["\u0275\u0275pipe"](39,"date"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](40,"br"),i["\u0275\u0275elementStart"](41,"div",9),i["\u0275\u0275elementStart"](42,"div",74),i["\u0275\u0275elementStart"](43,"label",11),i["\u0275\u0275text"](44),i["\u0275\u0275pipe"](45,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](46,"span",12),i["\u0275\u0275text"](47," *"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](48,"div",75),i["\u0275\u0275elementStart"](49,"input",77),i["\u0275\u0275listener"]("ngModelChange",function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().SubInstallmentType.installmentvalue=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](50,"div",9),i["\u0275\u0275elementStart"](51,"div",74),i["\u0275\u0275elementStart"](52,"label",11),i["\u0275\u0275text"](53),i["\u0275\u0275pipe"](54,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](55,"span",12),i["\u0275\u0275text"](56," *"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](57,"div",75),i["\u0275\u0275elementStart"](58,"input",78),i["\u0275\u0275listener"]("ngModelChange",function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().SubInstallmentType.period=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](59,"br"),i["\u0275\u0275elementStart"](60,"div",9),i["\u0275\u0275elementStart"](61,"div",74),i["\u0275\u0275elementStart"](62,"label",11),i["\u0275\u0275text"](63),i["\u0275\u0275pipe"](64,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](65,"span",12),i["\u0275\u0275text"](66," *"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](67,"div",75),i["\u0275\u0275elementStart"](68,"input",79),i["\u0275\u0275listener"]("ngModelChange",function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().SubInstallmentType.installmentcounts=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](69,"br"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](70,Z,7,5,"div",31),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](71,de,25,19,"ng-container",22),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](72,"div",32),i["\u0275\u0275elementStart"](73,"button",33),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().SaveSubInstallment()}),i["\u0275\u0275text"](74),i["\u0275\u0275pipe"](75,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](76,"button",34),i["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),i["\u0275\u0275element"](77,"i",35),i["\u0275\u0275text"](78),i["\u0275\u0275pipe"](79,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){var l=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](3,20,"Installment Generation")),i["\u0275\u0275advance"](11),i["\u0275\u0275textInterpolate4"](" ",i["\u0275\u0275pipeBind1"](14,22,"TotalGenerate")," : ",i["\u0275\u0275pipeBind2"](15,24,l.TotalGenerate,l.CurrencyPrecision)," ",i["\u0275\u0275pipeBind1"](16,27,"From")," : ",i["\u0275\u0275pipeBind2"](17,29,null==l.installment?null:l.installment.invoicevalue,l.CurrencyPrecision),""),i["\u0275\u0275advance"](8),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](22,32,"Type")),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngModel",l.SubInstallment.installmentstypeid),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",l.InstallmentTypes),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](33,34,"Date")),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngModel",i["\u0275\u0275pipeBind2"](39,36,l.SubInstallment.startdate,"yyyy-MM-dd")),i["\u0275\u0275advance"](7),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](45,39,"Installment Value")),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngModel",l.SubInstallmentType.installmentvalue),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](54,41,"Lead")),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngModel",l.SubInstallmentType.period),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](64,43,"Installment Counts")),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngModel",l.SubInstallmentType.installmentcounts),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",null==l.SubInstallment.creditreturnreceiptid||0==l.SubInstallment.creditreturnreceiptid),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",l.IsGenerateInstallment),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](75,45,"Save")," "),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"]("",i["\u0275\u0275pipeBind1"](79,47,"Cancel")," ")}}var pe=function(){var e=function(){function e(t,l,a,r,s,o,c,d,p,m,v){var h=this;n(this,e),this.spinner=t,this._CreditSalesInstallmentsService=l,this.cd=a,this._router=r,this.translate=o,this._translateGlobalService=c,this.modalService=d,this.toastr=p,this.datepipe=m,this._generalService=v,this.InstallmentList=[],this.InvoiceID=0,this.custID=0,this.subsidiaryID=0,this.InvoiceValue=0,this.InvoiceValueForeign=0,this.InvoiceCurrencyID=0,this.InvoiceCurrencyRate=1,this.InvoiceDate=new Date,this.CurrencyPrecision=3,this.CurrencyID=0,this.invoice={},this.installmentObj={},this.vouchercount={},this.generatedInstallments=[],this.generatedInstallmentsList=[],this.SubInstallmentDetails=[],this.installment=null,this.SubInstallment=null,this.SubInstallmentType=new u.M,this.invoiceinstallmentsdetailscount=0,this.IsGenerateInstallment=!1,this.InstallmentsTypeID=0,this.installmentid=0,this.DepositValue=0,this.TotalValue=0,this.TotalPaid=0,this.TotalUnPaid=0,this.TotalGenerate=0,this.OriginalInvoiceValue=0,this.EnableRealState=!1,this.VoucherID=null,this.SaveMsg="",this.InstallmentDetailList=new i.EventEmitter,this.MsgErrorSelectFrist="",this.Status="",this.TotalInstallmentsValueWarning="",this.InstallmentDateVSInvoiceDateModal="",this.ValidateInstallmentDateModal="",this.InvalidProfitPercentage="",this.InvalidProfitValue="",this.InvalidInvoiceValue="",this.InvalidInstallmentsTypeDepositValue="",this.InvalidInstallmentType="",this.InvalidStartDate="",this.InvalidPreviouslyPaid="",this.DeleteErrorMsg="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.swalDetlateCancel="",this.ApproveInvoiceInstallmentsInvalid="",this.InstallmentTypes=[],this.InstallmentDetailsType=[],this.InstallmentDetailsStatusesList=[],this._linkedList=[],this.InvoiceCurrencyPrecision=0,this.SubInstallmentTotal=0,this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(function(e){h.lang=e.lang,h.dir=e.dir,h.translate.use(e.lang),h.ngTransUnsubscribe=h.translate.get(["SelectFristCustomerFrist","Draft","TotalInstallmentsValueWarning","InstallmentDateVSInvoiceDateModal","ValidateInstallmentDateModal","InvalidProfitPercentage","InvalidProfitValue","InvalidInvoiceValue","InvalidInstallmentsTypeDepositValue","InvalidInstallmentType","InvalidStartDate","InvalidPreviouslyPaid","DeleteErrorMsg","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","Cancel","ApproveInvoiceInstallmentsInvalid","SaveMsg"]).subscribe(function(e){h.MsgErrorSelectFrist=e.SelectFristCustomerFrist,h.Status=e.Draft,h.TotalInstallmentsValueWarning=e.TotalInstallmentsValueWarning,h.InstallmentDateVSInvoiceDateModal=e.InstallmentDateVSInvoiceDateModal,h.ValidateInstallmentDateModal=e.ValidateInstallmentDateModal,h.InvalidProfitPercentage=e.InvalidProfitPercentage,h.InvalidProfitValue=e.InvalidProfitValue,h.InvalidInvoiceValue=e.InvalidInvoiceValue,h.InvalidInstallmentsTypeDepositValue=e.InvalidInstallmentsTypeDepositValue,h.InvalidInstallmentType=e.InvalidInstallmentType,h.InvalidStartDate=e.InvalidStartDate,h.InvalidPreviouslyPaid=e.InvalidPreviouslyPaid,h.DeleteErrorMsg=e.DeleteErrorMsg,h.swalDeleteTitle=e.swalDeleteTitle,h.swalDetlateText=e.swalDetlateText,h.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,h.swalDetlateCancel=e.Cancel,h.ApproveInvoiceInstallmentsInvalid=e.ApproveInvoiceInstallmentsInvalid,h.SaveMsg=e.SaveMsg})})}return t(e,[{key:"ReciptIdProperty",set:function(e){null!=e&&""!=e&&(this.InvoiceID=e)}},{key:"custIDProperty",set:function(e){this.custID=e,null!=e&&""!=e&&this.GetInstallmentSettings()}},{key:"subsidiaryIDProperty",set:function(e){this.subsidiaryID=e,null!=e&&""!=e&&(this.FillDropDownLists(),this.GetCurrency())}},{key:"InvoiceValueProperty",set:function(e){null!=e&&(this.InvoiceValue=e,this.GetInstallmentSettings())}},{key:"iInvoiceValueForeignProperty",set:function(e){null!=e&&(this.InvoiceValueForeign=e)}},{key:"InvoiceCurrencyIDProperty",set:function(e){null!=e&&(this.InvoiceCurrencyID=e,this.GetInstallmentSettings())}},{key:"InvoiceCurrencyRateProperty",set:function(e){this.InvoiceCurrencyRate=null!=e?e:1}},{key:"InvoiceDateProperty",set:function(e){null!=e&&(this.InvoiceDate=e)}},{key:"InstallmentProperty",set:function(e){null!=e&&(this.installment=e)}},{key:"EnableRealStateProperty",set:function(e){this.EnableRealState=e}},{key:"FillDropDownLists",value:function(){this.GetAllInstallmentTypes(),this.GetAllInstallmentDetailsType(),this.GetInstallmentDetailsStatusesList()}},{key:"GetCurrency",value:function(){var e=this;this._CreditSalesInstallmentsService.GetCurrency(this.subsidiaryID).subscribe(function(t){t&&null!=t?(e.CurrencyPrecision=t.currencyprecision,e.CurrencyID=t.id):(e.CurrencyPrecision=3,e.CurrencyID=0),e.cd.markForCheck()})}},{key:"GetAllInstallmentTypes",value:function(){var e=this;this._CreditSalesInstallmentsService.GetAllInstallmentTypes().subscribe(function(t){e.InstallmentTypes=[],e.InstallmentTypes=t,e.cd.markForCheck()})}},{key:"GetAllInstallmentDetailsType",value:function(){this.InstallmentDetailsType=[{name:"Deposit ",name_ar:"\u0627\u0644\u062f\u0641\u0639\u0629 \u0627\u0644\u0645\u0642\u062f\u0645\u0629",id:1},{name:"Installment",name_ar:"\u0642\u0633\u0637",id:2}]}},{key:"GetInstallmentDetailsStatusesList",value:function(){this.InstallmentDetailsStatusesList=[{name:"Paid",name_ar:"\u0645\u0633\u062f\u062f",id:1},{name:"UnPaid",name_ar:"\u063a\u064a\u0631 \u0645\u0633\u062f\u062f",id:2},{name:"Partly Paid",name_ar:"\u0645\u0633\u062f\u062f \u062c\u0632\u0626\u064a\u0627",id:3}]}},{key:"ngOnInit",value:function(){}},{key:"OpenModal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;null==this.custID||0==this.custID||null==this.custID?this.toastr.error(this.MsgErrorSelectFrist):2==t?(this.SubInstallmentTotal=0,this.SubInstallment=new d.WT,this.SubInstallment.startdate=this.InvoiceDate,this.SubInstallment.currency=this.installment.currency,this.SubInstallment.currencyrate=this.installment.currencyrate,this.SubInstallment.status=this.installment.status,this.SubInstallment.installmentstypeid=this.InstallmentTypes[0].id,this.SubInstallment.invoicevalue=this.installment.invoicevalue,this.SubInstallment.invoiceid=parseInt(this.InvoiceID.toString()),this.SubInstallmentType=this.InstallmentTypes[0],this.SubInstallmentDetails=[],this.modalReference=this.modalService.open(e,{size:"lg",backdrop:"static"})):this.modalReference=this.modalService.open(e,{size:"xl",backdrop:"static"})}},{key:"CloseModal",value:function(){this.modalReference.close()}},{key:"GetInstallmentSettings",value:function(){var e=this;this._CreditSalesInstallmentsService.GetVendorCreditAndCurrency(this.InvoiceID,this.InvoiceCurrencyID,this.custID,this.subsidiaryID).subscribe(function(t){var n,l,a=t.invoicecurrency,i=null!==(n=t.credit)&&void 0!==n?n:{credit:0},r={entry_date:e.InvoiceDate,code:87,currency_id:parseFloat(e.InvoiceCurrencyID.toString()),netvalueforeign:parseFloat(e.InvoiceValueForeign.toString()),currency_rate:parseFloat(e.InvoiceCurrencyRate.toString()),netvalue:parseFloat(e.InvoiceValue.toString())};e.vouchercount=t.vouchercount;var s=e.installment;if(0==s.invoiceInstallmentsDetails.length){if(e.installment=new d.WT,e.installment.status=e.Status,e.installment.currency="",e.installment.startdate=null!==(l=null==r?void 0:r.entry_date)&&void 0!==l?l:new Date,e.installment.installmentstypeid=e.InstallmentTypes[0].id,e.InstallmentsTypeID=e.InstallmentTypes[0].id,e.generatedInstallments=[],e.generatedInstallmentsList=[],e.installmentid=0,e.invoiceinstallmentsdetailscount=0,e.checkInvoice(r,a,i),console.log(e.InstallmentsTypeID),e.InstallmentsTypeID&&e.InstallmentsTypeID>0){var o=e.GetInstallmentTypeProfit(e.InstallmentsTypeID,r,s);console.log("returnObj",o),null!=o&&(e.installment.profitvalue=o.ProfitValue,e.installment.invoicevalue=o.newInvoiceValue,e.installment.profitpercentage=o.ProfitPercentage,e.installment.profitvalueforeign=o.ProfitValueForeign,e.DepositValue=o.DepositValue),e.IsGenerateInstallment=!1}}else if(e.InstallmentsTypeID=e.installment.installmentstypeid,e.generatedInstallments=e.installment.invoiceInstallmentsDetails,e.generatedInstallmentsList=e.installment.invoiceInstallmentsDetails,e.installmentid=null==s?void 0:s.id,e.invoiceinstallmentsdetailscount=e.generatedInstallments.length,e.installment.previouslypaid>0&&e.installment.takepreviouslypaid&&(i={credit:e.installment.previouslypaid}),e.checkInvoice(r,a,i),e.invoiceinstallmentsdetailscount>0){e.TotalValue=e.calcTotalValue(e.generatedInstallments);var c=e.generatedInstallments[0];null!=c?c.id>0&&e.GetInvoiceInstallments(c.invoiceinstallmentsid):e.GetTotalPaid()}else e.IsGenerateInstallment=!1;e.installment.invoiceid=parseInt(e.InvoiceID.toString()),e.OriginalInvoiceValue=e.installment.invoicevalue,e.cd.markForCheck()})}},{key:"checkInvoice",value:function(e,t,n){var l,a,i,r,s="";if(null!=e){if(e.currency_id!=this.CurrencyID?(s="en"==this.lang?null==t?void 0:t.name:null==t?void 0:t.name_ar,this.installment.invoicevalue=parseFloat(e.netvalueforeign.toFixed(null==t?void 0:t.currencyprecision)),this.installment.currency=s,this.installment.currencyrate=parseFloat(null==e?void 0:e.currency_rate)):(this.installment.invoicevalue=parseFloat(e.netvalue.toFixed(null==t?void 0:t.currencyprecision)),this.installment.currency="",this.installment.currencyrate=1),this.installment.invoicedate=null==e?void 0:e.entry_date,null===(l=this.installment)||void 0===l?void 0:l.profitvalueforeign){var o=null===(a=this.installment)||void 0===a?void 0:a.profitvalueforeign;this.installment.profitvalueforeign=parseFloat(o.toFixed(null==t?void 0:t.currencyprecision))}if(null===(i=this.installment)||void 0===i?void 0:i.profitvalue){var c=null===(r=this.installment)||void 0===r?void 0:r.profitvalue;this.installment.profitvalue=parseFloat(c.toFixed(null==t?void 0:t.currencyprecision))}this.installment.previouslypaid=null!=n?parseFloat(null==n?void 0:n.credit.toFixed(null==t?void 0:t.currencyprecision)):0,this.VoucherID=null!=n?null==n?void 0:n.voucherid:null,this.InvoiceCurrencyPrecision=null==t?void 0:t.currencyprecision}}},{key:"GetInstallmentTypeProfit",value:function(e,t,n){if(console.log(e),e>0){var l=this.InstallmentTypes.find(function(t){return t.id==e});console.log(l);var a=0;null!=t&&(a=t.currency_id!=this.CurrencyID?parseFloat(null==t?void 0:t.netvalueforeign):parseFloat(null==t?void 0:t.netvalue));var i;if(i=1==(null==l?void 0:l.deposittype)?a*(parseFloat(null==l?void 0:l.deposit)/100):parseFloat(l.deposit),null==n){if(null!=(null==l?void 0:l.profitpercentage)&&(null==l?void 0:l.profitpercentage)>0){if(null!=t){if(t.currency_id==this.CurrencyID){if((null==l?void 0:l.profitpercentage)>1){var r=parseFloat((a*((null==l?void 0:l.profitpercentage)/100)).toFixed(this.InvoiceCurrencyPrecision)),s=parseFloat(r.toFixed(this.CurrencyPrecision));return{ProfitValue:r,newInvoiceValue:parseFloat((a+r).toFixed(this.CurrencyPrecision)),ProfitValueForeign:s,ProfitPercentage:null==l?void 0:l.profitpercentage,DepositValue:i}}var o=parseFloat((a*(null==l?void 0:l.profitpercentage)).toFixed(this.CurrencyPrecision));return parseFloat(o.toFixed(this.CurrencyPrecision)),{ProfitValue:o,newInvoiceValue:parseFloat((a+o).toFixed(this.CurrencyPrecision)),ProfitPercentage:null==l?void 0:l.profitpercentage,DepositValue:i}}if((null==l?void 0:l.profitpercentage)>1){var c=parseFloat((a*((null==l?void 0:l.profitpercentage)/100)).toFixed(this.CurrencyPrecision));return{ProfitValue:d=parseFloat((c/t.currency_rate).toFixed(this.CurrencyPrecision)),newInvoiceValue:parseFloat((a+c).toFixed(this.CurrencyPrecision)),ProfitValueForeign:c,ProfitPercentage:null==l?void 0:l.profitpercentage,DepositValue:i}}var d=parseFloat((a*(null==l?void 0:l.profitpercentage)).toFixed(this.CurrencyPrecision));return c=parseFloat((d*t.currency_rate).toFixed(this.CurrencyPrecision)),{ProfitValue:d,newInvoiceValue:parseFloat((a+c).toFixed(this.CurrencyPrecision)),ProfitValueForeign:c,ProfitPercentage:null==l?void 0:l.profitpercentage,DepositValue:i}}return null}return{ProfitValue:0,ProfitValueForeign:0,newInvoiceValue:a,ProfitPercentage:0,DepositValue:i}}var u=parseFloat(n.profitvalue.toFixed(this.CurrencyPrecision)),p=parseFloat(n.profitvalueforeign.toFixed(this.CurrencyPrecision));return{ProfitValue:u,newInvoiceValue:parseFloat(n.invoicevalue.toFixed(this.CurrencyPrecision)),ProfitValueForeign:p,ProfitPercentage:null==l?void 0:l.ProfitPercentage,DepositValue:i}}}},{key:"GetTotalPaid",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;console.log(t,"inv"),this._CreditSalesInstallmentsService.GetTotalPaid(t).subscribe(function(t){null!=t.totalpaid?(e.TotalPaid=parseFloat(t.totalpaid.toFixed(e.CurrencyPrecision)),e.TotalUnPaid=parseFloat((e.TotalValue-e.TotalPaid).toFixed(e.CurrencyPrecision)),parseFloat((e.TotalValue-e.TotalPaid).toFixed(e.CurrencyPrecision))):(e.TotalPaid=0,e.TotalUnPaid=parseFloat((e.TotalValue-e.TotalPaid).toFixed(e.CurrencyPrecision))),e.CalculteGeneratedValue(),e.IsGenerateInstallment=!0,e.spinner.hide(),e.cd.markForCheck()})}},{key:"calcTotalValue",value:function(e){var t=0;return e.forEach(function(e){t+=e.installmentvalue}),t}},{key:"GetInvoiceInstallments",value:function(e){var t=this;this._CreditSalesInstallmentsService.GetInvoiceInstallmentByID(e).subscribe(function(e){var n=0;null!=e&&(n=e.invoiceid),console.log(n),0!=n?t.GetTotalPaid(n):(t.TotalPaid=0,t.TotalUnPaid=parseFloat((t.TotalValue-t.TotalPaid).toFixed(t.CurrencyPrecision)),t.IsGenerateInstallment=!0,t.spinner.hide()),t.cd.markForCheck()})}},{key:"CalculteGeneratedValue",value:function(){var e=this;this.TotalGenerate=0,this.generatedInstallmentsList.forEach(function(t){e.TotalGenerate+=t.installmentvalue}),this.TotalGenerate=parseFloat(this.TotalGenerate.toFixed(this.CurrencyPrecision))}},{key:"SaveInsatllments",value:function(){var e=this.GetTotalInstallmentsValues(),t=this.installment.invoicevalue;if(parseFloat((Math.round(100*e)/100).toFixed(this.CurrencyPrecision))==parseFloat((Math.round(100*t)/100).toFixed(this.CurrencyPrecision))){var n=this.GetInvoiceInstallmentDetailsList(null,1);this.installment.invoiceInstallmentsDetails=n.sort(function(e,t){var n=new Date(e.installmentdate),l=new Date(t.installmentdate);return n.valueOf()-l.valueOf()}),this.toastr.success(this.SaveMsg),this.InstallmentDetailList.emit({list:this.installment}),this.CloseModal()}else s().fire(this.TotalInstallmentsValueWarning,"","error");this.CalculteGeneratedValue()}},{key:"SaveSubInstallment",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,n=this.GetTotalInstallmentsValues(2),l=this.SubInstallment.invoicevalue,a=(parseFloat((Math.round(100*n)/100).toFixed(this.CurrencyPrecision)),parseFloat((Math.round(100*l)/100).toFixed(this.CurrencyPrecision)),this.GetInvoiceInstallmentDetailsList(null,t));if(this.SubInstallmentDetails.forEach(function(t){e.generatedInstallments.push(t),e.generatedInstallmentsList=e.generatedInstallments.sort(function(e,t){var n=new Date(e.installmentdate),l=new Date(t.installmentdate);return n.valueOf()-l.valueOf()})}),this.generatedInstallments.length>0){this.TotalValue=this.calcTotalValue(this.generatedInstallments);var i=this.generatedInstallments[0];null!=i?this.GetInvoiceInstallments(i.invoiceinstallmentsid):this.GetTotalPaid(t),this.CalculteGeneratedValue()}this.SubInstallment.invoiceInstallmentsDetails=a,this.CloseModal()}},{key:"deleteAllInstallment",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;s().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.swalDetlateCancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){var l;n.isConfirmed&&1==n.isConfirmed&&(e.installment.id>0?0==(null===(l=e.vouchercount)||void 0===l?void 0:l.vouchercount)?e.DeleteInstallmentsRows(t):s().fire(e.DeleteErrorMsg,"","error"):e.DeleteInstallmentsRows(t),e.CalculteGeneratedValue(),e.cd.markForCheck())})}},{key:"addInstallment",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=new d.Wt;t.installmentdetailtypeid=2,t.statusid=2,t.isdisabled=!0,t.vouchercount=0,t.isaddednew=!0,t.id=null,t.invoiceinstallmentsid=null,t.installmentdate=new Date("0001-01-01"),t.installmentvalue=1,t.comment=null,t.returnvalue=0,this.generatedInstallmentsList.push(t),2==e&&this.SubInstallmentDetails.push(t),this.cd.markForCheck()}},{key:"deleteRow",value:function(e,t){var n=this;s().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.swalDetlateCancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(e){if(e.isConfirmed&&1==e.isConfirmed){if(n.generatedInstallmentsList.splice(t,1),n.generatedInstallments.length>0){n.TotalValue=n.calcTotalValue(n.generatedInstallments);var l=n.generatedInstallments[0];null!=l?n.GetInvoiceInstallments(l.invoiceinstallmentsid):n.GetTotalPaid(1)}n.CalculteGeneratedValue(),n.cd.markForCheck()}})}},{key:"EditValue",value:function(e,t){this.generatedInstallmentsList[t].isdisabled=!1,this.cd.markForCheck()}},{key:"SaveValue",value:function(e,t){var n=this,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.spinner.show(),0==this.EnableRealState){var a=this.preSaveValue(e,t,l);this._CreditSalesInstallmentsService.EditInvoiceInstallmentsDetails(a).subscribe(function(t){if(console.log(t,"res s"),(null==t?void 0:t.generatedlist.length)>0&&(1==l&&0==n.EnableRealState?(n.generatedInstallmentsList=t.generatedlist,n.generatedInstallments=t.generatedlist):(e.isaddednew=!1,e.isdisabled=!0)),n.generatedInstallments.length>0){n.TotalValue=n.calcTotalValue(n.generatedInstallments);var a=n.generatedInstallments[0];null!=a?n.GetInvoiceInstallments(a.invoiceinstallmentsid):n.GetTotalPaid(l)}n.cd.markForCheck(),n.spinner.hide()})}else{var i=0;this.generatedInstallmentsList.forEach(function(e){i+=e.installmentvalue}),this.CalculteGeneratedValue();var r=this.TotalGenerate<=this.installment.invoicevalue?this.TotalGenerate-i:this.installment.invoicevalue-i;if(r>0){var s=new d.Wt;s.installmentdetailtypeid=2,s.statusid=2,s.isdisabled=!0,s.vouchercount=0,s.isaddednew=!0,s.id=null,s.installmentstypeid=this.installment.installmentstypeid,s.installmentdate=new Date("0001-01-01"),s.installmentvalue=r,s.comment=null,s.returnvalue=0,s.isaddednew=!1,s.isdisabled=!0,this.generatedInstallmentsList.push(s)}if(this.generatedInstallments.length>0){this.TotalValue=this.calcTotalValue(this.generatedInstallments);var o=this.generatedInstallments[0];null!=o?this.GetInvoiceInstallments(o.invoiceinstallmentsid):this.GetTotalPaid(l)}e.isaddednew=!1,e.isdisabled=!0,this.cd.markForCheck(),this.spinner.hide()}}},{key:"preSaveValue",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;e.installmentdate||(e.installmentdate=new Date("0001-01-01"));var l=this.GetInvoiceInstallmentDetailsList(this.installment.id,n),a=this.installment.installmentstypeid,i=this.installment.invoicevalue;2==n&&(a=this.SubInstallment.installmentstypeid,i=this.SubInstallment.invoicevalue);var r={invoiceinstallmentsdetailslst:l,installmenttypeid:a,invoicevalue:i};return this.cd.markForCheck(),r}},{key:"GetInvoiceInstallmentDetailsList",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,l=[];return 1==n?this.generatedInstallmentsList.forEach(function(t){var n;l.push({id:null!==(n=t.id)&&void 0!==n?n:0,invoiceinstallmentsid:e,installmentdate:t.installmentdate,installmentvalue:t.installmentvalue,installmentstypeid:t.installmentstypeid,installmentdetailtypeid:t.installmentdetailtypeid,statusid:t.statusid,comment:t.comment,returnvalue:t.returnvalue,isdisabled:t.isdisabled,isaddednew:t.isaddednew,voucherid:t.voucherid})}):this.SubInstallmentDetails.forEach(function(n){var a;l.push({id:null!==(a=n.id)&&void 0!==a?a:0,invoiceinstallmentsid:e,installmentdate:n.installmentdate,installmentvalue:n.installmentvalue,installmentstypeid:t.SubInstallment.installmentstypeid,installmentdetailtypeid:n.installmentdetailtypeid,statusid:n.statusid,comment:n.comment,returnvalue:n.returnvalue,isdisabled:n.isdisabled,isaddednew:n.isaddednew,voucherid:n.voucherid})}),l.sort(function(e,t){var n=new Date(e.installmentdate),l=new Date(t.installmentdate);return n.valueOf()-l.valueOf()})}},{key:"installmentValueChange",value:function(e,t,n){setTimeout(function(){n.target.value<=0&&(e.installmentvalue=1)},1e3)}},{key:"DeleteInstallmentsRows",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;if(1==e){var t=this.generatedInstallmentsList.filter(function(e){return 0==e.isdisabled});if(null!=t&&null!=t&&0!=t.length||(this.invoiceinstallmentsdetailscount=0),this.generatedInstallments=[],this.generatedInstallmentsList=[],this.IsGenerateInstallment=!1,this.generatedInstallments.length>0){this.TotalValue=this.calcTotalValue(this.generatedInstallments);var n=this.generatedInstallments[0];null!=n?this.GetInvoiceInstallments(n.invoiceinstallmentsid):this.GetTotalPaid(e)}}else this.SubInstallmentTotal=0,this.SubInstallmentDetails=[];this.installment.invoiceInstallmentsDetails=this.generatedInstallmentsList,this.installment.startdate=this.InvoiceDate,this.CalculteGeneratedValue(),this.spinner.hide(),this.InstallmentDetailList.emit({list:this.installment})}},{key:"generateInstallment",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(e.profitpercentage&&e.profitpercentage<0)s().fire(this.InvalidProfitPercentage,"","error");else if(this.installment.profitvalue&&this.installment.profitvalue<0)s().fire(this.InvalidProfitValue,"","error");else{if(e.invoicevalue<=0)return s().fire(this.InvalidInvoiceValue,"","error"),!1;if(this.DepositValue>e.invoicevalue)return s().fire(this.InvalidInstallmentsTypeDepositValue,"","error"),!1;if(this.InstallmentsTypeID<=0)return s().fire(this.InvalidInstallmentType,"","error"),!1;if(null==e.startdate||!e.startdate)return s().fire(this.InvalidStartDate,"","error"),!1;if(e.previouslypaid>e.invoicevalue&&e.takepreviouslypaid)return s().fire(this.InvalidPreviouslyPaid,"","error"),!1;var n={InvoiceValue:e.invoicevalue,InstallmentTypeID:e.installmentstypeid,StartDate:e.startdate,PreviouslyPaid:e.previouslypaid,TakePreviouslyPaid:e.takepreviouslypaid,VoucherID:this.VoucherID};1==t?this.GenerateInvoiceInstallments(n,t):this.GenerateSubInstallments(n,t)}}},{key:"GenerateSubInstallments",value:function(e,t){var n=this,l={Installment:e,installmentType:this.SubInstallmentType};null!=this.SubInstallmentType.installmentcounts&&null!=this.SubInstallmentType.installmentvalue&&null!=this.SubInstallmentType.period?(this.spinner.show(),this._CreditSalesInstallmentsService.GenerateSubInstallments(l).subscribe(function(e){if(console.log("res",e),0==e.length)return n.toastr.error("\u0645\u0646 \u0641\u0636\u0644\u0643 \u0627\u062f\u062e\u0644 \u0639\u062f\u062f \u0627\u0644\u0627\u0642\u0633\u0627\u0637 \u0644\u0627\u0646 \u0646\u0648\u0639 \u0627\u0644\u0642\u0633\u0637 \u0644\u0627 \u064a\u062d\u062a\u0648\u064a \u0639\u0644\u0649 \u0627\u064a \u062f\u0641\u0639\u0629 \u0645\u0642\u062f\u0645\u0647"),void n.spinner.hide();if(1==t){if(n.generatedInstallments=e,n.generatedInstallmentsList=e,n.generatedInstallments.length>0){n.TotalValue=n.calcTotalValue(n.generatedInstallments);var l=n.generatedInstallments[0];null!=l?n.GetInvoiceInstallments(l.invoiceinstallmentsid):n.GetTotalPaid(t)}}else if(n.SubInstallmentDetails=e,n.SubInstallmentDetails.length>0){var a=n.generatedInstallments[0];null!=a?n.GetInvoiceInstallments(a.invoiceinstallmentsid):n.GetTotalPaid(t)}n.CalculteGeneratedValue(),n.cd.markForCheck()})):this.toastr.error("\u0645\u0646 \u0641\u0636\u0644\u0643 \u0627\u062f\u062e\u0644 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629")}},{key:"GenerateInvoiceInstallments",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;console.log("obj",e),this.spinner.show(),this._CreditSalesInstallmentsService.GenerateInvoiceInstallments(e).subscribe(function(e){if(console.log("res",e),1==n?(t.generatedInstallments=e,t.generatedInstallmentsList=e):(t.SubInstallmentDetails=e,e.forEach(function(e){t.generatedInstallments.push(e),t.generatedInstallmentsList.push(e)})),t.generatedInstallments.length>0){t.TotalValue=t.calcTotalValue(t.generatedInstallments);var l=t.generatedInstallments[0];null!=l?t.GetInvoiceInstallments(l.invoiceinstallmentsid):t.GetTotalPaid(n),console.log("generatedInstallments",t.generatedInstallments),console.log("generatedInstallments",t.SubInstallmentDetails),t.cd.markForCheck()}})}},{key:"changeInstallmentsTypeID",value:function(e){if(null!=e.target.value&&null!=e.target.value&&0!=e.target.value&&(this.InstallmentsTypeID=e.target.value,null==this.installment.id||null==this.installment.id||0==this.installment.id)){var t=this.GetInstallmentTypeProfit(this.InstallmentsTypeID,this.invoice,this.installmentObj);console.log("returnObj",t),null!=t&&(this.installment.profitvalue=t.ProfitValue,this.installment.invoicevalue=t.newInvoiceValue,this.installment.profitpercentage=t.ProfitPercentage,this.installment.profitvalueforeign=t.ProfitValueForeign,this.DepositValue=t.DepositValue)}}},{key:"ChangeSubType",value:function(e){this.SubInstallmentType=this.InstallmentTypes.find(function(t){return t.id==e.target.value}),this.SubInstallment.installmentstypeid=this.SubInstallmentType.id}},{key:"ProfitPercentageChange",value:function(e){var t=e.target.value,n=this.installment.currencyrate,l=this.installment.currency,a=this.OriginalInvoiceValue;if(t>0&&t<1){var i=parseFloat(t)*a;this.installment.invoicevalue=parseFloat((i+a).toFixed(this.CurrencyPrecision)),""!=l&&null!=l?(this.installment.profitvalueforeign=parseFloat(i.toFixed(this.CurrencyPrecision)),this.installment.profitvalue=parseFloat((i/n).toFixed(this.CurrencyPrecision)),this.installment.invoicevalue=this.installment.profitvalueforeign+parseFloat(a.toFixed(this.CurrencyPrecision))):(this.installment.profitvalue=parseFloat(i.toFixed(this.CurrencyPrecision)),this.installment.profitvalueforeign=parseFloat((i*n).toFixed(this.CurrencyPrecision)),this.installment.invoicevalue=this.installment.profitvalue+parseFloat(a.toFixed(this.CurrencyPrecision)))}else if(t>0){var r=parseFloat(t)/100*a;""!=l&&null!=l?(this.installment.profitvalueforeign=parseFloat(r.toFixed(this.CurrencyPrecision)),this.installment.profitvalue=parseFloat((r/n).toFixed(this.CurrencyPrecision)),this.installment.invoicevalue=this.installment.profitvalueforeign+parseFloat(a.toFixed(this.CurrencyPrecision))):(this.installment.profitvalue=parseFloat(r.toFixed(this.CurrencyPrecision)),this.installment.profitvalueforeign=parseFloat((r*n).toFixed(this.CurrencyPrecision)),this.installment.invoicevalue=this.installment.profitvalue+parseFloat(a.toFixed(this.CurrencyPrecision)))}else this.installment.profitvalue=0,this.installment.profitvalueforeign=0,this.installment.invoicevalue=parseFloat(a.toFixed(this.CurrencyPrecision))}},{key:"ProfitValuesChange",value:function(e){var t=e.target.value,n=this.installment.currencyrate,l=this.installment.currency,a=this.OriginalInvoiceValue;if(t>0){var i=parseFloat(t)/a;this.installment.profitpercentage=parseFloat(i.toFixed(2)),this.installment.invoicevalue=parseFloat((parseFloat(t)+a).toFixed(this.CurrencyPrecision)),""!=l&&null!=l&&(this.installment.profitvalueforeign=parseFloat((t*n).toFixed(this.CurrencyPrecision)),this.installment.invoicevalue=parseFloat((this.installment.profitvalueforeign+a).toFixed(this.CurrencyPrecision)))}}},{key:"ProfitValueForeignChange",value:function(e){var t=e.target.value,n=this.installment.currencyrate,l=this.installment.currency,a=this.OriginalInvoiceValue;if(this.installment.profitvalue>0){var i=parseFloat(t)/a;this.installment.profitpercentage=parseFloat(i.toFixed(2)),this.installment.invoicevalue=parseFloat((parseFloat(t)+a).toFixed(this.CurrencyPrecision)),""!=l&&null!=l&&(this.installment.profitvalue=parseFloat((t/n).toFixed(this.CurrencyPrecision)),this.installment.invoicevalue=parseFloat((this.installment.profitvalueforeign+a).toFixed(this.CurrencyPrecision)))}}},{key:"CreditSalesInstallment",value:function(){var e=this;if(this.preCreditSalesInstallment()){var t=this.GetTotalInstallmentsValues(),n=this.installment.invoicevalue;if(parseFloat((Math.round(100*t)/100).toFixed(this.CurrencyPrecision))==parseFloat((Math.round(100*n)/100).toFixed(this.CurrencyPrecision))){var l={subsidiaryID:this.subsidiaryID,model:this.installment,language:"en"==this.lang?"en-US":this.lang};console.log(l,"modeltosave"),this.spinner.show(),this._CreditSalesInstallmentsService.CreditSalesInstallmentsSave(l).subscribe(function(t){console.log(t),null!=t&&null!=t.result&&("NeedProofs"!=t.result?e.SaveInstallmentsDetails(t.result):e.spinner.hide())})}else s().fire(this.TotalInstallmentsValueWarning,"","error")}}},{key:"preCreditSalesInstallment",value:function(){var e=this.GetInvoiceInstallmentDetailsList(0,1);return console.log(new Date(e[0].installmentdate),"installmentdate"),console.log(new Date(new Date(this.installment.invoicedate).toDateString()),"invoicedate"),new Date(e[0].installmentdate)<new Date(new Date(this.installment.invoicedate).toDateString())?(s().fire(this.InstallmentDateVSInvoiceDateModal,"","error"),!1):!this.search(e)||(s().fire(this.ValidateInstallmentDateModal,"","error"),!1)}},{key:"search",value:function(e){for(var t=0;t<e.length;t++)if(!e[t].installmentdate)return!0;return!1}},{key:"GetTotalInstallmentsValues",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.GetInvoiceInstallmentDetailsList(0,e).reduce(function(e,t){return e+t.installmentvalue},0)}},{key:"SaveInstallmentsDetails",value:function(e){this.GetInvoiceInstallmentDetailsList(e,1)}},{key:"ApproveInvoiceInstallments",value:function(){var e=this;this.preApproveInvoiceInstallments()&&this.installment.id>0&&(this.spinner.show(),this._CreditSalesInstallmentsService.ApproveInvoiceInstallments(this.installment.id,this.lang).subscribe(function(t){console.log(t,"rees a"),e.spinner.hide(),e.CloseModal()}))}},{key:"preApproveInvoiceInstallments",value:function(){return"Approved"!=this.installment.status||(s().fire(this.ApproveInvoiceInstallmentsInvalid,"","error"),!1)}},{key:"ngOnDestroy",value:function(){this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](p.t2),i["\u0275\u0275directiveInject"](o.j),i["\u0275\u0275directiveInject"](i.ChangeDetectorRef),i["\u0275\u0275directiveInject"](m.F0),i["\u0275\u0275directiveInject"](m.gz),i["\u0275\u0275directiveInject"](v.sK),i["\u0275\u0275directiveInject"](h.K),i["\u0275\u0275directiveInject"](g.FF),i["\u0275\u0275directiveInject"](I._W),i["\u0275\u0275directiveInject"](f.uU),i["\u0275\u0275directiveInject"](c.m))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["Installments"]],inputs:{ReciptIdProperty:["ReciptId","ReciptIdProperty"],custIDProperty:["custID","custIDProperty"],subsidiaryIDProperty:["subsidiaryID","subsidiaryIDProperty"],InvoiceValueProperty:["InvoiceValue","InvoiceValueProperty"],iInvoiceValueForeignProperty:["InvoiceValueForeign","iInvoiceValueForeignProperty"],InvoiceCurrencyIDProperty:["InvoiceCurrencyID","InvoiceCurrencyIDProperty"],InvoiceCurrencyRateProperty:["InvoiceCurrencyRate","InvoiceCurrencyRateProperty"],InvoiceDateProperty:["InvoiceDate","InvoiceDateProperty"],InstallmentProperty:["Installment","InstallmentProperty"],EnableRealStateProperty:["EnableRealState","EnableRealStateProperty"]},outputs:{InstallmentDetailList:"InstallmentDetailList"},features:[i["\u0275\u0275ProvidersFeature"]([o.j,c.m])],decls:8,vars:3,consts:[["type","button",1,"btn","btn-primary",3,"click"],["InstallModel",""],["InstallmentGeneration",""],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"card-header"],[3,"disabled"],[1,"row"],[1,"col-md-2"],[1,"mb-1"],[2,"color","red","font-weight","bold"],[1,"col-md-3"],[1,"form-control",3,"ngModel","ngClass","change","ngModelChange"],["Type","ngModel"],[3,"value","selected",4,"ngFor","ngForOf"],["type","date","id","StartDate","name","StartDate",1,"form-control",3,"ngModel","ngModelChange"],["StartDate","ngModel"],["id","Display_InvoiceValue",1,"form-control","readonlyDiv",3,"click"],["type","number","id","InvoiceValue","name","InvoiceValue","hidden","true","readonly","","required","","min","0",1,"form-control",3,"ngModel","focusout","ngModelChange"],["type","text","id","Status","name","Status","readonly","",1,"form-control",3,"ngModel","ngModelChange"],[4,"ngIf"],["type","number","min","0","step","0.01","id","ProfitPercentage","name","ProfitPercentage","PositiveNumbersOrDecimalOnly","",1,"form-control",3,"ngModel","ngModelChange","keyup"],["id","Display_profitvalue",1,"form-control",3,"ngClass","click"],["type","number","min","0","step","0.001","id","profitvalue","name","profitvalue","hidden","true","PositiveNumbersOrDecimalOnly","",1,"form-control",3,"ngModel","keyup","focusout","ngModelChange"],["id","Display_previouslypaid",1,"form-control","readonlyDiv",3,"click"],["type","number","readonly","","required","","min","0","PositiveNumbersOrDecimalOnly","","hidden","true","id","previouslypaid","name","previouslypaid",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-5"],["type","checkbox","id","TakePreviouslyPaid","name","TakePreviouslyPaid",1,"",3,"checked","ngClass","change","checkedChange"],[1,"m-1"],["class","row",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger","mr-2","ml-2",3,"click"],[1,"ft-x","mr-1"],[3,"value","selected"],["type","text","id","Currency","name","Currency","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["id","Display_profitvalueforeign",1,"form-control",3,"ngClass","click"],["type","number","min","0","step","0.001","id","profitvalueforeign","name","profitvalueforeign","hidden","true","PositiveNumbersOrDecimalOnly","",1,"form-control",3,"ngModel","keyup","ngModelChange","focusout"],["class","col-md-2",4,"ngIf"],[1,"btn","btn-success","custom-button",3,"disabled","click"],[1,""],[1,"btn","btn-success","custom-button",3,"click"],[1,"btn","btn-danger","custom-button",3,"disabled","click"],[1,"fa","fa-trash"],[1,"btn","btn-info","custom-button",3,"click"],[1,"fa","fa-plus"],[1,"card-body","table-responsive"],[1,"table","m-0","table"],[2,"width","3%"],[2,"width","15%"],[2,"width","20%"],[2,"width","11%"],[2,"width","16%"],[4,"ngFor","ngForOf"],[2,"border","1px"],["colspan","5"],["type","date","id","InstallmentDate","name","InstallmentDate",1,"form-control",3,"ngModel","ngModelChange"],["InstallmentDate","ngModel"],[1,"form-control",3,"id","ngClass","click"],["type","number","min","1","step","0.001","PositiveNumbersOrDecimalOnly","",1,"form-control",3,"ngModel","id","name","hidden","value","readonly","ngModelChange","keyup","focusout"],[1,"form-control",3,"ngModel","ngClass","ngModelChange"],["type","ngModel"],["status","ngModel"],[4,"ngIf","ngIfElse"],["editsavevalueelse",""],["deleteelse",""],["type","button",1,"btn","btn-sm","btn-warning",2,"width","100%",3,"ngClass","click"],["type","button",1,"btn","btn-sm","btn-success",2,"width","100%",3,"ngClass","click"],["type","button","disabled","",1,"btn","btn-sm","btn-warning",2,"width","100%"],["type","button",1,"btn","btn-sm","btn-danger",3,"click"],[1,"icon-trash"],["type","button","disabled","",1,"btn","btn-sm","btn-danger"],[1,"col-md-4"],[1,"col-md-6"],[1,"form-control",3,"ngModel","ngModelChange","change"],["type","number","id","installmentvalue","name","installmentvalue","required","","min","0",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","period","name","period","required","","PositiveNumbersOrDecimalOnly","","min","0",1,"form-control",3,"ngModel","ngModelChange"],["type","number","min","0","id","installmentcounts","name","installmentcounts","PositiveNumbersOrDecimalOnly","","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-danger","custom-button",3,"click"],["type","number","min","1","step","0.001","PositiveNumbersOrDecimalOnly","",1,"form-control",3,"ngModel","value","hidden","id","name","readonly","ngModelChange","keyup","focusout"]],template:function(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275elementStart"](1,"button",0),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](n);var e=i["\u0275\u0275reference"](5);return t.OpenModal(e)}),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](4,J,98,78,"ng-template",null,1,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](6,ue,80,49,"ng-template",null,2,i["\u0275\u0275templateRefExtractor"])}2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](3,1,"Installments")," "))},directives:[y.EJ,y.JJ,y.On,f.mk,f.sg,y.Fj,y.qQ,y.wV,y.Q7,f.O5,C.L,y.YN,y.Kr],pipes:[v.X$,f.uU,b.p],styles:[".btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.readonlyDiv[_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1;pointer-events:none}.custom-card[_ngcontent-%COMP%]{box-shadow:-8px 8px 14px 0 rgba(25,42,70,.11);border:1px solid #e7e3e3}input[_ngcontent-%COMP%]:-moz-read-only{cursor:no-drop;background-color:#e4e4e4;border:1px solid #ccc;color:#000;opacity:1}input[_ngcontent-%COMP%]:read-only{cursor:no-drop;background-color:#e4e4e4;border:1px solid #ccc;color:#000;opacity:1}.custom-input[_ngcontent-%COMP%], input[_ngcontent-%COMP%]:disabled{cursor:no-drop;background-color:#e4e4e4;border:1px solid #ccc;color:#000;opacity:1}.custom-button[_ngcontent-%COMP%]{width:100%;font-size:11px;font-weight:500}.addDisplayNone[_ngcontent-%COMP%]{display:none}.has-error[_ngcontent-%COMP%]{border:1px solid red}.headerform[_ngcontent-%COMP%]{background-color:#2f8be6;color:#fff;height:44px;padding-top:9px;margin-bottom:17px}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.list-group-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:35px;margin:0}.list-group-item[_ngcontent-%COMP%]   .img-icons[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:35px}.buttons-ds[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.4rem .6rem}@media (max-width:767px){.btn-mds[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{min-width:100%;margin-bottom:15px}.btn-mds[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]:last-child{margin-bottom:0}}"],changeDetection:0}),e}()}}])}();